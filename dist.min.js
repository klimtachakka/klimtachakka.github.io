!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=145)}([function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(6)],void 0===(n=function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentProgramGLctx=t.GLBufferCached=t.GLCTXreadPerformance=t.GLAttribLocations=t.GLAttribBatchSwitch=t.GLAttribNameLookup=t.GLUniformLocation=t.compileProgram=t.zoom=t.debugGetProgram=t.GLctx=void 0,function(e){e[e.Vertices=0]="Vertices",e[e.VerticesOverlay=1]="VerticesOverlay",e[e.VerticesMultiColor=2]="VerticesMultiColor",e[e.VerticesFastAlpha=3]="VerticesFastAlpha",e[e.Vertices3d=4]="Vertices3d",e[e.Texture=5]="Texture",e[e.TextureDist=6]="TextureDist",e[e.GameBufferDist=7]="GameBufferDist",e[e.GameBufferNoise=8]="GameBufferNoise",e[e.VerticesGradient=9]="VerticesGradient",e[e.VerticesGradientBLACK=10]="VerticesGradientBLACK",e[e.particleUpdate=11]="particleUpdate",e[e.particleRender=12]="particleRender",e[e.VerticesGradientLinear=13]="VerticesGradientLinear",e[e.EdgeGradient=14]="EdgeGradient"}(a=t.GLctx||(t.GLctx={}));var n=a.Vertices,i={},s=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),A=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]);t.debugGetProgram=function(e){return i[e]},t.zoom=function(e,n){void 0===n&&(n=!1);var o=e.game,i=e.gl;(o.SW!==o.currentResW||o.SH!==o.currentResH||n)&&[a.Vertices,a.Texture,a.TextureDist,a.VerticesGradient,a.VerticesGradientBLACK,a.VerticesGradientLinear,a.EdgeGradient].map(function(n){p(n,i);var s=t.GLUniformLocation(i,"u_resolution"),A=t.GLUniformLocation(i,"u_pointSize"),u=e;u.game.zoomTXinverted&&i.uniform1f(A,r.map(u.game.zoomTXinverted,1,4,1,2,!0)),i.uniform2f(s,o.SW,o.SH),o.currentResW=o.SW,o.currentResH=o.SH;p(a.VerticesGradient,i);var l=t.GLUniformLocation(i,"u_resolution");i.uniform2f(l,o.SW,o.SH),o.currentResW=o.SW,o.currentResH=o.SH})},t.compileProgram=function(e,t,r,a,n,o,s){var A=window.webglUtils.createProgramFromSources(t,[r.vertex,r.fragment]);if(i[e]=A,t.useProgram(A),null!=s&&t.transformFeedbackVaryings(A,s,t.INTERLEAVED_ATTRIBS),t.linkProgram(A),a&&n){var u=t.getAttribLocation(A,"a_position"),l=t.getUniformLocation(A,"u_resolution");t.getUniformLocation(A,"u_color");t.uniform2f(l,a,n);var c=t.createBuffer();if(t.bindBuffer(t.ARRAY_BUFFER,c),t.enableVertexAttribArray(u),o){var d=window.m4,p=45*Math.PI/180,f=a/n,h=d.perspective(p,f,.1,100),v=t.getUniformLocation(A,"uProjectionMatrix");t.uniformMatrix4fv(v,!1,h),t.vertexAttribPointer(u,3,t.FLOAT,!1,0,0)}else t.vertexAttribPointer(u,2,t.FLOAT,!1,0,0);t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}return A};var u={},l={};t.GLUniformLocation=function(e,t){var r=u[n];if(r){var a=r[t];if(a)return a}else u[n]={};var o=i[n],s=e.getUniformLocation(o,t);if(-1===s)throw" unable to get uniform "+t+" @ "+n;return u[n][t]=s,s},t.GLAttribNameLookup=function(e,t){void 0===t&&(t=n);var r=l[t];if(r)for(var a in r)if(r[a]===e)return a},t.GLAttribBatchSwitch=function(e,t,r){void 0===r&&(r=!1),console.log("Attrib switch: enable?"+r,"program:* "+t);var a=l[t];if(a)for(var n in a)r?(console.log("SHADER*:"+t+" enables: "+n),e.enableVertexAttribArray(a[n])):(console.log("SHADER*:"+t+" disables: "+n),e.disableVertexAttribArray(a[n]))},t.GLAttribLocations=function(e,t){var r=l[n];if(r){var a=r[t];if(a)return a}else l[n]={};var o=i[n],s=e.getAttribLocation(o,t);if(-1===s)throw" unable to get attrib "+t+" @ program type:"+n;return l[n][t]=s,s};var c={switchedProgram:0,switchedCacheHit:0};t.GLCTXreadPerformance=function(e){void 0===e&&(e=!0);var t=o({},c);return c.switchedCacheHit=0,c.switchedProgram=0,t};var d={};t.GLBufferCached=function(e,t){var r=d[t];return r||(d[t]=e.createBuffer(),d[t])},t.getCurrentProgramGLctx=function(){return n};var p=function(e,r){if(n===e)return c.switchedCacheHit++,i[e];var o=i[e];r.useProgram(o),n=e,c.switchedProgram++;var u=r.getAttribLocation(o,"a_position");switch(e){case a.VerticesFastAlpha:case a.Vertices3d:r.enableVertexAttribArray(u),r.vertexAttribPointer(u,3,r.FLOAT,!1,0,0);break;case a.VerticesMultiColor:case a.Vertices:var d=t.GLBufferCached(r,"GLCTX_vertex");r.bindBuffer(r.ARRAY_BUFFER,d),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,2,r.FLOAT,!1,0,0);break;case a.particleUpdate:break;case a.GameBufferDist:case a.GameBufferNoise:var p=t.GLBufferCached(r,"GLCTX_frambuffer");r.bindBuffer(r.ARRAY_BUFFER,p),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,A,r.STATIC_DRAW);break;case a.Texture:case a.TextureDist:var f=t.GLBufferCached(r,"GLCTX_texture");r.bindBuffer(r.ARRAY_BUFFER,f),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW)}return window.lah=function(){return console.log(l)},o};t.default=p}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=t.SubtractVector=void 0,t.SubtractVector=function(e,t,a){return void 0===a&&(a=new r(0,0)),a.x=e.x-t.x,a.y=e.y-t.y,a};var r=function(){function e(e,t,r){this.x=0,this.y=0,this.id=0,this.x=e,this.y=t,this.id=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.addXY=function(e,t){return this.x+=e,this.y+=t,this},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.setFromVec=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clampTop=function(e){this.getLength()>e&&this.setLength(e)},e.prototype.mult=function(e){return this.x*=e,this.y*=e,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.normalize=function(){var e=this.norm();this.x=this.x/e||0,this.y=this.y/e||0},e.prototype.subtractXY=function(t,r){return new e(this.x-t,this.y-r)},e.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.setLength=function(e){var t=this.getAngle();this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},e.prototype.getAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.setAngle=function(e){var t=this.getLength();this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},e.prototype.rotate=function(e,t){t=t*Math.PI/180;var r=e.x,a=e.y,n=this.x,o=this.y;return{x:Math.cos(t)*(n-r)-Math.sin(t)*(o-a)+r,y:Math.sin(t)*(n-r)+Math.cos(t)*(o-a)+a}},e.prototype.div=function(e){return this.x/=e,this.y/=e,this},e.prototype.magSq=function(){var e=this.x,t=this.y;return e*e+t*t},e.prototype.limit=function(e){var t=this.magSq();t>e*e&&(this.div(Math.sqrt(t)),this.mult(e))},e.prototype.subtr=function(e){this.x-=e.x,this.y-=e.y},e.prototype.mag=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.unit=function(){var e=this.mag();0===e?(this.x=0,this.y=0):(this.x/=e,this.y/=e)},e.prototype.normal=function(){var e=this.x;this.x=-this.y,this.y=e,this.unit()},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.cross=function(e,t){return e.x*t.y-e.y*t.x},e.prototype.toVertices=function(){return[this.x,this.y]},e.prototype.toPoint=function(){return{x:this.x,y:this.y}},e.prototype.toPointINT=function(){return{x:0|this.x,y:0|this.y}},e.prototype.toVertArray=function(e,t){return[this.x-e,this.y-t]},e}();t.Vector=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(1),r(3),r(6),r(148),r(149)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circleCircleResolverQuick=t.resolve=t.angleDifference=t.fastPointCircleColl=t.fastCircleColl=t.distBetweenVectorsRelative=t.distanceBetweenVectors2Arrow=t.distanceBetweenVectors2=t.distanceBetweenVectors=t.distanceBetweenXYXY=t.distanceBetweenXYXYRelative=t.radiusIntersectPoint=t.radiusIntersectXYXY=t.radiusIntersect=t.midpoint=t.distanceBetween=t.coarseVecotr=t.coarse=t.fine=t.getGuid=t.SetGuidToNegative=t.getMathSqrtUsage=void 0;var s=500,A=0,u=0,l=0,c=0,d=0,p=0;t.getMathSqrtUsage=function(){var e={distanceBetweenXYXYUse:p,fineUse:A,coarseUse:u,coarseVectorUse:l,distanceBetweenUse:c,distanceBetweenVectorsUse:d};return A=0,u=0,l=0,c=0,d=0,p=0,e};var f=1;t.SetGuidToNegative=function(){f=-1},t.getGuid=function(){return s+=f},t.fine=function(e,t,r){A++;var a,n=0,o=0;for(n=0,o=e-1;n<e;o=n++)t[n].y>r.y!=t[o].y>r.y&&r.x<(t[o].x-t[n].x)*(r.y-t[n].y)/(t[o].y-t[n].y)+t[n].x&&(a=!a);return a},t.coarse=function(e,t){u++;var r=e.radius+t.radius,a=e.pos.x-t.pos.x,n=e.pos.y-t.pos.y;return r>Math.sqrt(a*a+n*n)},t.coarseVecotr=function(e,t,r,a){l++;var n=t+a,o=e.x-r.x,i=e.y-r.y;return n>Math.sqrt(o*o+i*i)},t.distanceBetween=function(e,t){c++;var r=e.pos.x-t.pos.x,a=e.pos.y-t.pos.y;return Math.sqrt(r*r+a*a)},t.midpoint=function(e,t,a,n){return void 0===a&&(a=.5),void 0===n&&(n=new r.Vector(0,0)),n.set(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a),n},t.radiusIntersect=function(e,t){return(e.pos.x-t.pos.x)*(e.pos.x-t.pos.x)+(e.pos.y-t.pos.y)*(e.pos.y-t.pos.y)<(e.radius+t.radius)*(e.radius+t.radius)},t.radiusIntersectXYXY=function(e,t,r,a,n,o){return(e-a)*(e-a)+(t-n)*(t-n)<(r+o)*(r+o)},t.radiusIntersectPoint=function(e,t,r,a,n){return(e-a)*(e-a)+(t-n)*(t-n)<r*r},t.distanceBetweenXYXYRelative=function(e,t,r,a){var n=e-r,o=t-a;return n*n+o*o},t.distanceBetweenXYXY=function(e,t,r,a){p++;var n=e-r,o=t-a;return Math.sqrt(n*n+o*o)},t.distanceBetweenVectors=function(e,t){d++;var r=e.x-t.x,a=e.y-t.y;return Math.sqrt(r*r+a*a)},t.distanceBetweenVectors2=function(e,t){d++;var r=e.x-t.x,a=e.y-t.y;return Math.sqrt(r*r+a*a)},t.distanceBetweenVectors2Arrow=function(e,t){var r=e.x-t.x,a=e.y-t.y;return Math.sqrt(r*r+a*a)},t.distBetweenVectorsRelative=function(e,t){var r=e.x-t.x,a=e.y-t.y;return r*r+a*a},t.fastCircleColl=function(e,t){var r=e.radius+t.radius,a=e.pos.x-t.pos.x,n=e.pos.y-t.pos.y;return r*r>a*a+n*n},t.fastPointCircleColl=function(e,t){var r=t.radius,a=e.x-t.pos.x,n=e.y-t.pos.y;return r*r>a*a+n*n},t.angleDifference=function(e,t){var r=(e-t)%a.doublePI,n=(e-t)%a.doublePI;return r<n?-r:n};var h=new r.Vector(0,0),v=new r.Vector(0,0);t.resolve=function(e,r,n){if(6===r.shape||6===n.shape||3===r.shape||3===n.shape)return t.circleCircleResolverQuick(e,r,n);var s=r.vel.getLength(),A=n.vel.getLength();if(s>a.VELOCITY_THRESHOLD_COLLISION_SUBSTEP||A>a.VELOCITY_THRESHOLD_COLLISION_SUBSTEP){h.setFromVec(r.vel).mult(e),v.setFromVec(n.vel).mult(e),r.pos.subtract(h),n.pos.subtract(v);var u=Math.max(s,A),l=Math.ceil(u/a.VELOCITY_THRESHOLD_COLLISION_SUBSTEP),c=1/l;h.mult(c),v.mult(c);for(var d=!1,p=0;p<l;p++){if(r.pos.add(h),n.pos.add(v),0,t.fastCircleColl(r,n))if(0,null!==(f=o.SAT_collider(r,n)).pen){(g=new i.CollData(r,n,f.axis,f.pen,f.vertex)).penRes(),g.collRes(),d=!0;break}}if(d)return!0}else{var f,g;if(null!==(f=o.SAT_collider(r,n)).pen)return(g=new i.CollData(r,n,f.axis,f.pen,f.vertex)).penRes(),g.collRes(),!0}return!1},t.circleCircleResolverQuick=function(e,t,r,a,o,i,s,A){void 0===a&&(a=t.radius),void 0===o&&(o=r.radius),void 0===i&&(i=t.radius),void 0===s&&(s=r.radius),void 0===A&&(A=1);var u=r.pos.x-t.pos.x,l=r.pos.y-t.pos.y,c=Math.sqrt(u*u+l*l);if(0===c)return t.pos.x+=o,t.pos.y+=o,!0;if(a+o>=c){var d=u/c,p=l/c,f=c*(a/(a+o))*A,h=t.pos.x+d*f,v=t.pos.y+p*f;if(t.pos.x=h-d*a,t.pos.y=v-p*a,r.pos.x=h+d*o,r.pos.y=v+p*o,a+o>=c){var g=u/c,y=l/c;r.pos.x=t.pos.x+g*(a+o),r.pos.y=t.pos.y+y*(a+o)}return function(e,t,r,a,o,i,s,A,u){var l=A-u,c=A+u,d=r*Math.sin(o-s),p=Math.cos(s),f=Math.sin(s),h=r*Math.cos(o-s),v=a*Math.cos(i-s),g=Math.cos(s+Math.PI/2),y=Math.sin(s+Math.PI/2),m=(h*l+2*u*v)/c,S=m*p+d*g,E=m*f+d*y,x=e.vel.getAngle();e.vel.x=S,e.vel.y=E;var T=e.vel.getAngle(),_=n.angleDelta(x,T);s+=Math.PI;var I=a*Math.sin(i-s);h=r*Math.cos(o-s);var M=(m=((v=a*Math.cos(i-s))*-l+2*A*h)/c)*-p+I*-g,L=m*-f+I*-y,b=t.vel.getAngle();t.vel.x=M,t.vel.y=L;var w=t.vel.getAngle(),R=n.angleDelta(b,w);e.vel.mult(.98-n.map(Math.abs(_),0,Math.PI,0,.08)),t.vel.mult(.98-n.map(Math.abs(R),0,Math.PI,0,.08))}(t,r,Math.sqrt(t.vel.x*t.vel.x+t.vel.y*t.vel.y),Math.sqrt(r.vel.x*r.vel.x+r.vel.y*r.vel.y),Math.atan2(t.vel.y,t.vel.x),Math.atan2(r.vel.y,r.vel.x),Math.atan2(p,d),t.mass,r.mass),t.pos.x+=t.vel.x,t.pos.y+=t.vel.y,r.pos.x+=r.vel.x,r.pos.y+=r.vel.y,!0}return!1}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_ASTEROID=t.PLAYER_SCORE_REMOVED_ASTEROID=t.PLAYER_SCORE_BULLET_HIT_ASTEROID=t.PLAYER_SCORE_KILLED_OTHER_SHIP=t.PLAYER_SCORE_BULLET_HIT_OTHER_SHIP=t.PLAYER_SCORE_STRUCK_BY_BULLET=t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_SHIP=t.SHIP_MAX_FLAMES=t.SHIP_MAX_ULTRABRIGHT=t.SHIP_MAX_HOMING_BULLETS=t.SHIP_MAX_SHIELD=t.SHIP_MAX_ELECTROBASTARDRAYS=t.SHIP_MAX_PROXIMITYMINES=t.SHIP_MAX_LIFE=t.SHIP_MAX_MISSILES=t.SHIP_MAX_BULLETS=t.SHIP_MAX_ROCKETS=t.SHIP_MAX_BOOST=t.SHIP_MAX_VEL=t.SPACEPORT_START_LIFE=t.ROCKET_START_LIFE=t.TEXT_SIZE_HUGE=t.TEXT_SIZE_SMALL=t.LEVEL_COMPLETION_TIMEOUT=t.BULLET_OWNER_IMMUNE_THRESHOLD=t.BULLET_START_LIFE=t.CHANGELOG=t.VERSION_STR=t.VELOCITY_THRESHOLD_COLLISION_SUBSTEP=t.STEP_MULTIP=t.NOTIFICATION_LIFE=t.TEXT_SIZE_LARGE=t.TEXT_SIZE_MEDIUM=t.ROCKFORMATION_RADIUS_LIFE_MULTIP=t.ASTEROID_RADIUS_LIFE_MULTIP=t.GAME_INTRO_TIMER=t.FORCE_FIELD_RESOLUTION=t.FORCEFIELD_RESOLUTION_REVERSED_F2=t.FORCEFIELD_RESOLUTION_F2=t.WHITE_HOLE_Y=t.WHITE_HOLE_X=t.WORM_HOLE_OUT_Y=t.WORM_HOLE_OUT_X=t.WORM_HOLE_IN_Y=t.WORM_HOLE_IN_X=t.MAX_RADIUS_ENTITY=t.MAX_NUM_ASTEROIDS=t.MAP_SAFETY_ZONE=t.SHIP_WIDTH_RADIUS=t.SHIP_LENGTH_RADIUS=t.doublePI=t.PARTICLE_SPEED_TO_COLOR=t.PARTICLE_MAX_SPEED=t.PLAYER_LIFE_LOW_THRESHOLD=void 0,t.PLAYER_LIFE_LOW_THRESHOLD=30,t.PARTICLE_MAX_SPEED=30,t.PARTICLE_SPEED_TO_COLOR=255/t.PARTICLE_MAX_SPEED,t.doublePI=2*Math.PI,t.SHIP_LENGTH_RADIUS=20,t.SHIP_WIDTH_RADIUS=13,t.MAP_SAFETY_ZONE=400,t.MAX_NUM_ASTEROIDS=1800,t.MAX_RADIUS_ENTITY=400,t.WORM_HOLE_IN_X=.3,t.WORM_HOLE_IN_Y=.15,t.WORM_HOLE_OUT_X=.5,t.WORM_HOLE_OUT_Y=.5,t.WHITE_HOLE_X=.8,t.WHITE_HOLE_Y=.8,t.FORCEFIELD_RESOLUTION_F2=10,t.FORCEFIELD_RESOLUTION_REVERSED_F2=1/t.FORCEFIELD_RESOLUTION_F2,t.FORCE_FIELD_RESOLUTION=.01,t.GAME_INTRO_TIMER=300,t.ASTEROID_RADIUS_LIFE_MULTIP=5,t.ROCKFORMATION_RADIUS_LIFE_MULTIP=22,t.TEXT_SIZE_MEDIUM=30,t.TEXT_SIZE_LARGE=60,t.NOTIFICATION_LIFE=220,t.STEP_MULTIP=.065,t.VELOCITY_THRESHOLD_COLLISION_SUBSTEP=5;t.VERSION_STR="0.33.2 Dynamic layered forcemaps 26/01/2021",t.CHANGELOG=["0.32.1 High velocity impact resolver","0.31.2 ancient structures","0.30.2 procedural world","0.29 SAT collisions resolution","0.28.9.5 LOS shadows linear gradient","0.28.9.5 LOS shadows linear gradient","0.28.9.4 LOS shadows improved","0.28.9.1 LOS line of sight","0.28.9 shadow targets","0.28.8 back to crappy physics","0.28.7 destroyers","0.28.6 Fixed menu bugs."],t.BULLET_START_LIFE=400,t.BULLET_OWNER_IMMUNE_THRESHOLD=t.BULLET_START_LIFE-100,t.LEVEL_COMPLETION_TIMEOUT=16e3,t.TEXT_SIZE_SMALL=16,t.TEXT_SIZE_HUGE=40,t.ROCKET_START_LIFE=9e3,t.SPACEPORT_START_LIFE=1e3,t.SHIP_MAX_VEL=10,t.SHIP_MAX_BOOST=400,t.SHIP_MAX_ROCKETS=20,t.SHIP_MAX_BULLETS=5e3,t.SHIP_MAX_MISSILES=30,t.SHIP_MAX_LIFE=200,t.SHIP_MAX_PROXIMITYMINES=40,t.SHIP_MAX_ELECTROBASTARDRAYS=300,t.SHIP_MAX_SHIELD=1600,t.SHIP_MAX_HOMING_BULLETS=380,t.SHIP_MAX_ULTRABRIGHT=3800,t.SHIP_MAX_FLAMES=1200,t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_SHIP=1,t.PLAYER_SCORE_STRUCK_BY_BULLET=2,t.PLAYER_SCORE_BULLET_HIT_OTHER_SHIP=6,t.PLAYER_SCORE_KILLED_OTHER_SHIP=180,t.PLAYER_SCORE_BULLET_HIT_ASTEROID=2,t.PLAYER_SCORE_REMOVED_ASTEROID=function(e){return e<40?10:50+Math.round(.25*e)},t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_ASTEROID=function(e){return e<40?0:Math.round(2+.01*e)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(0),r(15)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawDebug=t.toClipSpaceY=t.toClipSpaceX=t.drawColor=t.drawColorMapSingle=t.drawColorMap=t.setupBuffers=t.unitePolyColorMaps=t.getColorMapColorKey=t.crossHair45deg=t.crossHair=t.addToColorMap=t.inPerimiter=t.onStage=t.blockCirclePoly=t.createBlockCirclePolySingleWall=t.drawRectPoly=t.drawTriangle=t.lineVerticalRGBADash=t.lineHorizontalRGBADash=t.line2PolyHalf=t.line2PolyMiteredAuto=t.MiterType=t.line2PolyTriangleRotateableFilled=t.line2PolyTriangleRotateable=t.line2PolyTriangle=t.line2PolyCone=t.line2Poly=t.LineThicknessWeight=t.fillPoly=t.fillPolyForFan=t.setTriangle=t.rectangleBorderPoly=t.rectangleRotated45Poly=t.rectanglePolyRect=t.rectanglePoly=t.readPerformance=t.setPoly=void 0;var i=2*Math.PI;t.setPoly=function(e,t,r,a){var n=t,o=r,i=n+1,s=o+1;return a.push(n,o,i,o,n,s,n,s,i,o,i,s),6};var s={addToColorMap:0,drawColorMap:0,drawColor:0,drawColorMapSingle:0,drawColorMapCalls:0,drawColorMapSingleTimings:0,vertices:0},A={addToColorMap:0,drawColorMap:0,drawColor:0,drawColorMapSingle:0,drawColorMapCalls:0,drawColorMapSingleTimings:0,vertices:0};t.readPerformance=function(e){return void 0===e&&(e=!0),A.drawColor=s.drawColor,A.drawColorMap=s.drawColorMap,A.drawColorMapCalls=s.drawColorMapCalls,A.drawColorMapSingle=s.drawColorMapSingle,A.addToColorMap=s.addToColorMap,A.vertices=s.vertices,A.drawColorMapSingleTimings=s.drawColorMapSingleTimings,e&&(s.drawColor=0,s.drawColorMap=0,s.drawColorMapCalls=0,s.drawColorMapSingle=0,s.addToColorMap=0,s.drawColorMapSingleTimings=0,s.vertices=0),A},t.rectanglePoly=function(e,t,r,a,n){n.push(e,t,e+r,t,e,t+a,e+r,t,e+r,t+a,e,t+a)},t.rectanglePolyRect=function(e,t,r,a){var n=e.x-t,o=e.y-r,i=e.width,s=e.height;a.push(n,o,n+i,o,n,o+s,n+i,o+s,n,o,n,o+s,n+i,o,n+i,o+s)},t.rectangleRotated45Poly=function(e,t,r,a){a.push(e-r,t,e,t-r,e+r,t,e-r,t,e,t+r,e+r,t)},t.rectangleBorderPoly=function(e,r,a,n,o,i){var s=o[0];t.line2Poly(e,r+.5*s,e+a,r+.5*s,i,s),s=o[1],t.line2Poly(e,r+n-.5*s,e+a,r+n-.5*s,i,s),s=o[2],t.line2Poly(e+.5*s,r,e+.5*s,r+n,i,s),s=o[3],t.line2Poly(e+a-.5*s,r,e+a-.5*s,r+n,i,s)},t.setTriangle=function(e,t,r,a){void 0===a&&(a=1),r.push(e-a,t-a,e+a,t-a,e,t)},t.fillPolyForFan=function(e,t,r,a,n,o,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var A=t+i,u=r+s,l=A+a,c=u+n;o.push(A,u,l,u,A,c,A,c,l,u,l,c)},t.fillPoly=function(e,t,r,a,n,o,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var A=t+i,u=r+s,l=A+a,c=u+n;return o.push(A,u,l,u,A,c,A,c,l,u,l,c),6};var u;!function(e){e[e.Center=0]="Center",e[e.Left=1]="Left",e[e.Right=2]="Right"}(u=t.LineThicknessWeight||(t.LineThicknessWeight={}));var l=new r.Vector(0,0),c=.5*Math.PI;t.line2Poly=function(e,t,r,a,n,o,i){void 0===o&&(o=2),void 0===i&&(i=u.Center);var s=Math.atan2(t-a,e-r);i!==u.Center&&(o*=2),l.x=.5*o,l.y=.5*o,l.setAngle(s+(i===u.Left?-c:c));var A=e+l.x,d=t+l.y,p=r+l.x,f=a+l.y;return i===u.Center&&(e-=l.x,t-=l.y,r-=l.x,a-=l.y),n.push(e,t,r,a,A,d,r,a,A,d,p,f),6},t.line2PolyCone=function(e,t,r,a,n,o,i){var s=Math.atan2(t-a,e-r);l.x=.5*o,l.y=.5*o,l.setAngle(s+c);var A=e+l.x,u=t+l.y;e-=l.x,t-=l.y,l.x=.5*i,l.y=.5*i,l.setAngle(s+c);var d=r+l.x,p=a+l.y;return r-=l.x,a-=l.y,n.push(e,t,r,a,A,u,r,a,A,u,d,p),6},t.line2PolyTriangle=function(e,t,r,a,n,o){void 0===o&&(o=2);var i=Math.atan2(t-a,e-r);l.x=.5*o,l.y=.5*o,l.setAngle(i+c);var s=e+l.x,A=t+l.y;return n.push(e,t,r,a,s,A),6};var d=new r.Vector(0,0),p=new r.Vector(0,0),f=new r.Vector(0,0);t.line2PolyTriangleRotateable=function(e,r,a,n,o,i){void 0===i&&(i=2),d.set(a,0),d.setAngle(o),d.addXY(e,r),p.set(a,0),p.setAngle(o-.75*Math.PI),p.addXY(e,r),f.set(a,0),f.setAngle(o+.75*Math.PI),f.addXY(e,r),t.line2Poly(d.x,d.y,p.x,p.y,n,i),t.line2Poly(d.x,d.y,f.x,f.y,n,i),t.line2Poly(p.x,p.y,f.x,f.y,n,i)},t.line2PolyTriangleRotateableFilled=function(e,t,r,a,n){d.set(r,0),d.setAngle(n),d.addXY(e,t),p.set(r,0),p.setAngle(n-.75*Math.PI),p.addXY(e,t),f.set(r,0),f.setAngle(n+.75*Math.PI),f.addXY(e,t),a.push(d.x,d.y,p.x,p.y,f.x,f.y)},function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(t.MiterType||(t.MiterType={}));var h=.25*Math.PI,v=new r.Vector(0,0);t.line2PolyMiteredAuto=function(e,t,r,a,n,o){var i=Math.atan2(t-a,e-r);l.x=.5*o,l.y=.5*o,v.x=.5*o,v.y=.5*o,l.setAngle(i+c),v.setAngle(i+h);var s=e+v.x,A=t+v.y;v.setAngle(i+h+c);var u=r+v.x,d=a+v.y;return e-=l.x,t-=l.y,r-=l.x,a-=l.y,n.push(e,t,r,a,s,A,r,a,s,A,u,d),6},t.line2PolyHalf=function(e,t,r,a,n,o){void 0===o&&(o=2);var i=Math.atan2(t-a,e-r);l.x=.5*o,l.y=.5*o,l.setAngle(i+c);var s=e+l.x,A=t+l.y;return e-=l.x,t-=l.y,r-=l.x,a-=l.y,n.push(e,t,r,a,s,A),6},t.lineHorizontalRGBADash=function(e,r,a,n,o,i,s,A,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===A&&(A=0),void 0===u&&(u=0);for(var l=0,c=r-s;c<n-u;c++)++l<=s?c+u>r&&t.line2Poly(c+u,a,c+u,a+i,o):l>s+A&&(l=0)},t.lineVerticalRGBADash=function(e,r,a,n,o,i,s,A,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===A&&(A=0),void 0===u&&(u=0);for(var l=0,c=a-s;c<n-u;c++)++l<s?c+u>a&&t.line2Poly(r,c+u,r+i,c+u,o):l>s+A&&(l=0)},t.drawTriangle=function(e,t,r,a,n,o){o.push(e-r-a,t-r-n,e-r-a,t+r-n,e+r-a,t-n)},t.drawRectPoly=function(e,r,a,n,o){t.line2Poly(e.x-r,e.y-a,e.x+e.width-r,e.y-a,n,o),t.line2Poly(e.x-r,e.y-a,e.x-r,e.y+e.height-a,n,o),t.line2Poly(e.x+e.width-r,e.y-a,e.x+e.width-r,e.y+e.height-a,n,o),t.line2Poly(e.x+e.width-r,e.y+e.height-a,e.x-r,e.y+e.height-a,n,o)},t.createBlockCirclePolySingleWall=function(e,t,r,a,n,o,s){for(var A=a,u=e+Math.cos(i*(A/a)+n)*o>>0,l=t+Math.sin(i*(A/a)+n)*o>>0;A>-1;--A){var c=e+Math.cos(i*(A/a)+n)*o>>0,d=t+Math.sin(i*(A/a)+n)*o>>0;r.push(u,l,c,d),s&&r.push(e,t),u=c,l=d}},t.blockCirclePoly=function(e,t,r,a,n,o,s,A,u,l,c,d,p,f,h){var v,g,y,m,S,E,x,T;void 0===s&&(s=0),void 0===A&&(A=0),void 0===u&&(u=0),void 0===l&&(l=1),void 0===d&&(d=0),void 0===p&&(p=e),void 0===f&&(f=0),void 0===h&&(h=e);var _=e;v=r+Math.cos(i*(_/e)+n)*t>>0,g=a+Math.sin(i*(_/e)+n)*t>>0,S=r+Math.cos(i*(_/e)+n)*(t-l)>>0,E=a+Math.sin(i*(_/e)+n)*(t-l)>>0,y=0,m=0;for(;_>-1;--_){if(y=r+Math.cos(i*(_/e)+n)*t>>0,m=a+Math.sin(i*(_/e)+n)*t>>0,x=r+Math.cos(i*(_/e)+n)*(t-l)>>0,T=a+Math.sin(i*(_/e)+n)*(t-l)>>0,(!c||_%2==1)&&(_>=d&&_<=p||_>=f&&_<=h)){var I=v-A,M=g-u,L=y-A,b=m-u,w=x-A,R=T-u,P=S-A,O=E-u;o.push(I,M,L,b,w,R,I,M,w,R,P,O)}v=y,g=m,S=x,E=T}return 0},t.onStage=function(e,t,r,a){void 0===a&&(a=0);var n=e.SX,o=e.SY,i=e.SW,s=e.SH;return t>n-a&&t<n+i+a&&r>o-a&&r<o+s+a},t.inPerimiter=function(e,t,r,a,n){void 0===n&&(n=0);var o=t.x-.5*r,i=t.x+.5*r,s=t.y-.5*a,A=t.y+.5*a;return e.x+n>o&&e.x-n<i&&e.y+n>s&&e.y-n<A},t.addToColorMap=function(e,t,r,a,n,o,i){void 0===i&&(i=!1);var A=e.length,u=0===A?A:e[A-1].stop+e[A-1].start,l=t.length-u;(l>0||i)&&(s.addToColorMap++,e.push({start:u,stop:l,r:r,g:a,b:n,a:o}))},t.crossHair=function(e,r,a,n,o,i,s){void 0===n&&(n=6),void 0===o&&(o=1),void 0===i&&(i=0),void 0===s&&(s=0);var A=.5*n;t.line2Poly(e-A-i,r-s,e+A-i,r-s,a,o),t.line2Poly(e-i,r-A-s,e-i,r+A-s,a,o)},t.crossHair45deg=function(e,r,a,n,o,i,s){void 0===n&&(n=6),void 0===o&&(o=1),void 0===i&&(i=0),void 0===s&&(s=0);var A=.5*n;t.line2Poly(e-A-i,r-A-s,e+A-i,r+A-s,a,o),t.line2Poly(e+A-i,r+A-s,e-A-i,r-A-s,a,o)},t.getColorMapColorKey=function(e,t,r,a){return e+"_"+t+"_"+r+"_"+a},t.unitePolyColorMaps=function(e,r){for(var a=e.length,n=[],o=[],i=e[0].length,s=0;s<i;s++){for(var A=0;A<a;A++){var u=e[A][s],l=r[A].slice(u.start,u.start+u.stop);o.push.apply(o,l)}var c=e[0][s];t.addToColorMap(n,o,c.r,c.g,c.b,c.a)}return{colorMap:n,polys:o}};var g=null,y=null;t.setupBuffers=function(e){g=e.createBuffer(),y=e.createBuffer()},t.drawColorMap=function(e,t,r,n,o){if(void 0===o&&(o=n.TRIANGLES),0!==t.length){s.drawColorMap++,s.vertices+=t.length;var i=a.GLUniformLocation(n,"u_color");n.bufferData(n.ARRAY_BUFFER,S(t),n.STREAM_DRAW);for(var A=e.length,u=0;u<A;u++){var l=e[u];l.stop>0&&(s.drawColorMapCalls++,n.uniform4f(i,l.r,l.g,l.b,l.a),n.drawArrays(o,.5*l.start,.5*l.stop))}}},t.drawColorMapSingle=function(e,t,r,o){if(void 0===o&&(o=r.TRIANGLES),0!==t.length){var i=performance.now();s.vertices+=t.length,s.drawColorMapSingle++;for(var A=S(t,.5*t.length*4),u=0,l=e.length,c=0;c<l;c++){var d=e[c];if(d.stop>0)for(var p=.5*d.stop,f=0;f<p;f++)A[u]=d.r,A[u+1]=d.g,A[u+2]=d.b,A[u+3]=d.a,u+=4}n.default(a.GLctx.VerticesMultiColor,r);var h=a.GLAttribLocations(r,"a_color");r.bindBuffer(r.ARRAY_BUFFER,g),r.bufferData(r.ARRAY_BUFFER,A,r.STREAM_DRAW),r.enableVertexAttribArray(h),r.vertexAttribPointer(h,4,r.FLOAT,!1,0,0);var v=a.GLAttribLocations(r,"a_position");if(r.bindBuffer(r.ARRAY_BUFFER,y),r.bufferData(r.ARRAY_BUFFER,S(t),r.STREAM_DRAW),r.enableVertexAttribArray(v),r.vertexAttribPointer(v,2,r.FLOAT,!1,0,0),r.drawArrays(o,0,.5*t.length),t.length%2!=0)throw"Err uneven count";var m=performance.now()-i;s.drawColorMapSingleTimings+=m}},t.drawColor=function(e,t,r,n,o,i,A){if(void 0===A&&(A=t.TRIANGLES),e.length>0){s.drawColor++,s.vertices+=e.length;var u=a.GLUniformLocation(t,"u_color"),l=S(e);if(t.bufferData(t.ARRAY_BUFFER,l,t.STREAM_DRAW),t.uniform4f(u,r,n,o,i),t.drawArrays(A,0,e.length/2),e.length%2!=0)throw"Err uneven count"}};var m={};!function(e){for(var t=10;t<e;t+=10)m[t]=new Float32Array(t)}(4e3);var S=function(e,t){void 0===t&&(t=e.length);var r=10*Math.ceil(.1*t),a=m[r];if(a)return a.set(e),a;var n=new Float32Array(r);return m[r]=n,n.set(e),n};t.toClipSpaceX=function(e,t){return 2*(e/t)-1},t.toClipSpaceY=function(e,t){return-1*(2*(e/t)-1)},t.drawDebug=function(e){e(o.default().gui)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7),r(97),r(59)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadTreesObj=t.___getQtreeList=t.SetupQuadTreeRangeType=void 0,t.SetupQuadTreeRangeType=function(e){for(var t=[],i=0;i<22;i++)0===e&&t.push(new a.QuadTreeUint16(new r.Rectangle(0,0,0,0),0,0)),1===e&&t.push(new n.QuadTreeInt32(new r.Rectangle(0,0,0,0),0,0));o=t,p()};var o=[];t.___getQtreeList=function(){return o};var i=function(e,t,r,a,n){void 0===n&&(n=!1);for(var i=e.length,s=[],A=0;A<i;A++)if(s.push.apply(s,o[e[A]].queryVec(t,r,a)),n&&s.length>0)return s;return s},s=function(e,t,r,a,n){for(var i=[],s=o[e].queryVec(t,r,a),A=s.length,u=0;u<A;u++){var l=s[u];l.guid!==n&&i.push(l)}return i},A=function(e,t,r){void 0===r&&(r=!1);for(var a=e.length,n=[],i=0;i<a;i++)if(n.push.apply(n,o[e[i]].queryInt(t)),r&&n.length>0)return n;return n},u=function(e,t){for(var r=e.length,a=0;a<r;a++){var n=o[e[a]].queryShape(t);if(n.length>0)return n}return[]},l=function(e,t,r){for(var a=e.length,n=[],i=0;i<a;i++)n.push.apply(n,o[e[i]].queryRay(t,r));return n},c=function(e,t){for(var r=e.length,a=0;a<r;a++)t(o[e[a]])},d={Asteroids:o[0],RockFormations:o[1],RockFormationSystems:o[2],Enemies:o[3],Player:o[4],SpaceSnakes:o[5],Npcs:o[6],SpaceSquid:o[7],Drones:o[8],Bullets:o[9],Rockets:o[10],Charges:o[11],SpacePorts:o[12],SpacePortCannons:o[13],SpaceSpiders:o[14],ProximityMines:o[15],SpaceMines:o[16],SpaceTurret:o[17],Destroyers:o[18],Flames:o[19],AncientSystem:o[20],AncientBlocks:o[21],queryTreesVec:i,queryTreeVecIgnoreGuid:s,queryTreesRect:A,queryShapeFirstHit:u,queryRay:l,customOperator:c},p=function(){d={Asteroids:o[0],RockFormations:o[1],RockFormationSystems:o[2],Enemies:o[3],Player:o[4],SpaceSnakes:o[5],Npcs:o[6],SpaceSquid:o[7],Drones:o[8],Bullets:o[9],Rockets:o[10],Charges:o[11],SpacePorts:o[12],SpacePortCannons:o[13],SpaceSpiders:o[14],ProximityMines:o[15],SpaceMines:o[16],SpaceTurret:o[17],Destroyers:o[18],Flames:o[19],AncientSystem:o[20],AncientBlocks:o[21],queryTreesVec:i,queryTreeVecIgnoreGuid:s,queryTreesRect:A,queryShapeFirstHit:u,queryRay:l,customOperator:c}};t.getQuadTreesObj=function(){return d}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(3)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockcircleArray=t.normalize=t.pad_9=t.pad009=t.pad09=t.rotateVector=t.RandomStepBased=t.angleDelta=t.normalizeRadianAngle=t.normalizeRadianNew=t.diffRadianPositive=t.normalizeRadianPositive=t.wrapRadianAngle=t.eqNumberInArr=t.wrapTargetPos=t.map=t.MAX_INT_RANGES=void 0;t.MAX_INT_RANGES={MAX_INT_32:2147483647,MAX_INT_32_SS_5000:2147478647,MAX_INT_32_HALF:Math.round(1073741823.5),MAX_INT_32_QUART:Math.round(536870911.75)},t.map=function(e,t,r,a,n,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var s=(e-t)*(n-a)/(r-t)+a;return i&&(s=n-s),o?Math.max(a,Math.min(n,s)):s};var n=new r.Vector(0,0);t.wrapTargetPos=function(e,t,r,a,o){var i=Math.abs(r.x-a.x),s=Math.abs(r.y-a.y),A=r.x-a.x,u=r.y-a.y,l=a.x,c=a.y;return i>.5*e&&(l+=A>0?A+e:A-e),s>.5*t&&(c+=u>0?u+t:u-t),(o=o||n).x=l,o.y=c,o},t.eqNumberInArr=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},t.wrapRadianAngle=function(e){return e<0&&(e+=a.doublePI),e%=a.doublePI},t.normalizeRadianPositive=function(e){var t=2*Math.PI;return e<0?e=e%t+t:e>t&&(e%=t),e},t.diffRadianPositive=function(e,t){var r=Math.abs(e-t)>Math.PI,a=e>Math.PI,n=t>Math.PI,o=2*Math.PI;return a?n?t-e:r?o-e+t:t-e:n&&r?-(o-t+e):t-e},t.normalizeRadianNew=function(e){return(e=((e%=360)+360)%360)>180&&(e-=360),e},t.normalizeRadianAngle=function(e){return e-a.doublePI*Math.floor((e+Math.PI)/a.doublePI)},t.angleDelta=function(e,t){return Math.abs(t-e)<Math.PI?t-e:t>e?t-e-a.doublePI:t-e+a.doublePI};var o={};t.RandomStepBased=function(e,t){if(0===e){var r=o[t];return r||(o[t]=Math.random())}return Math.random()},t.rotateVector=function(e,t,a){void 0===a&&(a=new r.Vector(0,0));var n=e.x*Math.cos(t)-e.y*Math.sin(t),o=e.y*Math.cos(t)+e.x*Math.sin(t);return a.set(n,o),a},t.pad09=function(e){return e<10?"0"+e:e},t.pad009=function(e){return e<100?e<10?"00"+e:"0"+e:e+""},t.pad_9=function(e){return e<10?" "+e:e+""};var i={};t.normalize=function(e,t,r,a){void 0===r&&(r=100),void 0===a&&(a=0);var n=0,o=Number.MIN_VALUE,s=Number.MAX_VALUE,A=i[t]=i[t]||[];A.push(e);var u=A.length;u>r&&(A.shift(),u--);for(var l=0;l<u;l++){var c=A[l];n+=c,c<s&&(s=c),c>o&&(o=c)}return a>0?{avg:parseFloat((n/u).toFixed(a)),high:parseFloat(o.toFixed(a)),low:parseFloat(s.toFixed(a))}:{avg:Math.round(n/u),high:Math.round(o),low:Math.round(s)}},t.createBlockcircleArray=function(e,t,n,o){for(var i=o.x,s=o.y,A=0,u=0,l=e,c=[];l>-1;--l)A=i+Math.cos(a.doublePI*(l/e)+t)*n>>0,u=s+Math.sin(a.doublePI*(l/e)+t)*n>>0,c.push(new r.Vector(A,u));return c}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rectangle=void 0;var r=function(){function e(e,t,r,a){this.x=e,this.y=t,this.height=a,this.width=r}return e.prototype.intersects=function(e){return!(e.x>this.x+this.width||e.x+e.width<this.x||e.y>this.y+this.height||e.y+e.height<this.y)},e.prototype.containsRect=function(e){return e.x>this.x&&e.y>this.y&&e.x+e.width<this.x+this.width&&e.y+e.height<this.y+this.height},e.prototype.intersectsPoint=function(e){return e.x>this.x&&e.y>this.y&&e.x<this.x+this.width&&e.y<this.y+this.height},e.prototype.intersectsXY=function(e,t){return e>this.x&&t>this.y&&e<this.x+this.width&&t<this.y+this.height},e.prototype.toPointArray=function(){return[{x:this.x,y:this.y},{x:this.x,y:this.y+this.height},{x:this.x+this.width,y:this.y},{x:this.x+this.width,y:this.y+this.height}]},e.prototype.toString=function(){return"x:"+this.x+", y:"+this.y+", w:"+this.width+", h:"+this.height},e}();t.Rectangle=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(2),r(3),r(1),r(13),r(99)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShipColors=t.ShipColorStrings=t.increaseColorIndex=t.setColorIndex=t.getCurrentColorIndex=t.createNPCs=t.createDrones=t.createEnemies=t.createShip=t.createDestroyer=t.applyNetworkPropertiesToNewShip=void 0;var A=1.02*new n.Vector(a.SHIP_LENGTH_RADIUS,a.SHIP_WIDTH_RADIUS).getLength();t.applyNetworkPropertiesToNewShip=function(e,t){e.guid=t.guid,e.kills=t.kills,e.deaths=t.deaths,e.SW=t.SW,e.SH=t.SH,e.name=t.name},t.createDestroyer=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=15);var l=o(o(o({},i.setImovableDefaults(s.WedgeCreator((null==t?void 0:t.pos.x)||3e3,(null==t?void 0:t.pos.y)||3e3,a,Math.pow(A*a*.5,3)))),{shape:1,opos:{x:0,y:0},acc:new n.Vector(0,0),mass:Math.pow(A*a*.5,3),thrust:new n.Vector(0,0),radarAngle:0,shields:0,level:0,vel:new n.Vector(0,0),angle:0,angleVel:0,angleAcc:0,radius:A*a,life:1e3,guid:r.getGuid(),type:0,shipSizeMultip:a,debugCircle:null,cannons:[]}),t);return l.cannons=u(l),l};var u=function(e){for(var t=[.2,.6],a=[],n=0;n<2;n++)for(var o=0;o<3;o++){var i={angle:0,baseAngle:0,min:0,baseMin:0,max:0,baseMax:0,pos:r.midpoint(e.pos,e.comp[0].vertex[o],t[n]),direction:1,fired:!1};a.push(i)}for(var s=[2,0,2,2,0,2],A=[1,1,0,1,1,0],u=0;u<a.length;u++){i=a[u];var l={min:Math.atan2(e.comp[0].vertex[A[u]].y-i.pos.y,e.comp[0].vertex[A[u]].x-i.pos.x),max:Math.atan2(e.comp[0].vertex[s[u]].y-i.pos.y,e.comp[0].vertex[s[u]].x-i.pos.x)};i.min=l.min,i.max=l.max,i.baseMin=l.min,i.baseMax=l.max,i.angle=i.min+.2,i.baseAngle=i.min+.2}return a};t.createShip=function(e,t,a){return void 0===t&&(t={}),void 0===a&&(a=1),o(o(o({},i.setImovableDefaults(s.WedgeCreator(.9*e.game.resW,.9*e.game.resH,1*a,Math.pow(.88*A,3)))),{acc:new n.Vector(0,0),shape:1,netpos:new n.Vector(0,0),netvel:new n.Vector(0,0),netangle:0,netSX:0,netSY:0,availableBullets:500,availableFlames:500,selectedPrimaryWeapon:0,ultrabright:0,inSafeZone:!1,cloaked:!1,unableToComply:!1,bulletsFired:0,ownerGuid:-1,killedByGuid:-1,kills:0,deaths:0,rocketFired:!1,avoidance:null,homingBullets:0,turnAcc:0,SX:0,SY:0,SW:e.game.SW,SH:e.game.SH,keyCodes:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,MISSILE:!1,FIRE:!1,CHARGE:!1,PROXIMITYMINE:!1,SPACEMINE:!1,SPACETURRET:!1,TIMEFREEZE:!1,ELECTROBASTARDRAY:!1,BOOST:!1,STRAFELEFT:!1,STRAFERIGHT:!1,CLOAK:!1,FLAMETHROWER:!1,TRACELINE:!1},colorIndex:p,boost:80,availableMissiles:5,availableRockets:5,availableElectroBastardRays:0,type:39,guid:r.getGuid(),chargeTimer:200,chargeTimerValue:0,shields:600,enemyDetection:[],asterodDetection:[],anomalyDetection:[],score:0,maxBullets:150,maxVel:10,life:100,radius:A,originalRadius:A,shieldRadius:4*A,damageTaken:!1,angle:0,angleVel:0,angleAcc:0,thrust:new n.Vector(0,0),vel:new n.Vector(0,0),bulletWeaponLevel:1,name:"",camera:{chaseX:0,chaseY:0,velChaseX:0,velChaseY:0,history:[]},autoPilot:0,availableMines:8,mineDeployed:!1,bulletVelocity:30,level:0,miningRig:null,isTracing:!1,aimPoint:{x:0,y:0}}),t)};var l=function(e,t,r){if(void 0===r&&(r=3),0===e.game.spacePorts.length||0===e.game.rockFormationSystemRadius.length||0===e.game.rockFormations.length)return null;for(var o,i=[],s=0;s<r;s++)i.push({joint:new n.Vector(0,0),size:t-2*s,angle:Math.PI,minAngle:Math.PI,maxAngle:0===s?-.2*Math.PI:.2*Math.PI});var A=Number.MAX_VALUE,u=!1;for(s=0;s<e.game.spacePorts.length;s++){for(var l=e.game.spacePorts[s],c=0,d=0;d<l.cannons.length;d++){c+=l.cannons[d].life}c<A&&(o=l,A=c)}return A===7*a.SPACEPORT_START_LIFE&&(u=!0),{armState:3,base:u?e.game.spacePorts[Math.floor(e.game.spacePorts.length*Math.random())]:o,target:null,repairTarget:null,arm:i,minedMinerals:Math.random()>.5?Math.floor(200*Math.random()+50):0}};t.createEnemies=function(e,r,a){void 0===a&&(a={});for(var i=e.WW,s=e.WH,A=[],u=0;u<r;u++){var l=o(o(o({},t.createShip(e,a)),{pos:a.pos||new n.Vector(i*Math.random(),s*Math.random()),life:30,type:1,maxBullets:10,maxVel:3,shields:0,name:"BANDIT"}),a);A.push(l)}return A},t.createDrones=function(e,r,a,o){for(var i=[],s=0;s<a;s++){var A=t.createShip(e,{},.55);A.type=43,A.ownerGuid=o,A.pos=r.clone();var u=new n.Vector(150,0);u.setAngle(360*Math.random()),A.pos.add(u),A.radius*=.55,A.mass=Math.pow(.5*A.radius,3),A.originalRadius*=.55,A.shieldRadius*=.55,A.maxBullets=10,A.life*=.55,A.shields=0,A.name="DRONE",i.push(A)}return i};var c,d=function(e,t){var r,a=0;return r=e.pos.x+(Math.random()>.5?-1e3:1e3),a=e.pos.y>.5*t.WH?t.WH-100:100,new n.Vector(r,a)};t.createNPCs=function(e,r,i,s){void 0===i&&(i={});for(var A=e.WW,u=e.WH,c=[],p=0;p<r;p++){var f=l(e,1.8*a.SHIP_LENGTH_RADIUS),h=o(o(o({},t.createShip(e)),{pos:f?d(f.base,e):new n.Vector(A*Math.random(),u*Math.random()),life:80,type:2,maxBullets:0,angle:Math.random()*Math.PI*2,maxVel:3,currentWayPointIndex:s,shields:0,miningRig:f}),i);c.push(h)}return c},function(e){e[e.CYAN=0]="CYAN",e[e.WHITE=1]="WHITE",e[e.BLUE=2]="BLUE",e[e.YELLOW=3]="YELLOW",e[e.PINK=4]="PINK",e[e.LIME=5]="LIME"}(c||(c={}));var p=1;t.getCurrentColorIndex=function(){return p},t.setColorIndex=function(e){(function(e){return 0})&&(p=e)},t.increaseColorIndex=function(){p<t.ShipColors.length-1?p++:p=0},t.ShipColorStrings=[],t.ShipColorStrings[c.WHITE]="WHITE",t.ShipColorStrings[c.BLUE]="BLUE",t.ShipColorStrings[c.YELLOW]="YELLOW",t.ShipColorStrings[c.CYAN]="CYAN",t.ShipColorStrings[c.PINK]="PINK",t.ShipColorStrings[c.LIME]="LIME";t.ShipColors=[],t.ShipColors[c.WHITE]={r:.9,g:.9,b:.9},t.ShipColors[c.YELLOW]={r:.9,g:.9,b:.1},t.ShipColors[c.BLUE]={r:.1,g:.1,b:.9},t.ShipColors[c.PINK]={r:.9,g:.1,b:.9},t.ShipColors[c.CYAN]={r:.1,g:.9,b:.9},t.ShipColors[c.LIME]={r:.1,g:.9,b:.1}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(52),r(0),r(3)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.createUnitializedTextBuffers=function(e,t,r){void 0===r&&(r=!1),window.textBuffers=this.buffer,this.INITIALIZATION=!1;var a=[];for(var n in this.initializationBuffer)a.push(n);this.initalizer(a,a.length,e,t,r)},e.initalizer=function(e,t,r,a,n){var o=this;void 0===n&&(n=!1);var i=function(){var i=e.pop(),s=i.split(o.CACHE_SPLIT_KEY),A=o.create(s[0],parseInt(s[1],10),s[2],1===parseInt(s[3],10),!1,a),u=o.buffer[i];u.frame=A.frame,u.rgbIndex=A.rgbIndex,u.w=A.w,u.h=A.h,u.length=A.length,u.texture=A.texture,e.length>0?(r(Math.abs(e.length/t-1),!1,e.length),o.initalizer(e,t,r,a)):n?(o.IGNORE_CACHE=!1,r(1,!0,t)):setTimeout(function(){o.IGNORE_CACHE=!1,r(1,!0,t)},2)};n?i():setTimeout(function(){setTimeout(i,0)},0)},e.createSplitted=function(e,t,r,a,n,o,i){void 0===a&&(a="_"),void 0===n&&(n=!1),void 0===o&&(o=!1);var s=[],A=e.split("");a&&A.push(a);for(var u=0;u<A.length;u++)s.push(this.create(A[u],t,r,n,o,i));return s},e.create=function(e,t,a,o,i,s,A){if(void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===A&&(A=!1),e.indexOf(this.CACHE_SPLIT_KEY)>-1)throw new Error("illeagal charS "+this.CACHE_SPLIT_KEY+" at text create");var u=e+this.CACHE_SPLIT_KEY+t+this.CACHE_SPLIT_KEY+a+this.CACHE_SPLIT_KEY+(o?"1":"0");if(this.INITIALIZATION&&!i){this.initializationBuffer[u]=u;var l={frame:null,rgbIndex:0,w:0,h:0,length:0,imageData:null,texture:{width:0,height:0,texture:null,index:0},str:e};return this.buffer[u]?this.buffer[u]:(A||(this.buffer[u]=l),l)}var c=this.buffer[u];if(c&&!this.IGNORE_CACHE)return c;this.INITIALIZATION||this.IGNORE_CACHE||i||this.NumErrTypeWarns<this.MaxErrTypeWarns&&(console.warn("text created runtime:",'"'+e+'"',"size: "+t),this.NumErrTypeWarns++,this.NumErrTypeWarns===this.MaxErrTypeWarns&&console.warn("max text errors reported. Ignoring rest"));var d,p=0,f=0,h=0;switch(a){case"r":p=255,d=0;break;case"g":f=255,d=1;break;case"b":h=255,d=2;break;case"z":d=0;break;case"w":p=255,f=255,h=255,d=0;break;case"y":p=255,f=255,h=0,d=0}var v=document.createElement("canvas");v.height=t;var g=v.getContext("2d"),y=t<n.TEXT_SIZE_MEDIUM?"monospace":"dorito",m="rgba("+p+","+f+","+h+",255)";g.font="100 "+t+"px "+y,g.fillStyle=m;var S=g.measureText(e);v.width=S.width+10,g=v.getContext("2d"),o&&(g.fillStyle=m,g.fillRect(0,0,v.width,v.height),g.fillStyle="black",g.fillRect(2,2,v.width-4,v.height-4)),g.font="100 "+t+"px "+y,g.fillStyle=m,g.fillText(e,5,.8*t);var E=g.getImageData(0,0,v.width,v.height),x=r.default().global_gl,T={imageData:E,frame:E.data,rgbIndex:d,w:v.width,h:v.height,length:E.data.length,texture:x?this.imageDataToTexture(x,E):null,str:e};return this.IGNORE_CACHE&&!i||A||(this.buffer[u]=T),T},e.addList=function(t,r,a,n,o,i,s,A){void 0===i&&(i=!1),void 0===s&&(s=1),void 0===A&&(A=.8);var u=a.length,l=n;if(i)for(var c=0;c<u;c++){var d=a[c];e.addDistorted(t,r,d,l,o,s,A),l+=d.w}else for(c=0;c<u;c++){d=a[c];e.add(t,r,d,l,o),l+=d.w}},e.addListGL=function(t,r,a,n,o,i,s){void 0===s&&(s=!1);for(var A=a.length,u=n,l=0;l<A;l++){var c=a[l];e.addGL(t,r,c,u,o,i,s),u+=c.w}},e.printListGL=function(e,t,r,a,n,o,i,s,A,u){void 0===A&&(A=!1),void 0===u&&(u=1);for(var l=Math.min(o,r.length-1),c=[],d=0;d<l;d++)c.push(r[d]);i&&c.push(r[r.length-1]),this.addListGL(e,t,c,a,n,s)},e.printList=function(e,t,r,a,n,o,i,s,A){void 0===s&&(s=!1),void 0===A&&(A=1);for(var u=Math.min(o,r.length-1),l=[],c=0;c<u;c++)l.push(r[c]);i&&l.push(r[r.length-1]),this.addList(e,t,l,a,n,s,A)},e.measureBuffers=function(e){for(var t=e.length,r=0,a=0;a<t;a++){var n=e[a];!n||n.w,r+=n.w}return r},e.addDistorted=function(t,r,a,n,o,i,s){void 0===i&&(i=1),void 0===s&&(s=.8),e.add(t,r,a,n+Math.random()*i*6,o+Math.random()*i*6,Math.random()>s?Math.floor(a.w*(.5*Math.random()+.5)):Math.random()>s?Math.floor(a.w*(.0025*Math.random()+.9975)):a.w,Math.random()>s?Math.floor(a.length*Math.random()):a.length,Math.random()>s?Math.floor(a.length*Math.random()*.4):0)},e.add=function(e,t,r,a,n,o,i,s){void 0===o&&(o=r.w),void 0===i&&(i=r.length),void 0===s&&(s=0);for(var A=r.frame,u=r.rgbIndex,l=o,c=0,d=0,p=s;p<i;p+=4){var f=Math.floor(a+d);if(f<e&&f>0){var h=Math.floor(n+c)*e*4+4*f,v=A[p+u];v&&(t[h+u]=v)}d>=l&&(c++,d=0),d++}},e.getTextsBatched=function(){return null},e.addGLBatched=function(e,t,r,a,n){void 0===n&&(n=1),this.textBatch[e]||(this.textBatch[e]=[]),this.textBatch[e].push({program:e,buffer:t,dstX:r,dstY:a,tx:n})},e.addGL=function(e,t,r,n,o,i,s){void 0===s&&(s=!1);var A=r.texture.texture,u=r.texture.width,l=r.texture.height;e.bindTexture(e.TEXTURE_2D,A);var c=a.GLAttribLocations(e,"a_texcoord"),d=a.GLUniformLocation(e,"u_matrix"),p=a.GLUniformLocation(e,"u_texture"),f=a.GLUniformLocation(e,"distortionStart"),h=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(f,Math.random()),e.uniform1f(h,Math.random());var v=window.m4;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0);var g=v.orthographic(0,s?i.SW:e.canvas.width,s?i.SH:e.canvas.height,0,-1,1);g=v.translate(g,n,o,0),g=v.scale(g,u,l,1),e.uniformMatrix4fv(d,!1,g),e.uniform1i(p,0),e.drawArrays(e.TRIANGLES,0,6)},e.imageDataToTexture=function(e,t){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);var a={width:t.width,height:t.height,texture:r,index:this.textureIndex};return this.textureIndex++,e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a},e.textBatch={},e.textureIndex=0,e.MaxErrTypeWarns=4,e.NumErrTypeWarns=0,e.positionBuffer=null,e.positions=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.texcoords=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.INITIALIZATION=!0,e.IGNORE_CACHE=!0,e.initializationBuffer={},e.buffer={},e.CACHE_SPLIT_KEY="[-_-]",e.addNumberCacheable=function(t,r,a){for(var n=(t+"").split(""),o=n.length,i=[],s=0;s<o;s++)i.push(e.create(n[s],r,a));return i},e}();t.default=o}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOtherShipsForThisGuid=t.getOtherShips=void 0,t.default=function(e){var t=e.game.player,r=t.length;if(e.game.playerGuid<0)return t[0];for(var a=e.game.playerGuid,n=0;n<r;n++){var o=t[n];if(o.guid===a)return o}},t.getOtherShips=function(e,t){for(var r=e.game.player,a=[],n=r.length,o=t||e.game.playerGuid,i=0;i<n;i++){var s=r[i];s.guid!==o&&a.push(s)}return a},t.getOtherShipsForThisGuid=function(e,t){for(var r=e.game.player,a=[],n=r.length,o=0;o<n;o++){var i=r[o];i.guid!==t&&a.push(i)}return a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onStageXY=t.onStage=t.check=t.contain=t.bounce=t.shift=t.disableMapShift=void 0;var r=!1;t.disableMapShift=function(e){void 0===e&&(e=!0),r=e},t.shift=function(e,t,a,n,o){return void 0===n&&(n=1),void 0===o&&(o=1),!r&&(e.pos.x>=t?(e.pos.x=n,!0):e.pos.x<=n?(e.pos.x=t-o-1,!0):e.pos.y>=a?(e.pos.y=o,!0):e.pos.y<=o&&(e.pos.y=a-o-1,!0))},t.bounce=function(e,t,r,a,n){void 0===a&&(a=0),void 0===n&&(n=0);var o=e.radius+1,i=!1;return e.pos.x+o>=t?(e.pos.x=t-o,e.vel.x*=-.5,i=!0):e.pos.x-o<=a&&(e.pos.x=o,e.vel.x*=-.5,i=!0),e.pos.y+o+0>=r?(e.pos.y=r-(o+0),e.vel.y*=-.5,e.vel.x*=.5,i=!0):e.pos.y-o<=n&&(e.pos.y=o,e.vel.y*=-.5,i=!0),i},t.contain=function(e,t,r,a){void 0===a&&(a=100);var n=e.radius+1+a;e.pos.x+n>=t?(e.pos.x=t-n,e.vel.x=0):e.pos.x-n<=0&&(e.pos.x=n,e.vel.x=0),e.pos.y+n>=r?(e.pos.y=r-n,e.vel.y=0):e.pos.y-n<=0&&(e.pos.y=n,e.vel.y=0)},t.check=function(e,t,r,a,n){return void 0===a&&(a=1),void 0===n&&(n=1),e.pos.x>=t||(e.pos.x<=a||(e.pos.y>=r||e.pos.y<=n))},t.onStage=function(e,t,r){void 0===r&&(r=0);var a=t.pos.x,n=t.pos.y,o=e.SX,i=e.SY,s=e.SW,A=e.SH;return a>o-r&&a<o+s+r&&n>i-r&&n<i+A+r},t.onStageXY=function(e,t,r,a){void 0===a&&(a=0);var n=e.SX,o=e.SY,i=e.SW,s=e.SH;return t>n-a&&t<n+i+a&&r>o-a&&r<o+s+a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(4)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_GL_FIXED_ARRAY=t.LOG_GL_FIXED=t.LOG_GL_FIXED_FORCED=t.LOG_GL=t.LOG_GL_CLEAR=void 0;var o=[],i={},s={},A=!1,u=!0;t.LOG_GL_CLEAR=function(){for(;o.length>0;)o.pop()},t.LOG_GL=function(e){if((""+e).indexOf("AST"),u)if(o[0]&&0===o[0].indexOf(e+"")){var t=o[0],r=t.length;if(")"===t[r-1]){for(var a=0,n=0;n<6;n++)if("("===t[r-(3+n)]){a=n+3;break}var i=t.substr(r-a+1,a-2),s=parseInt(i,10);0===s&&(s=1);var A=t.substr(0,r-a)+"("+(s+1)+")";o[0]=A}else o[0]=e+" (1)"}else o.unshift(e+""),o.length>32&&o.pop()},t.LOG_GL_FIXED_FORCED=function(e,t){A=!0,s[t]=t+": "+e},t.LOG_GL_FIXED=function(e,t){i[t]=t+": "+e},t.LOG_GL_FIXED_ARRAY=function(e,t){i[t]=t+": "+e.join(",")},t.default=function(e){var t=e.gl,l=e.game,c=l.resW,d=0;if(u=l.menuSettings.onScreenLogging,A||u){var p=a.default(a.GLctx.Texture,t),f=0;for(var h in s){f++;var v=r.default.create(s[h],18,"r");r.default.addGL(t,p,v,c-880,150+20*d,e),d++}if(f>0){var g=c-880,y=[];a.default(a.GLctx.Vertices,t),n.fillPoly(0,g,100,100,20,y,0,0),n.drawColor(y,t,1,0,0,1)}if(l.menuSettings.onScreenLogging){for(var m=a.default(a.GLctx.Texture,t),S=(l.zoomTX,0);S<o.length;S++){v=r.default.create(o[S],18,"w",!1,!1,null,!1);r.default.addGL(t,m,v,c-480,150+20*S+20*f,e)}for(var h in i){v=r.default.create(i[h],18,"y",!1,!1,null,!1);r.default.addGL(t,m,v,c-880,150+20*d,e),d++}return"Log"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setImovableDefaults=void 0,t.setImovableDefaults=function(e){return n({inTree:!0,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0,procedurallyCreated:!1,sleepingAABB:!1,shape:6,acc:null,opos:null,mass:1,inv_m:1,simTimeRemain:0,debug:{}},e||{})}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(5),r(24),r(161),r(7),r(3),r(12),r(3),r(2),r(34)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugForce2=t.addForce=t.addForceExplosion=t.FastForce2Cached=t.FastForce2CachedReversed=t.getForce2Tree=void 0;var p=new i.QuadTreeInt32Base(new s.Rectangle(0,0,0,0),5,200,2);t.getForce2Tree=function(){return p},t.default=function(e){var t=e.game,r=e.WW,a=e.WH,n=e.step,i=t.IS_PROCEDURAL?t.proceduralBounds:new s.Rectangle(0,0,r,a);p.reset(),p.setup(i,5,-200,2);for(var A=t.force2,u=A.length,l=0;l<u;l++){var c=A[l];1===c.type&&(c.life-=n,c.positive&&(c.radius+=.13*c.originalRadius*n,c.radius>c.originalRadius&&(c.radius=c.originalRadius),c.sizeRoundedToOddRes=x(c.radius),c.intensity*=.9)),c.life>0&&p.insert(c)}return t.force2=o(p.references),f(t.force2),"Force2"};var f=function(e){a.getQuadTreesObj().customOperator([0,11,18,3,19,15,10,9,19,16,12,14,17,8,4,7],function(t){for(var r=e.length,a=0;a<r;a++){var n=e[a];n.radius>30&&n.intensity>0&&m(t.queryVec(n.pos,.5*n.sizeRoundedToOddRes,.5*n.sizeRoundedToOddRes),n,!0)}}),a.getQuadTreesObj().customOperator([1],function(t){for(var r=e.length,a=0;a<r;a++){var n=e[a];y(t.queryCircle(n.pos,n.radius),n)}})},h=new r.Vector(0,0),v=new r.Vector(0,0),g=function(e,t,r){var a=Math.abs(t),o=Math.abs(r);if(a>1||o>1){var i=Math.max(a,o);n.DamageItem(e,.15*i,.005*i),e.stunned=!0}},y=function(e,t){for(var r=T(t),a=r.field,n=t.intensity,o=t.pos.x-.5*r.size,i=t.pos.y-.5*r.size,s=e.length,u=0;u<s;u++){var l=e[u],c=(l.pos.x-o)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0,d=a[(l.pos.y-i)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0];if(d){var p=d[2*c],f=d[2*c+1],h=p*n*l.inv_m*1e4,v=f*n*l.inv_m*1e4;g(l,h,v)}}},m=function(e,t,r){for(var a=T(t),n=a.field,o=t.intensity,i=t.pos.x-.5*a.size,s=t.pos.y-.5*a.size,l=e.length,p=0;p<l;p++){var f=e[p],h=f.pos.x,v=f.pos.y;if(12===f.type&&f.radius>20){var y=d.LineInterceptCircleToPositions(t.pos,f.pos,f.pos,f.radius);1===y.length?(h=y[0].x,v=y[0].y):c.distBetweenVectorsRelative(y[0],t.pos)>c.distBetweenVectorsRelative(y[1],t.pos)?(h=y[1].x,v=y[1].y):(h=y[0].x,v=y[0].y)}var m=(h-i)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0,S=n[(v-s)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0];if(S){var E=S[2*m],x=S[2*m+1];if(E&&x){var _=o*f.inv_m*1e4*(f.radius*f.radius)*.1,I=E*_,M=x*_;if(isNaN(I)||isNaN(M)){u.LOG_GL_FIXED_FORCED("NaN error","Force2");continue}f.vel.x+=I,f.vel.y+=M,f.forceX=I,f.forceY=M,r&&g(f,I,M)}}}};t.FastForce2CachedReversed=function(e,r,a){void 0===a&&(a=1);for(var n=p.queryInt(r),o=n.length,i=0;i<o;i++){var s=n[i],A=e.queryVec(s.pos,s.radius,s.radius);t.FastForce2Cached(A,s,a)}},t.FastForce2Cached=function(e,t,r){void 0===r&&(r=1);for(var a=T(t),n=a.field,o=t.intensity*r,i=t.pos.x-.5*a.size,s=t.pos.y-.5*a.size,u=e.length,l=0;l<u;l++){var c=e[l],d=(c.pos.x-i)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0,p=n[(c.pos.y-s)*A.FORCEFIELD_RESOLUTION_REVERSED_F2|0];if(p){var f=p[2*d],h=p[2*d+1];c.vel.x+=f*o*40,c.vel.y+=h*o*40}}},t.addForceExplosion=function(e,r,a,n,o,i,s,A){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===A&&(A=1),t.addForce(e,r,a,n,o,i,s,A)},t.addForce=function(e,t,a,n,o,i,s,A){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===A&&(A=1),n<10&&u.LOG_GL_FIXED_FORCED("err radius to small","Force 2"),n>3e3&&u.LOG_GL_FIXED_FORCED("err radius to large","Force 2");var l=n,c=i&&1===A?30:l,d={pos:new r.Vector(t,a),radius:c,sizeRoundedToOddRes:x(c),originalRadius:l,intensity:o,life:S(n),positive:i,rotating:s,type:A};e.force2.push(d)};var S=function(e){switch(e){case 30:return 12;case 70:return 18;case 90:return 20;case 250:return 22;case 510:return 24;case 750:return 26;case 1010:return 28;default:return 10}},E={};window.forceCache=E;var x=function(e){var t=Math.round(Math.round((e+e)*A.FORCEFIELD_RESOLUTION_REVERSED_F2)),r=t%2==0;return t*=l.FORCEFIELD_RESOLUTION_F2,r&&(t+=l.FORCEFIELD_RESOLUTION_F2),t},T=function(e,t){void 0===t&&(t=!0);var r=[e.sizeRoundedToOddRes,e.positive,e.rotating].join("_"),a=E[r];if(a&&a.size>=e.sizeRoundedToOddRes)return E[r];var n=performance.now(),o=I(e),i={size:e.sizeRoundedToOddRes,field:o.field,fx:o.fx,fy:o.fy};E[r]=i;var s=performance.now()-n;return t&&(u.LOG_GL("-cache miss F2- r:"+e.sizeRoundedToOddRes+" "+Math.round(s)+" ms"),console.log("-cache miss F2- r:"+e.sizeRoundedToOddRes+" "+Math.round(s)+" ms")),i},_=new r.Vector(0,0),I=function(e){for(var t=e.sizeRoundedToOddRes,r=.5*t,a=Math.floor(.5*t*A.FORCEFIELD_RESOLUTION_REVERSED_F2),n=Math.floor(.5*t*A.FORCEFIELD_RESOLUTION_REVERSED_F2),o=[],i=r*A.FORCEFIELD_RESOLUTION_REVERSED_F2*r*A.FORCEFIELD_RESOLUTION_REVERSED_F2,s=Math.ceil(t*A.FORCEFIELD_RESOLUTION_REVERSED_F2),u=0;u<s;u++){for(var l=[],c=0;c<s;c++){var d=(c-a)*(c-a)+(u-n)*(u-n);if(i>d){_.x=0,_.y=0;var p=.003*(Math.abs(d-i)/i),f=Math.atan2(n-u,a-c);h.x=p,h.y=0,e.positive?h.setAngle(f+Math.PI):(h.setAngle(f),e.rotating&&(h.mult(.2),v.x=.05*p,v.y=0,v.setAngle(f+.7*Math.PI),_.add(v))),_.add(h),l.push(_.x,_.y)}else l.push(0,0)}o.push(l)}return{field:o,fx:a,fy:n}};!function(){for(var e=performance.now(),t=3;t<100;t++){var a=10*t,n=x(a),o={intensity:1,life:1,originalRadius:a,pos:new r.Vector(0,0),positive:!0,radius:a,sizeRoundedToOddRes:n,rotating:!1,type:1};T(o,!1)}var i=[510,750,1010];[!0,!1].map(function(e){i.map(function(t){var a=t,n=x(a),o={intensity:1,life:1,originalRadius:a,pos:new r.Vector(0,0),positive:!0,radius:a,sizeRoundedToOddRes:n,rotating:e,type:0};T(o,!1)})});var s=performance.now()-e;console.log("force cache warmup took",s)}(),t.debugForce2={getOrCreateCachedForceField:T,createForceField:I}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalContexts=void 0;var r={engine:null,gui:null};t.default=function(){return r},t.setGlobalContexts=function(e,t){r.engine=e,r.gui=t}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(1),r(25),r(99)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionUpdaterAutoSleep=t.PositionUpdaterPoint=t.ShipPositionUpdater=void 0;var o=new r.Vector(0,0);t.default=function(e,t){switch(e.shape){case 3:case 6:o.set(e.vel.x,e.vel.y),o.mult(t),e.pos.add(o);break;case 0:a.ballUpdater(e,t);break;case 1:n.wedgeUpdater(e,t)}},t.ShipPositionUpdater=function(e,t,r){void 0===r&&(r=!0),n.wedgeUpdater(e,t)},t.PositionUpdaterPoint=function(e,t){o.set(e.vel.x,e.vel.y),o.mult(t),e.pos.x+=o.x,e.pos.y+=o.y},t.PositionUpdaterAutoSleep=function(e,t){var r=e.vel;0===e.shape?(a.ballUpdater(e,t),0===r.x&&0===r.y?e.sleepingAABB=!0:e.sleepingAABB=!1):(o.set(r.x,r.y),o.mult(t),e.pos.add(o),0===r.x&&0===r.y?e.sleepingAABB=!0:e.sleepingAABB=!1)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(2),r(1),r(3),r(13),r(25),r(7)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test_createAsteroid=t.createAsteroidBelt=t.createSingleAsteroid=void 0,t.default=function(e,r,n,o,i,s){void 0===n&&(n=5),void 0===o&&(o=400),void 0===i&&(i={}),void 0===s&&(s=!1);for(var A=e.WW,u=e.WH,l=[],c=0;c<r;c++){var d=s?new a.Vector(0,0):new a.Vector(10*(Math.random()-.5),10*(Math.random()-.5));s||(d.setLength(1*Math.random()),d.setAngle((Math.random()-.5)*(2*Math.PI)));var p=Math.floor((o-n)*Math.random()*Math.random()*Math.random()+n),f=t.createSingleAsteroid(p,new a.Vector(A*Math.random(),u*Math.random()),d,i);l.push(f)}return l},t.createSingleAsteroid=function(e,t,A,u){return void 0===u&&(u={}),e>n.MAX_RADIUS_ENTITY&&(e=n.MAX_RADIUS_ENTITY),o(o(o({},i.setImovableDefaults(s.BallCreator(t.x,t.y,e,Math.pow(e,3)))),{isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:12,guid:r.getGuid(),radius:e,vel:new a.Vector(A.x,A.y),sides:Math.max(7,Math.floor(e/20)),angle:0,angleVel:.01*(1-2*Math.random()),life:e*n.ASTEROID_RADIUS_LIFE_MULTIP,oLife:e*n.ASTEROID_RADIUS_LIFE_MULTIP,acc:new a.Vector(0,0),opos:{x:t.x,y:t.y}}),u)},t.createAsteroidBelt=function(e,r,n,o,i,s,u,l,c,d){if(void 0===s&&(s=.05*Math.PI),void 0===u&&(u=40),void 0===l&&(l=280),void 0===c&&(c=180),void 0===d&&(d=1),d<1||d>2)throw"illeagal tightness @ createAsteroidBelt";var p=[],f=l-u,h=new a.Vector(0,0),v=new a.Vector(0,0),g=r,y=r,m=n,S=n,E=function(r,a,n,o,i,A,l,p){for(var f=[],x=0,T=0;T<i;T++){var _=T/i,I=(i-T)/i,M=u+e()*l*I;if(x+=M*d+1,h.setLength(x),h.setAngle(o+s*_*(T%2==0?1:-1)),n||h.mult(-1),h.addXY(r,a),h.x>y?y=h.x:h.x<g&&(g=h.x),h.y>S?S=h.y:h.y<m&&(m=h.y),f.push(t.createSingleAsteroid(M,h,{x:1,y:1})),A&&e()>.8){v.set(M,0),v.setAngle(o+(e()>.5?-1:1)*Math.PI*.5+s*(e()-.5)),h.add(v);var L=e()>.5;f.push.apply(f,E(h.x,h.y,L,v.getAngle()+.2*Math.PI*(e()-.5),Math.floor(.1*c*e()+1),!1,.5*l,p))}}return f};return p.push.apply(p,E(r,n,!0,i,c/5,!0,f,o)),p.push.apply(p,E(r,n,!1,i,c/5,!0,f,o)),{belt:{x:r,y:n,rect:new A.Rectangle(g,m,y-g,S-m),radius:Math.max(y-g,S-m),seedkey:0,type:13},asteroids:p}},t.test_createAsteroid=function(e,t,A,u,l,c){var d=o({isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:12,guid:r.getGuid(),pos:new a.Vector(t,A),radius:c,vel:new a.Vector(u,l),sides:Math.max(7,c/20),angle:0,angleVel:.01*(1-2*Math.random()),life:c*n.ASTEROID_RADIUS_LIFE_MULTIP},i.setImovableDefaults(s.BallCreator(t,A,c,Math.pow(c,3))));e.push(d)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wormhole=t.getAllAnomalies=void 0,t.getAllAnomalies=function(e){for(var t=n(e.anomlies),r=e.anomalyPairs.length,a=0;a<r;a++)t.push(e.anomalyPairs[a].in),t.push(e.anomalyPairs[a].out);return t},t.wormhole=function(e,t,r){void 0===r&&(r=!1);t.WW,t.WH;for(var a=t.game,n=a.anomalyPairs.length,o=0;o<n;o++){var i=a.anomalyPairs[o],s=i.in.pos.x,A=i.in.pos.y,u=i.out.pos.x,l=i.out.pos.y,c=s,d=A;if(r||e.pos.x<c+200&&e.pos.x>c-200&&e.pos.y<d+200&&e.pos.y>d-200)return e.vel.setAngle(Math.random()-.5),e.pos.x=u+200*(Math.random()-.5),e.pos.y=l+200*(Math.random()-.5),!0}return!1}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(233),r(234),r(235),r(56),r(241),r(40),r(35),r(242),r(85),r(124),r(244),r(40),r(50),r(130),r(245),r(69),r(131),r(246),r(68),r(132),r(92),r(36),r(126),r(91),r(281),r(5),r(138),r(122),r(116),r(282),r(47),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_,I,M,L,b,w,R,P,O,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDevProjectEngine=t.resize=t.init=void 0,t.init=function(e){r.init(e)},t.resize=function(e){r.resize(e)};var G=!1;t.setDevProjectEngine=function(){G=!0},t.default=function(e){var t=e.game;if(!G){var N=e.game.performance.engine=[];t.performance.totalEngine=p.MeasureTimeFn(function(){s.default(P.default,e,N,"engine"),s.default(f.default,e,N,"engine"),s.default(c.default,e,N,"engine"),s.default(R.default,e,N,"engine"),s.default(C.default,e,N,"engine"),s.default(n.default,e,N,"engine"),s.default(v.default,e,N,"engine"),s.default(w.default,e,N,"engine"),s.default(h.default,e,N,"engine"),s.default(T.default,e,N,"engine"),s.default(_.default,e,N,"engine"),s.default(I.default,e,N,"engine"),s.default(r.default,e,N,"engine"),s.default(a.default,e,N,"engine"),s.default(M.default,e,N,"engine"),s.default(i.default,e,N,"engine"),s.default(o.default,e,N,"engine"),s.default(y.default,e,N,"engine"),s.default(g.default,e,N,"engine"),s.default(S.SpaceSpiders,e,N,"engine"),s.default(A.default,e,N,"engine"),s.default(u.default,e,N,"engine"),s.default(l.default,e,N,"engine"),s.default(x.default,e,N,"engine"),s.default(E.default,e,N,"engine"),s.default(O.default,e,N,"engine"),s.default(m.default,e,N,"engine"),s.default(d.default,e,N,"engine"),b.default(e),t.performance.asteroids=t.asteroids.length,t.performance.particles=0,t.clock+=e.stepMS,window.trees=L.getQuadTreesObj()})}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(35),r(12),r(23),r(24)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForcelifeImpact=void 0;new r.Vector(0,0),new r.Vector(0,0);t.ForcelifeImpact=function(e,t){var r=Math.abs(t.x),a=Math.abs(t.y);if(r>5||a>5){var n=Math.max(r,a);i.DamageItem(e,.3*n,.01*n),e.stunned=!0}};t.default=function(e,t,r,a,n){void 0===a&&(a=1),void 0===n&&(n=1)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(2),r(7),r(5),r(48),r(14)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDust=t.GetSpaceDustTree=t.getSpaceDustTimings=void 0;new r.Vector(0,0),new r.Vector(0,0);var u=new r.Vector(0,0),l=!1,c=new s.QuadTreeInt32Point(new n.Rectangle(0,0,10,10),5,34),d=0,p=0,f=0,h=0,v=0,g={filtering:0,insertions:0,collisions:0,reset:0,update:0,numDust:0,onscreen:0,quadrantSize:0};t.getSpaceDustTimings=function(){return g.reset=h,g.update=v,g.collisions=f,g.insertions=p,g.filtering=d,g},t.GetSpaceDustTree=function(){return c};new r.Vector(0,0);t.default=function(e){var r=e.game,s=e.step,y=e.SW,m=e.SH,S=e.SX,E=e.SY;e.WW,e.WH;l=!l;var x=i.getQuadTreesObj();if(r.menuSettings.spacedust&&x&&x.Drones){var T=new n.Rectangle(S-800,E-800,y+1600,m+1600),_=new n.Rectangle(S,E,y,m),I=r.spaceDust;g.numDust=I.length;for(var M=A.getForce2Tree().queryInt(T),L=0;L<M.length;L++){var b=M[L];if(0!==b.type)for(var w=b.radius,R=Math.ceil(.01*w),P=0;P<R;P++)u.x=0,u.y=0,u.setLength(w*Math.random()),u.setAngle(9*Math.random()),t.createDust({x:b.pos.x+u.x,y:b.pos.y+u.y},1,1,e,Math.random()-.5,Math.random()-.5)}var O,C=I.length,G=[],N=_.x-600,B=_.y-600,F=_.width+1200,D=_.height+1200,V=new n.Rectangle(N,B,F,D),X=performance.now(),H=N+F,k=B+D;for(L=0;L<C;L++){var W=(ae=I[L]).pos.x,U=ae.pos.y;W>N&&U>B&&W<H&&U<k&&G.push(ae)}O=G.length,d=performance.now()-X;var Y=performance.now();c.reset();g.quadrantSize=50,c.setup(T,50,34,2),h=performance.now()-Y;var z=performance.now();for(L=0;L<O;L++)c.insert(G[L]);g.onscreen=O,p=performance.now()-z;var j=G,q=j.length,K=performance.now(),Z=o(x.Drones.queryInt(_),x.Npcs.queryInt(_),x.Enemies.queryInt(_),x.Player.queryInt(_),x.Rockets.queryInt(_),x.Asteroids.queryInt(_),x.SpacePortCannons.queryInt(_),x.SpaceSpiders.queryInt(_),x.RockFormations.queryInt(_),x.Destroyers.queryInt(_),x.AncientBlocks.queryInt(_)),Q=(performance.now(),Z.length),J=new n.Rectangle(0,0,0,0);for(L=0;L<Q;L++){var $=Z[L],ee=$.radius;if(39===$.type&&(ee=2*$.originalRadius),J.x=$.pos.x-ee,J.y=$.pos.y-ee,J.width=2*ee,J.height=2*ee,0===$.type||39===$.type){var te=(oe=c.queryVec($.pos,$.radius,$.radius)).length,re=0===$.type?3:.6;for(P=0;P<te;P+=2){var ae=oe[P];if(a.fine(3,$.comp[0].vertex,ae.pos)){var ne=Math.atan2($.pos.y-ae.pos.y,$.pos.x-ae.pos.x);ae.vel.setAngle(ne+Math.PI),ae.vel.setLength(re+Math.random())}}}else{var oe;for(te=(oe=c.queryCircle($.pos,$.radius)).length,P=0;P<te;P+=2){ae=oe[P],ne=Math.atan2($.pos.y-ae.pos.y,$.pos.x-ae.pos.x);ae.vel.setAngle(ne+Math.PI),ae.vel.setLength(1+Math.random())}}}f=performance.now()-K;var ie=performance.now();A.FastForce2CachedReversed(c,V);for(L=0;L<q;L++){var se=(ae=j[L]).vel,Ae=se.x*s,ue=se.y*s;ae.pos.x+=Ae,ae.pos.y+=ue,se.x*=.98,se.y*=.98}return v=performance.now()-ie,"spacedust"}};var y=0;t.createDust=function(e,t,a,n,o,i){void 0===o&&(o=0),void 0===i&&(i=0);for(var s=n.game.spaceDust,A=s.length>64e3?y:-1,l=0;l<t;l++){u.set(.5*a,0),u.setAngle(Math.random()*Math.PI*2);var c=u.x,d=u.y;if(A>=0){var p=s[A];p.pos.x=e.x+c,p.pos.y=e.y+d,p.vel.x=o,p.vel.y=i}else{var f={pos:new r.Vector(e.x+c,e.y+d),vel:new r.Vector(o,i),remove:!1};s.push(f)}A>=0&&++A>63999&&(A=0)}A>=0&&(y=A)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(283),r(284),r(40),r(40),r(286),r(140),r(291),r(292),r(50),r(35),r(21),r(293),r(131),r(89),r(15),r(294),r(295),r(92),r(85),r(56),r(68),r(132),r(69),r(123),r(10),r(65),r(130),r(296),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_,I,M,L,b,w,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDevProjectEngineClient=t.resize=void 0,t.resize=function(e){r.resize(e)};var P=!1;t.setDevProjectEngineClient=function(){P=!0},t.default=function(e){var t=e.game;if(!P){var v=M.default(e),O=e.game.performance.engineClient=[];t.performance.totalEngineClient=o.MeasureTimeFn(function(){n.default(l.default,e,O,"engineClient"),e.IS_MULTIPLAYER&&(n.default(u.default,e,O,"engineClient"),n.default(E.default,e,O,"engineClient"),n.default(c.default,e,O,"engineClient"),n.default(R.default,e,O,"engineClient"),n.default(S.default,e,O,"engineClient"),n.default(x.SpaceSpiders,e,O,"engineClient"),n.default(_.default,e,O,"engineClient"),n.default(f.default,e,O,"engineClient"),n.default(T.default,e,O,"engineClient"),n.default(b.default,e,O,"engineClient"),n.default(function(e){return L.default(e),"proximitydetection"},e,O,"engineClient"),v&&I.default(e,v)),n.default(i.default,e,O,"engineClient"),n.default(A.default,e,O,"engineClient"),n.default(r.default,e,O,"engineClient"),n.default(a.default,e,O,"engineClient"),n.default(d.default,e,O,"engineClient"),n.default(s.default,e,O,"engineClient"),n.default(p.default,e,O,"engineClient"),n.default(h.default,e,O,"engineClient"),n.default(g.default,e,O,"engineClient"),n.default(y.default,e,O,"engineClient"),n.default(w.default,e,O,"engineClient"),e.IS_MULTIPLAYER&&(n.default(m.default,e,O,"engineClient"),t.clock+=e.stepMS)})}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PredatorLike=t.ShipLike=t.isProjectile=t.TypesToString=void 0,t.TypesToString=function(e){switch(e){case 39:return"SHIP";case 4:return"BULLET";case 9:return"MISSILE";case 8:return"ROCKET";case 42:return"ENEMY BULLET";case 6:return"SPACEPORT BULLET";case 24:return"PARTICLE";case 18:return"SPACE SQUID";case 25:return"SNAKE SEGMENT";case 17:return"SNAKE";case 19:return"SPIDER";case 12:return"ASTEROID";case 21:return"ROCKFORMATION";case 11:return"SPACEPORT";case 20:return"SPACEPORT CANNON";case 1:return"ENEMY SHIP";case 43:return"DRONE";case 2:return"NPC";case 35:return"PROXIMITY MINE";case 36:return"SPACE MINE";case 37:return"SPACE TURRET";case 16:return"RF SYS RADIUS";case 3:return"CHARGE";case 0:return"DESTROYER";case 29:return"ANOMALY";case 31:return"BLACK HOLE";case 30:return"WHITE HOLE";case 32:return"SPACEFOG FIRE";case 33:return"SPACEFOG REG.";case 22:return"ANCIENT BLOCK";case 15:return"ANCIENT";case 13:return"ASTEROID BELT";default:return"UNKNOWN:"+e}},t.isProjectile=function(e){switch(e){case 4:case 42:case 6:case 8:case 9:return!0}return!1},t.ShipLike=function(e){switch(e){case 39:case 1:case 43:case 2:case 0:return!0}return!1},t.PredatorLike=function(e){switch(e){case 18:case 19:case 17:case 25:return!0}return!1}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(35)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DamageItem=void 0,t.DamageItem=function(e,t,a){if(void 0===a&&(a=0),25===e.type){var n=r.getSpacesnakeFromSegment(e.guid);n.life-=n.life*a,n.life-=t,n.life<1&&n.segments.forEach(function(e){return e.remove=!0})}else e.life-=e.life*a,e.life-=t,e.life<1&&(e.remove=!0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(72),r(160)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ballUpdater=t.BallCreator=void 0,t.BallCreator=function(e,t,n,i){return o({},r.RigidBodyCreatorBase(0,i,[a.CircleCreator(e,t,n)],e,t))},t.ballUpdater=function(e,t){r.bodyUpdater(e),e.pos.set(e.pos.x+e.vel.x*t,e.pos.y+e.vel.y*t),e.comp[0].pos=e.pos}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(147),r(150),r(40),r(152),r(153),r(154),r(155),r(101),r(156),r(157),r(158),r(74),r(102),r(102),r(159),r(162),r(105),r(106),r(166),r(167),r(113),r(198),r(40),r(199),r(12),r(200),r(201),r(202),r(203),r(115),r(204),r(206),r(207),r(208),r(209),r(210),r(211),r(90),r(212),r(80),r(213),r(214),r(111),r(215),r(4),r(12),r(216),r(217),r(218),r(219),r(220),r(221),r(222),r(223),r(224),r(226),r(227),r(119),r(228),r(229),r(230),r(231),r(232)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_,I,M,L,b,w,R,P,O,C,G,N,B,F,D,V,X,H,k,W,U,Y,z,j,q,K,Z,Q,J,$,ee,te,re,ae,ne,oe,ie,se,Ae,ue,le){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDevProjectGui=void 0;var ce=[f.default,se.default,S.default,A.default,l.default,W.default,k.default,L.default,w.default,r.default,V.default,u.default,a.default,h.distortionBracketEnd,ee.default,i.default,C.default,K.default,q.default,Q.default,$.default,m.default,J.default,g.default,R.default,y.default,ie.default,Z.default,D.default,s.default,X.default,x.default,Ae.default,N.default,F.default,re.default,G.default,ae.default,H.default,U.default,O.default,v.default,b.default,o.default,I.default,d.default,c.default,P.default,B.default,p.default,E.default,M.default,Y.default,te.default,ne.default,ue.default,le.default,oe.default];t.setDevProjectGui=function(){ce=[ee.default,r.default,M.default]};t.default=function(e){var t=e.game,r=t.performance.gui=[];[];t.performance.totalGui=_.MeasureTimeFn(function(){for(var t=0;t<ce.length;t++)n.default(ce[t],e,r,"gui")}),T.default(e)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(2),r(6),r(11),r(5),r(7)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenericAvoidance=void 0;function u(e,t){var r,a,n,o,i,s,A,u=[],l={x:0,y:0},c={x:0,y:0};return l.x=t.p2.x-t.p1.x,l.y=t.p2.y-t.p1.y,c.x=t.p1.x-e.pos.x,c.y=t.p1.y-e.pos.y,r=l.x*c.x+l.y*c.y,a=2*(l.x*l.x+l.y*l.y),r*=-2,n=Math.sqrt(r*r-2*a*(c.x*c.x+c.y*c.y-e.radius*e.radius)),isNaN(n)?u:(i=(r+n)/a,s={},A={},(o=(r-n)/a)<=1&&o>=0&&(s.x=t.p1.x+l.x*o,s.y=t.p1.y+l.y*o,u[0]=s),i<=1&&i>=0&&(A.x=t.p1.x+l.x*i,A.y=t.p1.y+l.y*i,u[u.length]=A),u)}var l=function(e,t,r){for(var n=null,o=0,i=0,s=Number.MAX_VALUE,A=0;A<t.length;A++){var l=t[A],c=u(l,{p1:e.pos,p2:r});if(c.length)if(c.length>1){var d=a.distanceBetweenXYXY(e.pos.x,e.pos.y,c[0].x,c[0].y),p=a.distanceBetweenXYXY(e.pos.x,e.pos.y,c[1].x,c[1].y);d<s&&(s=d,n=l,o=c[0].x,i=c[0].y),p<s&&(s=p,n=l,o=c[0].x,i=c[0].y)}else{var f=a.distanceBetweenXYXY(e.pos.x,e.pos.y,c[0].x,c[0].y);f<s&&(s=f,n=l,o=c[0].x,i=c[0].y)}}return{item:n,x:o,y:i}},c=[{angle:0,dist:1},{angle:.01,dist:.7},{angle:-.01,dist:.7},{angle:.15,dist:.5},{angle:-.15,dist:.5}],d=new r.Vector(0,0),p=new r.Vector(0,0),f=new r.Vector(0,0);t.getGenericAvoidance=function(e,t,r,a){t.SX,t.SY,t.SW,t.SH;if(i.onStage(t,e,3*e.radius)){var n=s.getQuadTreesObj();if(!n.Asteroids)return[];for(var u=new A.Rectangle(e.pos.x-400,e.pos.y-400,800,800),l=o(n.Asteroids.queryInt(u)),c=0;c<r.length;c++)l.push.apply(l,r[c].queryInt(u));return l.push.apply(l,a),l}return[]},t.default=function(e,t,r,o){if(void 0===o&&(o=1),d.x=0,d.y=0,0===r.length||e.vel.getLength()<o)return{avoidance:d,avoidanceAngle:0};p.x=0,p.y=0;for(var i=null,s=-1,A=0,u=0;u<c.length;u++){p.x=0,p.y=0,p.setLength(500*c[u].dist),n.rotateVector(p,t+Math.PI*c[u].angle,p),p.add(e.pos);var h=l(e,r,p);if(i){s<0&&(s=a.distanceBetweenXYXY(e.pos.x,e.pos.y,i.x,i.y)/c[u].dist);var v=a.distanceBetweenXYXY(e.pos.x,e.pos.y,h.x,h.y)/c[u].dist;v<s&&(s=v,i=h,A=c[u].angle)}else i=h,A=c[u].angle}var g=i.item,y=i.x,m=i.y;if(f.x=0,f.y=0,null==g)return{avoidance:d,avoidanceAngle:0};var S=Math.atan2(g.pos.y-e.pos.y,g.pos.x-e.pos.x),E=Math.atan2(m-e.pos.y,y-e.pos.x);f.setLength(g.radius+1.5*e.radius);var x=0;return A<0||0===A&&S<E?x=E+.5*Math.PI-Math.PI*A:(x=E-.5*Math.PI-Math.PI*A,1),(f=n.rotateVector(f,x)).add(g.pos),d.setLength(.1),(d=n.rotateVector(d,x)).getLength()>2&&d.setLength(2),{avoidance:d,avoidanceAngle:A,data:{force:{x:e.pos.x+50*d.x,y:e.pos.y+50*d.y},radius:{x:f.x,y:f.y},threat:g,closest:{x:y,y:m}}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(46)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlowCustomLayout=t.Glow=void 0,t.Glow=function(e,t,i,s,A,u,l,c){var d=s.game,p=s.gl,f=(s.SH,s.SW),h=s.SX,v=s.SY,g=d.resW/f,y=t>4?t:1e3*t*g;if(o.onStage(s,e.x,e.y,y)){i=[];var m=e.x-h,S=e.y-v;if(r.fillPolyForFan(f,m,S,y,y,i,-.5*y,-.5*y),i.length>0){a.default(n.GLctx.VerticesGradient,p);var E=n.GLUniformLocation(p,"u_pos_x"),x=n.GLUniformLocation(p,"u_pos_y");p.uniform1f(E,m),p.uniform1f(x,S);var T=n.GLUniformLocation(p,"u_perimiter");p.uniform1f(T,y),r.drawColor(i,p,A,u,l,c)}}},t.GlowCustomLayout=function(e,t,i,s,A,u,l,c,d){void 0===d&&(d=s.gl.TRIANGLES);var p=s.game,f=s.gl,h=(s.SH,s.SW),v=s.SX,g=s.SY,y=p.resW/h,m=t>4?t:1e3*t*y;if(o.onStage(s,e.x,e.y,m)){var S=e.x-v,E=e.y-g;a.default(n.GLctx.VerticesGradient,f);var x=n.GLUniformLocation(f,"u_pos_x"),T=n.GLUniformLocation(f,"u_pos_y");f.uniform1f(x,S),f.uniform1f(T,E);var _=n.GLUniformLocation(f,"u_perimiter");f.uniform1f(_,m),r.drawColor(i,f,A,u,l,c,d)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a,n){for(var o=e.length,i=0;i<o;i++){var s=e[i];s.pos.x=Math.random()*a+t,s.pos.y=Math.random()*n+r}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_EVENT=void 0,function(e){e[e.EXPLOSION=0]="EXPLOSION",e[e.SPACE_BULLET=1]="SPACE_BULLET",e[e.SPACE_BULLET_IMPACT=2]="SPACE_BULLET_IMPACT",e[e.MENU_SELECT=3]="MENU_SELECT",e[e.START_GAME=4]="START_GAME",e[e.RESUME_GAME=5]="RESUME_GAME",e[e.PAUSE_GAME=6]="PAUSE_GAME",e[e.NPC_FRIENDLY_FIRE=7]="NPC_FRIENDLY_FIRE",e[e.PLAYER_DAMAGE=8]="PLAYER_DAMAGE",e[e.PLAYER_DAMAGE_LEVEL_CRITICAL=9]="PLAYER_DAMAGE_LEVEL_CRITICAL",e[e.PLAYER_DAMAGE_LEVEL_OK=10]="PLAYER_DAMAGE_LEVEL_OK",e[e.PLAYER_DEAD=11]="PLAYER_DEAD",e[e.ENEMIES_NEARBY=12]="ENEMIES_NEARBY",e[e.TIME_SCALE_CHANGED=13]="TIME_SCALE_CHANGED"}(t.GAME_EVENT||(t.GAME_EVENT={}))}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(35),r(1),r(2),r(82),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,u,l,c,d,p){void 0===c&&(c=-1);for(var f=e.WW,h=e.WH,v=[],g=0;g<t;g++){for(var y=[],m=u&&l?new a.Vector(u,l):new a.Vector(f*Math.random(),h*Math.random()),S=8,E=c>0?c:Math.round(6+26*Math.random()),x=0,T={prioritzeRestpos:!1,type:17,level:0,infected:i.InfectionRate(),size:E,guid:n.getGuid(),segments:y,attackMode:!1,life:20*E,restPos:new a.Vector(d?d.x:.8*f*Math.random()+.1*f,d?d.y:.8*h*Math.random()+.1*h)},_=0;_<E;_++){var I=m.clone();I.x+=x,x+=S;var M=o(o({sides:16,angle:0,offsetFront:new a.Vector(0,-S),offsetRear:new a.Vector(0,S),radius:S,type:25,guid:n.getGuid(),vel:new a.Vector(1.6,1.6),life:5*S,legAngle:.12*_,legAngleDirectionForward:!1},s.setImovableDefaults(A.BallCreator(I.x,I.y,S,Math.pow(S,3)))),p);y.push(M),S++}r.populateSpaceSnakeSegmentHash(T),v.push(T)}return v}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(109),r(108),r(2),r(82),r(13),r(25)],void 0===(n=function(e,t,r,a,n,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e,t,o,i){for(var s={arm:[],target:new r.Vector(200*(Math.random()-.5),200*(Math.random()-.5)),searchTime:0,searchTimeMax:800,reach:0,angle:o,swimIn:!1,swimAngle:0,glowIndex:0},A=e,u=0;u<i;u++){var l=1.25*i-u,c=1.15*i-.5*u;s.reach+=c;var d=Math.max(0,Math.min(.1*Math.PI,.4*Math.sin(.2*u-.5))),p=.7-.02*u;s.arm.push(new a.MuscleSegment(l,new n.Muscle(c*p,c),new n.Muscle(c*p,c),A,t,o,d)),A+=c}return s},d=function(e,t,a){void 0===t&&(t=6),void 0===a&&(a=0);var n=[],o=[.5,.6,.85,1,.98,.87,.56,.52],i=(Math.PI,[1.2,-1.2,1,1.2,-1.2,1,1.2,-1.2]),s=[.7,1,1,1,1,1,1,.7],A=new r.Vector(-e,0);t=8;for(var u=0;u<t;u++){var l=i[u];A.x=.8*e*.75*l*s[u],A.y=0,u<.5*t?A.setAngle(-1.2+Math.PI+.1*(l-1.1)):A.setAngle(1.2+Math.PI+.1*(l+1));var d=A.x,p=A.y;n.push(c(d,p,Math.PI*i[u],Math.ceil(o[u]*e*.25)))}return n};t.default=function(e,t,a,n,c,p,f){for(var h=e.WW,v=e.WH,g=[],y=0;y<t;y++){var m=Math.PI,S=c||80*Math.random()+80,E=o(o(o({},u.setImovableDefaults(l.BallCreator(a||h*Math.random(),n||v*Math.random(),S,Math.pow(S,3)))),{mass:Math.pow(S,3),prioritzeRestpos:!1,debugX:0,debugY:0,level:0,infected:A.InfectionRate(),netpos:{x:0,y:0},netvel:{x:0,y:0},netangle:0,restPos:new r.Vector(p?p.x:.8*h*Math.random()+.1*h,p?p.y:.8*v*Math.random()+.1*v),tentacles:i(d(S,6,Math.PI)),vel:new r.Vector(0,0),radius:S,life:1e3,type:18,guid:s.getGuid(),angle:m,mode:0}),f);g.push(E)}return g}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(16),r(3),r(12),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(184),r(7)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.resetGuidHashNetwork=t.writeGH=t.readFromGH=t.GUIDHASH=void 0,t.GUIDHASH=((g={})[12]={},g[18]={},g[17]={},g[19]={},g[11]={},g[21]={},g[28]={},g[8]={},g[9]={},g[39]={},g[1]={},g[43]={},g[20]={},g);var y={};for(var m in t.GUIDHASH)y[m]={};t.readFromGH=function(e,r){return y[e][r]=100,t.GUIDHASH[e][r]},t.writeGH=function(e,r,a){y[e][r]=100,t.GUIDHASH[e][r]=a};t.resetGuidHashNetwork=function(){for(var e in t.GUIDHASH)t.GUIDHASH[e]={}};t.default=function(e,a,g,y){n.STEP_MULTIP,a.game.playerGuidHash[a.game.playerGuid];a.WW=g.WW=e.WW,a.WH=g.WH=e.WH,g.game.asteroids=u.clientCreateAsteroids(e),g.game.parasites=l.clientCreateParasites(e),g.game.spaceSnake=c.clientCreateSnakes(e,a),g.game.rockFormations=d.clientCreateRocks(e),g.game.spaceSquids=p.clientCreateSquids(e,a),g.game.spacePorts=f.clientCreateSpaceports(e,a),g.game.spaceSpiders=A.clientCreateSpiders(e,a);var m=function(e,t){for(var r=0;r<e.length;r++){var a=e[r];if(a.guid===t)return a}}(g.game.player,g.game.playerGuid);if(m&&m.closestItem){var S=m.closestItem.guid;for(var E in t.GUIDHASH)if(t.GUIDHASH[E][S]){m.closestItem=t.GUIDHASH[E][S],a.keyCodes.ELECTROBASTARDRAY&&m.availableElectroBastardRays?m.closestItem.stunned=!0:m.closestItem.stunned=!1;break}}g.game.player=h.clientCreateShips(e,a,39),i.LOG_GL_FIXED(g.game.player.length,"NTGC len"),g.game.enemies=h.clientCreateShips(e,a,1),g.game.drones=h.clientCreateShips(e,a,43),g.game.bullets=e.game.bullets,g.game.rockets=o(s.clientCreateRockets(e)),g.game.anomlies=e.game.anomalies,g.game.playerPositions=e.game.playerPositions,g.game.charges=e.game.charges,function(e){for(var t=0;t<e.length;t++){var a=e[t];a.pos=new r.Vector(a.pos.x,a.pos.y),a.vel=new r.Vector(a.vel.x,a.vel.y)}}(g.game.charges),g.game.networkDebugRect=new v.Rectangle(e.game.rd_x,e.game.rd_y,e.game.rd_w,e.game.rd_h),i.LOG_GL_FIXED((0|e.game.rd_x)+","+(0|e.game.rd_y)+","+(0|e.game.rd_w)+","+(0|e.game.rd_h),"RDB"),i.LOG_GL_FIXED((0|e.SX)+", "+(0|e.SY),"RDSXSY")}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineInterceptCircleToPositions=t.LineInterceptCircle=t.LineIntersectsToPoint=t.LineIntersects=void 0,t.LineIntersects=function(e,t,r,a,n,o,i,s){var A,u,l;return 0!==(A=(r-e)*(s-o)-(i-n)*(a-t))&&(u=((t-a)*(i-e)+(r-e)*(s-t))/A,0<(l=((s-o)*(i-e)+(n-i)*(s-t))/A)&&l<1&&0<u&&u<1)},t.LineIntersectsToPoint=function(e,t,r,a,n,o,i,s){var A;if(e===r&&t===a||n===i&&o===s)return null;if(0===(A=(s-o)*(r-e)-(i-n)*(a-t)))return null;var u=((i-n)*(t-o)-(s-o)*(e-n))/A,l=((r-e)*(t-o)-(a-t)*(e-n))/A;return u<0||u>1||l<0||l>1?null:{x:e+u*(r-e),y:t+u*(a-t)}},t.LineInterceptCircle=function(e,t,r,a){var n=t.x-e.x,o=t.y-e.y,i=((r.x-e.x)*n+(r.y-e.y)*o)/(o*o+n*n);return(i>=0&&i<=1?Math.pow(e.x+n*i-r.x,2)+Math.pow(e.y+o*i-r.y,2):i<0?Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2):Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))<a*a};var a=function(e){return e<0?-1:1};t.LineInterceptCircleToPositions=function(e,t,n,o){var i=e.clone().subtract(n),s=t.clone().subtract(n),A=s.clone().subtract(i),u=A.mag(),l=i.x*s.y-s.x*i.y,c=o*o*u*u-l*l;if(c<0)return[];var d=Math.sqrt(c),p=[];return p.push(new r.Vector(l*A.y+a(A.y)*A.x*d,-l*A.x+Math.abs(A.y)*d).div(u*u).add(n)),c>0&&p.push(new r.Vector(l*A.y-a(A.y)*A.x*d,-l*A.x-Math.abs(A.y)*d).div(u*u).add(n)),p}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(2),r(6),r(20),r(11),r(16),r(18),r(41),r(2),r(53),r(23),r(41),r(5),r(13),r(54),r(24),r(21)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d,p,f,h,v,g,y,m,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPartsFromSpaceSnake=t.snakeIK=t.populateSpaceSnakeSegmentHash=t.resetSpaceSnakeSegmentHash=t.getSpacesnakeFromSegment=void 0;var E=0,x=new r.Vector(.04,.04),T={};t.getSpacesnakeFromSegment=function(e){return T[e]},t.resetSpaceSnakeSegmentHash=function(){T={}},t.populateSpaceSnakeSegmentHash=function(e){for(var t=0;t<e.segments.length;t++){var r=e.segments[t];T[r.guid]=e}},t.default=function(e){var o=e.game,A=e.WW,d=e.WH,p=e.SW,g=(e.SH,e.SX,e.SY,e.step),S=e.stepMS;if(v.getQuadTreesObj().Asteroids&&!o.settings_be_the_snake_mode){for(var T=h.getBaseTargetArrays(e),I=e.game.spaceSnake,M=I.length,L=0;L<M;L++){var b=I[L];if(b.remove)b.segments.forEach(function(e){return e.remove=!0});else{for(var w=b.segments[b.attackMode?0:b.segments.length-1],R=!1,P=0;P<b.segments.length;P++){var O=b.segments[P];O.stunned&&(R=!0,O.stunned=!1)}if(R||b.spasm){var C=Math.floor(.5*b.segments.length),G=b.segments.length-1,N=b.segments[C],B=b.segments[0],F=b.segments[G];if(!b.spasm){B.vel.set(0,0),F.vel.set(0,0);var D=new r.Vector(0,N.radius*C);D.setAngle(B.angle+.83*Math.PI),D.add(B.pos);var V=new r.Vector(0,N.radius*C);V.setAngle(F.angle+.83*Math.PI),V.add(F.pos),b.spasm={firstPos:D,lastPos:V,firstDone:!1,lastDone:!1,firstMS:0,lastMS:0};var X=Math.atan2(b.spasm.lastPos.y-B.pos.y,b.spasm.lastPos.x-B.pos.x);B.vel.addXY(25,25),B.vel.setAngle(X)}var H=new r.Vector(.5,.5);if(b.spasm.firstDone){b.spasm.lastMS+=S;W=Math.atan2(b.spasm.firstPos.y-F.pos.y,b.spasm.firstPos.x-F.pos.x);H.setAngle(W),F.vel.subtract(H),F.vel.getLength()<3&&F.vel.setLength(3),F.angle=W,t.snakeIK(b.segments,g,!0,0),u.default(F,g),b.spasm.lastMS>100&&(b.spasm=null)}else{b.spasm.firstMS+=S;X=Math.atan2(b.spasm.lastPos.y-B.pos.y,b.spasm.lastPos.x-B.pos.x);H.setAngle(X),B.vel.subtract(H),B.vel.getLength()<3&&B.vel.setLength(3);var k=i(b.segments).reverse();if(t.snakeIK(k,g,!0,0),u.default(B,g),b.spasm.firstMS>100){b.spasm.firstDone=!0;var W=Math.atan2(b.spasm.firstPos.y-F.pos.y,b.spasm.firstPos.x-F.pos.x);F.vel.set(25,25),F.vel.setAngle(W)}}}else{var U=b.segments[b.segments.length-1],Y=c.default(b,U.pos,U.radius,130*b.segments.length,T),z=Y.targetPos,j=a.distanceBetweenVectors(w.pos,Y.targetPos),q=Math.atan2(Y.targetPos.y-w.pos.y,Y.targetPos.x-w.pos.x);if(j>.1*p){var K=Y.targetPos.clone(),Z=new r.Vector(j,0),Q=n.rotateVector(Z,q+E);Q.setLength(.3*j),E+=.1,K.add(Q),z=K}if(j>350&&((z=z.clone()).x+=150*(Math.random()-.5),z.y+=150*(Math.random()-.5)),Y.targetIsIM){var J=Y.target;j<2*J.radius&&!b.attackMode&&(b.attackMode=!0,b.segments=b.segments.reverse()),j>3*J.radius&&b.attackMode&&(b.attackMode=!1,b.segments=b.segments.reverse()),j<2*J.radius&&b.attackMode&&(m.DamageItem(J,1+.3*b.level),f.ShipLike(Y.target.type)&&(Y.target.damageTaken=!0),y.PredatorLevelUpgrade(b,Y.target))}else b.attackMode&&(b.attackMode=!1,b.segments=b.segments.reverse());var $=b.segments[b.segments.length-1];q=Math.atan2(z.y-$.pos.y,z.x-$.pos.x);w.angle=q,$.offsetFront.setAngle(q),$.offsetRear.setAngle(q-Math.PI);var ee=$.vel.getLength();t.snakeIK(b.segments,g,R,ee<1?.03:.4),s.default(o,$,!0),l.wormhole($,e),$.vel.add(x),$.vel.setAngle(q),b.attackMode?($.vel.mult(1.3),$.vel.getLength()>18&&$.vel.setLength(18)):($.vel.mult(1.05),ee>4&&$.vel.setLength(4)),u.default($,b.infected?.1*g:g),_(b,A,d)}}}return"spacesnakes"}};var _=function(e,t,r){for(var a=e.segments,n=a.length,o=0;o<n;o++){var i=a[o];if(A.shift(i,t,r,50,50)){I(i.pos,a);break}}},I=function(e,t){for(var r=t.length,a=0;a<r;a++){var n=t[a];n.pos.x=e.x,n.pos.y=e.y}};function M(e,t){var r=2*e.radius,a=e.pos.x-t.pos.x,n=e.pos.y-t.pos.y,o=Math.atan2(n,a);e.pos.x=t.pos.x+Math.cos(o)*r,e.pos.y=t.pos.y+Math.sin(o)*r,e.angle=o,e.offsetFront.setAngle(o),e.offsetRear.setAngle(o-Math.PI)}t.snakeIK=function(e,t,r,a){for(var n=e.length-1;n>0;n--){var o=e[n];r?o.legAngle=0:o.legAngleDirectionForward?(o.legAngle+=.13*t*a,o.legAngle>.6&&(o.legAngleDirectionForward=!1)):(o.legAngle-=.26*t*a,o.legAngle<-.6&&(o.legAngleDirectionForward=!0)),M(e[n-1],o)}},t.createPartsFromSpaceSnake=function(e,t){for(var a=t.segments,n=a.length,i=0;i<n;i++){var s=a[i];if(p.default(s,e,0),i>0){var A=a[i-1],u=d.midpoint(s.pos,A.pos,.5),l=s.pos.clone(),c=A.pos.clone();l.subtract(u),c.subtract(u);var f=o(o({},g.setImovableDefaults(null)),{fromType:s.type,edgeA:l,edgeB:c,rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:u,angle:0,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:26,life:100+50*Math.random(),radius:.2*s.radius,width:.1*s.radius}),h=o(o({},g.setImovableDefaults(null)),{fromType:s.type,edgeA:l.clone(),edgeB:new r.Vector(0,0),rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:u.clone(),angle:.5*Math.PI+.1*s.legAngle,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:26,life:100+50*Math.random(),radius:.1*s.radius,width:.1*s.radius}),v=o(o({},g.setImovableDefaults(null)),{fromType:s.type,edgeA:l.clone(),edgeB:new r.Vector(0,0),rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:u.clone(),angle:-.5*Math.PI+.1*s.legAngle,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:26,life:100+50*Math.random(),radius:.1*s.radius,width:.1*s.radius});S.createDust(u,5,5,e),S.createDust(f.pos,4,4,e),S.createDust(h.pos,6,6,e),S.createDust(v.pos,6,6,e),e.game.asteroidParts.push(f),e.game.asteroidParts.push(h),e.game.asteroidParts.push(v)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(16),r(20),r(2),r(6),r(5),r(34),r(78),r(2),r(24),r(13),r(25),r(14)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d,p,f,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProximityMine=t.createProximityMineFromShip=t.rayIntersections=t.PROXIMITY_MINE_RAY_LENGTH=void 0,t.PROXIMITY_MINE_RAY_LENGTH=1400;var g=new r.Vector(t.PROXIMITY_MINE_RAY_LENGTH,0),y=new r.Vector(1.5,0),m=new r.Vector(0,0);t.rayIntersections=function(e,r,a,n){var o=u.getQuadTreesObj(),s=t.PROXIMITY_MINE_RAY_LENGTH;m.set(r.x,r.y);var A=_(i(o.Asteroids.queryRay(e,r),o.RockFormations.queryRay(e,r),o.AncientBlocks.queryRay(e,r),o.SpacePortCannons.queryRay(e,r)),e,r,s);s=A.closestDist;var l=x(i(o.SpaceSpiders.queryRay(e,r),o.SpaceSquid.queryRay(e,r),o.SpaceSnakes.queryRay(e,r),o.SpaceMines.queryRay(e,r),o.SpaceTurret.queryRay(e,r)),e,r,s,a);s=l.closestDist;var c=T(i(o.Player.queryRay(e,r),o.Drones.queryRay(e,r),o.Enemies.queryRay(e,r),o.Npcs.queryRay(e,r),o.Destroyers.queryRay(e,r)),e,r,s,n);s=c.closestDist;var d=I(o.ProximityMines.queryRay(e,r),e,r,s,n);return s=d.closestDist,d.target?d:c.target?c:l.target?l:A};new r.Vector(0,0);var S=new r.Vector(0,0),E=new r.Vector(0,0),x=function(e,t,r,a,n){for(var o=e.length,i=(r.x,r.y,0);i<o;i++){var s=e[i];if(l.LineInterceptCircle(t,r,s.pos,s.radius))if(d.distanceBetweenVectors(t,s.pos)-s.radius<a){S.set(t.x,t.y),E.set(r.x,r.y);var A=l.LineInterceptCircleToPositions(S,E,s.pos,s.radius);A[0].x,A[0].y}}return{pos:g,target:null,closestDist:a}},T=function(e,t,r,a,n){for(var o=e.length,i=r.x,A=r.y,u=null,c=!1,d=0;d<o;d++){var p=e[d];if(p.guid!==n)for(var f=p.comp[0].vertex,h=[f[0].x,f[0].y,f[1].x,f[1].y,f[0].x,f[0].y,f[2].x,f[2].y,f[1].x,f[1].y,f[2].x,f[2].y],v=h.length,y=0;y<v;y+=4){var m=l.LineIntersectsToPoint(t.x,t.y,r.x,r.y,h[y],h[y+1],h[y+2],h[y+3]);if(m){var S=s.distanceBetweenXYXY(m.x,m.y,t.x,t.y);S<a&&(a=S,i=m.x,A=m.y,c=!0,u=p)}}}return{pos:c?{x:i,y:A}:g,target:u,closestDist:a}},_=function(e,t,r,a){for(var n=e.length,o=Number.MAX_VALUE,i=Number.MAX_VALUE,A=null,u=!1,d=0;d<n;d++){var p=e[d];if(12===p.type||21===p.type||20===p.type||22===p.type){var f=[];c.blockCirclePolyForRayCaster2(p.sides,p.radius,p.pos.x,p.pos.y,p.angle,f,-1,0,0,t.x,t.y);for(var h=f.length,v=0;v<h;v+=4){var y=l.LineIntersectsToPoint(t.x,t.y,r.x,r.y,f[v],f[v+1],f[v+2],f[v+3]);if(y){var m=s.distanceBetweenXYXY(y.x,y.y,t.x,t.y);m<a&&(a=m,o=y.x,i=y.y,u=!0,A=p)}}}}return{pos:u?{x:o,y:i}:g,target:A,closestDist:a}},I=function(e,t,r,a,n){for(var o=e.length,i=Number.MAX_VALUE,A=Number.MAX_VALUE,u=null,d=!1,p=0;p<o;p++){var f=e[p];if(f.guid!==n){var h=[];c.blockCirclePolyForRayCaster2(6,f.radius,f.pos.x,f.pos.y,0,h,-1,0,0,t.x,t.y);for(var v=h.length,y=0;y<v;y+=4){var m=l.LineIntersectsToPoint(t.x,t.y,r.x,r.y,h[y],h[y+1],h[y+2],h[y+3]);if(m){var S=s.distanceBetweenXYXY(m.x,m.y,t.x,t.y);S<a&&(a=S,i=m.x,A=m.y,d=!0,u=f)}}}}return{pos:d?{x:i,y:A}:g,target:u,closestDist:a}},M=new r.Vector(0,0),L=new r.Vector(0,0),b=!1,w={};t.default=function(e){var r=e.game,o=(e.WW,e.WH,e.step),i=e.stepMS;w={};var u=r.proximityMines.length,l=0,c=!1;if(b){var f=0;for(var h in w)w[h]>f&&(f=w[h],l=parseInt(h,10))}for(var m=0;m<u;m++){var S=r.proximityMines[m];u>80&&!c&&(b&&S.guid===l&&(S.remove=!0,c=!0),w[S.guid]?w[S.guid]++:w[S.guid]=1,b=!0,0===m&&(S.remove=!0)),S.vel.mult(.97),S.vel.getLength()>6&&S.vel.setLength(6),S.target=null,S.intersectAaquired=!1,S.intersectBaquired=!1;var E=S.pos;g.set(t.PROXIMITY_MINE_RAY_LENGTH,0),g.setAngle(S.rayAngleA),g.add(E);var x=t.rayIntersections(E,g,S.rayAngleA,S.guid);S.intersectA.x=x.pos.x,S.intersectA.y=x.pos.y,x.target&&(S.target=x.target,S.intersectAaquired=!0),g.set(t.PROXIMITY_MINE_RAY_LENGTH,0),g.setAngle(S.rayAngleB),g.add(E);var T=t.rayIntersections(E,g,S.rayAngleB,S.guid);if(S.intersectB.x=T.pos.x,S.intersectB.y=T.pos.y,T.target&&(S.intersectBaquired=!0),!S.target&&T.target&&(S.target=T.target),S.target){var _=S.target.type;if(S.target.guid===S.ownerGuid||2===_||12===_||21===_||20===_||36===_||37===_||0===_||22===_||S.target.ownerGuid===S.ownerGuid)S.aquireMode=2,S.rayAngleA+=o*Math.PI*5e-4,S.rayAngleB+=o*Math.PI*5e-4;else{M.set(S.target.pos.x,S.target.pos.y),M.subtract(S.pos);var I=M.getAngle(),R=s.angleDifference(S.rayAngleA,I);S.rayAngleA-=.13*R,Math.abs(R)<.08&&(S.aquireTimer+=i,L.set(S.target.radius*(Math.random()-.5),0),L.setAngle(I+.5*Math.PI),L.add(M),S.rayAngleA=L.getAngle(),S.aquireMode=1);var P=s.angleDifference(S.rayAngleB,I);S.rayAngleB-=.13*P,Math.abs(P)<.08&&(S.aquireTimer+=i,L.set(S.target.radius*(Math.random()-.5),0),L.setAngle(I+.5*Math.PI),L.add(M),S.rayAngleB=L.getAngle(),S.aquireMode=1);var O=S.target;if(O&&!O.remove&&O.life>0){var C=Math.atan2(O.pos.y-S.pos.y,O.pos.x-S.pos.x),G=S.vel.getAngle();G=A.normalizeRadianAngle(G),G+=.5*A.angleDelta(G,C)*o,y.set(.4,0),y.setAngle(G),S.vel.add(y)}else S.aquireTimer=0;if(S.target&&S.aquireTimer>S.timerT&&d.distanceBetweenVectors(S.pos,S.target.pos)<S.target.radius+150&&(S.aquireTimer=S.timerT+1,S.remove=!0,v.addForceExplosion(r,S.pos.x,S.pos.y,250,4),S.target&&S.target.pos)){var N=d.distanceBetweenVectors(S.pos,S.target.pos),B=(t.PROXIMITY_MINE_RAY_LENGTH-N)/t.PROXIMITY_MINE_RAY_LENGTH;p.DamageItem(S.target,8,B),S.target.stunned=!0,S.target.life<0&&(S.target.remove=!0),S.target=null}}}else{S.aquireMode=0,S.aquireTimer=0;var F=s.angleDifference(S.rayAngleA,S.rayAngleB);Math.abs(F)<.9*Math.PI?(S.rayAngleA+=o*Math.PI*.009,S.rayAngleB+=o*Math.PI*.002):(S.rayAngleA+=o*Math.PI*.0033,S.rayAngleB=S.rayAngleA+Math.PI)}S.rayAngleA=A.normalizeRadianAngle(S.rayAngleA),S.rayAngleB=A.normalizeRadianAngle(S.rayAngleB),n.default(r,S,!0),a.default(S,o)}return"proximitymines"},t.createProximityMineFromShip=function(e,a){var n=e.vel.clone();n.mult(.85);var o=new r.Vector(e.pos.x+Math.cos(e.angle+Math.PI)*(e.radius+10),e.pos.y+Math.sin(e.angle+Math.PI)*(e.radius+10)),i=2*Math.PI*Math.random();a.game.proximityMines.push(t.createProximityMine(o,n,e.guid,e.type,i))},t.createProximityMine=function(e,t,r,a,n,i){return o(o(o({pos:e,vel:t,guid:s.getGuid(),life:100,radius:7,rayAngleA:n,rayAngleB:Math.PI+n,ownerGuid:r,ownerType:a,type:35},f.setImovableDefaults(h.BallCreator(e.x,e.y,7,7))),{target:null,aquireMode:0,aquireTimer:0,timerT:1200,intersectA:e.toPoint(),intersectB:e.toPoint(),intersectAaquired:!1,intersectBaquired:!1,origin:e.clone()}),i)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(168),r(38),r(107)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyMapperEvents=t.resetKeyCodes=t.inGameKeyCodes=t.Keys=void 0,t.Keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,MISSILE:77,FIRE:32,CHARGE:17,SPACETURRET:86,PROXIMITYMINE:78,SPACEMINE:66,ELECTROBASTARDRAY:90,TIMEFREEZE:67,BOOST:88,STRAFELEFT:65,STRAFERIGHT:83,BACKSPACE:8,TILDE:220,DELETE:46,RETURN:13,SHIFT:16,CAPSLOCK:20,ALT:18,HOME:35,END:36,ESCAPE:27,CLOAK:68,FLAMETHROWER:70,TRACELINE:84};var o={};for(var i in t.Keys)o[t.Keys[i]]&&console.error("duplicate key",t.Keys[i],i),o[t.Keys[i]]=i;var s=function(e,t,a){var i=c.keys,s=c.mode===r.KeyTypeMode.PLAYING?n.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t]:t,A=o[s],u=i[A];void 0!==u?(c.mode===r.KeyTypeMode.TYPEING&&(a?!0===u?i[A]=null:!1===u&&(i[A]=!0):i[A]=!1),c.mode===r.KeyTypeMode.PLAYING&&(i[A]=a)):c.charCodeString=a?e:null,l.currentKeyCode=a?s:-1,l.currentKeyString=a?e:null},A={keys:{TILDE:!1,BACKSPACE:!1,DELETE:!1,RETURN:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,HOME:!1,END:!1,ESCAPE:!1,SHIFT:!1,CAPSLOCK:!1,ALT:!1,ALTGR:!1,TRACELINE:!1},ignores:[t.Keys.SHIFT,t.Keys.CAPSLOCK,t.Keys.ALT],charCodeString:null,mode:r.KeyTypeMode.TYPEING},u={keys:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,RETURN:!1,ESCAPE:!1,BACKSPACE:!1},ignores:[],charCodeString:null,mode:r.KeyTypeMode.TYPEING};t.inGameKeyCodes={keys:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,MISSILE:!1,FIRE:!1,CHARGE:!1,PROXIMITYMINE:!1,SPACEMINE:!1,SPACETURRET:!1,ELECTROBASTARDRAY:!1,TIMEFREEZE:!1,BOOST:!1,STRAFELEFT:!1,STRAFERIGHT:!1,CLOAK:!1,FLAMETHROWER:!1,TRACELINE:!1},ignores:[],charCodeString:null,mode:r.KeyTypeMode.PLAYING};var l={game:t.inGameKeyCodes,menu:u,console:A,currentKeyCode:-1,currentKeyString:null},c=null;t.resetKeyCodes=function(e){return function(e,t,a){if(e&&(e.mode===r.KeyTypeMode.TYPEING||a)){for(var n in e.keys)e.keys[n]=t;e.charCodeString=null,l.currentKeyCode=-1,l.currentKeyString=null}}(c,e)},t.default=function(e){var r=null;switch(e.keyInput.target){case a.KeyInputType.CONSOLE:r=A;break;case a.KeyInputType.GAME:r=t.inGameKeyCodes;break;case a.KeyInputType.MENU:r=u}return r!==c&&(console.log("switched keyset to ",e.keyInput.target),c=r,s(null,l.currentKeyCode,!0)),l},t.addKeyMapperEvents=function(){window.addEventListener("keydown",function(e){s(e.key,e.keyCode,!0)}),window.addEventListener("keyup",function(e){s(e.key,e.keyCode,!1)})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StateMachine=t.defaultGameState=t.KeyInputType=void 0,function(e){e[e.GAME=0]="GAME",e[e.MENU=1]="MENU",e[e.CONSOLE=2]="CONSOLE"}(r=t.KeyInputType||(t.KeyInputType={})),t.defaultGameState=function(){return{console:{active:!1},menu:{active:!0},keyInput:{target:r.MENU}}},t.StateMachine=function(e){return{consoleActivate:function(){e.console.active=!0,e.keyInput.target=r.CONSOLE},consoleDisable:function(){e.console.active=!1,e.menu.active?e.keyInput.target=r.MENU:e.keyInput.target=r.GAME},menuActivate:function(){console.log("state m menu activate"),e.console.active||(e.menu.active=!0,e.keyInput.target=r.MENU)},menuDisable:function(){console.log("state m menu disable"),e.console.active||(e.menu.active=!1,e.keyInput.target=r.GAME)}}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(6),r(68),r(82),r(13),r(68),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e,t,a,o,i){var s=new r.Vector(.5*t,0);s.setAngle(a+Math.PI);new r.Vector(.5*t,0);s.setAngle(a-Math.PI);var A=new r.Vector(.5*t,0);return A.setAngle(a),A.subtractXY(e.x,e.y),{pos:A,staticPos:A.clone(),angle:n.normalizeRadianAngle(a),staticAngle:n.normalizeRadianAngle(a),length:t,minRange:n.normalizeRadianAngle(o),maxRange:n.normalizeRadianAngle(i)}},d=function(e,t,a,o,i,s){var A=[];o=i?n.normalizeRadianAngle(.6*o+.7*Math.PI):n.normalizeRadianAngle(.6*o-.7*Math.PI+Math.PI);for(var u=0;u<t;u++){var l=i?-1:1;s&&(l*=-1);var d=1.8*Math.PI*l,p=.05*Math.PI*l,f=d/(t-1);if(1===u||u===t-2?f-=.25*l:(f+=.25*l,p+=.1*l),0===u)A.push(c(e,a,o,.1*p,.1*f));else{var h=A[A.length-1],v=new r.Vector(.5*h.length,0);v.setAngle(h.angle+Math.PI),A.push(c({x:h.pos.x+v.x,y:h.pos.y+v.y},a,n.normalizeRadianAngle(o),n.normalizeRadianAngle(p),n.normalizeRadianAngle(f))),o+=f}}return{bones:A}},p=function(e,t,a,o,i){for(var s=[],A=new r.Vector(i,0),u=0;u<t;u++){var l=2*Math.PI/t*u;A.setAngle(l);var c=l,p=d({x:e.x+A.x,y:e.y+A.y},a,n.eqNumberInArr([1,2,5,6],u)?o:.8*o,c,u>=t/2,!n.eqNumberInArr([2,3,4,5],u));s.push(p)}return s};t.default=function(e,t,n,c,d,f,h){for(var v=e.WW,g=e.WH,y=(e.SW,e.SH,e.game,[]),m=d||8+8*Math.random(),S=0;S<t;S++){var E=new r.Vector(n||v*Math.random(),c||g*Math.random()),x=new r.Vector(0,0),T=o(o({prioritzeRestpos:!1,level:0,infected:s.InfectionRate(),netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},angle:0,legs:p(E,8,5,2*m,m),vel:x,guid:a.getGuid(),life:18*m,restPos:f?new r.Vector(f.x,f.y):E.clone(),radius:m,type:19,swimPosInR:!0,swimPosInL:!0,swimPosL:.5,swimPosR:.5},A.setImovableDefaults(l.BallCreator(E.x,E.y,m,Math.pow(m,3)))),h);T.legs.forEach(function(e){return u.minRotateSpiderLeg(e)}),T.legs.forEach(function(e){return i.updateSpiderLeg(e)}),y.push(T)}return y}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeasureTimeSingle=t.MeasureTimeFn=void 0,t.default=function(e,t,r,a,n){void 0===n&&(n=1);var o=performance.now(),i=e(t)||"unknown (yup we fucked up)",s=(performance.now()-o)*n;return r.push({name:i,time:s,type:a}),{time:s,name:i}},t.MeasureTimeFn=function(e,t){var r=performance.now();e();var a=performance.now()-r;return t&&t.push(a),a},t.MeasureTimeSingle=function(e){var t=performance.now();return e(),performance.now()-t}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(7),r(2),r(10),r(5),r(47),r(75)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetTargetBehaviourHashes=t.getBaseTargetArrays=void 0,t.getBaseTargetArrays=function(e){var t=o.getQuadTreesObj();if(!t.Player)return[];var r=n.default(e);return r&&r.inSafeZone?[t.Player,t.SpacePortCannons,t.Drones,t.Npcs]:[t.Player,t.Drones,t.Enemies,t.SpacePortCannons,t.SpaceTurret,t.Npcs]};var A={},u={};t.resetTargetBehaviourHashes=function(){A={},u={}},t.default=function(e,t,n,l,c){void 0===l&&(l=2500),void 0===c&&(c=[]);var d=o.getQuadTreesObj(),p=null,f=A[e.guid],h=u[e.guid];if(e.prioritzeRestpos)a.distanceBetweenVectors(t,e.restPos)<1e3&&(e.prioritzeRestpos=!1);else if(d.Player){var v=new r.Rectangle(t.x-.5*l,t.y-.5*l,l,l);0===c.length&&c.push(d.Player);for(var g=[],y=0;y<c.length&&(g.push.apply(g,c[y].queryInt(v)),!(g.length>10));y++);var m=Math.min(8,g.length),S=2*l;for(y=0;y<m;y++){var E=g[y];if(39===E.type||i.posInAncient(t)){if(39===E.type){if(E.inSafeZone)continue;if(E.cloaked&&a.distanceBetweenVectors(E.pos,t)>E.radius+n+100)continue}if(!s.getLineOfSight(t,E)){if(f){if(a.distanceBetweenVectors(f,t)<1.3*n){f=A[e.guid]=null;break}}else h&&(f=A[e.guid]=h.clone());continue}f&&(f=A[e.guid]=null)}if(20===E.type){var x=E,T=new r.Rectangle(x.pos.x-1e3,x.pos.y-1e3,2e3,2e3);if(0===d.Player.queryInt(T).length)continue}else if(20===E.type&&m>1&&!E.isCannon&&m>1)continue;if(E.life>0){var _=a.distanceBetweenVectors(E.pos,t);_<S&&(S=_,p=E)}}if(p){switch(p.type){case 39:"ship";break;case 20:"(cannon:"+p.isCannon+")";break;default:"type:"+p.type}}}var I=e.restPos,M=f||(p?p.pos.clone():I.clone());return u[e.guid]=p&&p.pos.clone(),e.infected&&Math.random()>.98&&M.addXY(500*(Math.random()-.5),500*(Math.random()-.5)),{targetPos:M,target:f?null:p,targetIsIM:!f&&!!p}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadData=t.loadStr=t.loadBool=t.loadInt=t.saveData=t.saveStr=t.saveBool=t.saveInt=t.containsData=t.containsStr=t.containsBool=t.containsInt=void 0;var r=null;try{r=window.localStorage}catch(e){r={setItem:function(){return null},getItem:function(){return null}}}var a=function(e){return!(null===r.getItem(e))};t.containsInt=function(e){return a(e+"_int")},t.containsBool=function(e){return a(e+"_bool")},t.containsStr=function(e){return a(e+"_str")},t.containsData=function(e){return a(e+"_data")},t.saveInt=function(e,t){r.setItem(e+"_int",t+"")},t.saveBool=function(e,t){r.setItem(e+"_bool",(t?1:0)+"")},t.saveStr=function(e,t){r.setItem(e+"_str",t)},t.saveData=function(e,t){var a=JSON.stringify(t);return r.setItem(e+"_data",a),a.length},t.loadInt=function(e){return parseInt(r.getItem(e+"_int"),10)},t.loadBool=function(e){var t=r.getItem(e+"_bool");return 1===parseInt(t)||0!==parseInt(t)&&void 0},t.loadStr=function(e){return r.getItem(e+"_str")},t.loadData=function(e){var t=r.getItem(e+"_data");if(t)return JSON.parse(t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(2),r(1),r(6),r(3),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,u,l,c,d,p){e.WW,e.WH;var f="ABCDEFGHIJK".split(""),h=n.createBlockcircleArray(6,0,.8*t,u).map(function(e,n){var c=d&&d[n]?d[n]:null,h=c?new a.Vector(c.staticPos.x,c.staticPos.y):e;return o(o({},s.setImovableDefaults(A.BallCreator(h.x,h.y,t/6,1e3*t))),{opos:{x:h.x,y:h.y},procedurallyCreated:null==p?void 0:p.procedurallyCreated,mass:1e3*t,isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},isOnline:!1,ownerName:l,name:f.pop(),damages:[],weaponsActiveTimerMS:0,staticPos:h.clone(),vel:new a.Vector(0,0),type:20,guid:c?c.guid:r.getGuid(),radius:t/6,sides:6,angle:Math.atan2(h.y-u.y,h.x-u.x),angleVel:0,life:c?c.life:i.SPACEPORT_START_LIFE,busy:!1,isCannon:!0,fireing:!1,aggressionForGuidsHash:{}})});h.pop();var v=d?d.filter(function(e){return!e.isCannon})[0]:null,g=o(o({},s.setImovableDefaults(A.BallCreator(u.x,u.y,t/6,1e3*t))),{opos:{x:u.x,y:u.y},procedurallyCreated:null==p?void 0:p.procedurallyCreated,mass:1e3*t,isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},isOnline:!1,ownerName:l,name:f.pop(),fireing:!1,damages:[],weaponsActiveTimerMS:0,aggressionForGuidsHash:{},staticPos:u.clone(),vel:new a.Vector(0,0),type:20,guid:v?v.guid:r.getGuid(),radius:t/6,sides:6,angle:0,angleVel:0,life:v?v.life:i.SPACEPORT_START_LIFE,busy:!0,isCannon:!1});return h.push(g),o(o({isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},reparations:c||{life:100,missiles:5,rockets:5,boost:100,electrobastardray:100,homingBullets:38,proximityMines:6,bullets:2e3},weaponsActive:!1,angle:0,angleVel:0,centerNoneCannon:g,guid:r.getGuid(),life:1e4,name:(l||"").toUpperCase(),pos:u,vel:new a.Vector(0,0),staticPos:u.clone(),radius:t,sides:6,wallThickness:40,type:11,cannons:h,shipChargeHash:{},chargeParticles:[]},s.setImovableDefaults(A.BallCreator(u.x,u.y,t,t))),p)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(57),r(3)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParticle=t.createBullet=void 0,t.createBullet=function(e,t){var o=a.pool_get(42);return o.type=e,o.guid=r.getGuid(),o.ownerGuid=t.guid,o.pos.x=t.pos.x+Math.cos(t.angle)*t.radius,o.pos.y=t.pos.y+Math.sin(t.angle)*t.radius,o.vel.x=0,o.vel.y=0,o.vel.setLength(t.vel.getLength()+20),o.vel.setAngle(t.angle+.02*(Math.random()-.5)),o.shape=3,o.life=n.BULLET_START_LIFE,o.homing=!1,o.remove=!1,o.forceX=null,o.forceY=null,o.stunned=!1,o.target=null,o.targetFlagged=!1,o},t.createParticle=function(e,t,r,n,o){var i=a.pool_get(24);return i.pos.x=e,i.pos.y=t,i.vel.x=r,i.vel.y=n,i.life=o,i.type=24,i}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(3)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=1.5*r.MAP_SAFETY_ZONE,o=e&&e.pos;return e&&(o.x>t-n||o.x<n||o.y>a-n||o.y<n)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onStage=t.blockCircleRGBA=t.lineVerticalRGBADash=t.lineHorizontalRGBADash=t.line2=t.fillRGBA=t.distort=t.setRGBA=void 0;var r=2*Math.PI;t.setRGBA=function(e,t,r,a,n,o,i,s){if(!(t>e||t<0)){var A=Math.floor(r)*e*4+4*Math.floor(t);s[A]=a,s[A+1]=n,s[A+2]=o,s[A+3]=i}},t.distort=function(e,t,r,a){for(var n=Math.floor(r),o=Math.floor(t),i=n-o,s=[],A=0;A<i;A++)s.push(4*Math.round(-4*A*A*Math.random()*.001)+4);for(var u=0,l=o;l<n;l+=2){var c=s[u];u++;var d=Math.floor(l)*e*4+400,p=Math.floor(l)*e*4+4*Math.floor(e-400);for(A=d;A<p;A+=8)a[A+c]=a[A],a[A+1+c]=a[A+1],a[A+2+c]=a[A+2],a[A+3+c]=a[A+3],Math.random()>.9&&(a[A+e]=a[A],a[A+1+e]=a[A+1],a[A+2+e]=a[A+2],a[A+3+e]=a[A+3])}},t.fillRGBA=function(e,r,a,n,o,i,s,A,u,l,c,d){void 0===c&&(c=0),void 0===d&&(d=0);for(var p=0;p<n;p++)for(var f=0;f<o;f++)t.setRGBA(e,r+p+c,a+f+d,i,s,A,u,l)},t.line2=function(e,r,a,n,o,i,s,A,u,l,c){void 0===c&&(c=1),function(r,a,n,o){for(var d=Math.abs(n-r),p=Math.abs(o-a),f=r<n?1:-1,h=a<o?1:-1,v=d-p;;){if(c>1){t.setRGBA(e,r,a,i,s,A,u,l);for(var g=0;g<c;g++)t.setRGBA(e,r+g,a,i,s,A,u,l),t.setRGBA(e,r,a+g,i,s,A,u,l)}else t.setRGBA(e,r,a,i,s,A,u,l);if(r==n&&a==o)break;var y=2*v;y>-p&&(v-=p,r+=f),y<d&&(v+=d,a+=h)}}(Math.floor(r),Math.floor(a),Math.floor(n),Math.floor(o))},t.lineHorizontalRGBADash=function(e,r,a,n,o,i,s,A,u,l,c,d,p){void 0===l&&(l=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===p&&(p=0);for(var f=0,h=r-c;h<n-p;h++)if(++f<=c){if(h+p>r)for(var v=0;v<l;v++)t.setRGBA(e,h+p,a+v,o,i,s,A,u)}else f>c+d&&(f=0)},t.lineVerticalRGBADash=function(e,r,a,n,o,i,s,A,u,l,c,d,p){void 0===l&&(l=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===p&&(p=0);for(var f=0,h=a-c;h<n-p;h++)if(++f<c){if(h+p>a)for(var v=0;v<l;v++)t.setRGBA(e,r+v,h+p,o,i,s,A,u)}else f>c+d&&(f=0)},t.blockCircleRGBA=function(e,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E){var x,T,_,I;void 0===p&&(p=0),void 0===f&&(f=0),void 0===h&&(h=0),void 0===y&&(y=0),void 0===m&&(m=e),void 0===S&&(S=0),void 0===E&&(E=e);var M=e;for(x=n+Math.cos(r*(M/e)+i)*a>>0,T=o+Math.sin(r*(M/e)+i)*a>>0,_=0,I=0;M>-1;--M)_=n+Math.cos(r*(M/e)+i)*a>>0,I=o+Math.sin(r*(M/e)+i)*a>>0,g&&M%2!=1||!(M>=y&&M<=m||M>=S&&M<=E)||t.line2(d,x-f,T-h,_-f,I-h,A,u,l,c,s,v||(a>40?6:2)),x=_,T=I},t.onStage=function(e,t,r,a){void 0===a&&(a=0);var n=e.SX,o=e.SY,i=e.SW,s=e.SH;return t>n-a&&t<n+i+a&&r>o-a&&r<o+s+a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(5),r(2)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.posInAncient=void 0,t.default=function(e){for(var t=e.game.ancientBlocks,r=t.length,a=0;a<r;a++){var n=t[a];n.pos.x=n.staticPos.x,n.pos.y=n.staticPos.y}return"Ancient"},t.posInAncient=function(e,t){void 0===t&&(t=!1);var n=r.getQuadTreesObj().AncientSystem.queryVec(e,30,30);if(t&&n.length>0)return!0;for(var o=0;o<n.length;o++){var i=n[o];if(a.distanceBetweenVectors(e,i.pos)<i.radius)return!0}return!1}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(23),r(104)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeInt32Point=t.intersectsInt32Arr_XYWH=t.intersectsInt32ArrXY=void 0;var n={};t.intersectsInt32ArrXY=function(e,t,r){return!(e[0]>t||e[0]+e[2]<t||e[1]>r||e[1]+e[3]<r)},t.intersectsInt32Arr_XYWH=function(e,t,r,a,n){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+n||e[1]+e[3]<r)};var o=8,i=function(){function e(e,t,r,a){this.divide=!1,this.boundry=new Int32Array(e),this.capacity=r>=a?t*o:t,this.items=new Int32Array(this.capacity),this.itemsXY=new Int32Array(2*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,n,o,i){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=n,this.currentDepth=o,this.maxDepth=i,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],i=this.boundry[3],s=this.currentDepth+1,A=this.maxDepth,u=s>=A?this.capacity*o:this.capacity;if(this.northeast)this.northeast.update(t+Math.ceil(.5*a),r,Math.ceil(.5*a),Math.ceil(.5*i),u,s,A),this.northwest.update(t,r,Math.ceil(.5*a),Math.ceil(.5*i),u,s,A),this.southeast.update(t+Math.ceil(.5*a),r+Math.ceil(.5*i),Math.ceil(.5*a),Math.ceil(.5*i),u,s,A),this.southwest.update(t,r+Math.ceil(.5*i),Math.ceil(.5*a),Math.ceil(.5*i),u,s,A);else{var l=n[u];if(l&&l.length>4)return this.northeast=l.pop(),this.northwest=l.pop(),this.southeast=l.pop(),this.southwest=l.pop(),void this.subDivide();this.northeast=new e([t+Math.ceil(.5*a),r,Math.ceil(.5*a),Math.ceil(.5*i)],u,s,A),this.northwest=new e([t,r,Math.ceil(.5*a),Math.ceil(.5*i)],u,s,A),this.southeast=new e([t+Math.ceil(.5*a),r+Math.ceil(.5*i),Math.ceil(.5*a),Math.ceil(.5*i)],u,s,A),this.southwest=new e([t,r+Math.ceil(.5*i),Math.ceil(.5*a),Math.ceil(.5*i)],u,s,A)}this.divide=!0},e.prototype.___query=function(e,r,n,o,i,s,A){void 0===A&&(A=-1);var u=this.items,l=this.index,c=this.itemsXY;if(t.intersectsInt32Arr_XYWH(this.boundry,e,r,n,o)){for(var d=0;d<l;d++){var p=u[d];if(!s[p]&&p!==A){var f=2*d;a.intersectsXYWH_XY(e,r,n,o,c[f],c[f+1])&&(s[p]=!0,i.push(p))}}this.divide&&(this.northeast.___query(e,r,n,o,i,s,A),this.northwest.___query(e,r,n,o,i,s,A),this.southeast.___query(e,r,n,o,i,s,A),this.southwest.___query(e,r,n,o,i,s,A))}return i},e.prototype.insert=function(e,r,a){if(!t.intersectsInt32ArrXY(this.boundry,r,a))return!1;if(this.index<this.capacity){this.items[this.index]=e;var n=2*this.index;return this.itemsXY[n]=r,this.itemsXY[n+1]=a,this.index++,!0}return this.divide||this.subDivide(),this.northeast.insert(e,r,a)||this.northwest.insert(e,r,a)||this.southeast.insert(e,r,a)||this.southwest.insert(e,r,a)},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),o=this.southwest.reset();if(t&&r&&a&&o&&(this.deleteBranchMarker++,this.deleteBranchMarker>3)){var i=n[this.northeast.capacity];i||(i=n[this.northeast.capacity]=[]),i.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e.prototype.getDepth=function(e){return this.divide?Math.max(this.northeast.getDepth(e+1),this.northwest.getDepth(e+1),this.southeast.getDepth(e+1),this.southwest.getDepth(e+1)):e},e}(),s=function(){function e(e,t,r,a){void 0===a&&(a=8),this.divide=!1,this.setup(e,t,r,a)}return e.prototype.___queryXYWH=function(e,r,n,o,i,s,A){void 0===A&&(A=-1);var u=this.items,l=this.itemsXY;if(t.intersectsInt32Arr_XYWH(this.boundry,e,r,n,o)){for(var c=0;c<this.index;c++){var d=u[c];if(!s[d]&&d!==A){var p=2*c;a.intersectsXYWH_XY(e,r,n,o,l[p],l[p+1])&&(s[d]=1,i.push(d))}}this.divide&&(this.northeast.___query(e,r,n,o,i,s,A),this.northwest.___query(e,r,n,o,i,s,A),this.southeast.___query(e,r,n,o,i,s,A),this.southwest.___query(e,r,n,o,i,s,A))}return i},e.prototype.insert=function(e){var r=e.pos.x,a=e.pos.y;if(!t.intersectsInt32ArrXY(this.boundry,r,a))return!1;if(this.references[this.totalItems]=e,this.totalItems++,this.index<this.capacity){this.items[this.index]=this.REFERENCE_INDEX;var n=2*this.index;return this.itemsXY[n]=r,this.itemsXY[n+1]=a,this.index++,this.REFERENCE_INDEX++,!0}return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):(this.REFERENCE_INDEX++,!1)},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],n=this.maxDepth,o=this.capacity;this.northeast?(this.northeast.update(e+Math.ceil(.5*r),t,Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.northwest.update(e,t,Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.southeast.update(e+Math.ceil(.5*r),t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.southwest.update(e,t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a),o,0,n)):(this.northeast=new i([e+Math.ceil(.5*r),t,Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.northwest=new i([e,t,Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.southeast=new i([e+Math.ceil(.5*r),t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.southwest=new i([e,t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n)),this.divide=!0},e.prototype.___query=function(e,r,n,o){var i=[],s=[],A=this.items,u=this.itemsXY;if(t.intersectsInt32Arr_XYWH(this.boundry,e,r,n,o)){for(var l=0;l<this.index;l++){var c=A[l];if(!i[c]){var d=2*l;a.intersectsXYWH_XY(e,r,n,o,u[d],u[d+1])&&(i[c]=1,s.push(c))}}this.divide&&(this.northeast.___query(e,r,n,o,s,i),this.northwest.___query(e,r,n,o,s,i),this.southeast.___query(e,r,n,o,s,i),this.southwest.___query(e,r,n,o,s,i))}var p=s.length;if(0===p)return[];var f=new Array(p);for(l=0;l<p;l++)f[l]=this.references[s[l]];return f},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,t)},e.prototype.queryCircle=function(e,t){var r=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===r.length)return r;for(var n=.7*t,o=[e.x-n,e.y-n,2*n,2*n],i=r.length,s=[],A=0;A<i;A++){var u=r[A];a.intersectsArr_XY(o,u.pos.x,u.pos.y)?s.push(u):(e.x-u.pos.x)*(e.x-u.pos.x)+(e.y-u.pos.y)*(e.y-u.pos.y)<t*t&&s.push(u)}return s},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.setup=function(e,t,a,n){void 0===n&&(n=8);var o=e.x,i=e.y,s=e.width,A=e.height;this.boundry=new Int32Array([o,i,s,A]),(o>2147483647||i>2147483647||s>2147483647||A>2147483647||o<-2147483648||i<-2147483648)&&console.log("Out of range @ Quadtree [Int32 point] constructor "+this.boundry.join(",")+" "+r.TypesToString(this.itemType)),this.items=new Int32Array(t),this.itemsXY=new Int32Array(2*t),this.capacity=t,this.itemType=a,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=n},e.prototype.getRangeType=function(){return"INT32"},e.prototype.getDepth=function(){return this.divide?Math.max(this.northeast.getDepth(1),this.northwest.getDepth(1),this.southeast.getDepth(1),this.southwest.getDepth(1)):0},e.prototype.visualize=function(e,t,r,a,n,o,i){if(void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=.3),this.divide){var s=i,A=10;this.__visualize(s,A,e,t,r,a,r-300,a+40,this.northwest,n,o),this.__visualize(s,A,e,t,r,a,r-100,a+40,this.northeast,n,o),this.__visualize(s,A,e,t,r,a,r+100,a+40,this.southwest,n,o),this.__visualize(s,A,e,t,r,a,r+300,a+40,this.southeast,n,o)}},e.prototype.__visualize=function(e,t,r,a,n,o,i,s,A,u,l){var c=A.boundry;r.push((u+c[0])*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+(c[1]+c[3]))*e,(u+c[0])*e,(l+c[1])*e,(u+c[0])*e,(l+(c[1]+c[3]))*e,(u+c[0])*e,(l+(c[1]+c[3]))*e,(u+(c[0]+c[2]))*e,(l+(c[1]+c[3]))*e),t*=.25,A.divide?(this.__visualize(e,t,r,a,i,s,i-30*t,s+40,A.northwest,u,l),this.__visualize(e,t,r,a,i,s,i-10*t,s+40,A.northeast,u,l),this.__visualize(e,t,r,a,i,s,i+10*t,s+40,A.southwest,u,l),this.__visualize(e,t,r,a,i,s,i+30*t,s+40,A.southeast,u,l)):A.southwest&&(this.__visualize(e,t,a,a,i,s,i-30*t,s+40,A.northwest,u,l),this.__visualize(e,t,a,a,i,s,i-10*t,s+40,A.northeast,u,l),this.__visualize(e,t,a,a,i,s,i+10*t,s+40,A.southwest,u,l),this.__visualize(e,t,a,a,i,s,i+30*t,s+40,A.southeast,u,l))},e}();t.QuadTreeInt32Point=s}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(103),r(65),r(66),r(2),r(80),r(35),r(33),r(41),r(114),r(115),r(11),r(5),r(116)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postLeelReset=void 0,t.postLeelReset=function(e){for(var t=e.game,r=0;r<t.player.length;r++)e.SX=t.player[r].pos.x-e.SW*Math.random(),e.SY=t.player[r].pos.y-e.SH*Math.random()},t.default=function(e,t,g){var y,m;for(var S in e.keyCodes)e.keyCodes[S]=!1;e.frameCnt=0,e.stepMStotal=0,t.frameCnt=0,t.stepMStotal=0,e.game.SW=e.game.resW,e.game.SH=e.game.resH;var E=g?g(e):{WW:16e3,WH:12e3};t&&(t.gl&&(t.game.SW=t.game.resW,t.game.SH=t.game.resH,e.game.zoomTX=1,e.game.zoomTXinverted=1,a.zoom(t,!0),n.setTargetToCanvas(t.gl)),t.WW=E.WW,t.WH=E.WH),e.WW=E.WW,e.WH=E.WH;var x=e.game,T=e.WW,_=e.WH;h.SetupQuadTreeRangeType(0),o.resetProximityDetection(),i.resetFogSystems(),A.resetSubtitles(),u.resetSpaceSnakeSegmentHash(),l.resetGuidHashNetwork(),c.resetTargetBehaviourHashes(),d.resetDirector(),p.ResetRadar(),f.disableMapShift(!1),v.resetProceduralWorld();var I=[{type:29,pos:new r.Vector(.8*T,.5*_),positive:!1,effect:90,radius:4,spawnParticles:!1,seedKey:0}];(y=x.anomlies).push.apply(y,I);var M=[{in:{type:31,pos:new r.Vector(.2*T,.2*_),radius:750,positive:!1,effect:16,spawnParticles:!0,seedKey:0},out:{type:30,pos:new r.Vector(.8*T,.5*_),positive:!0,effect:4,spawnParticles:!1,seedKey:0,radius:250}}];(m=x.anomalyPairs).push.apply(m,M),x.spaceFog=[{radius:450,x:.08*T,y:.09*_,fire:!1,guid:s.getGuid(),seedKey:0,type:33},{radius:650,x:.5*T,y:.5*_,fire:!1,guid:s.getGuid(),seedKey:0,type:33},{radius:500,x:.2*T,y:.69*_,fire:!1,guid:s.getGuid(),seedKey:0,type:33},{radius:256,x:.6*T,y:.92*_,fire:!0,guid:s.getGuid(),seedKey:0,type:32}],x.spacePorts=[],x.rockets=[],x.drones=[],x.bullets=[],x.flames=[],x.charges=[],x.parasites=[],x.rockFormations=[],x.rockFormationSystemRadius=[],x.rockFormationsArcs=[],x.sparks=[],x.spaceBats=[],x.spaceSpiders=[],x.proximityMines=[],x.spaceMines=[],x.spaceTurrets=[],x.playerGuid=-1,x.spaceSquids=[],x.wayPoints=[],x.npcs=[],x.particles=[],x.customParticles=[],x.player=[],x.enemies=[],x.asteroids=[],x.asteroidBelts=[],x.SX=0,x.SY=0,x.SW=x.resW,x.SH=x.resH,x.asteroidParts=[],x.spaceSnake=[],x.destroyers=[],x.notifications=[],x.spaceDust=[],x.settings_asteroid_spawns_new=!0,x.settings_be_the_snake_mode=!1,x.settings_no_darkness=!1,x.settings_minimap_asteroid_min_radius=100,x.levelEditor=!1,x.level_completed=!1,x.settings_wormhole=!0,x.clock=0,x.fromClock=0,x.proceduralRemovalData=[],x.IS_PROCEDURAL=!1,x.proceduralBounds=null,x.proceduralDestroyedData=[],x.ancientBlocks=[],x.ancients=[],x.traceLine=[],x.force2=[]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPlayerByGuidOrNull=t.GetPlayerByGuidOrEmptyArray=void 0,t.GetPlayerByGuidOrEmptyArray=function(e,t){var r=t.game.playerGuidHash[e];return r?[r]:[]},t.GetPlayerByGuidOrNull=function(e,t){return t.game.playerGuidHash[e]};t.default=function(e){var t=e.game.player,r=t.length,a=e.game;a.playerGuidHash={};for(var n=0;n<r;n++){var o=t[n];a.playerGuidHash[o.guid]=o}return"playerGuidHash"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(273),r(134),r(274),r(275),r(276),r(277),r(278),r(12),r(12)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestLogger=t.startupTests=void 0,t.startupTests=function(){s.bulletCircleTests(),r.verifier(a.getIntersectionData()),n.velocityAABBtest(),i.rectIntersectionTests(),o.quadTreePointTest(),A.collisiontests(),c||u.LOG_GL_CLEAR()};var c=!1;t.TestLogger=function(e,t){t?l.LOG_GL(e+" : success"):(c=!0,l.LOG_GL_FIXED_FORCED("failed",e))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalGL=void 0;var r={global_gl:null};t.default=function(){return r},t.setGlobalGL=function(e){r.global_gl=e}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(3),r(1),r(2),r(13)],void 0===(n=function(e,t,r,a,n,i){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0});var A=((s={})[12]=14,s[25]=26,s[18]=27,s);t.default=function(e,t,s){void 0===s&&(s=1);var u=e,l=u.sides,c=A[e.type],d=u.radius,p=u.angle,f=l;l=d<20?3:l;for(var h=Math.cos(r.doublePI*(l/f)+p)*d>>0,v=Math.sin(r.doublePI*(l/f)+p)*d>>0,g=0,y=0,m=new a.Vector(0,0),S=25+25*Math.random();l>-1;--l){g=Math.cos(r.doublePI*(l/f)+p)*d>>0,y=Math.sin(r.doublePI*(l/f)+p)*d>>0;var E=new a.Vector(g+u.pos.x,y+u.pos.y),x=new a.Vector(h+u.pos.x,v+u.pos.y),T=n.distanceBetweenVectors(E,x),_=Math.atan2(E.y-x.y,E.x-x.x),I=Math.atan2(u.pos.y-x.y,u.pos.x-x.x);m.set(0,0),m.setLength(T),m.setAngle(_);for(var M=T>S?Math.ceil(T/S):1,L=T/M*.5,b=0;b<M;b++){var w=b/M,R=new a.Vector(0,0);R.setLength(w+L),R.setAngle(_),R.add(E);var P=new a.Vector(0,0);P.setAngle(_),P.setLength(L);var O=new a.Vector(0,0);O.setAngle(_-Math.PI),O.setLength(L);var C=new a.Vector(g*Math.random()-.5*s,y*Math.random()-.5*s),G=o({fromType:e.type,edgeA:P,edgeB:O,rotatedEdgeA:new a.Vector(0,0),rotatedEdgeB:new a.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:R,angle:I,angleVel:.01*Math.random()-.005,vel:C.clone(),guid:n.getGuid(),type:c,life:100+50*Math.random(),radius:.05*u.radius,width:12*Math.min(30,Math.max(.01*u.radius),4)},i.setImovableDefaults(null));t.game.asteroidParts.push(G)}h=g,v=y}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(23),r(76),r(12),r(23)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PredatorLevelUpgrade=t.getUpgradeLevel=void 0;t.getUpgradeLevel=function(e){return 0|e.level};var i=function(e,t){if(r.ShipLike(t.type)||o.PredatorLike(t.type)||20===t.type){var a=r.ShipLike(e.type),n=o.PredatorLike(e.type),i=n?.3:1;a||n?(e.level<1?e.level+=1*i:e.level>2?e.level+=.2*i:e.level+=.4*i,e.life=Math.max(10,Math.min(1.1*e.life,60))*i):(e.life+=2,e.level+=.1),e.level>3&&(e.level=3)}},s=function(e,t,r){var n;switch(e.type){case 9:case 8:var o=e;n=a.findShipLikeWithGuid(t,o.ownerGuid,o.ownerType);break;case 4:o=e;n=a.findShipLikeWithGuid(t,o.ownerGuid,o.owenerType)}n&&i(n,r)};t.PredatorLevelUpgrade=function(e,t){(t.remove||t.life<1)&&i(e,t)};t.default=function(e,t,a){e.remove&&t.remove&&(void 0!==e.level?r.isProjectile(t.type)&&s(t,a,e):void 0!==t.level&&r.isProjectile(e.type)&&s(e,a,t))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(3),r(6),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRFsingle=void 0,t.createRFsingle=function(e,t){var i=new r.Vector(e.x,e.y);return o(o({},s.setImovableDefaults(A.BallCreator(e.x,e.y,t,0))),{minerals:t,isLV426:!1,netangle:0,netpos:{x:e.x,y:e.y},netvel:{x:0,y:0},type:21,guid:a.getGuid(),staticPos:i.toPoint(),radius:t,vel:new r.Vector(0,0),sides:Math.max(7,Math.floor(t/20)),angle:0,angleVel:0,life:t*n.ROCKFORMATION_RADIUS_LIFE_MULTIP})};var u=function(e,a,n,o,s,A,l,c){var d=new r.Vector(n,0);if(n>40||c&&n>4){var p=t.createRFsingle(a,n);o.push(p);for(var f=l?4:e()>.9?2:1,h=0,v=0;v<f;v++){if(d.set(1.35*n,0),l)h=e()*Math.PI*2;else if(f>1){if(0===v)h=i.normalizeRadianAngle(A)-e()*Math.PI*.7;else if(h=i.normalizeRadianAngle(A)+e()*Math.PI*.7,!c&&e()>.6){var g=new r.Vector(n,0),y=h;e(),d.setAngle(y);var m={x:a.x+g.x,y:a.y+g.y},S={arc:[],attachedToGuid:p.guid,under:!0,pos:{x:a.x,y:a.y}};s.push(S),u(e,m,f>1?.6*n:.96*n,S.arc,s,y,!1,!0)}}else h=i.normalizeRadianAngle(A)+(e()-.5)*Math.PI*.75;d.setAngle(h);var E={x:a.x+d.x,y:a.y+d.y};u(e,E,c?f>1?.45*n:.92*n:f>1?.6*n:.96*n,o,s,h,!1,c)}}},l=function(e,t){for(var r=0,n=0;n<e.length;n++){var o=e[n],i=a.distanceBetweenXYXY(o.pos.x,o.pos.y,t.x,t.y)+o.radius;i>r&&(r=i)}return r};t.default=function(e,t,n,i){var A=[],c=[];return u(e,{x:t,y:n},i,A,c,0,!0,!1),{rockFormations:A,rockFormationArcs:c,rfSystem:o(o({},s.setImovableDefaults(null)),{type:16,guid:a.getGuid(),pos:new r.Vector(t,n),vel:new r.Vector(0,0),life:1,radius:l(A,{x:t,y:n})})}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(11),r(20),r(1),r(84),r(18),r(83),r(16),r(17),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAsteroid=void 0;t.removeAsteroid=function(e,t,r){e.remove=!0;var a=0,i=0;if(e.radius>300?(a=750,i=1):e.radius>200?(a=510,i=1):e.radius>150?(a=250,i=0):e.radius>100?(a=90,i=0):e.radius>50?(a=70,i=0):(a=30,i=0),l.addForceExplosion(t.game,e.pos.x,e.pos.y,a,i),e.radius>5&&t.game.settings_asteroid_spawns_new&&(!t.IS_MULTIPLAYER||t.IS_SERVER)&&21!==e.type)for(var A=0;A<5;A++){var c=new n.Vector(5*Math.random(),5*Math.random());c.setLength(2*Math.random()+.1);var d=o.getRandBonusType();if((!t.IS_MULTIPLAYER||t.IS_SERVER)&&e.radius>30&&Math.random()>.96)for(var p=1+Math.random()*e.radius*.033,f=0;f<p;f++){var h=32*Math.random()+8,v=s.createParasite(e.pos.x+(Math.random()-.5)*e.radius,e.pos.y+(Math.random()-.5)*e.radius,h,t.WW*Math.random(),t.WH*Math.random());t.game.parasites.push(v)}var g=12!==d?30:.2*e.radius,y=e.pos.x+(Math.random()-.5)*e.radius,m=e.pos.y+(Math.random()-.5)*e.radius,S=u.createSingleAsteroid(g,{x:y,y:m},c,{type:d,angleVel:.01*(1-2*Math.random())});t.game.asteroids.push(S)}},t.default=function(e){for(var t=e.game,n=e.WW,o=e.WH,s=e.step,u=t.asteroids,l=u.length,c=0;c<l;c++){var d=u[c];if(A.PositionUpdaterAutoSleep(d,s),0!==d.vel.x||0!==d.vel.y){var p=d.vel.getLength();p<.01?d.vel.set(0,0):p>.2?d.vel.mult(.9999):d.angleVel*=.999}d.sleepingAABB&&0,r.shift(d,n,o),a.default(t,d,!0),i.wormhole(d,e)}return"Asteroid"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(12),r(183),r(23)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pool_log=t.pool_get=t.pool_put=void 0;var o={},i={};i[4]=10,i[42]=10,i[24]=10,i[6]=10,o[4]=[],o[42]=[],o[24]=[],o[6]=[];var s=0;t.pool_put=function(e,t){o[e],o[e].push(t)},t.pool_get=function(e){var t=o[e];return t.length>0?t.pop():(function(e){s=e;for(var t=i[e],r=0;r<t;r++)o[e].push(a.struct(e));i[e]=t+10}(e),t.pop())},t.pool_log=function(){for(var e in o)r.LOG_GL_FIXED("F/R: "+i[e]+" | "+o[e].length,n.TypesToString(parseInt(e,10)));r.LOG_GL_FIXED(n.TypesToString(s),"LAST FILLED")}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(95),r(2),r(1),r(3),r(8),r(32),r(31),r(43),r(10),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditorTimeFreeze=t.editorSetTimeFreeze=t.editorCreateAsteroid=t.editorCreateDrone=t.editorCreateSpacePort=t.editorCreateSpaceSnake=t.editorCreateSpacesquid=t.editorCreateEnemy=t.deleteSelected=t.deleteInSelection=t.getEditorSingleSelection=t.getEditorSelections=t.editorClearSelection=t.editorSelectItems=t.getAllItemsFromTreesRect=t.getAllItemsFromTreesPoint=t.deleteItemsInTree=void 0,t.deleteItemsInTree=function(e,t,r){var a=t.queryVec(e,5,5);if(a.map(function(e){e.remove=!0,e.life=0}),a.length>0)for(var n=0;n<r.length;n++){var o=r[n];39!==o.type&&o.remove&&(r.splice(n,1),n--)}},t.getAllItemsFromTreesPoint=function(e,t){var r=[];return e.map(function(e){return r.push.apply(r,e.queryVec(t,5,5))}),r},t.getAllItemsFromTreesRect=function(e,t){var r=[];return e.map(function(e){return r.push.apply(r,e.queryInt(t))}),r};var f={};t.editorSelectItems=function(e){e.map(function(e){f[e.guid]?delete f[e.guid]:f[e.guid]=e})},t.editorClearSelection=function(){f={}},t.getEditorSelections=function(){return f},t.getEditorSingleSelection=function(){for(var e in f)return f[e]},t.deleteInSelection=function(){if(f)for(var e in f){var r=f[e];39!==r.type&&(r.remove=!0)}t.editorClearSelection()},t.deleteSelected=function(e,r){r.map(function(r){return t.deleteItemsInTree(e,r.tree,r.list)})},t.editorCreateEnemy=function(e,t,r){var a=o(o({},s.createShip(e)),{pos:new n.Vector(t.x,t.y),life:30,type:1,maxBullets:10,maxVel:3,shields:0});r.push(a)},t.editorCreateSpacesquid=function(e,t,a){var n=r.default.create.children.spaceSquid.children,o=v(n),i=A.default(e,1,t.x,t.y,o||null);a.push.apply(a,i)},t.editorCreateSpaceSnake=function(e,t,a){var n=r.default.create.children.spaceSnake.children,o=v(n),i=u.default(e,1,t.x,t.y,o||null);a.push.apply(a,i)};var h=["Auriga","Genesis","Aurora","Last hope","Outpost H"];t.editorCreateSpacePort=function(e,t,a){var o=r.default.create.children.spaceSnake.children,i=v(o),s=l.default(e,i||400,new n.Vector(t.x,t.y),h[a.length]);a.push(s)};var v=function(e){for(var t in e)if(e[t].selected)return parseInt(t,10)};t.editorCreateDrone=function(e,t,r){r.push.apply(r,s.createDrones(e,new n.Vector(t.x,t.y),1,c.default(e).guid))},t.editorCreateAsteroid=function(e,t){var s=r.default.create.children.asteroid.children.single,A=r.default.create.children.asteroid.children.flood,u=s.selected?s.children:A.children,l=20+220*Math.random();for(var c in u)u[c].selected&&(l=parseInt(c,10),l+=l*(Math.random()-.5));var f=o({netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:12,guid:a.getGuid(),pos:new n.Vector(e.x,e.y),radius:l,vel:new n.Vector(0,0),sides:Math.max(7,l/20),angle:Math.random(),angleVel:0,life:l*i.ASTEROID_RADIUS_LIFE_MULTIP,isLV426:!1},d.setImovableDefaults(p.BallCreator(e.x,e.y,l,Math.pow(l,3))));t.push(f)};var g=!0;t.editorSetTimeFreeze=function(e){g=e},t.getEditorTimeFreeze=function(){return g}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(2),r(7),r(34),r(23)],void 0===(n=function(e,t,r,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeInt32=t.intersectsXYWH_XYWH=void 0;var s={},A=function(e){return new a.Rectangle(e[0],e[1],e[2],e[3])},u=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},l=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},c=function(e,t,r,a,n){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+n||e[1]+e[3]<r)};t.intersectsXYWH_XYWH=function(e,t,r,a,n,o,i,s){return!(e>n+i||e+r<n||t>o+s||t+a<o)};var d=function(e,t){return t[0]>e[0]&&t[1]>e[1]&&t[0]+t[2]<e[0]+e[2]&&t[1]+t[3]<e[1]+e[3]},p=8,f=function(){function e(e,t,r,a){var n=this;this.divide=!1,this.debugBounds=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);return u(r,n.boundry)&&t.push(A(n.boundry)),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.debugAABBs=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);if(u(r,n.boundry)){for(var a=0;a<4*n.index;a+=4)t.push(A(n.itemsXYWH.slice(a,a+4)));n.divide&&(n.northeast.debugAABBs(e,t),n.northwest.debugAABBs(e,t),n.southeast.debugAABBs(e,t),n.southwest.debugAABBs(e,t))}return t},this.boundry=new Int32Array(e),this.capacity=r>=a?t*p:t,this.items=new Int32Array(this.capacity),this.itemsSleepState=new Uint8Array(this.capacity),this.itemsXYWH=new Int32Array(4*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,n,o,i){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=n,this.currentDepth=o,this.maxDepth=i,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],n=this.boundry[3],o=this.currentDepth+1,i=this.maxDepth,A=o>=i?this.capacity*p:this.capacity;if(this.northeast)this.northeast.update(t+.5*a,r,.5*a,.5*n,A,o,i),this.northwest.update(t,r,.5*a,.5*n,A,o,i),this.southeast.update(t+.5*a,r+.5*n,.5*a,.5*n,A,o,i),this.southwest.update(t,r+.5*n,.5*a,.5*n,A,o,i);else{var u=s[A];if(u&&u.length>4)return this.northeast=u.pop(),this.northwest=u.pop(),this.southeast=u.pop(),this.southwest=u.pop(),void this.subDivide();this.northeast=new e([t+.5*a,r,.5*a,.5*n],A,o,i),this.northwest=new e([t,r,.5*a,.5*n],A,o,i),this.southeast=new e([t+.5*a,r+.5*n,.5*a,.5*n],A,o,i),this.southwest=new e([t,r+.5*n,.5*a,.5*n],A,o,i)}this.divide=!0},e.prototype.___query=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.index,l=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var d=0;d<u;d++){var p=A[d];if(!i[p]&&p!==s){var f=4*d;t.intersectsXYWH_XYWH(e,r,a,n,l[f],l[f+1],l[f+2],l[f+3])&&(i[p]=!0,o.push(p))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e,t,r){if(!l(this.boundry,t))return!1;if(!(this.index<this.capacity))return this.divide||this.subDivide(),!!this.northeast.insert(e,t,r)||(!!this.northwest.insert(e,t,r)||(!!this.southeast.insert(e,t,r)||!!this.southwest.insert(e,t,r)));this.items[this.index]=e,this.itemsSleepState[this.index]=r;var a=4*this.index;return this.itemsXYWH[a]=t[0],this.itemsXYWH[a+1]=t[1],this.itemsXYWH[a+2]=t[2],this.itemsXYWH[a+3]=t[3],this.index++,!!d(this.boundry,t)||void 0},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),n=this.southwest.reset();if(t&&r&&a&&n&&(this.deleteBranchMarker++,this.deleteBranchMarker>30)){var o=s[this.northeast.capacity];o||(o=s[this.northeast.capacity]=[]),o.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),h=function(){function e(e,t,r,a,n){var o=this;void 0===a&&(a=8),void 0===n&&(n=!1),this.divide=!1,this.findIndex=function(e,t){if(void 0===t&&(t=null),t){if((r=t.items.indexOf(e))>-1)return r;t.divide&&(o.findIndex(e,t.northeast),o.findIndex(e,t.northwest),o.findIndex(e,t.southeast),o.findIndex(e,t.southwest))}else{var r;if((r=o.items.indexOf(e))>-1)return r;o.divide&&(o.findIndex(e,o.northeast),o.findIndex(e,o.northwest),o.findIndex(e,o.southeast),o.findIndex(e,o.southwest))}},this.debugAABBs=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);if(u(r,o.boundry)){for(var a=0;a<4*o.index;a+=4)t.push(A(o.itemsXYWH.slice(a,a+4)));o.divide&&(o.northeast.debugAABBs(e,t),o.northwest.debugAABBs(e,t),o.southeast.debugAABBs(e,t),o.southwest.debugAABBs(e,t))}return t},this.debugBounds=function(e){var t=[],r=[e.x,e.y,e.width,e.height];return l(o.boundry,r)&&t.push(A(o.boundry)),o.divide&&(o.northeast.debugBounds(e,t),o.northwest.debugBounds(e,t),o.southeast.debugBounds(e,t),o.southwest.debugBounds(e,t)),t},this.setup(e,t,r,a,n)}return e.prototype.shrink=function(){this.boundry[0]=0|Math.max(this.minX+1,0),this.boundry[1]=0|Math.max(this.minY+1,0),this.boundry[2]=Math.ceil(this.maxW-this.minX),this.boundry[3]=Math.ceil(this.maxH-this.minY)},e.prototype.intersectTree=function(e){var t=[],r=this.itemType===e.itemType,a=this.index;if(a>0){for(var n={},i=this.items,s=this.itemsSleepState,A=this.itemsXYWH,u=0;u<a;u++){if(0!==s[u]){var l=i[u];if(!n[l]){var c=4*u,d=A[c],p=A[c+1],f=A[c+2],h=A[c+3];n[l]=!0;var v=e.___queryXYWH(d,p,f,h,[],[],r?l:-1);v.length>0&&t.push(o([l],v))}}}this.divide&&(this.___iterateBranchAgainstTree(this.northeast,e,t,n),this.___iterateBranchAgainstTree(this.northwest,e,t,n),this.___iterateBranchAgainstTree(this.southeast,e,t,n),this.___iterateBranchAgainstTree(this.southwest,e,t,n))}return t},e.prototype.___iterateBranchAgainstTree=function(e,t,r,a){var n=e.index,i=this.itemType===t.itemType;if(n>0){for(var s=e.items,A=e.itemsSleepState,u=e.itemsXYWH,l=0;l<n;l++){if(0!==A[l]){var c=s[l];if(!a[c]){var d=4*l,p=u[d],f=u[d+1],h=u[d+2],v=u[d+3];a[c]=!0;var g=t.___queryXYWH(p,f,h,v,[],[],i?c:-1);g.length>0&&r.push(o([c],g))}}}e.divide&&(this.___iterateBranchAgainstTree(e.northeast,t,r,a),this.___iterateBranchAgainstTree(e.northwest,t,r,a),this.___iterateBranchAgainstTree(e.southeast,t,r,a),this.___iterateBranchAgainstTree(e.southwest,t,r,a))}},e.prototype.___queryXYWH=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var l=0;l<this.index;l++){var d=A[l];if(!i[d]&&d!==s){var p=4*l;t.intersectsXYWH_XYWH(e,r,a,n,u[p],u[p+1],u[p+2],u[p+3])&&(i[d]=1,o.push(d))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e,t){var r=e.radius,a=e.pos.x,n=e.pos.y,o=2*r,i=2*r,s=e.sleepingAABB?0:1;if(this.AABB_VEL){var A=e.vel.x*-t,u=e.vel.y*-t;A>0?o+=A:(a+=A,o-=A),u>0?i+=u:(n+=u,i-=u)}var c=a-r,p=n-r,f=[c,p,o,i];if(!l(this.boundry,f))return!1;if(this.references[this.totalItems]=e,this.totalItems++,!(this.index<this.capacity))return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,f,s)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,f,s)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,f,s)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,f,s)?(this.REFERENCE_INDEX++,!0):void this.REFERENCE_INDEX++;this.items[this.index]=this.REFERENCE_INDEX,this.itemsSleepState[this.index]=s;var h=4*this.index;return this.itemsXYWH[h]=c,this.itemsXYWH[h+1]=p,this.itemsXYWH[h+2]=o,this.itemsXYWH[h+3]=i,this.index++,this.REFERENCE_INDEX++,!!d(this.boundry,f)||void 0},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],n=this.maxDepth,o=this.capacity;this.northeast?(this.northeast.update(e+.5*r,t,.5*r,.5*a,o,0,n),this.northwest.update(e,t,.5*r,.5*a,o,0,n),this.southeast.update(e+.5*r,t+.5*a,.5*r,.5*a,o,0,n),this.southwest.update(e,t+.5*a,.5*r,.5*a,o,0,n)):(this.northeast=new f([e+.5*r,t,.5*r,.5*a],o,0,n),this.northwest=new f([e,t,.5*r,.5*a],o,0,n),this.southeast=new f([e+.5*r,t+.5*a,.5*r,.5*a],o,0,n),this.southwest=new f([e,t+.5*a,.5*r,.5*a],o,0,n)),this.divide=!0},e.prototype.___query=function(e,r,a,n){var o=[],i=[],s=this.items,A=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var u=0;u<this.index;u++){var l=s[u];if(!o[l]){var d=4*u;t.intersectsXYWH_XYWH(e,r,a,n,A[d],A[d+1],A[d+2],A[d+3])&&(o[l]=1,i.push(l))}}this.divide&&(this.northeast.___query(e,r,a,n,i,o),this.northwest.___query(e,r,a,n,i,o),this.southeast.___query(e,r,a,n,i,o),this.southwest.___query(e,r,a,n,i,o))}var p=i.length;if(0===p)return[];var f=new Array(p);for(u=0;u<p;u++)f[u]=this.references[i[u]];return f},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,2*t)},e.prototype.queryShape=function(e){for(var t=Number.MAX_VALUE,r=Number.MIN_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,i=e.length,s=0;s<i;s++){var A=e[s];A.x>r&&(r=A.x),A.x<t&&(t=A.x),A.y>o&&(o=A.y),A.y<n&&(n=A.y)}for(var u=new a.Rectangle(t,n,r-t,o-n),l=this.queryInt(u),c=l.length,d=0;d<c;d++)for(var p=l[d],f=new a.Rectangle(p.pos.x-p.radius,p.pos.y-p.radius,2*p.radius,2*p.radius).toPointArray(),h=0;h<4;h++){var v=f[h],g=(s=0,0),y=void 0;for(s=0,g=i-1;s<i;g=s++)e[s].y>v.y!=e[g].y>v.y&&v.x<(e[g].x-e[s].x)*(v.y-e[s].y)/(e[g].y-e[s].y)+e[s].x&&(y=!y);if(y)return[p]}return[]},e.prototype.queryRay=function(e,t){for(var r,a,o,i,s,A,u=Math.min(e.x,t.x),l=Math.min(e.y,t.y),c=Math.max(e.x,t.x)-u,d=Math.max(e.y,t.y)-l,p=this.___query(u,l,c,d),f=e.x,h=e.y,v=t.x,g=t.y,y=[],m=p.length,S=0;S<m;S++){var E=p[S],x=E.pos.x,T=E.pos.y,_=E.radius;n.LineIntersects(f,h,v,g,x-_,T-_,x+_,T-_)?y.push(E):n.LineIntersects(f,h,v,g,x+_,T-_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T+_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T-_,x-_,T+_)?y.push(E):(a=T,o=_,i=_,A=h,(r=x)>(s=f)||r+o<s||a>A||a+i<A||y.push(E))}return y},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var n,o,i,s,A,u=.7*t,l=[e.x-u,e.y-u,2*u,2*u],c=a.length,d=[],p=0;p<c;p++){var f=a[p];n=l,o=f.pos.x-f.radius,i=f.pos.y-f.radius,s=2*f.radius,A=2*f.radius,n[0]>o+s||n[0]+n[2]<o||n[1]>i+A||n[1]+n[3]<i?r.radiusIntersectXYXY(e.x,e.y,t,f.pos.x,f.pos.y,f.radius)&&d.push(f):d.push(f)}return d},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.getRangeType=function(){return"INT32"},e.prototype.setup=function(e,t,r,a,n){void 0===a&&(a=8),void 0===n&&(n=!1);var o=e.x,s=e.y,A=e.width,u=e.height;this.boundry=new Int32Array([o,s,A,u]),(o>2147483647||s>2147483647||A>2147483647||u>2147483647||o<-2147483648||s<-2147483648)&&console.log("Out of range @ Quadtree constructor "+this.boundry.join(",")+" "+i.TypesToString(this.itemType)),this.AABB_VEL=n,this.items=new Int32Array(t),this.itemsSleepState=new Uint8Array(t),this.itemsXYWH=new Int32Array(4*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=a},e.prototype.visualize=function(e,t,r,a){if(this.divide){var n=600/this.boundry[2],o=10;this.__visualize(n,o,e,t,r,a,r-300,a+40,this.northwest),this.__visualize(n,o,e,t,r,a,r-100,a+40,this.northeast),this.__visualize(n,o,e,t,r,a,r+100,a+40,this.southwest),this.__visualize(n,o,e,t,r,a,r+300,a+40,this.southeast)}},e.prototype.__visualize=function(e,t,r,a,n,o,i,s,A){r.push(n,o,i,s);var u=A.boundry;r.push(u[0]*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240,u[0]*e+100,u[1]*e+240,u[0]*e+100,(u[1]+u[3])*e+240,u[0]*e+100,(u[1]+u[3])*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240),t*=.25,A.divide?(this.__visualize(e,t,r,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,r,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,r,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,r,a,i,s,i+30*t,s+40,A.southeast)):A.southwest&&(this.__visualize(e,t,a,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,a,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,a,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,a,a,i,s,i+30*t,s+40,A.southeast))},e}();t.QuadTreeInt32=h}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexBox=void 0;var a={};t.hexBox=function(e,t,r,o){var s=a[e];if(s)return n(s,t,r,o);var A=i(e);return a[e]=A,n(A,t,r,o)};var n=function(e,t,r,a){for(var n=!0,o=[],i=0;i<3;i++){for(var s=[],A=0;A<12;A++){var u=e[i][A];u+=n?t.x-r:t.y-a,s.push(u),n=!n}o.push(s)}return o},o=function(e,t){var a=new r.Vector(0,0);return a.setLength(e),a.setAngle(t),a},i=function(e){var t=-.5*Math.PI,r=.5*Math.PI,a=o(e,t),n=o(e,t-60*Math.PI/180),i=o(e,t-120*Math.PI/180),s=o(e,r),A=o(e,r-60*Math.PI/180),u=o(e,r-120*Math.PI/180);return[[0,0,n.x,n.y,a.x,a.y,0,0,u.x,u.y,a.x,a.y],[0,0,n.x,n.y,i.x,i.y,0,0,i.x,i.y,s.x,s.y],[0,0,u.x,u.y,A.x,A.y,0,0,A.x,A.y,s.x,s.y]]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(4),r(1),r(8),r(6),r(73),r(3)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetShipPartComplex=t.vectorsToVertices=void 0;var u=new a.Vector(0,0),l=new a.Vector(0,0);t.vectorsToVertices=function(e,t,r,a,n,o,s){void 0===o&&(o=0),void 0===s&&(s=-1);for(var A=e.length,c=[],d=0;d<A;d++){var p=t[e[d]];l.set(p.x,p.y),d===s&&l.mult(o);var f=i.rotateVector(l,n,u),h=f.x+r,v=f.y+a;c.push(h,v)}return c};t.default=function(e,a,o,u,l,c,d,p){void 0===p&&(p=0);var f=d||(a.cloaked?{r:.01,b:.1,g:.1}:n.ShipColors[a.colorIndex]),h=a.life>A.PLAYER_LIFE_LOW_THRESHOLD?0:1-i.map(a.life,0,A.PLAYER_LIFE_LOW_THRESHOLD,0,1),v=s.default((p||(43===a.type?1:2))*e,!1,h),g=v.leftWing,y=v.rightWing,m=v.hood,S=v.cockpitGlass,E=v.roof,x=v.baseWingIndexes,T=v.endWingIndexes,_=v.hoodIndexes,I=v.cockpitglassIndexes,M=v.roofIndexes,L=a.cloaked?0:-.2,b=a.cloaked?0:-.4,w=a.cloaked?0:-.7,R=a.angle+.5*Math.PI,P=(a.pos.x-o)*e,O=(a.pos.y-u)*e,C=t.vectorsToVertices(x,y,P,O,R),G=t.vectorsToVertices(T,y,P,O,R),N=t.vectorsToVertices(x,g,P,O,R),B=t.vectorsToVertices(T,g,P,O,R),F=t.vectorsToVertices(_,m,P,O,R),D=t.vectorsToVertices(M,E,P,O,R),V=t.vectorsToVertices(I,S,P,O,R);return l.push.apply(l,V),r.addToColorMap(c,l,f.r+w,f.g+w,f.b+w,1),l.push.apply(l,F),r.addToColorMap(c,l,f.r+b,f.g+b,f.b+b,1),l.push.apply(l,D),r.addToColorMap(c,l,f.r,f.g,f.b,1),l.push.apply(l,C),l.push.apply(l,N),r.addToColorMap(c,l,f.r,f.g,f.b,1),l.push.apply(l,G),l.push.apply(l,B),r.addToColorMap(c,l,f.r+L,f.g+L,f.b+L,1),"ShipShape"},t.GetShipPartComplex=function(e,r,a,n,u,l){void 0===l&&(l=0);var c=r.life>A.PLAYER_LIFE_LOW_THRESHOLD?0:1-i.map(r.life,0,A.PLAYER_LIFE_LOW_THRESHOLD,0,1),d=s.default((l||(43===r.type?1:2))*e,!1,c),p=d.leftWing,f=d.rightWing,h=d.hood,v=d.cockpitGlass,g=d.roof,y=d.baseWingIndexes,m=(d.endWingIndexes,d.hoodIndexes),S=d.cockpitglassIndexes,E=d.roofIndexes,x=r.angle+.5*Math.PI,T=(r.pos.x-a)*e,_=(r.pos.y-n)*e;switch(u){case 1:return o(t.vectorsToVertices(y,f,T,_,x));case 0:return o(t.vectorsToVertices(y,p,T,_,x));case 2:return t.vectorsToVertices(m,h,T,_,x);case 4:return t.vectorsToVertices(E,g,T,_,x);case 3:return t.vectorsToVertices(S,v,T,_,x);case 5:return o(t.vectorsToVertices(y,f,T,_,x),t.vectorsToVertices(y,p,T,_,x),t.vectorsToVertices(m,h,T,_,x),t.vectorsToVertices(E,g,T,_,x),t.vectorsToVertices(S,v,T,_,x))}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operatorAtan2=t.OperatorSqrt99=t.OperatorApproxDist96=t.OperatorApproxDist97=t.getOperatorUsage=void 0;var r=0,a=0;t.getOperatorUsage=function(){var e={dist97:r,dist96:a};return r=0,a=0,e},t.OperatorApproxDist97=function(e,t){var a,n,o;return r++,e<0&&(e=-e),t<0&&(t=-t),e<t?(a=e,n=t):(a=t,n=e),o=1007*n+441*a,n<a<<4&&(o-=40*n),o+512>>10},t.OperatorApproxDist96=function(e,t){var r,n;return a++,e<0&&(e=-e),t<0&&(t=-t),e<t?(r=e,n=t):(r=t,n=e),(n<<8)+(n<<3)-(n<<4)-(n<<1)+(r<<7)-(r<<5)+(r<<3)-(r<<1)>>8};var n=new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT),o=new Float32Array(n),i=new Uint32Array(n);t.OperatorSqrt99=function(e){var t=.5*e;o[0]=e,i[0]=1597463007-(i[0]>>1);var r=o[0];return r*=1.5-t*r*r},t.operatorAtan2=function(e,t){var r=(1-(e<0)|0)<<1,a=e*r+2.220446049250313e-16,n=(t<0|0)<<1,o=1-n;return(.7853981634*(n+1)+(.1821*(a=(t-o*a)/(o*t+a))*a-.9675)*a)*r*.25}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(4)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawSparks=void 0,t.drawSparks=function(e){var t=[],r=e.game,o=e.SX,i=e.SY,s=e.gl,A=r.sparks,u=A.length;if(u>0){for(var l=0;l<u;l++){var c=A[l];t.push(c.pos.x-o,c.pos.y-i,c.pos.x+c.vel.x-o,c.pos.y+c.vel.y-i)}a.default(a.GLctx.Vertices,s),n.drawColor(t,s,.4,.4,1,1,s.LINES)}},t.default=function(e,t,a,n){if(Math.random()>.8)for(var o=Math.ceil(a*Math.random()+1),i=0;i<o;i++){var s=new r.Vector(0,-5),A=Math.random();Math.random()>.9?s.setAngle((A-.5)*Math.PI*.7+.5*Math.PI):s.setAngle((A-.5)*Math.PI*.7-.5*Math.PI);var u=new r.Vector(t.x+2*A,t.y+2*A),l={life:50+Math.random()*n,vel:s,pos:u};e.game.sparks.push(l)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSectorSize=t.gridPosToWorld=t.getPoistionXYinGrid=t.getPoistionVecXYinGrid=t.getSectorsVecWrapped=t.getSectorsVec=t.getSectors=t.getSectorsAsFlatList=t.getSectorsAsFlatListWrapped=t.getSectorIndexesAsFlatListsWrapped=t.updateGrid3d=t.updateGrid3dRadiusBased=t.addNewToGrid3d=t.RESOLUTION=void 0,t.RESOLUTION=.005;t.addNewToGrid3d=function(e,r,a){void 0===a&&(a=!1);for(var n=r.length-1;n>-1;--n){var o=r[n];if(a){var i=Math.floor(o.pos.x*t.RESOLUTION);e[Math.floor(o.pos.y*t.RESOLUTION)][i].push(o)}}},t.updateGrid3dRadiusBased=function(e,r,a){for(var n=a?2:1,o=r.length-1;o>-1;--o){var i=r[o];if(a||!i.remove)for(var s=Math.floor(i.pos.x*t.RESOLUTION),A=Math.floor(i.pos.y*t.RESOLUTION),u=Math.floor(i.radius*t.RESOLUTION)+n,l=t.getSectorIndexesAsFlatListsWrapped(e,s,A,u),c=l[0],d=l[1],p=c.length,f=0;f<p;f++)for(var h=0;h<p;h++){var v=c[f],g=e[d[h]][v];if(a)for(var y=g.length,m=0;m<y;m++)g.pop();else g.push(i)}}},t.updateGrid3d=function(e){for(var r=e.length,a=e[0].length,n=0;n<r;n++)for(var o=0;o<a;o++)for(var i=e[n][o],s=i.length,A=0;A<s;A++){var u=i[A];if(u.remove)i.splice(A,1),A--,s--;else{var l=Math.floor(u.pos.x*t.RESOLUTION),c=Math.floor(u.pos.y*t.RESOLUTION);if(l!==o||c!==n)i.splice(A,1),A--,s--,e[c][l].push(u)}}},t.getSectorIndexesAsFlatListsWrapped=function(e,t,r,a){void 0===a&&(a=1);for(var n=Math.floor(t),o=Math.floor(r),i=e[0].length-1,s=e.length-1,A=[],u=[],l=[],c=a+a+1,d=0;d<c;d++){l.push(d-a);var p=n-(d-a),f=o-(d-a),h=p<0?i+1+p:p>i?p-i:p,v=f<0?s+1+f:f>s?f-s:f;A.push(h),u.push(v)}return[A,u]},t.getSectorsAsFlatListWrapped=function(e,t,r,a){void 0===a&&(a=1);for(var n=Math.floor(t),o=Math.floor(r),i=[],s=e[0].length-1,A=e.length-1,u=[],l=[],c=[],d=a+a+1,p=0;p<d;p++){c.push(p-a);var f=n-(p-a),h=o-(p-a),v=f<0?s+1+f:f>s?f-s:f,g=h<0?A+1+h:h>A?h-A:h;u.push(v),l.push(g)}for(var y=0;y<d;y++)for(var m=0;m<d;m++){var S=u[m],E=l[y];if(!(a>1&&E===o&&S===n)){var x=e[E][S],T=x.length;for(p=0;p<T;p++)i.push(x[p])}}return i},t.getSectorsAsFlatList=function(e,t,r,a){void 0===a&&(a=1);for(var n=[],o=e[0].length,i=e.length,s=Math.max(t-a,0),A=Math.max(r-a,0),u=Math.min(t+a+1,o),l=Math.min(r+a+1,i),c=A;c<l;c++)for(var d=s;d<u;d++)for(var p=e[c][d],f=p.length,h=0;h<f;h++)n.push(p[h]);return n},t.default=function(e,r,a){for(var n=function(e,t){for(var r=[],a=0;a<t;a++){for(var n=[],o=0;o<e;o++)n.push([]);r.push(n)}return r}(Math.ceil(r*t.RESOLUTION),Math.ceil(a*t.RESOLUTION)),o=e.length,i=0;i<o;i++){var s=e[i],A=Math.floor(s.pos.x*t.RESOLUTION);n[Math.floor(s.pos.y*t.RESOLUTION)][A].push(s)}return n},t.getSectors=function(e,r,a,n){void 0===n&&(n=1);var o=Math.floor(r*t.RESOLUTION),i=Math.floor(a*t.RESOLUTION),s=Math.floor(n*t.RESOLUTION);return t.getSectorsAsFlatList(e,o,i,s)},t.getSectorsVec=function(e,r,a){void 0===a&&(a=1);var n=Math.floor(r.x*t.RESOLUTION),o=Math.floor(r.y*t.RESOLUTION),i=Math.floor(a*t.RESOLUTION);return t.getSectorsAsFlatList(e,n,o,i)},t.getSectorsVecWrapped=function(e,r,a){void 0===a&&(a=1);var n=Math.floor(r.x*t.RESOLUTION),o=Math.floor(r.y*t.RESOLUTION),i=Math.floor(a*t.RESOLUTION);return t.getSectorsAsFlatListWrapped(e,n,o,i)},t.getPoistionVecXYinGrid=function(e){return{x:Math.floor(e.x*t.RESOLUTION),y:Math.floor(e.y*t.RESOLUTION)}},t.getPoistionXYinGrid=function(e,r){return{x:Math.floor(e*t.RESOLUTION),y:Math.floor(r*t.RESOLUTION)}},t.gridPosToWorld=function(e,r,a,n){var o=e/t.RESOLUTION,i=r/t.RESOLUTION;if(n){var s=t.getSectorSize(a,n);o+=.5*s.w,i+=.5*s.h}return{x:o,y:i}},t.getSectorSize=function(e,r){return{w:e/(e*t.RESOLUTION),h:r/(r*t.RESOLUTION)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(98),r(2),r(5),r(13),r(47)],void 0===(n=function(e,t,r,a,n,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addProximityDetectionToShip=t.resetProximityDetection=void 0;var u=null;t.resetProximityDetection=function(){u=null},t.addProximityDetectionToShip=function(e,t,l){var c=t.game,d=t.SW,p=t.SH,f=(t.WW,t.WH,n.getQuadTreesObj());if(f.Asteroids){var h=[];h.push.apply(h,f.Enemies.queryVec(e.pos,d,p));var v=f.queryTreeVecIgnoreGuid(4,e.pos,.5*d,.5*p,e.guid);h.push.apply(h,v);for(var g=r.default(e,h,d,l,!1),y=r.default(e,f.SpaceSquid.queryVec(e.pos,d,p),d,l,!1),m=r.default(e,f.SpaceSpiders.queryVec(e.pos,d,p),d,l,!1),S=[],E=0;E<c.spaceSnake.length;E++){var x=c.spaceSnake[E];if(x.life>1){var T=x.segments;T.length>0&&S.push(T[T.length-1])}}var _=r.default(e,S,.8*d,l,!1);e.enemyDetection=A.posInAncient(e.pos)?[]:i(g.vectors,y.vectors,_.vectors,m.vectors);var I=i(f.Asteroids.queryVec(e.pos,d,p),f.RockFormations.queryVec(e.pos,300,300)),M=[],L=I.length;for(E=0;E<L;E++){var b=I[E];12!==b.type&&21!==b.type||M.push(b)}var w=r.default(e,M,.4*d,l,!0);if(e.asterodDetection=w.vectors,!u){u=[];o(o({},s.setImovableDefaults(null)),{vel:null,life:0,radius:0,guid:a.getGuid(),type:59})}e.anomalyDetection=r.default(e,u,d,l,!1).vectors;var R=[g,y,_,m],P=Number.MAX_VALUE,O=null;for(E=0;E<R.length;E++){var C=R[E];C.closestDistance<P&&(P=C.closestDistance,O=C.closestItem)}e.closestItem=O,e.closestItem||(e.closestItem=w.closestItem)}},t.default=function(e){for(var r=e.game,a=(e.SW,e.SH,e.WW,e.WH,r.player),n=0;n<a.length;n++){var o=a[n];t.addProximityDetectionToShip(o,e,!1)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(67),r(1),r(0),r(0),r(110),r(4)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetFogSystems=void 0;var A={};t.resetFogSystems=function(){for(var e in A){A[e].list=[]}};var u=function(e,t,r,n,o,i,s){var A=s,u=new a.Vector(0,o*Math.random());u.setAngle(Math.random()*Math.PI*2),u.addXY(r,n),e.push({txtBuf:t,vel:new a.Vector((Math.random()-.5)*A,(Math.random()-.5)*A),pos:u,scale:(.5+.5*Math.random())*i,remove:!1})},l=new a.Vector(0,0);t.default=function(e,t,a,c,d,p,f,h,v,g,y,m,S){void 0===y&&(y=256),void 0===m&&(m=10),void 0===S&&(S=-1);var E=e.gl,x=e.step,T=e.SX,_=e.SY,I=(e.SW,e.SH,e.game);e.stepMS;if(I.menuSettings.glowParticles){var M=""+p+f+h+v+y;if(s.onStage(e,c,d,700+3*t)){var L=A[M];if(!L){var b=i.createRadialGradientTexture(p,f,h,v,y,g);L=A[M]={buffer:b,list:[]}}var w=L.buffer,R=L.list;if(x>0&&!I.isPaused){if(R.length<a)for(var P=S>0?Math.min(S,a):Math.round(3*Math.random()),O=0;O<P;O++)u(R,w,c,d,t,1,m);!function(e,t,r,a){for(var n=e.length,o=0;o<n;o++){var i=e[o];if(0===o&&i.scale>.5){for(var s=0;s<5;s++)u(e,i.txtBuf,i.pos.x,i.pos.y,t*i.scale,.2*i.scale,a);i.remove=!0,i.scale=0}i.vel.mult(.99),l.set(i.vel.x,i.vel.y),l.mult(r),i.pos.add(l),r>0&&(i.scale*=.99),i.scale<.2&&(i.scale*=.98,i.scale<.01&&(i.remove=!0))}}(R,y,1,m),L.list=function(e){for(var t=[],r=e.length,a=0;a<r;a++){var n=e[a];n.remove||t.push(n)}return t}(R)}var C=Math.min(2,I.zoomTXinverted);for(O=0;O<R.length;O++){var G=R[O];r.default.addGL(E,n.default(o.GLctx.Texture,E),w,G.pos.x-T,G.pos.y-_,e,G.scale*C,G.scale*C)}}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(52),r(0)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.create=function(e,t,a,n){void 0===a&&(a=!1);var o=t.getContext("2d").getImageData(0,0,t.width,t.height),i=r.default().global_gl,s={imageData:o,w:t.width,h:t.height,length:o.data.length,texture:this.imageDataToTexture(i,o),str:e};return this.IGNORE_CACHE&&!a||(this.buffer[e]=s),s},e.addGL=function(e,t,r,n,o,i,s,A){void 0===s&&(s=1),void 0===A&&(A=1);var u=r.texture.texture,l=r.texture.width,c=r.texture.height;e.bindTexture(e.TEXTURE_2D,u);var d=a.GLAttribLocations(e,"a_texcoord"),p=a.GLUniformLocation(e,"u_matrix"),f=a.GLUniformLocation(e,"u_texture"),h=a.GLUniformLocation(e,"distortionStart"),v=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(h,Math.random()),e.uniform1f(v,Math.random());var g=window.m4;e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0);var y=g.orthographic(0,i.SW,i.SH,0,-1,1);y=g.translate(y,n-r.texture.width*s*.5,o-r.texture.height*A*.5,0),y=g.scale(y,l*s,c*A,1),e.uniformMatrix4fv(p,!1,y),e.uniform1i(f,0),e.drawArrays(e.TRIANGLES,0,6)},e.imageDataToTexture=function(e,t){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);var a={width:t.width,height:t.height,texture:r,index:this.textureIndex};return this.textureIndex++,e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a},e.textBatch={},e.textureIndex=0,e.MaxErrTypeWarns=4,e.NumErrTypeWarns=0,e.positionBuffer=null,e.positions=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.texcoords=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.INITIALIZATION=!0,e.IGNORE_CACHE=!0,e.initializationBuffer={},e.buffer={},e.CACHE_SPLIT_KEY="[-_-]",e}();t.default=n}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(6),r(1),r(16),r(11),r(41),r(41),r(20),r(18),r(27),r(27),r(5),r(24),r(54)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxRotateSpiderLeg=t.minRotateSpiderLeg=t.updateSpiderLeg=t.SpaceSpiders=void 0;var v=new n.Vector(0,0);t.SpaceSpiders=function(e){var n=e.game,g=e.WW,S=e.WH,E=e.step;if(p.getQuadTreesObj().Asteroids){for(var x=A.getBaseTargetArrays(e),T=0;T<n.spaceSpiders.length;T++){var _=n.spaceSpiders[T],I=s.default(_,_.pos,_.radius,2e3,x),M=Math.atan2(I.targetPos.y-_.pos.y,I.targetPos.x-_.pos.x)+Math.PI;_.angle=a.normalizeRadianAngle(_.angle);var L=.07*a.angleDelta(_.angle,M)*E;if(_.angle+=L,o.default(_,_.infected?.09*E:E),y(_),i.shift(_,g,S),u.default(n,_,!0),l.wormhole(_,e),_.stunned){_.stunned=!1;for(var b=_.legs.length,w=0;w<b;w++){var R=_.legs[w];t.updateSpiderLeg(R),t.maxRotateSpiderLeg(R,(w%2==0?(b-w)/b:w/b)+.2*Math.random(),_.angle)}}else{var P=r.distanceBetweenVectors(I.targetPos,_.pos)-2*_.radius;I.target&&P<I.target.radius+1.2*_.radius&&(I.target.vel.mult(.9),f.DamageItem(I.target,.5+.2*_.level),h.PredatorLevelUpgrade(_,I.target));var O=.0033*Math.min(P,300);v.set(.1*O,0),v.setAngle(_.angle+Math.PI),_.vel.add(v),_.vel.getLength()>4&&_.vel.setLength(4),_.vel.mult(.99);var C=c.default(_,_.angle,d.getGenericAvoidance(_,e,[],[]));if(_.vel.add(C.avoidance),e.IS_MULTIPLAYER){if(e.IS_SERVER)continue}else if(!i.onStage(e,_,15*_.radius))continue;for(w=0;w<_.legs.length;w++){R=_.legs[w];if(w>=2&&w<=5){var G=R.bones[R.bones.length-1];G.pos.x-=.1*(G.pos.x-I.targetPos.x),G.pos.y-=.1*(G.pos.y-I.targetPos.y);for(var N=R.bones.length-1;N>0;N--)m(R.bones[N-1],R.bones[N],!1);var B=R.bones[0];B.pos.x=_.pos.x,B.pos.y=_.pos.y;for(N=1;N<R.bones.length;N++)m(R.bones[N],R.bones[N-1],!0)}else{t.updateSpiderLeg(R);var F=.6*_.vel.getLength();_.swimPosInL?_.swimPosL+=L>.01?_.swimPosL*(1.089-1)*F*E:L<-.01?_.swimPosL*(1.019-1)*F*E:_.swimPosL*(1.089-1)*F*E:_.swimPosL+=L>.01?_.swimPosL*(.89-1)*F*E:L<-.01?_.swimPosL*(.969-1)*F*E:_.swimPosL*(.89-1)*F*E,_.swimPosInR?_.swimPosR+=L>.01?_.swimPosR*(1.019-1)*F*E:_.swimPosR*(1.089-1)*F*E:_.swimPosR+=L>.01?_.swimPosR*(.969-1)*F*E:_.swimPosR*(.89-1)*F*E,w<4?t.maxRotateSpiderLeg(R,_.swimPosL,_.angle):w>3&&t.maxRotateSpiderLeg(R,_.swimPosR,_.angle),_.swimPosL>=1?(_.swimPosL=.99,_.swimPosInL=!1):_.swimPosL<=.01&&(_.swimPosL=.01,_.swimPosInL=!0),_.swimPosR>=1?(_.swimPosR=.99,_.swimPosInR=!1):_.swimPosR<=.01&&(_.swimPosR=.01,_.swimPosInR=!0)}}}}return"Space spiders"}};var g=new n.Vector(0,0),y=function(e){for(var t=0;t<e.legs.length;t++){var r=e.legs[t].bones[0];r.angle=r.staticAngle+e.angle,g.set(.7*e.radius,0),g.setAngle(r.angle),r.pos.set(g.x+e.pos.x,g.y+e.pos.y)}};function m(e,t,n){var o,i=e.length,s=e.pos.x-t.pos.x,A=e.pos.y-t.pos.y,u=Math.atan2(A,s),l=a.normalizeRadianAngle(t.angle);n&&(u=t.maxRange<0?(o=a.normalizeRadianAngle(-r.angleDifference(l,u)))>t.minRange?a.normalizeRadianAngle(l+t.minRange):o<t.maxRange?a.normalizeRadianAngle(l+t.maxRange):a.normalizeRadianAngle(l+o):(o=a.normalizeRadianAngle(-r.angleDifference(l,u)))<t.minRange?a.normalizeRadianAngle(l+t.minRange):o>t.maxRange?a.normalizeRadianAngle(l+t.maxRange):a.normalizeRadianAngle(l+o));e.pos.x=t.pos.x+Math.cos(u)*i,e.pos.y=t.pos.y+Math.sin(u)*i,n&&(e.angle=a.normalizeRadianAngle(u))}t.updateSpiderLeg=function(e){for(var t=e.bones,r=t.length,a=1;a<r;a++){var n=t[a-1],o=t[a];g.set(o.length,0),g.setAngle(n.angle),o.pos.x=n.pos.x+g.x,o.pos.y=n.pos.y+g.y}},t.minRotateSpiderLeg=function(e){var t=e.bones,r=t.length;t[0].angle=a.normalizeRadianAngle(t[0].staticAngle+t[0].minRange);for(var n=1;n<r;n++){var o=t[n-1],i=t[n];i.angle=a.normalizeRadianAngle(i.minRange+o.angle)}},t.maxRotateSpiderLeg=function(e,t,r){void 0===t&&(t=1);var n=e.bones,o=n.length,i=n[0];i.angle=a.normalizeRadianAngle(i.maxRange*t-i.minRange+r);for(var s=1;s<o;s++){var A=n[s-1],u=n[s];u.angle=a.normalizeRadianAngle(u.maxRange*t-u.minRange+A.angle)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(11),r(16),r(41),r(2),r(3),r(5),r(70),r(7),r(48)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParasiteTree=t.getShipLayoutIDX=void 0;var d=new r.Vector(0,0);t.getShipLayoutIDX=function(){var e=Math.random();return e>.66?[0,1]:e>.33?[1,2]:[0,2]};var p=new u.QuadTreeUint16Point(new l.Rectangle(0,0,0,0),5,28);t.getParasiteTree=function(){return p},t.default=function(e){var r=e.game,h=e.WW,v=e.WH,g=e.step;r.IS_PROCEDURAL&&p instanceof u.QuadTreeUint16Point?p=new c.QuadTreeInt32Point(new l.Rectangle(0,0,0,0),100,100):!r.IS_PROCEDURAL&&p instanceof c.QuadTreeInt32Point&&(p=new u.QuadTreeUint16Point(new l.Rectangle(0,0,0,0),100,100));var y=A.getQuadTreesObj();if(y.Asteroids&&!r.settings_be_the_snake_mode){var m=e.game.parasites,S=m.length;p.reset(),r.IS_PROCEDURAL?p.setup(r.proceduralBounds,5,28):p.setup(new l.Rectangle(0,0,h,v),5,28);for(var E=0;E<S;E++){var x=m[E];if(x.segments.length<2)r.parasites.splice(E,1),E--,S--;else{var T=x.segments[x.segments.length-1];T||(console.log("PARASITE ERROR"),console.log(JSON.stringify(x)),console.log(x));var _=T.pos;if(x.pos.setFromVec(_),p.insert(x),x.life-=g,x.life<100){if(x.target&&x.target.ship.guid===e.game.playerGuid&&(!e.IS_MULTIPLAYER||e.IS_SERVER)){var I={life:s.NOTIFICATION_LIFE,type:65,message:"PARASITE DETACHED FROM SHIP"};r.notifications.unshift(I)}x.target=null}x.life<-500&&x.segments.pop();var M=o.default(x,_,50,300,[y.Enemies,y.Player,y.Drones]);if(x.life>100&&!x.target&&M.targetIsIM&&i.distanceBetweenVectors(M.targetPos,T.pos)<20){var L=t.getShipLayoutIDX();if(x.life+=500+500*Math.random(),x.target={ship:M.target,valueBetween:Math.random(),idxA:L[0],idxB:L[1]},M.target.guid===e.game.playerGuid&&(!e.IS_MULTIPLAYER||e.IS_SERVER)){I={life:s.NOTIFICATION_LIFE,type:64,message:"PARASITE ATTACHED TO SHIP"};r.notifications.unshift(I)}}if(x.target){var b=x.target.ship;if(b.life<1){x.target=null;continue}b.life>5?b.life-=.05*g:M.targetPos=x.restPos,b.vel.x*=.98,b.vel.y*=.98,b.turnAcc*=.9;var w=b.comp[0].vertex,R=x.target.idxA,P=x.target.idxB,O=i.midpoint(w[R],w[P],x.target.valueBetween);T.pos.set(O.x,O.y)}else{x.life<100&&(M.targetPos=x.restPos),x.targetShift>100?x.tsValue=-g:x.targetShift<-100&&(x.tsValue=g),x.targetShift+=x.tsValue*g*12;var C=Math.atan2(M.targetPos.y-T.pos.y,M.targetPos.x-T.pos.x);d.set(x.targetShift,0),d.setAngle((x.targetShift>0?.5*Math.PI:-.5*Math.PI)+C);var G=Math.atan2(M.targetPos.y+d.y-T.pos.y,M.targetPos.x+d.x-T.pos.x);T.vel.addXY(.1,.1),T.vel.setAngle(M.targetIsIM?G:C),M.targetIsIM||(d.mult(.05),T.vel.add(d)),x.life<90?T.vel.getLength()>7&&T.vel.setLength(7):T.vel.getLength()>3&&T.vel.setLength(3),T.offsetFront.setAngle(C),T.offsetRear.setAngle(C-Math.PI),n.default(T,g)}f(x.segments),a.shift(T,h,v)}}return"parasite"}};var f=function(e){for(var t=e.length-1;t>0;t--){var r=e[t];h(e[t-1],r)}};function h(e,t){var r=2*e.radius,a=e.pos.x-t.pos.x,n=e.pos.y-t.pos.y,o=Math.atan2(n,a);e.pos.x=t.pos.x+Math.cos(o)*r,e.pos.y=t.pos.y+Math.sin(o)*r,e.angle=o,e.offsetFront.setAngle(o),e.offsetRear.setAngle(o-Math.PI)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(23),r(104)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeUint16Point=t.intersectsUintArr16_XYWH=t.intersectsUintArr16XY=void 0;var o={};t.intersectsUintArr16XY=function(e,t,r){return!(e[0]>t||e[0]+e[2]<t||e[1]>r||e[1]+e[3]<r)},t.intersectsUintArr16_XYWH=function(e,t,r,a,n){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+n||e[1]+e[3]<r)};var i=8,s=function(){function e(e,t,r,a){this.divide=!1,this.boundry=new Uint16Array(e),this.capacity=r>=a?t*i:t,this.items=new Uint16Array(this.capacity),this.itemsXY=new Uint16Array(2*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,n,o,i){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=n,this.currentDepth=o,this.maxDepth=i,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],n=this.boundry[3],s=this.currentDepth+1,A=this.maxDepth,u=s>=A?this.capacity*i:this.capacity;if(this.northeast)this.northeast.update(t+Math.ceil(.5*a),r,Math.ceil(.5*a),Math.ceil(.5*n),u,s,A),this.northwest.update(t,r,Math.ceil(.5*a),Math.ceil(.5*n),u,s,A),this.southeast.update(t+Math.ceil(.5*a),r+Math.ceil(.5*n),Math.ceil(.5*a),Math.ceil(.5*n),u,s,A),this.southwest.update(t,r+Math.ceil(.5*n),Math.ceil(.5*a),Math.ceil(.5*n),u,s,A);else{var l=o[u];if(l&&l.length>4)return this.northeast=l.pop(),this.northwest=l.pop(),this.southeast=l.pop(),this.southwest=l.pop(),void this.subDivide();this.northeast=new e([t+Math.ceil(.5*a),r,Math.ceil(.5*a),Math.ceil(.5*n)],u,s,A),this.northwest=new e([t,r,Math.ceil(.5*a),Math.ceil(.5*n)],u,s,A),this.southeast=new e([t+Math.ceil(.5*a),r+Math.ceil(.5*n),Math.ceil(.5*a),Math.ceil(.5*n)],u,s,A),this.southwest=new e([t,r+Math.ceil(.5*n),Math.ceil(.5*a),Math.ceil(.5*n)],u,s,A)}this.divide=!0},e.prototype.___query=function(e,r,a,o,i,s,A){void 0===A&&(A=-1);var u=this.items,l=this.index,c=this.itemsXY;if(t.intersectsUintArr16_XYWH(this.boundry,e,r,a,o)){for(var d=0;d<l;d++){var p=u[d];if(!s[p]&&p!==A){var f=2*d;n.intersectsXYWH_XY(e,r,a,o,c[f],c[f+1])&&(s[p]=!0,i.push(p))}}this.divide&&(this.northeast.___query(e,r,a,o,i,s,A),this.northwest.___query(e,r,a,o,i,s,A),this.southeast.___query(e,r,a,o,i,s,A),this.southwest.___query(e,r,a,o,i,s,A))}return i},e.prototype.insert=function(e,r,a){if(!t.intersectsUintArr16XY(this.boundry,r,a))return!1;if(this.index<this.capacity){this.items[this.index]=e;var n=2*this.index;return this.itemsXY[n]=r,this.itemsXY[n+1]=a,this.index++,!0}return this.divide||this.subDivide(),!!this.northeast.insert(e,r,a)||(!!this.northwest.insert(e,r,a)||(!!this.southeast.insert(e,r,a)||!!this.southwest.insert(e,r,a)))},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),n=this.southwest.reset();if(t&&r&&a&&n&&(this.deleteBranchMarker++,this.deleteBranchMarker>3)){var i=o[this.northeast.capacity];i||(i=o[this.northeast.capacity]=[]),i.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),A=function(){function e(e,t,r,a){void 0===a&&(a=8),this.divide=!1,this.setup(e,t,r,a)}return e.prototype.___queryXYWH=function(e,r,a,o,i,s,A){void 0===A&&(A=-1);var u=this.items,l=this.itemsXY;if(t.intersectsUintArr16_XYWH(this.boundry,e,r,a,o)){for(var c=0;c<this.index;c++){var d=u[c];if(!s[d]&&d!==A){var p=2*c;n.intersectsXYWH_XY(e,r,a,o,l[p],l[p+1])&&(s[d]=1,i.push(d))}}this.divide&&(this.northeast.___query(e,r,a,o,i,s,A),this.northwest.___query(e,r,a,o,i,s,A),this.southeast.___query(e,r,a,o,i,s,A),this.southwest.___query(e,r,a,o,i,s,A))}return i},e.prototype.insert=function(e){var r=e.pos.x,a=e.pos.y;if(!t.intersectsUintArr16XY(this.boundry,r,a))return!1;if(this.references[this.totalItems]=e,this.totalItems++,this.index<this.capacity){this.items[this.index]=this.REFERENCE_INDEX;var n=2*this.index;return this.itemsXY[n]=r,this.itemsXY[n+1]=a,this.index++,this.REFERENCE_INDEX++,!0}return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,r,a)?(this.REFERENCE_INDEX++,!0):(this.REFERENCE_INDEX++,!1)},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],n=this.maxDepth,o=this.capacity;this.northeast?(this.northeast.update(e+Math.ceil(.5*r),t,Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.northwest.update(e,t,Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.southeast.update(e+Math.ceil(.5*r),t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a),o,0,n),this.southwest.update(e,t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a),o,0,n)):(this.northeast=new s([e+Math.ceil(.5*r),t,Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.northwest=new s([e,t,Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.southeast=new s([e+Math.ceil(.5*r),t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n),this.southwest=new s([e,t+Math.ceil(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)],o,0,n)),this.divide=!0},e.prototype.___query=function(e,r,a,o){var i=[],s=[],A=this.items,u=this.itemsXY;if(t.intersectsUintArr16_XYWH(this.boundry,e,r,a,o)){for(var l=0;l<this.index;l++){var c=A[l];if(!i[c]){var d=2*l;n.intersectsXYWH_XY(e,r,a,o,u[d],u[d+1])&&(i[c]=1,s.push(c))}}this.divide&&(this.northeast.___query(e,r,a,o,s,i),this.northwest.___query(e,r,a,o,s,i),this.southeast.___query(e,r,a,o,s,i),this.southwest.___query(e,r,a,o,s,i))}var p=s.length;if(0===p)return[];var f=new Array(p);for(l=0;l<p;l++)f[l]=this.references[s[l]];return f},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,t)},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var o=.7*t,i=[e.x-o,e.y-o,2*o,2*o],s=a.length,A=[],u=0;u<s;u++){var l=a[u];n.intersectsArr_XY(i,l.pos.x,l.pos.y)?A.push(l):r.radiusIntersectPoint(e.x,e.y,t,l.pos.x,l.pos.y)&&A.push(l)}return A},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.setup=function(e,t,r,n){void 0===n&&(n=8);var o=Math.max(0,e.x),i=Math.max(0,e.y),s=e.width,A=e.height;this.boundry=new Uint16Array([o,i,s,A]),(o>65535||i>65535||s>65535||A>65535)&&console.log("Out of range @ Quadtree constructor "+this.boundry.join(",")+" "+a.TypesToString(this.itemType)),this.items=new Uint16Array(t),this.itemsXY=new Uint16Array(2*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=n},e.prototype.getRangeType=function(){return"UINT16"},e.prototype.getDepth=function(){return console.error("depth not implemented"),-1},e.prototype.visualize=function(e,t,r,a,n,o,i){if(void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=.3),this.divide){var s=i,A=10;this.__visualize(s,A,e,t,r,a,r-300,a+40,this.northwest,n,o),this.__visualize(s,A,e,t,r,a,r-100,a+40,this.northeast,n,o),this.__visualize(s,A,e,t,r,a,r+100,a+40,this.southwest,n,o),this.__visualize(s,A,e,t,r,a,r+300,a+40,this.southeast,n,o)}},e.prototype.__visualize=function(e,t,r,a,n,o,i,s,A,u,l){var c=A.boundry;r.push((u+c[0])*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+c[1])*e,(u+(c[0]+c[2]))*e,(l+(c[1]+c[3]))*e,(u+c[0])*e,(l+c[1])*e,(u+c[0])*e,(l+(c[1]+c[3]))*e,(u+c[0])*e,(l+(c[1]+c[3]))*e,(u+(c[0]+c[2]))*e,(l+(c[1]+c[3]))*e),t*=.25,A.divide?(this.__visualize(e,t,r,a,i,s,i-30*t,s+40,A.northwest,u,l),this.__visualize(e,t,r,a,i,s,i-10*t,s+40,A.northeast,u,l),this.__visualize(e,t,r,a,i,s,i+10*t,s+40,A.southwest,u,l),this.__visualize(e,t,r,a,i,s,i+30*t,s+40,A.southeast,u,l)):A.southwest&&(this.__visualize(e,t,a,a,i,s,i-30*t,s+40,A.northwest,u,l),this.__visualize(e,t,a,a,i,s,i-10*t,s+40,A.northeast,u,l),this.__visualize(e,t,a,a,i,s,i+10*t,s+40,A.southwest,u,l),this.__visualize(e,t,a,a,i,s,i+30*t,s+40,A.southeast,u,l))},e}();t.QuadTreeUint16Point=A}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(3),r(9)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];n.push(a.default.createSplitted("MISSION "+e,r.TEXT_SIZE_MEDIUM,"r")),n.push(a.default.createSplitted(" ",r.TEXT_SIZE_MEDIUM,"r"));for(var o=0;o<t.length;o++)n.push(a.default.createSplitted(t[o],r.TEXT_SIZE_MEDIUM,"r"));return n.push(a.default.createSplitted(" ",r.TEXT_SIZE_MEDIUM,"r")),n.push(a.default.createSplitted("PRESS ANY KEY TO CONTINUE.",r.TEXT_SIZE_MEDIUM,"r")),n}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyUpdater=t.RigidBodyCreatorBase=void 0,t.RigidBodyCreatorBase=function(e,t,a,n,o){return{shape:e,comp:a,pos:new r.Vector(n,o),opos:{x:n,y:o},m:t,inv_m:0===t?0:1/t,inertia:0,inv_inertia:0,elasticity:.99,friction:.01,angFriction:.1,maxSpeed:0,vel:new r.Vector(0,0),acc:new r.Vector(0,0),keyForce:1,angKeyForce:.1,angle:0,angVel:0}},t.bodyUpdater=function(e){e.acc.unit(),e.acc.mult(e.keyForce),e.vel.add(e.acc),e.vel.mult(1-e.friction),0!==e.maxSpeed&&e.vel.mag()>e.maxSpeed&&(e.vel.unit(),e.vel.mult(e.maxSpeed)),e.angVel*=1-e.angFriction}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.offsetVectorArray=void 0;var a={};t.offsetVectorArray=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);for(var a=e.length,n=0;n<a;n++)e[n].x=e[n].x+t,e[n].y=e[n].y+r;return e};var n=function(e,t){for(var r=e.length,a=0;a<r;a++)e[a].mult(t);return e},i=function(e,t){for(var r=function(e){for(var t=e.length,r=[],a=0;a<t;a++)r.push(e[a].clone());return r}(e),a=r.length,n=0;n<a;n++){var o=r[n];"x"!==t&&"xy"!==t||(o.x=-1*o.x),"y"!==t&&"xy"!==t||(o.y=-1*o.y)}return r};t.default=function(e,s,A){void 0===e&&(e=2),void 0===s&&(s=!1),void 0===A&&(A=0);var u=function(e,t){return e+"_"+t}(e,A);if(!s&&a[u])return a[u];var l=new r.Vector(1,-13,0),c=new r.Vector(2,-12,1),d=new r.Vector(1,0,2),p=new r.Vector(4-2.5*A,2,3),f=new r.Vector(2,2,4),h=new r.Vector(2,4,5),v=new r.Vector(1,6,6),g=new r.Vector(6-2*A,6,7),y=new r.Vector(6-3*A,8,8),m=new r.Vector(4-2*A,8-1*A,9),S=new r.Vector(2,8.5-2*A,10),E=new r.Vector(2,0),x=new r.Vector(2,6);t.offsetVectorArray([E,x],0,3);var T=o([l.id,c.id,d.id],[d.id,c.id,p.id],[d.id,p.id,f.id],[f.id,p.id,h.id],[h.id,p.id,S.id],[h.id,v.id,S.id]),_=o([p.id,S.id,g.id],[S.id,g.id,m.id],[g.id,y.id,m.id]),I=n(t.offsetVectorArray([l,c,d,p,f,h,v,g,y,m,S],0,3),e),M=new r.Vector(l.x,l.y+2*e),L=o([M,d],i([M,d],"x")),b=new r.Vector(v.x+.2*e,v.y),w=new r.Vector(d.x-.2*e,d.y+1.5*e),R=o([b,w],i([b,w],"x")),P=n(o([E,x],i([E,x],"x")),e),O=i(I,"x");O[0].x+=4*e*A,O[1].x+=4.5*e*A,I[0].x+=3*e*A,I[1].x+=2*e*A,I[1].y+=1*e*A,I[0].y+=2*e*A,I[8].x-=3*e*A,O[8].x-=1.3*e*A,L[0].x+=3*e*A,L[2].x+=4*e*A;var C={leftWing:O,rightWing:I,hood:L,cockpitGlass:P,roof:R,baseWingIndexes:T,endWingIndexes:_,hoodIndexes:[0,1,2,1,2,3],cockpitglassIndexes:[0,1,2,1,2,3],roofIndexes:[0,1,2,1,2,3]};return s||(a[u]=C),C}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(3),r(10)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msToTime=void 0,r.default.createSplitted("1234567890:",n.TEXT_SIZE_SMALL,"g"),r.default.createSplitted("1234567890:",n.TEXT_SIZE_LARGE,"g");var i=r.default.create("You survived for",n.TEXT_SIZE_SMALL,"w"),s=r.default.create("1",n.TEXT_SIZE_MEDIUM,"g"),A=r.default.create("1",n.TEXT_SIZE_LARGE,"r");t.msToTime=function(e){var t=Math.floor(e%1e3/100),r=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60),n=Math.floor(e/36e5);return(n>0?(n<10?"0"+n:n)+":":"")+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)+":"+t};var u=-1;t.default=function(e){var l=e.game,c=e.gl,d=l.resW;l.resH;if(l.menuSettings.gameClock&&!(l.currentLevel<=14)){var p=o.default(e),f=p?l.fromClock>0?l.fromClock-l.clock:l.clock:u;u=f;var h=s,v=n.TEXT_SIZE_SMALL;l.fromClock&&(l.clock>l.fromClock&&(f=0),f<1e4&&(v=n.TEXT_SIZE_LARGE,h=A));var g=r.default.createSplitted(t.msToTime(f),v,p?"g":"r",""),y=a.default(a.GLctx.Texture,c);return r.default.addListGL(c,y,g,d-8*h.w+8,8,e),p||r.default.addGL(c,y,i,d-(8*h.w+8+i.w),8,e),"clock"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(5)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineOfSight=void 0,t.getLineOfSight=function(e,t){return 0===r.getQuadTreesObj().queryRay([0,1,21],e,t.pos).filter(function(e){return 22===e.type||e.radius>t.radius}).length}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findEnemyShipWithGuid=t.findDroneWithGuid=t.findShipLikeWithGuid=t.findPlayerWithGuid=void 0,t.default=function(e,t){for(var r=e.game.player,a=r.length,n=0;n<a;n++){var o=r[n];if(t.ownerGuid===o.guid)return o}return null},t.findPlayerWithGuid=function(e,t){for(var r=e.game.player,a=r.length,n=0;n<a;n++){var o=r[n];if(t===o.guid)return o}return null},t.findShipLikeWithGuid=function(e,t,r){var a;switch(r){case 1:a=e.game.enemies;break;case 43:a=e.game.drones;break;case 39:a=e.game.player;break;case 2:a=e.game.npcs;break;default:return null}for(var n=a.length,o=0;o<n;o++){var i=a[o];if(t===i.guid)return i}return null},t.findDroneWithGuid=function(e,t){for(var r=e.game.drones,a=r.length,n=0;n<a;n++){var o=r[n];if(t===o.guid)return o}return null},t.findEnemyShipWithGuid=function(e,t){for(var r=e.game.enemies,a=r.length,n=0;n<a;n++){var o=r[n];if(t===o.guid)return o}return null}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(6),r(15)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableShipMousecontrol=t.ShipWeaponLoadout=void 0,t.ShipWeaponLoadout=["FIRE","MISSILE","DOWN","CHARGE","ELECTROBASTARDRAY","BOOST"];var n={x:-1,y:-1},o=!1,i=!1,s=!1,A=!1;t.enableShipMousecontrol=function(){window.addEventListener("mousemove",function(e){n.x=e.x,n.y=e.y;var t=a.default().engine.game;t.currentLevel>14?t.menuSettings.mouseControl||s||(t.notifications.push({type:63,life:1e3,message:"Mouse control can be enabled in menu. ESC/OPTIONS/STEER WITH MOUSE [ON]"}),s=!0):14===t.currentLevel&&(A||(A=!0,t.notifications.push({type:63,life:1e3,message:"Use arrow UP/DOWN and ENTER/ESCAPE to navigate menu"})))}),window.addEventListener("mousedown",function(e){2===e.button?i=!0:0===e.button&&(o=!0)}),window.addEventListener("mouseup",function(e){2===e.button?i=!1:0===e.button&&(o=!1)}),window.addEventListener("wheel",function(e){u=Math.sign(e.deltaY)})};var u=0;t.default=function(e){0!==u&&(!function(e,r){var a=e.selectedPrimaryWeapon+r;a<0||a>t.ShipWeaponLoadout.length-1||(e.selectedPrimaryWeapon=a)}(e,u),u=0);var a=Math.atan2(n.y-(e.pos.y-e.SY),n.x-(e.pos.x-e.SX));e.angle=r.normalizeRadianAngle(e.angle);var s=r.angleDelta(e.angle,a);s<-.05?(e.keyCodes.LEFT=!0,e.keyCodes.RIGHT=!1):s>.05?(e.keyCodes.RIGHT=!0,e.keyCodes.LEFT=!1):(e.keyCodes.RIGHT=!1,e.keyCodes.LEFT=!1),e.keyCodes[t.ShipWeaponLoadout[e.selectedPrimaryWeapon]]=i,e.keyCodes.UP=o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(0),r(46),r(2),r(163),r(3),r(4),r(62),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.RayCaster=t.ignoreRayCasterShape=t.drawShipTriangleForRayCaster=t.blockCirclePolyForRayCaster2=void 0,t.blockCirclePolyForRayCaster2=function(e,t,r,a,n,o,i,s,u,c,d){for(var p=e=t<10?3:e,f=r+Math.cos(A.doublePI*(p/e)+n)*t>>0,h=a+Math.sin(A.doublePI*(p/e)+n)*t>>0,v=[],g=[];p>-1;--p){var y=r+Math.cos(A.doublePI*(p/e)+n)*t>>0,m=a+Math.sin(A.doublePI*(p/e)+n)*t>>0;v.push(f-s,h-u,y-s,m-u),g.push({ax:f-s,ay:h-u,bx:y-s,by:m-u}),f=y,h=m}for(var S=g.length,E=0;E<S;E++){var x=g[E],T=(P=x.ax)-c,_=(O=x.ay)-d,I=(C=x.bx)-c,M=(G=x.by)-d,L=l.OperatorApproxDist97(T,_)+l.OperatorApproxDist97(I,M);g[E].dist=L}var b=g.sort(function(e,t){return e.dist-t.dist}),w=Math.ceil(.5*e)+1;for(E=0;E<w;E++){var R=b[E],P=R.ax,O=R.ay,C=R.bx,G=R.by;o.push(P,O,C,G)}},t.drawShipTriangleForRayCaster=function(e,t,r,a,n,o){t.x,t.y;o.push(e[0].x-a,e[0].y-n,e[1].x-a,e[1].y-n),o.push(e[0].x-a,e[0].y-n,e[2].x-a,e[2].y-n),o.push(e[1].x-a,e[1].y-n,e[2].x-a,e[2].y-n)},t.ignoreRayCasterShape=function(e,t){return i.distanceBetweenXYXY(e.pos.x,e.pos.y,t.x,t.y)<=.95*e.radius},t.RayCaster=function(e,i,A,l,p,f,h,v,g,y,m){void 0===v&&(v=!1),void 0===g&&(g=-1);var S=A.game,E=A.gl,x=A.SH,T=A.SW,_=A.SX,I=A.SY,M=S.resW/T,L=i>4?i:1e3*i*M;if(o.onStage(A,e.x,e.y,L)){d=[];var b=c.getQuadTreesObj();if(b.Asteroids){var w=e.x-_,R=e.y-I;if(v)for(var P=S.player,O=0;O<P.length;O++){var C=P[O];C.life>0&&!t.ignoreRayCasterShape(C,e)&&t.drawShipTriangleForRayCaster(C.comp[0].vertex,C.pos,T,_,I,d)}else{var G=b.queryTreeVecIgnoreGuid(4,new r.Vector(e.x,e.y),L,L,g);for(O=0;O<G.length;O++){var N=G[O];N.life>0&&t.drawShipTriangleForRayCaster(N.comp[0].vertex,N.pos,T,_,I,d)}}var B=b.Asteroids.queryVec(e,L,L);B.push.apply(B,b.SpacePortCannons.queryVec(e,L,L)),B.push.apply(B,b.RockFormations.queryVec(e,L,L)),B.push.apply(B,b.AncientBlocks.queryVec(e,L,L));for(O=0;O<B.length;O++){var F=B[O];u.inPerimiter(F.pos,e,L,L,F.radius)&&(21!==F.type&&t.ignoreRayCasterShape(F,e)||t.blockCirclePolyForRayCaster2(F.sides,F.radius>10?F.radius-2:F.radius,F.pos.x,F.pos.y,F.angle,d,x,_,I,w,R))}var D=b.Destroyers.queryVec(e,L,L);for(O=0;O<D.length;O++){var V=D[O];u.inPerimiter(V.pos,e,L,L,V.radius)&&t.drawShipTriangleForRayCaster(V.comp[0].vertex,V.pos,T,_,I,d)}var X=b.Enemies.queryVec(e,L,L);for(O=0;O<X.length;O++){var H=X[O];u.inPerimiter(H.pos,e,L,L,H.radius)&&(t.ignoreRayCasterShape(H,e)||t.drawShipTriangleForRayCaster(H.comp[0].vertex,H.pos,T,_,I,d))}var k=b.Npcs.queryVec(e,L,L);for(O=0;O<k.length;O++){var W=k[O];u.inPerimiter(W.pos,e,L,L,W.radius)&&(t.ignoreRayCasterShape(W,e)||t.drawShipTriangleForRayCaster(W.comp[0].vertex,W.pos,T,_,I,d))}var U=b.Drones.queryVec(e,L,L);for(O=0;O<U.length;O++){var Y=U[O];u.inPerimiter(Y.pos,e,L,L,Y.radius)&&(t.ignoreRayCasterShape(Y,e)||t.drawShipTriangleForRayCaster(Y.comp[0].vertex,Y.pos,T,_,I,d))}var z=S.spaceSnake,j=z.length;for(O=0;O<j;O++)for(var q=z[O].segments,K=0;K<q.length;K++){var Z=q[K];u.inPerimiter(Z.pos,e,L,L,Z.radius)&&(t.ignoreRayCasterShape(Z,e)||t.blockCirclePolyForRayCaster2(10,1.2*Z.radius,Z.pos.x,Z.pos.y,Z.angle,d,x,_,I,w,R))}var Q=w-.5*L,J=w+.5*L,$=R-.5*L,ee=R+.5*L,te=[{a:{x:Q,y:$},b:{x:J,y:$}},{a:{x:J,y:$},b:{x:J,y:ee}},{a:{x:J,y:ee},b:{x:Q,y:ee}},{a:{x:Q,y:ee},b:{x:Q,y:$}}];if(void 0!==y&&void 0!==m){var re=new r.Vector(e.x+Math.cos(y-.5*m)*L,e.y+Math.sin(y-.5*m)*L),ae=new r.Vector(e.x+Math.cos(y+.5*m)*L,e.y+Math.sin(y+.5*m)*L),ne=new r.Vector(2*Math.cos(y),2*Math.sin(y));te.push({a:{x:w-ne.x,y:R-ne.y},b:{x:re.x-_,y:re.y-I}},{a:{x:w-ne.x,y:R-ne.y},b:{x:ae.x-_,y:ae.y-I}})}te.push.apply(te,s.polysToPair(d));var oe=s.getSightPolygon(e.x-_,e.y-I,te);d=[],d=[e.x-_,e.y-I];var ie=s.pairToPolys(oe);if(d.push.apply(d,ie),ie.length>1&&d.push(ie[0],ie[1]),d.length>0){a.default(n.GLctx.VerticesGradient,E);var se=a.GLUniformLocation(E,"u_pos_x"),Ae=a.GLUniformLocation(E,"u_pos_y"),ue=a.GLUniformLocation(E,"u_perimiter");E.uniform1f(se,w),E.uniform1f(Ae,R),E.uniform1f(ue,L),u.drawColor(d,E,l,p,f,h,E.TRIANGLE_FAN)}}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};a=[r,t,r(42),r(1),r(108),r(109),r(3),r(74),r(170),r(49),r(15)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStorageUsedKB=t.getGameSaves=t.loadGame=t.deleteSavedGame=t.saveGame=void 0;var p=function(e,t){var r={life:A.NOTIFICATION_LIFE,type:63,message:t};e.notifications.unshift(r)},f=function(e){for(var t in e){var r=e[t];if(r)if(r.isVector)e[t]=new a.Vector(r.x,r.y,r.id);else if(r.isMuscleSegment){var o=r,i=new s.MuscleSegment(o.width,new n.Muscle(o.leftMuscle.minLength,o.leftMuscle.maxLength),new n.Muscle(o.rightMuscle.minLength,o.rightMuscle.maxLength),o.centerX,o.centerY,o.angle,o.desiredAngleVsTarget);e[t]=i}else"object"==typeof e[t]&&f(e[t])}};t.saveGame=function(e,t){try{var a=t||"LVL:"+e.currentLevel+" t:"+u.msToTime(e.clock),n=r.loadData("gameSaves")||[];if(n.filter(function(e){return e===a}).length>0)return void p(e,"ALREADY SAVED AT THIS LOCATION");n.push(a);e.allKeyCodes,e.notifications,e.performance,e.resH,e.resW,e.currentResH,e.currentResW,e.state,e.SW,e.SH,e.playerGuidHash;var o=i(e,["allKeyCodes","notifications","performance","resH","resW","currentResH","currentResW","state","SW","SH","playerGuidHash"]),s=r.loadData("descriptor")||l.getDescriptor(),A=l.pack(o,s,!0),c=A.result,d=r.saveData(a,c),f=r.saveData("descriptor",A.descriptor);console.log("Game save",d,"descriptor",f);var h=(r.loadInt("saveSize")||0)+d;console.log("save int","saveSize",h),r.saveInt("saveSize",h),r.saveData("gameSaves",n),p(e,"GAME SAVED")}catch(t){console.error(t),p(e,"UNABLE TO SAVE GAME")}},t.deleteSavedGame=function(e,t){var a=r.loadData("gameSaves")||[];a.push(t);var n=a.filter(function(e){return e!==t}),o=r.loadData(t);if(o){JSON.stringify(o).length;var i=r.loadInt("saveSize");r.saveInt("saveSize",i)}r.saveData(t,{deletedGame:!0}),r.saveData("gameSaves",n),p(e,"SAVE DELETED")},t.loadGame=function(e,t){var a=t.game,n=o({},a),i=performance.now(),s=r.loadData(e),A=l.unpack(s,r.loadData("descriptor"),function(){});for(var u in console.warn("hardcoded mapsize in loadgame"),c.default(d.default().engine,t,function(e){return{WW:16e3,WH:16e3}}),f(A),A)a[u]=A[u];a.SW=n.SW,a.SH=n.SH,a.resH=n.resH,a.resW=n.resW;performance.now();p(a,"GAME LOADED")},t.getGameSaves=function(){return r.loadData("gameSaves")||[]},t.getStorageUsedKB=function(){return Math.ceil((r.loadInt("saveSize")||0+JSON.stringify(r.loadData("descriptor")||{}).length)/1e3)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(9),r(0),r(3),r(171),r(111)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubtitle=t.resetSubtitles=void 0;var A=null,u=[],l={},c=0,d=0;t.resetSubtitles=function(){l={},c=0},t.createSubtitle=function(e){if(!A){if(l[e.text.join("")]>0)return!1;l[e.text.join("")]=e.noShowAgainMS,A=e;for(var t=0,r=0;r<e.text.length;r++)t+=e.text[r].length," "+e.text[r];return d=c=Math.max(5e3,90*t),!0}return!1};var p=0,f=0;t.default=function(e){var t=e.game,h=e.gl,v=e.SH,g=(e.SX,e.SY,e.stepMS),y=e.step;e.SW;if(t.menuSettings.commanderHelp){if(t.currentLevel<=14)return c=0,void(A=null);for(var m in l)l[m]-=g;if((c-=g)<0&&(A=null,f=0),0!==t.player.length&&A){u=[];var S=A,E=v-80,x=o.TEXT_SIZE_SMALL;f<1&&c>.5*d?f+=.05:c<300&&(f-=.05)<0&&(f=0),f>.4&&(f=.4);for(var T=[],_=S.text.length-1;_>-1;_--){var I=a.default.create(S.text[_],x,"w");T.push(I),r.fillPoly(-1,16,E-4,I.w+8,x+8,u),E-=x+16}s.showVideoFeed(e,60,E-40,S.face);var M=function(e,t,r,a,n){void 0===n&&(n=1);var o=[],s=n<.5?(.5-n)*e*.5:0;o.push(r+s,a,r+s+10,a);for(var A=e-(s+10),u=s+10;u<A;u++)o.push(r+u,a+44*i.PerlinNoise2d(p+.22*u,5)*n);return o.push(r-s+e-10,a,r+e-s,a),p+=8.9*t,o}(80,y,130,E,f);n.default(n.GLctx.Vertices,h),r.drawColor(M,h,0,.5,0,1,h.LINE_STRIP),h.disable(h.BLEND),r.drawColor(u,h,.1,.1,.1,.66),h.enable(h.BLEND);var L=n.default(c<200||c>d-200?n.GLctx.TextureDist:n.GLctx.Texture,h);for(_=S.text.length-1;_>-1;_--){I=T[_];E+=x+16,a.default.addGL(h,L,I,20,E,e,!1)}return"subtitles"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(3),r(11),r(13)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRocket=t.createRocketClient=void 0,t.createRocketClient=function(e){return o({ownerType:e.ownerType,ownerGuid:e.ownerGuid,target:e.target,type:e.target?8:9,guid:a.getGuid(),pos:new r.Vector(e.pos.x,e.pos.y),vel:new r.Vector(e.vel.x,e.vel.y),life:e.life,radius:5,angle:e.angle,thrust:new r.Vector(0,0),tailLayout:new r.Vector(30,0),netpos:new r.Vector(0,0),netvel:new r.Vector(0,0),netangle:0},s.setImovableDefaults(null))},t.createRocket=function(e,t){var i=new r.Vector(0,0);return i.setLength(e.vel.getLength()+1),i.setAngle(e.angle+.02*(Math.random()-.5)),o({ownerType:e.type,ownerGuid:e.guid,target:t,type:t?8:9,guid:a.getGuid(),pos:new r.Vector(e.pos.x+Math.cos(e.angle)*n.SHIP_LENGTH_RADIUS,e.pos.y+Math.sin(e.angle)*n.SHIP_LENGTH_RADIUS),vel:i,life:n.ROCKET_START_LIFE,radius:5,angle:e.angle,thrust:new r.Vector(0,0),tailLayout:new r.Vector(30,0),netpos:new r.Vector(0,0),netvel:new r.Vector(0,0),netangle:0},s.setImovableDefaults(null))},t.default=function(e,r){var a=e.game,n=e.WW,o=e.WH,s=r.keyCodes;if(s.DOWN)if(r.closestItem&&r.availableRockets>0&&!r.rocketFired){r.availableRockets--,r.rocketFired=!0;var A=t.createRocket(r,r.closestItem);i.shift(A,n,o),a.rockets.push(A)}else r.unableToComply=!0;if(s.MISSILE)if(r.availableMissiles>0&&!r.rocketFired){r.availableMissiles--,r.rocketFired=!0;A=t.createRocket(r);i.shift(A,n,o),a.rockets.push(A)}else(r.availableMissiles<1||r.inSafeZone)&&(r.unableToComply=!0);s.DOWN||s.MISSILE||(r.rocketFired=!1)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfectionRate=void 0,t.InfectionRate=function(){return Math.random()>.96}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(13)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParasite=void 0,t.createParasite=function(e,t,i,s,A,u){for(var l=[],c=0;c<i;c++)l.push(o({angle:0,offsetFront:new r.Vector(0,-2),offsetRear:new r.Vector(0,2),pos:new r.Vector(e,t),type:28,guid:a.getGuid(),vel:new r.Vector(0,0),life:2,radius:2},n.setImovableDefaults(null)));return o({prioritzeRestpos:!1,level:0,infected:!1,netpos:{x:e,y:t},netvel:{x:0,y:0},netangle:0,angle:0,pos:new r.Vector(0,0),vel:new r.Vector(0,0),radius:i,guid:a.getGuid(),type:28,target:null,tsValue:1,targetShift:40*Math.random(),restPos:new r.Vector(s,A),segments:l,life:u||400+100*Math.random()},n.setImovableDefaults(null))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(3),r(3)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandBonusType=void 0;var o=function(e,t,r){return e<r?e+t>r?e+t-r:t:0};t.default=function(e,t,i){var s,A=e.type,u=!1,l=0;switch(A){case 46:l=o(t.availableMines,3,a.SHIP_MAX_PROXIMITYMINES),t.availableMines+=l;break;case 45:l=o(t.life,40,n.SHIP_MAX_LIFE),t.life+=l;break;case 51:l=o(t.availableElectroBastardRays,200,n.SHIP_MAX_ELECTROBASTARDRAYS),t.availableElectroBastardRays+=l;break;case 47:l=o(t.availableRockets,3,n.SHIP_MAX_ROCKETS),t.availableRockets+=l;break;case 48:l=o(t.availableRockets,5,n.SHIP_MAX_ROCKETS),t.availableRockets+=l;break;case 50:l=o(t.availableMissiles,3,n.SHIP_MAX_MISSILES),t.availableMissiles+=l;break;case 49:l=o(t.availableRockets,8,n.SHIP_MAX_ROCKETS),t.availableRockets+=l;break;case 44:l=o(t.shields,950,n.SHIP_MAX_SHIELD),t.shields+=l;break;case 52:l=o(t.boost,80,n.SHIP_MAX_BOOST),t.boost+=l;break;case 53:t.bulletWeaponLevel++,l=1;break;case 54:i.IS_MULTIPLAYER&&!i.IS_SERVER||(s=i.game.drones).push.apply(s,r.createDrones(i,t.pos,1,t.guid)),l=1;break;case 56:l=o(t.homingBullets,120,n.SHIP_MAX_HOMING_BULLETS),t.homingBullets+=l;break;case 57:l=o(t.ultrabright,950,a.SHIP_MAX_ULTRABRIGHT),t.ultrabright=l;break;case 58:l=o(t.availableFlames,650,a.SHIP_MAX_FLAMES);default:u=!0}var c=!!l;if(e.remove=c,!u&&c&&(!i.IS_MULTIPLAYER||i.IS_SERVER)){var d={life:n.NOTIFICATION_LIFE,type:A,onlyForGuid:t.guid};i.game.notifications.unshift(d),t.score+=100}},t.getRandBonusType=function(e){if(void 0===e&&(e=.05),Math.random()<e)switch(Math.floor(16*Math.random())){case 0:return 44;case 1:return 45;case 2:case 3:case 4:return 47;case 5:return 51;case 6:return 52;case 7:case 8:return 45;case 9:return 53;case 10:return 54;case 11:return 50;case 12:return 56;case 13:return 57;case 14:return 46;case 15:return 58}return 12}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(2),r(1),r(6),r(16),r(27),r(11),r(18),r(20),r(41),r(2),r(53),r(113),r(23),r(41),r(27),r(5),r(13),r(54),r(24),r(21)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPartsFromSquid=void 0;var T=new a.Vector(0,0);t.default=function(e){var t=e.game,a=e.step,o=(e.SW,e.SH,e.SX,e.SY,e.WW),p=e.WH,f=e.stepMS;if(y.getQuadTreesObj().Asteroids){for(var m=v.getBaseTargetArrays(e),x=0;x<t.spaceSquids.length;x++){var _=t.spaceSquids[x],I=c.default(_,_.pos,_.radius,38*_.radius,m),M=I.targetPos;_.debugX=M.x,_.debugY=M.y;var L=_.tentacles;_.angle=n.normalizeRadianAngle(_.angle),T.x=200,T.y=0,T.setAngle(_.angle),T.add(_.pos);var b=_.pos,w=r.distanceBetweenVectors(b,M),R=_.angle;if(w>30){var P=Math.atan2(M.y-b.y,M.x-b.x),O=w>_.radius?.15:.3;if(_.angle+=n.angleDelta(_.angle,P)*O*a,e.IS_MULTIPLAYER&&!e.IS_SERVER){var C=d.angleDifference(_.angle,_.netangle);C>.05*Math.PI&&(_.angle-=.05*C*a)}T.x=.1,T.y=0,T.setAngle(_.angle)}else T.setLength(0),_.vel.mult(.9);var G=s.default(_,_.angle,g.getGenericAvoidance(_,e,[],[]));_.vel.add(G.avoidance),_.vel.add(T),R=d.angleDifference(_.angle,R);var N=4+.5*_.level;_.vel.getLength()>N&&_.vel.setLength(N),i.default(_,_.infected?.8*a:a),A.shift(_,o,p),l.default(t,_,!0,1,3),u.wormhole(_,e),I.targetIsIM&&!_.stunned&&w<2*I.target.radius&&(E.DamageItem(I.target,1+.1*_.level),h.ShipLike(I.target.type)&&(I.target.damageTaken=!0),S.PredatorLevelUpgrade(_,I.target));for(var B=_.angle,F=L.length,D=Math.floor(F/2),V=0;V<F;V++){var X=L[V];X.glowIndex--,X.glowIndex<0&&(X.glowIndex=X.arm.length),X.searchTime+=f;var H=X.arm[X.arm.length-1],k=X.arm[0];if(T.x=k.centerX,T.y=k.centerY,n.rotateVector(T,R,T),k.centerX=T.x,k.centerY=T.y,k.angle+=R,w<X.reach)X.target.x=M.x-_.pos.x,X.target.y=M.y-_.pos.y,X.searchTime=0,r.distanceBetweenXYXY(X.target.x,X.target.y,H.centerX,H.centerY)<5&&I.targetIsIM&&I.target.vel.mult(.666);else if(X.searchTime>20){T.x=2*X.reach,T.y=0;var W=.05*(_.infected?.1*a:a);X.swimIn?(X.swimAngle+=W,X.swimAngle>.5&&(X.swimIn=!1)):(X.swimAngle-=W,X.swimAngle<-.3&&(X.swimIn=!0));var U=X.swimAngle;V<D?n.rotateVector(T,B-U,T):n.rotateVector(T,B+U,T),X.target.x=T.x,X.target.y=T.y,X.searchTime=15*Math.random()}for(var Y=1;Y<X.arm.length;Y++){var z=X.arm[Y],j=X.arm[Y-1];z.leftMuscle.relax(),z.rightMuscle.relax(),_.stunned?Math.random()>.5?z.leftMuscle.contract():z.rightMuscle.contract():z.moveMusclesForTarget(X.target.x,X.target.y),z.updatePosition(j)}}_.stunned=!1}return"spacesquids"}},t.createPartsFromSquid=function(e,t){var r=[];f.renderSquids(t,r,[],[],[e],0,0);for(var i=r.length,s=0;s<i;s+=2){var A=r[s],u=r[s+1];x.createDust({x:A,y:u},1,1,t)}var l=new a.Vector(0,0),c=new a.Vector(0,0);for(s=1;s<10;s++){var h=o(o({isLV426:!1},m.setImovableDefaults(null)),{netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},sides:8,pos:e.pos,vel:new a.Vector(0,0),life:e.life,guid:e.guid,type:e.type,radius:.5*e.radius*s*.5,angle:e.angle,angleVel:0});p.default(h,t,0)}for(var v=e.pos.x,g=e.pos.y,y=e.tentacles,S=0;S<y.length;S++)for(var E=y[S],T=0;T<E.arm.length;T++){var _=E.arm[T],I=.5*_.leftMuscle.l+.5*_.rightMuscle.l;l.x=-.5*I,l.y=0,n.rotateVector(l,_.angle,l),c.x=.8*I,c.y=0,n.rotateVector(c,_.angle,c);var M=new a.Vector(0,.08*Math.random());M.setAngle(-.5*Math.random()*(4*Math.PI));var L=new a.Vector(l.x,l.y),b=new a.Vector(c.x,c.y),w=new a.Vector(_.centerX+v,_.centerY+g),R=o({fromType:e.type,edgeA:L,edgeB:b,rotatedEdgeA:new a.Vector(0,0),rotatedEdgeB:new a.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:w,angle:0,angleVel:.005*Math.random(),vel:M,guid:d.getGuid(),type:27,life:100+50*Math.random(),radius:_.width,width:.3*_.width},m.setImovableDefaults(null));t.game.asteroidParts.push(R)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(182)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.default(t,e)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(4),r(2),r(1),r(3),r(186),r(13),r(32),r(39),r(31)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateAncientRooms=t.CreateAncient=void 0;var p=function(e,t,r,a,n,o){void 0===o&&(o=1);for(var A=r,u=e+Math.cos(s.doublePI*(A/r)+a)*n>>0,l=t+Math.sin(s.doublePI*(A/r)+a)*n>>0,c=[],d=[];A>-1;--A){var p=A%o==0,f=e+Math.cos(s.doublePI*(A/r)+a)*n>>0,h=t+Math.sin(s.doublePI*(A/r)+a)*n>>0;p?(c.push(i(d)),d=[]):d.push(u,l,f,h),u=f,l=h}return c},f=new n.Vector(0,0),h=new n.Vector(0,0),v=new n.Vector(0,0),g=function(e,t,r,n,o,i,s){f.set(t,r),h.set(n,o);for(var u=a.distanceBetweenVectors(f,h),l=function(e,t,r,a){for(var n=[],o=0,i=a-r;o<t;){var s=e()*i+r;if(o+s>t&&(s=t-o)<r){var A=n.length-1,u=n[A];if(u<a&&a-u>s){(o+=l=a-u)>t&&(l-=o-t,o=t),n[A]=u+l;continue}if(u>r){var l;o-=l=u-r,n[A]=r;continue}}n.push(s),o+=s}return n}(e,u,i,s),c=l.length,d=0,p=[],g=0;g<c;g++){var y=l[g],m=.5*y,S=d+m;a.midpoint(f,h,S/u,v),p.push(A.createAncientBlockSingle(1.2*m,v,8,.1*g)),d+=y}return p};t.CreateAncient=function(e,t,s,l,c,d){for(var f=[],h=p(l,c,32,-.2+s,300*t,8),v=p(l,c,64,0+s,200*t,16),m=p(l,c,16,0+s,100*t,2),S=p(l,c,8,.86+s,145*t,2),E=0;E<S.length;E++){var x=S[E];f.push.apply(f,x)}for(E=0;E<m.length;E++){x=m[E];f.push.apply(f,x)}var T=[],_=0,I=1;for(E=0;E<h.length;E++){var M=h[E],L=v[E],b=m[_],w=m[I];_+=2,(I+=2)>m.length-1&&(I=1);var R=M.length,P=L.length,O=w.length;T.push(M[0],M[1]),T.push(L[0],L[1]),T.push(L[0],L[1]),T.push(b[0],b[1]),T.push(M[R-2],M[R-1]),T.push(L[P-2],L[P-1]),T.push(L[P-2],L[P-1]),T.push(w[O-2],w[O-1]),f.push.apply(f,i(M,L))}for(var C=[],G=[],N=0;N<f.length;N+=4){var B=f[0+N],F=f[1+N],D=f[2+N],V=f[3+N];C.push({start:{x:B,y:F},end:{x:D,y:V}}),G.push.apply(G,g(e,B,F,D,V,8*t,13*t))}for(N=0;N<T.length;N+=4){B=T[0+N],F=T[1+N],D=T[2+N],V=T[3+N];C.push({start:{x:B,y:F},end:{x:D,y:V}}),G.push.apply(G,g(e,B,F,D,V,2*t,5*t))}var X=[],H=p(l,c,8,1.2+s,175*t,2);for(E=0;E<H.length;E++){var k=H[E];if(k.length>0){var W=.5*k.length;X.push({pos:{x:k[W],y:k[W+1]},inhabitantType:y(e),numInhabitants:3+Math.round(6*e())})}}var U=[];r.createBlockCirclePolySingleWall(l,c,U,6,s,40*t,!1);var Y=U.length-2;for(E=2;E<Y;E+=4)G.push(A.createAncientBlockSingle(10*t,{x:U[E],y:U[E+1]},8,.1*E,!0));return G.push(A.createAncientBlockSingle(8*t,{x:l,y:c},12,0,!0)),{blocks:G,ancient:o(o({},u.setImovableDefaults(null)),{radius:300*t,pos:new n.Vector(l,c),vel:new n.Vector(0,0),type:15,rooms:X,seedKey:d,life:999999,angle:0,opos:{x:l,y:c},mass:9999999999,guid:a.getGuid(),oLife:9999999,acc:new n.Vector(0,0),walls:C})}};var y=function(e){switch(Math.floor(3*e())){case 0:return 18;case 1:return 17;case 2:return 19;default:return-1}};t.populateAncientRooms=function(e,t){for(var r,a,n,o=t.rooms,i={ownedByStructureGuid:t.guid,ownedByStructureType:t.type},s=0;s<o.length;s++){var A=o[s];switch(A.inhabitantType){case 18:var u=l.default(e,A.numInhabitants,A.pos.x,A.pos.y,null,A.pos,i);(r=e.game.spaceSquids).push.apply(r,u);break;case 18:var p=c.default(e,A.numInhabitants,A.pos.x,A.pos.y,null,A.pos,i);(a=e.game.spaceSpiders).push.apply(a,p);break;case 17:var f=d.default(e,A.numInhabitants,A.pos.x,A.pos.y,null,A.pos,i);(n=e.game.spaceSnake).push.apply(n,f)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(14)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForceFromAnomaly=t.createAnomalyPair=t.createAnomaly=void 0,t.createAnomaly=function(e,t,n,o,i,s,A,u,l,c,d){void 0===i&&(i=1),void 0===s&&(s=510),void 0===A&&(A=!0),void 0===u&&(u=!0),void 0===l&&(l=-1),void 0===c&&(c=29),void 0===d&&(d=!0),u&&a.addForce(e.game,t,n,s,i,o,d,0);var p={effect:i,radius:s,pos:new r.Vector(t,n),positive:o,seedKey:l,spawnParticles:A,type:c};return 29===c&&e.game.anomlies.push(p),p},t.createAnomalyPair=function(e,r,a,n,o,i){void 0===i&&(i=-1);var s={in:t.createAnomaly(e,r,a,!1,16,750,!0,!0,i,31,!0),out:t.createAnomaly(e,n,o,!0,16,750,!0,!0,i,30,!0)};return e.game.anomalyPairs.push(s),s},t.createForceFromAnomaly=function(e,t){a.addForce(e.game,t.pos.x,t.pos.y,t.radius,t.positive?.05*t.effect:t.effect,t.positive,!0,0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(7),r(1),r(2),r(16),r(11),r(20),r(12),r(18),r(5),r(97),r(21),r(59)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpaceBatTree=void 0;var h=new r.Rectangle(0,0,0,0),v=new d.QuadTreeUint16(h,8,72),g=[],y=0;t.getSpaceBatTree=function(){return v};var m=new a.Vector(0,0),S=new a.Vector(0,0),E={},x=function(e,t){var r=e.guid+"_"+t.guid,a=E[r];return a||(a=n.distanceBetweenVectors(e.pos,t.pos),E[r]=a,E[t.guid+"_"+e.guid]=a,a)},T=function(e,t){return h.x=e.pos.x-.5*t,h.y=e.pos.y-.5*t,h.width=t,h.height=t,v.queryInt(h)},_=function(e){m.x=0,m.y=0;for(var t=0,r=1e3,a=T(e,r),n=a.length;n<5&&r<2e3;)n=(a=T(e,r*=4)).length;for(var o=0;o<n;o++){var i=a[o];if(i.guid!==e.guid){var s=x(e,i);s>0&&s<500&&(m.add(i.pos),t++)}}return t>0?(m.div(t),L(e,m)):m},I=function(e){m.x=0,m.y=0;for(var t=0,r=T(e,1e3),n=r.length,o=0;o<n;o++){var i=r[o];if(i.guid!==e.guid)x(e,i)<500&&(m.add(i.vel),t++)}if(t>0){m.div(t),m.normalize(),m.mult(e.maxSpeed);var s=a.SubtractVector(m,e.vel,S);return s.limit(.05),s}return m},M=function(e){m.x=0,m.y=0,S.x=0,S.y=0;for(var t=0,r=T(e,80),n=r.length,o=0;o<n;o++){var i=r[o];if(i.guid!==e.guid){var s=x(e,i);if(s>0&&s<40){var A=a.SubtractVector(e.pos,i.pos,S);A.normalize(),A.div(s),m.add(A),t++}}}return t>0&&m.div(t),m.magSq()>0&&(m.normalize(),m.mult(e.maxSpeed),m.subtract(e.vel),m.limit(.05)),m},L=function(e,t){var r=a.SubtractVector(t,e.pos,m);r.normalize(),r.mult(e.maxSpeed);var n=a.SubtractVector(r,e.vel,S);return n.limit(.05),n},b=function(e,t){m.x=0,m.y=0,S.x=0,S.y=0;h.x=e.pos.x-100,h.y=e.pos.y-100,h.width=200,h.height=200;for(var r=c.getQuadTreesObj().queryTreesVec(t,e.pos,200,200),a=r.length,o=0,i=0;i<a;i++){var s=r[i],A=n.distanceBetween(s,e);if(A<s.radius+e.radius+100){var u=e.guid%2==0?.5*Math.PI:-.5*Math.PI,l=Math.atan2(s.pos.y-e.pos.y,s.pos.x-e.pos.x)+u;m.x=(A-(s.radius+e.radius))/50,m.setAngle(l),S.add(m),o++}}return o>1&&S.div(o),S};t.default=function(e){var t=e.game,a=e.WW,n=e.WH,h=e.SX,m=e.SY,S=e.step,x=e.stepMS,T=e.SW,w=e.SH,R=t.spaceBats,P=R.length;t.IS_PROCEDURAL&&v instanceof d.QuadTreeUint16?v=new f.QuadTreeInt32(new r.Rectangle(0,0,0,0),100,100):!t.IS_PROCEDURAL&&v instanceof f.QuadTreeInt32&&(v=new d.QuadTreeUint16(new r.Rectangle(0,0,0,0),100,100)),E={};var O=c.getQuadTreesObj();g=[];var C=[0,7,5,12,18],G=o([4,3,6],C),N=o([3,6],C),B=o([4,6],C),F=o([4,3],C),D=new r.Rectangle(h-1e3,m-1e3,T+2e3,w+2e3);v.reset(),v.setup(D,8,72);for(var V=0,X=[],H=0;H<P;H++){var k=R[H];if(V<75&&D.intersectsPoint(k.pos))v.insert(k,1),X.push(k),V++;else{var W=R[k.leaderIndex];k.groupLeader?(k.target=null,k.targetTree=null,v.insert(k,1),X.push(k),V++,0):(Math.abs(k.pos.x-W.pos.x)>500||Math.abs(k.pos.y-W.pos.y)>500)&&(k.pos.x=W.pos.x+100*Math.random(),k.pos.y=W.pos.y+100*Math.random())}}new r.Rectangle(h,m,T,w);var U=X.length;y+=x,Math.random()>.99&&(y=0);var Y=y<2e3;for(H=0;H<U;H++){W=R[(k=X[H]).leaderIndex];if(k.groupLeader){g=G;var z=Y&&(O.Player.queryVec(k.pos,400,400)[0]||O.Npcs.queryVec(k.pos,400,400)[0]||O.Enemies.queryVec(k.pos,400,400)[0]);if(z&&z.life>0&&!z.remove){if(k.target=z,39===z.type)z.cloaked&&(k.target=void 0);switch(z.type){case 39:k.targetTree=O.Player,g=N;break;case 2:k.targetTree=O.Npcs,g=F;break;case 1:k.targetTree=O.Enemies,g=B;break;default:k.target=null,u.LOG_GL("Bat targeting error. unknown type:"+z.type)}(j=L(k,z.pos)).mult(5),k.vel.add(j)}else k.target=null,k.targetTree=null,g=G;k.target&&(k.target.remove||k.target.life<1)&&(k.target=null,k.targetTree=null)}else if(W.target)if(W.target.life<1)W.target.remove=!0,W.target=null,W.targetTree=null;else{var j;(j=L(k,W.target.pos)).mult(5),k.vel.add(j);var q=W.targetTree.query(k)[0];if(q){if(39===q.type){var K=q;K.cloaked?q.life-=5e-4:(q.life-=.005,K.damageTaken=!0)}else q.life-=.005;var Z=k.vel.clone();Z.mult(25e-5),q.vel.add(Z),p.createDust(k.pos.toPoint(),1,0,e),q.life<1&&(q.remove=!0)}}if(!k.groupLeader&&(k.gettingBackToGroup||k.pos.x>W.pos.x+1200||k.pos.x<W.pos.x-1200||k.pos.y>W.pos.y+1200||k.pos.y<W.pos.y-1200))(j=L(k,W.pos)).mult(5),k.vel.add(j),k.gettingBackToGroup=!0,(k.pos.x<W.pos.x+200||k.pos.x>W.pos.x-200||k.pos.y<W.pos.y+200||k.pos.y>W.pos.y-200)&&(k.gettingBackToGroup=!1);else if(!W.target){var Q=M(k);Q.mult(1.75),k.vel.add(Q);var J=I(k);J.mult(1.5),k.vel.add(J);var $=_(k);$.mult(1.5),k.vel.add($)}var ee=b(k,g);k.vel.add(ee),k.vel.limit(k.gettingBackToGroup?1.75*k.maxSpeed:k.maxSpeed)}for(H=0;H<U;H++){k=X[H];A.default(t,k,!1),l.wormhole(k,e),i.default(k,S),s.shift(k,a,n)}return"spaceBats"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(0),r(121),r(4),r(1),r(2),r(10),r(66),r(4),r(20),r(28),r(5),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawRagdoll=t.getRagDollPos=void 0;var v=null,g=null,y=o(o({},f.setImovableDefaults(h.BallCreator(0,0,2,1))),{shape:0,pos:new i.Vector(0,0),vel:new i.Vector(0,0),guid:s.getGuid(),radius:2,life:2,type:76,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0,sleepingAABB:!1});t.getRagDollPos=function(){return g};var m={x:0,y:0},S={x:0,y:0},E=[],x=[],T=[],_=new i.Vector(0,0),I=0,M=1,L={},b={a:[.33,.35,.32,.3,.2,.1,.05],b:[.1,.11,.12,.12,.11,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},w={a:[.05,.11,.12,.11,.08,.075,.05],b:[.05,.1,.1,.1,.1,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},R={a:[.05,.11,.12,.11,.08,.075,.05],b:[.05,.1,.1,.1,.1,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},P={a:[.1,.13,.14,.15,.15,.15,.15,.14,.125,.11,.1].map(function(e){return 2*e}),b:[.1,.13,.15,.16,.17,.16,.13,.1,.1,.1,.1].map(function(e){return 2*e}),curves:[0,.18,.22,.25,.3,.33,.37,.4,.6,.8,1]},O={a:[.1,.1,.14,.22,0,0,.16,.1,.05,0].map(function(e){return 2*e}),b:[.1,.1,.22,.22,.22,.2,.16,.1,.05,0],curves:[0,.1,.11,.4,.7,.75,.8,.85,.9,.92]};new i.Vector(0,0);t.default=function(e){e.SW,e.gl;var r=e.game,n=(e.SX,e.SY,e.stepMS);if(E=[],T=[],x=[],!r.isPaused){var o=A.default(e);o?(v=null,g=null,I=null,M=1,m.x=o.pos.x,m.y=o.pos.y,S.x=o.vel.x,S.y=o.vel.y):(v||(v=a.createRagdoll(m.x,m.y,.66),y.vel.set(S.x,S.y)),(I+=n)>3e3&&M>0&&(M*=.97),v.anim(M))}if(v){var i=v.links.filter(function(e){return 0===e.type})[0];d.Glow(i.p0,.03,[],e,.1,0,0,1),t.drawRagdoll(e,v,3.96,1,.3,.3,.3),v.links.forEach(function(e){if(0===e.type){g={x:e.p0.x,y:e.p0.y};var t=v.getRect();if(p.getQuadTreesObj().Asteroids)for(var a=p.getQuadTreesObj().queryTreesRect([0,1,8,3,6,10,9,13,5,21],t),n=0;n<a.length;n++)v.collideIM(a[n]);y.pos.x=e.p0.x,y.pos.y=e.p0.y,c.default(r,y,!1,5),y.vel.mult(.005),e.p0.x+=y.vel.x,e.p0.y+=y.vel.y}})}return"Ragdoll"},t.drawRagdoll=function(e,t,a,o,i,A,c){var d=e.gl,p=e.SX,f=e.SY;t.links.forEach(function(e){L[e.type]=e}),t.links.forEach(function(t){var r=1;switch(t.type){case 2:case 1:case 6:case 5:r=.6}var d=t.draw(),h=null,v=null,g=null;switch(t.type){case 5:case 7:h=L[0],v=b,g=P;break;case 1:case 3:h=L[0],v=w,g=P;break;case 8:h=L[7],v=w,g=b;break;case 6:h=L[5],v=w,g=b;break;case 4:h=L[3],v=w,g=w;break;case 2:h=L[1],v=w,g=w;break;default:v=null}if(v){var y=h.draw();!function(e,t,r,a,n,o,i,s,A,u,c,d,p,f,h,v){for(var g=[e.a[e.a.length-1],t.a[0]],y=[e.b[e.b.length-1],t.b[0]],m=1,S=1/A,E=0;E<A;E++){var x=g[0]*m,T=g[1]*m,I=y[0]*m,M=y[1]*m;_.set(s,0),_.mult(x),_.setAngle(o+.5*Math.PI),_.add(a);var L=_.toPoint();_.set(s,0),_.mult(T),_.setAngle(i+.5*Math.PI),_.add(a);var b=_.toPoint();d.push(L.x-u,L.y-c,b.x-u,b.y-c),_.set(s,0),_.mult(I),_.setAngle(o-.5*Math.PI),_.add(a);var w=_.toPoint();_.set(s,0),_.mult(M),_.setAngle(i-.5*Math.PI),_.add(a);var R=_.toPoint();d.push(w.x-u,w.y-c,R.x-u,R.y-c);var P=A>1?1-m:1,O=.7*f*P+.01,C=.7*h*P+.01,G=.7*v*P+.01;l.addToColorMap(p,d,O,C,G,1),m-=S}}(g,v,0,d.a,y.end,y.angle,d.angle,a,o,p,f,E,x,i*r,A*r,c*r)}var m=t.draw();0===t.type&&u.default(e,1,600,m.a.x,m.a.y,1,.1,.1,1,"Enable",8,0,20);var S=null;switch(t.type){case 7:case 5:S=b;break;case 8:case 6:S=R;break;case 3:case 4:case 1:case 2:S=w;break;case 0:S=P;break;case 9:S=O}S&&function(e,t,r,a,n,o,i,A,u,c,d,p,f,h){for(var v=null,g=null,y=e.curves,m=e.a,S=e.b,E=1,x=1/i,T=0;T<i;T++){for(var I=0;I<y.length;I++){y.length;var M=y[I],L=m[I],b=S[I];L*=E,b*=E;var w=s.midpoint(t,r,M);_.set(o,0),_.mult(L),_.setAngle(a+.5*Math.PI),_.add(w),v&&A.push(v.x-c,v.y-d,_.x-c,_.y-d),v=_.toPoint(),_.set(o,0),_.mult(b),_.setAngle(n-.5*Math.PI),_.add(w),g&&A.push(g.x-c,g.y-d,_.x-c,_.y-d),g=_.toPoint()}var R=i>1?1-E:1,P=.7*p*R+.01,O=.7*f*R+.01,C=.7*h*R+.01;l.addToColorMap(u,A,P,O,C,1),E-=x}}(S,t.p0,t.p1,m.angle,m.angle,a,o,E,x,p,f,i*r,A*r,c*r),n.line2Poly(m.a.x-p,m.a.y-f,m.a.x+1.1*m.b.x-p,m.a.y+1.1*m.b.y-f,T,1.1)});var h=r.default(r.GLctx.Vertices,d);d.disable(d.BLEND),o>2?l.drawColorMap(x,E,h,d,d.LINES):l.drawColorMap(x,E,h,d,d.TRIANGLE_STRIP),d.enable(d.BLEND)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(20),r(16),r(18),r(11),r(1),r(2),r(5),r(6),r(13),r(127),r(21),r(25),r(75)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSpaceTurret=void 0;var v=new s.Vector(0,0);t.default=function(e){for(var t=e.game,f=e.WW,g=e.WH,y=e.step,m=e.stepMS,S=t.spaceTurrets.length,E=0;E<S;E++){var x=t.spaceTurrets[E];x.fireing=!1;var T=x.comp[0].vertex[0];T.set(x.targetLength,0),l.rotateVector(T,x.targetAngle-x.targetSpread,T);var _=x.comp[0].vertex[1];if(_.set(x.targetLength,0),l.rotateVector(_,x.targetAngle+x.targetSpread,_),T.add(x.pos),_.add(x.pos),x.overHeatTimerMS>0)x.overheatVal>30&&(x.overheatVal*=.99),x.overHeatTimerMS-=m;else if(x.bullets>0&&x.activationTimer<0)for(var I=u.getQuadTreesObj().queryShapeFirstHit(d.QtEntitiesEnemiesList,[x.pos,T,_]),M=0;M<I.length;M++){var L=I[M];if(h.getLineOfSight(x.pos,L)){var b=Math.atan2(L.pos.y+2*L.vel.y-x.pos.y,L.pos.x+2*L.vel.x-x.pos.x),w=new s.Vector(10,10);w.setAngle(b),w.setLength(25),v.setFromVec(w),v.setAngle(v.getAngle()+.5*Math.PI),v.setLength(1);var R=x.pos.clone();R.add(w);var P=o({ownerGuid:x.guid,owenerType:20,type:4,guid:A.getGuid(),pos:R,vel:w,life:400,radius:1,homing:!1},c.setImovableDefaults(null));x.overheatVal+=2,x.overheatVal>=100&&(x.overHeatTimerMS=1500),p.createDust(R,1,.1,e,v.x,v.y),t.bullets.push(P),x.bullets--,x.fireing=!0}}x.fireing||x.overheatVal>0&&x.overheatVal--,x.vel.getLength()>5&&x.vel.setLength(5),x.vel.mult(.97),x.activationTimer>0?x.activationTimer-=m:x.lightIntensity<1?x.lightIntensity+=.03*y:x.lightIntensity=0,a.default(x,y),i.shift(x,f,g),r.default(t,x,!0),n.wormhole(x,e)}return"SpaceTurret  "},t.createSpaceTurret=function(e,t){var r=e.vel.clone();r.mult(.65);var a=new s.Vector(e.pos.x+Math.cos(e.angle+Math.PI)*(e.radius+10),e.pos.y+Math.sin(e.angle+Math.PI)*(e.radius+10));t.game.spaceTurrets.push(o(o({pos:a,vel:r,guid:A.getGuid(),life:100,radius:9},c.setImovableDefaults(f.BallCreator(a.x,a.y,9,9))),{type:37,activationTimer:1100,overheatVal:0,overHeatTimerMS:0,lightIntensity:0,bullets:320,opos:a.toPoint(),targetLength:750,targetSpread:.24*Math.PI,targetAngle:e.angle+Math.PI,origin:a.clone(),fireing:!1}))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(247),r(112),r(248),r(137),r(40),r(136),r(280)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadTreesConstructionTimings=void 0;var u=0,l=0,c=0,d=0,p=0;t.getQuadTreesConstructionTimings=function(){var e=s.getNumCollisions();return{constructionItems:l,constructionTime:u,collideTime:d,resolveTime:p,cleanupTime:c,broadphase:e.broadPhase,calls:e.collisions}};var f=[];t.default=function(e){return u=i.MeasureTimeSingle(function(){l=r.default(e)}),d=i.MeasureTimeSingle(function(){f=n.default()}),p=i.MeasureTimeSingle(function(){o.default(e,f)}),e.game.IS_PROCEDURAL&&A.default(e),e.IS_MULTIPLAYER&&!e.IS_SERVER||(c=i.MeasureTimeSingle(function(){a.default(e)})),"intersections QuadTree"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(34),r(135)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circleLineColl=void 0;var o=new r.Vector(0,0);t.circleLineColl=function(e,t){o.set(e.pos.x+e.vel.x,e.pos.y+e.vel.y);var r=a.LineInterceptCircle(e.pos,o,t.pos,t.radius);if(r){var i=a.LineInterceptCircleToPositions(e.pos,o,t.pos,t.radius);return{collided:r,cp:n.getCorrectCollisionPoint(i,e)}}return{collided:r}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(13)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var i=[],s=0;s<t;)for(var A=i.length,u=Math.round(40*Math.random()+20),l=.8*e.WW*Math.random()+.1*e.WW,c=.8*e.WH*Math.random()+.1*e.WH,d=(new r.Vector(5*(Math.random()-.5),5*(Math.random()-.5)),0);d<u;d++){var p=o({target:null,gettingBackToGroup:!1,groupLeader:0===d,leaderIndex:A,pos:new r.Vector(l+Math.random()*e.SW*.01,c+Math.random()*e.SH*.01),vel:new r.Vector(5*(Math.random()-.5),5*(Math.random()-.5)),guid:a.getGuid(),maxSpeed:8,radius:30,type:72,life:100,attackMode:!1,attackTimer:0,abortedAttackTimer:0,inAttackSwarm:!1},n.setImovableDefaults(null));if(i.push(p),++s>t)break}return i}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(58),r(12),r(0),r(15),r(79)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";var A;Object.defineProperty(t,"__esModule",{value:!0}),t.getSubmenuTree=t.MenuitemType=void 0,function(e){e[e.Number=0]="Number",e[e.String=1]="String",e[e.Bool=2]="Bool"}(A=t.MenuitemType||(t.MenuitemType={}));var u=function(e,t,r){for(var a={},n=e;n<t;n+=r)a[n]={name:n+"",action:null,type:A.Bool,selected:!1},r+=1;return a},l={delete:{name:"delete",action:function(){a.LOG_GL("delete in selection menu action()"),r.deleteInSelection()}},edit:{name:"edit"},select:{name:"select",children:{rect:{name:"rect",children:{all:{name:"all"},asteroids:{name:"asteroids"},enemies:{name:"enemies"},spacesnakes:{name:"spacesnakes"},spacesquids:{name:"spacesquids"}}},point:{name:"point"}}},create:{name:"create",children:{asteroid:{name:"asteroid",children:{flood:{name:"flood",action:null,type:A.Bool,children:u(5,300,10)},single:{name:"single",action:null,type:A.Number,children:u(5,300,10)}}},drone:{name:"drone"},enemyShip:{name:"enemyShip"},spaceSquid:{name:"spaceSquid",children:u(80,220,20)},spaceSnake:{name:"spaceSnake",children:u(10,40,2)},spacePort:{name:"spacePort",children:u(300,500,50)}}},save:{name:"save",action:function(){s.saveGame(i.default().engine.game,"level editor map")}},load:{name:"load",action:function(){s.loadGame("level editor map",i.default().gui)}},time:{name:"time",children:{start:{name:"start",action:function(){return r.editorSetTimeFreeze(!1)}},stop:{name:"stop",action:function(){return r.editorSetTimeFreeze(!0)}}}},zoom:{name:"zoom",action:function(){var e=i.default().gui;e.game.SW=e.game.resW,e.game.SH=e.game.resH,n.zoom(e)}},play:{name:"play",action:function(){var e=i.default().gui;e.game.SW=e.game.resW,e.game.SH=e.game.resH,n.zoom(e)}},clear:{name:"clear",children:{all:{name:"all",action:function(){var e=i.default().engine.game;e.spaceSnake=[],e.spacePorts=[],e.asteroids=[],e.enemies=[],e.drones=[],e.spaceSquids=[]}}}}};t.default=l;var c=function(e){var t=function(t){return"posx"===e?t.pos.x:"posy"===e?t.pos.y:t[e]},a=function(t,r){"posx"===e?t.pos.x=r:"posy"===e?t.pos.y=r:t[e]=r},n={name:e,populate:function(a,n){var o=r.getEditorSingleSelection();o&&(a.name=e+"("+Math.round(t(o))+")")},children:{" - ":{name:"-",action:function(){var e=r.getEditorSingleSelection();if(e){var n=t(e);n<20?n>1&&n--:n-=10,a(e,n)}}}," + ":{name:"+",action:function(){var e=r.getEditorSingleSelection();if(e){var n=t(e);n>10?n+=10:n++,a(e,n)}}}}},o={};return o[e]=n,o},d=o(o(o(o({},c("radius")),c("life")),c("posx")),c("posy")),p=o(o(o(o({},d),c("availableRockets")),c("availableMissiles")),c("bulletWeaponLevel")),f=o({},c("life"));t.getSubmenuTree=function(e){switch(e){case 12:return d;case 39:return p;case 1:case 43:return p;case 18:return f;default:return d}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=t.chance=t.InputTypesReversed=t.normalizePos=void 0,t.normalizePos=function(e,t){var r=t.SX,a=t.SY,n=t.SW,o=t.SH,i=e.x,s=e.y;return{x:i=(i-r)/n,y:s=(s-a)/o}},t.InputTypesReversed=[],t.InputTypesReversed[0]="target x",t.InputTypesReversed[1]="target y",t.InputTypesReversed[2]="target radius",t.InputTypesReversed[3]="target type",t.InputTypesReversed[4]="has target",t.InputTypesReversed[5]="dist to target",t.InputTypesReversed[6]="ship X",t.InputTypesReversed[7]="ship Y",t.InputTypesReversed[8]="ship vel",t.InputTypesReversed[9]="ship angle",t.InputTypesReversed[10]="Fire overheat",t.InputTypesReversed[11]="target angle to ship",t.chance=function(e){return Math.random()<e},t.clamp=function(e){return e<0?0:e>1?1:e}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(2),r(7),r(34),r(23)],void 0===(n=function(e,t,r,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeUint16=t.intersectsXYWH_XYWH=void 0;var s={},A=function(e){return new a.Rectangle(e[0],e[1],e[2],e[3])},u=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},l=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},c=function(e,t,r,a,n){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+n||e[1]+e[3]<r)};t.intersectsXYWH_XYWH=function(e,t,r,a,n,o,i,s){return!(e>n+i||e+r<n||t>o+s||t+a<o)};var d=function(e,t){return t[0]>e[0]&&t[1]>e[1]&&t[0]+t[2]<e[0]+e[2]&&t[1]+t[3]<e[1]+e[3]},p=8,f=function(){function e(e,t,r,a){var n=this;this.divide=!1,this.debugBounds=function(e,t){var r=new Uint16Array([e.x,e.y,e.width,e.height]);return u(r,n.boundry)&&t.push(A(n.boundry)),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.boundry=new Uint16Array(e),this.capacity=r>=a?t*p:t,this.items=new Uint16Array(this.capacity),this.itemsSleepState=new Uint8Array(this.capacity),this.itemsXYWH=new Uint16Array(4*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,n,o,i){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=n,this.currentDepth=o,this.maxDepth=i,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],n=this.boundry[3],o=this.currentDepth+1,i=this.maxDepth,A=o>=i?this.capacity*p:this.capacity;if(this.northeast)this.northeast.update(t+.5*a,r,.5*a,.5*n,A,o,i),this.northwest.update(t,r,.5*a,.5*n,A,o,i),this.southeast.update(t+.5*a,r+.5*n,.5*a,.5*n,A,o,i),this.southwest.update(t,r+.5*n,.5*a,.5*n,A,o,i);else{var u=s[A];if(u&&u.length>4)return this.northeast=u.pop(),this.northwest=u.pop(),this.southeast=u.pop(),this.southwest=u.pop(),void this.subDivide();this.northeast=new e([t+.5*a,r,.5*a,.5*n],A,o,i),this.northwest=new e([t,r,.5*a,.5*n],A,o,i),this.southeast=new e([t+.5*a,r+.5*n,.5*a,.5*n],A,o,i),this.southwest=new e([t,r+.5*n,.5*a,.5*n],A,o,i)}this.divide=!0},e.prototype.___query=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.index,l=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var d=0;d<u;d++){var p=A[d];if(!i[p]&&p!==s){var f=4*d;t.intersectsXYWH_XYWH(e,r,a,n,l[f],l[f+1],l[f+2],l[f+3])&&(i[p]=!0,o.push(p))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e,t,r){if(!l(this.boundry,t))return!1;if(!(this.index<this.capacity))return this.divide||this.subDivide(),!!this.northeast.insert(e,t,r)||(!!this.northwest.insert(e,t,r)||(!!this.southeast.insert(e,t,r)||!!this.southwest.insert(e,t,r)));this.items[this.index]=e,this.itemsSleepState[this.index]=r;var a=4*this.index;return this.itemsXYWH[a]=t[0],this.itemsXYWH[a+1]=t[1],this.itemsXYWH[a+2]=t[2],this.itemsXYWH[a+3]=t[3],this.index++,!!d(this.boundry,t)||void 0},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),n=this.southwest.reset();if(t&&r&&a&&n&&(this.deleteBranchMarker++,this.deleteBranchMarker>30)){var o=s[this.northeast.capacity];o||(o=s[this.northeast.capacity]=[]),o.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),h=function(){function e(e,t,r,a,n){var o=this;void 0===a&&(a=8),void 0===n&&(n=!1),this.divide=!1,this.findIndex=function(e,t){if(void 0===t&&(t=null),t){if((r=t.items.indexOf(e))>-1)return r;t.divide&&(o.findIndex(e,t.northeast),o.findIndex(e,t.northwest),o.findIndex(e,t.southeast),o.findIndex(e,t.southwest))}else{var r;if((r=o.items.indexOf(e))>-1)return r;o.divide&&(o.findIndex(e,o.northeast),o.findIndex(e,o.northwest),o.findIndex(e,o.southeast),o.findIndex(e,o.southwest))}},this.debugAABBs=function(e,t){return console.error("NOT IMPLEMENTED"),t},this.debugBounds=function(e){var t=[],r=[e.x,e.y,e.width,e.height];return l(o.boundry,r)&&t.push(A(o.boundry)),o.divide&&(o.northeast.debugBounds(e,t),o.northwest.debugBounds(e,t),o.southeast.debugBounds(e,t),o.southwest.debugBounds(e,t)),t},this.setup(e,t,r,a,n)}return e.prototype.shrink=function(){this.boundry[0]=0|Math.max(this.minX+1,0),this.boundry[1]=0|Math.max(this.minY+1,0),this.boundry[2]=Math.ceil(this.maxW-this.minX),this.boundry[3]=Math.ceil(this.maxH-this.minY)},e.prototype.intersectTree=function(e){var t=[],r=this.itemType===e.itemType,a=this.index;if(a>0){for(var n={},i=this.items,s=this.itemsSleepState,A=this.itemsXYWH,u=0;u<a;u++){if(0!==s[u]){var l=i[u];if(!n[l]){var c=4*u,d=A[c],p=A[c+1],f=A[c+2],h=A[c+3];n[l]=!0;var v=e.___queryXYWH(d,p,f,h,[],[],r?l:-1);v.length>0&&t.push(o([l],v))}}}this.divide&&(this.___iterateBranchAgainstTree(this.northeast,e,t,n),this.___iterateBranchAgainstTree(this.northwest,e,t,n),this.___iterateBranchAgainstTree(this.southeast,e,t,n),this.___iterateBranchAgainstTree(this.southwest,e,t,n))}return t},e.prototype.___iterateBranchAgainstTree=function(e,t,r,a){var n=e.index,i=this.itemType===t.itemType;if(n>0){for(var s=e.items,A=e.itemsSleepState,u=e.itemsXYWH,l=0;l<n;l++){if(0!==A[l]){var c=s[l];if(!a[c]){var d=4*l,p=u[d],f=u[d+1],h=u[d+2],v=u[d+3];a[c]=!0;var g=t.___queryXYWH(p,f,h,v,[],[],i?c:-1);g.length>0&&r.push(o([c],g))}}}e.divide&&(this.___iterateBranchAgainstTree(e.northeast,t,r,a),this.___iterateBranchAgainstTree(e.northwest,t,r,a),this.___iterateBranchAgainstTree(e.southeast,t,r,a),this.___iterateBranchAgainstTree(e.southwest,t,r,a))}},e.prototype.___queryXYWH=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var l=0;l<this.index;l++){var d=A[l];if(!i[d]&&d!==s){var p=4*l;t.intersectsXYWH_XYWH(e,r,a,n,u[p],u[p+1],u[p+2],u[p+3])&&(i[d]=1,o.push(d))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e,t){var r=e.radius,a=e.pos.x,n=e.pos.y,o=2*r,i=2*r,s=e.sleepingAABB?0:1;if(this.AABB_VEL){var A=e.vel.x*-t,u=e.vel.y*-t;A>0?o+=A:(a+=A,o-=A),u>0?i+=u:(n+=u,i-=u)}var c=a-r,p=n-r,f=c<0?0:c,h=p<0?0:p,v=[f,h,o,i];if(!l(this.boundry,v))return!1;if(this.references[this.totalItems]=e,this.totalItems++,!(this.index<this.capacity))return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,v,s)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,v,s)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,v,s)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,v,s)?(this.REFERENCE_INDEX++,!0):void this.REFERENCE_INDEX++;this.items[this.index]=this.REFERENCE_INDEX,this.itemsSleepState[this.index]=s;var g=4*this.index;return this.itemsXYWH[g]=f,this.itemsXYWH[g+1]=h,this.itemsXYWH[g+2]=o,this.itemsXYWH[g+3]=i,this.index++,this.REFERENCE_INDEX++,!!d(this.boundry,v)||void 0},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],n=this.maxDepth,o=this.capacity;this.northeast?(this.northeast.update(e+.5*r,t,.5*r,.5*a,o,0,n),this.northwest.update(e,t,.5*r,.5*a,o,0,n),this.southeast.update(e+.5*r,t+.5*a,.5*r,.5*a,o,0,n),this.southwest.update(e,t+.5*a,.5*r,.5*a,o,0,n)):(this.northeast=new f([e+.5*r,t,.5*r,.5*a],o,0,n),this.northwest=new f([e,t,.5*r,.5*a],o,0,n),this.southeast=new f([e+.5*r,t+.5*a,.5*r,.5*a],o,0,n),this.southwest=new f([e,t+.5*a,.5*r,.5*a],o,0,n)),this.divide=!0},e.prototype.___query=function(e,r,a,n){var o=[],i=[],s=this.items,A=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var u=0;u<this.index;u++){var l=s[u];if(!o[l]){var d=4*u;t.intersectsXYWH_XYWH(e,r,a,n,A[d],A[d+1],A[d+2],A[d+3])&&(o[l]=1,i.push(l))}}this.divide&&(this.northeast.___query(e,r,a,n,i,o),this.northwest.___query(e,r,a,n,i,o),this.southeast.___query(e,r,a,n,i,o),this.southwest.___query(e,r,a,n,i,o))}var p=i.length;if(0===p)return[];var f=new Array(p);for(u=0;u<p;u++)f[u]=this.references[i[u]];return f},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,2*t)},e.prototype.queryShape=function(e){for(var t=Number.MAX_VALUE,r=Number.MIN_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,i=e.length,s=0;s<i;s++){var A=e[s];A.x>r&&(r=A.x),A.x<t&&(t=A.x),A.y>o&&(o=A.y),A.y<n&&(n=A.y)}for(var u=new a.Rectangle(t,n,r-t,o-n),l=this.queryInt(u),c=l.length,d=0;d<c;d++)for(var p=l[d],f=new a.Rectangle(p.pos.x-p.radius,p.pos.y-p.radius,2*p.radius,2*p.radius).toPointArray(),h=0;h<4;h++){var v=f[h],g=(s=0,0),y=void 0;for(s=0,g=i-1;s<i;g=s++)e[s].y>v.y!=e[g].y>v.y&&v.x<(e[g].x-e[s].x)*(v.y-e[s].y)/(e[g].y-e[s].y)+e[s].x&&(y=!y);if(y)return[p]}return[]},e.prototype.queryRay=function(e,t){for(var r,a,o,i,s,A,u=Math.min(e.x,t.x),l=Math.min(e.y,t.y),c=Math.max(e.x,t.x)-u,d=Math.max(e.y,t.y)-l,p=this.___query(u,l,c,d),f=e.x,h=e.y,v=t.x,g=t.y,y=[],m=p.length,S=0;S<m;S++){var E=p[S],x=E.pos.x,T=E.pos.y,_=E.radius;n.LineIntersects(f,h,v,g,x-_,T-_,x+_,T-_)?y.push(E):n.LineIntersects(f,h,v,g,x+_,T-_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T+_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T-_,x-_,T+_)?y.push(E):(a=T,o=_,i=_,A=h,(r=x)>(s=f)||r+o<s||a>A||a+i<A||y.push(E))}return y},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var n,o,i,s,A,u=.7*t,l=[e.x-u,e.y-u,2*u,2*u],c=a.length,d=[],p=0;p<c;p++){var f=a[p];n=l,o=f.pos.x-f.radius,i=f.pos.y-f.radius,s=2*f.radius,A=2*f.radius,n[0]>o+s||n[0]+n[2]<o||n[1]>i+A||n[1]+n[3]<i?r.radiusIntersectXYXY(e.x,e.y,t,f.pos.x,f.pos.y,f.radius)&&d.push(f):d.push(f)}return d},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.getRangeType=function(){return"UINT16"},e.prototype.setup=function(e,t,r,a,n){void 0===a&&(a=8),void 0===n&&(n=!1);var o=e.x,s=e.y,A=e.width,u=e.height;this.boundry=new Uint16Array([o<0?0:o,s<0?0:s,A,u]),(o>65535||s>65535||A>65535||u>65535)&&console.log("Out of range @ Quadtree constructor "+this.boundry.join(",")+" "+i.TypesToString(this.itemType)),this.AABB_VEL=n,this.items=new Uint16Array(t),this.itemsSleepState=new Uint8Array(t),this.itemsXYWH=new Uint16Array(4*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=a},e.prototype.visualize=function(e,t,r,a){if(this.divide){var n=600/this.boundry[2],o=10;this.__visualize(n,o,e,t,r,a,r-300,a+40,this.northwest),this.__visualize(n,o,e,t,r,a,r-100,a+40,this.northeast),this.__visualize(n,o,e,t,r,a,r+100,a+40,this.southwest),this.__visualize(n,o,e,t,r,a,r+300,a+40,this.southeast)}},e.prototype.__visualize=function(e,t,r,a,n,o,i,s,A){r.push(n,o,i,s);var u=A.boundry;r.push(u[0]*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240,u[0]*e+100,u[1]*e+240,u[0]*e+100,(u[1]+u[3])*e+240,u[0]*e+100,(u[1]+u[3])*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240),t*=.25,A.divide?(this.__visualize(e,t,r,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,r,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,r,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,r,a,i,s,i+30*t,s+40,A.southeast)):A.southwest&&(this.__visualize(e,t,a,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,a,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,a,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,a,a,i,s,i+30*t,s+40,A.southeast))},e}();t.QuadTreeUint16=h}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(1)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInsightShapeProximity=void 0;var n=new a.Vector(0,0),o=new a.Vector(0,0),i=new a.Vector(0,0),s=[n,o,i];t.getInsightShapeProximity=function(e,t){return n.set(0,0),o.set(0,0),i.set(0,0),o.setLength(1200),o.setAngle(t-.1*Math.PI),i.setLength(1200),i.setAngle(t+.1*Math.PI),n.add(e),o.add(e),i.add(e),s},t.default=function(e,n,o,i,s){for(var A=1.3*e.originalRadius,u=Number.MAX_VALUE,l=null,c=s&&t.getInsightShapeProximity(e.pos,e.angle),d=[],p=n.length,f=0;f<p;f++){var h=n[f];if(!(s&&h.radius<200)||r.fine(3,c,h.pos)){var v=r.distanceBetween(h,e)-h.radius;if(v<o&&(v<u&&(u=v,l=h),i)){var g=Math.atan2(h.pos.y-e.pos.y,h.pos.x-e.pos.x),y=new a.Vector(A,A);y.setAngle(g);var m=new a.Vector(Math.min(A+.03*(o-v),45),Math.min(A+.03*(o-v),45));m.setAngle(g),d.push({from:y,to:m})}}}return{closestDistance:u,closestItem:l,vectors:d}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(72),r(72),r(100),r(100),r(1)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WedgeCreator=t.wedgeUpdater=void 0,t.wedgeUpdater=function(e,t){a.bodyUpdater(e),e.pos.set(e.pos.x+e.vel.x*t,e.pos.y+e.vel.y*t);var r=e.comp[0];r.pos=e.pos,i.TriangleGetVertices(r,e.angle+e.angVel),e.angle+=e.angVel},t.WedgeCreator=function(e,t,a,i){var A=[n.TriangleCreator(e+20*a,t,e-20*a,t-13*a,e-20*a,t+13*a,new s.Vector(e,t))],u=new s.Vector(e,t),l=40*a,c=i*(Math.pow(l,2)+Math.pow(l,2))/12,d=0;return 0!==i&&(d=1/c),o(o({},r.RigidBodyCreatorBase(1,i,A,u.x,u.y)),{inertia:c,inv_inertia:d})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(151),r(1)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriangleGetVertices=t.TriangleCreator=void 0,t.TriangleCreator=function(e,t,n,o,i,s,A){var u=[];u[0]=new a.Vector(e,t),u[1]=new a.Vector(n,o),u[2]=new a.Vector(i,s);var l=A||new a.Vector((u[0].x+u[1].x+u[2].x)/3,(u[0].y+u[1].y+u[2].y)/3),c=new a.Vector(0,0);c.setFromVec(u[0]),c.subtr(l),c.unit();var d=c.clone(),p=[];p[0]=u[0].clone(),p[1]=u[1].clone(),p[2]=u[2].clone(),p[0].subtr(l),p[1].subtr(l),p[2].subtr(l);return{vertex:u,pos:l,dir:c,refDir:d,refDiam:p,angle:0,rotMat:r.CreateMatrix22(),shape:1}},t.TriangleGetVertices=function(e,t){r.MatrixOpRotMx22(e.rotMat,t),e.dir=r.MatrixOpMultiplyVec(e.rotMat,e.refDir,e.dir);for(var a=0;a<3;a++)r.MatrixOpMultiplyVec(e.rotMat,e.refDiam[a],e.vertex[a]),e.vertex[a].add(e.pos)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(9),r(60),r(3)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BONUS_BUFFERS=void 0;var A=o.default.create("L",s.TEXT_SIZE_SMALL,"w"),u=o.default.create("R3",s.TEXT_SIZE_SMALL,"w"),l=o.default.create("R5",s.TEXT_SIZE_SMALL,"w"),c=o.default.create("R8",s.TEXT_SIZE_SMALL,"w"),d=o.default.create("EB",s.TEXT_SIZE_SMALL,"w"),p=o.default.create("SH",s.TEXT_SIZE_SMALL,"w"),f=o.default.create("BO",s.TEXT_SIZE_SMALL,"w"),h=o.default.create("WU",s.TEXT_SIZE_SMALL,"w"),v=o.default.create("|>",s.TEXT_SIZE_SMALL,"w"),g=o.default.create("M6",s.TEXT_SIZE_SMALL,"w"),y=o.default.create("AP",s.TEXT_SIZE_SMALL,"w"),m=o.default.create("UB",s.TEXT_SIZE_SMALL,"w"),S=o.default.create("HB",s.TEXT_SIZE_SMALL,"w"),E=o.default.create("P3",s.TEXT_SIZE_SMALL,"w"),x=o.default.create("FL",s.TEXT_SIZE_SMALL,"w"),T=o.default.create("??",s.TEXT_SIZE_SMALL,"w"),_=o.default.create("LIFE",s.TEXT_SIZE_SMALL,"g"),I=o.default.create("ROCKET X3",s.TEXT_SIZE_SMALL,"g"),M=o.default.create("ROCKET X5",s.TEXT_SIZE_SMALL,"g"),L=o.default.create("ROCKET X8",s.TEXT_SIZE_SMALL,"g"),b=o.default.create("ELECTROBASTARDRAY",s.TEXT_SIZE_SMALL,"g"),w=o.default.create("SHIELD",s.TEXT_SIZE_SMALL,"g"),R=o.default.create("BOOSTERS",s.TEXT_SIZE_SMALL,"g"),P=o.default.create("WEAPON_UPGRADE",s.TEXT_SIZE_SMALL,"g"),O=o.default.create("DRONE SHIP",s.TEXT_SIZE_SMALL,"g"),C=o.default.create("MISSILE X6",s.TEXT_SIZE_SMALL,"g"),G=o.default.create("AUTOPILOT",s.TEXT_SIZE_SMALL,"g"),N=o.default.create("HOMING BULLETS",s.TEXT_SIZE_SMALL,"g"),B=o.default.create("ULTRABRIGHT",s.TEXT_SIZE_SMALL,"g"),F=o.default.create("PROXIMITY MINES X3",s.TEXT_SIZE_SMALL,"g"),D=o.default.create("FLAMETHROWER",s.TEXT_SIZE_SMALL,"g"),V=o.default.create("UNKNOWN ??",s.TEXT_SIZE_SMALL,"g");t.BONUS_BUFFERS={BUFFER_LIFE:_,BUFFER_ROCKET_X1:I,BUFFER_ROCKET_X2:M,BUFFER_ROCKET_X3:L,BUFFER_EB:b,BUFFER_SHIELD:w,BUFFER_BOOSTERS:R,BUFFER_WEAPON_UPGRADE:P,BUFFER_DRONE:O,BUFFER_UNKNOWN:V,BUFFER_MISSILE_X6:C,BUFFER_AUTOPILOT:G,BUFFER_HOMINGBULLETS:N,BUFFER_ULTRABRIGHT:B,BUFFER_PROXIMITY_MINES_X3:F,BUFFER_FLAME:D};var X=[],H=[];t.default=function(e){var t=e.SX,s=e.SY,_=e.gl;X=[],H=[];for(var I=e.game.asteroids,M=0;M<I.length;M++){var L=I[M];if(r.onStage(e,L.pos.x,L.pos.y,L.radius)){var b=L.type;if(12!==L.type){var w=null;switch(b){case 51:w=d;break;case 45:w=A;break;case 47:w=u;break;case 48:w=l;break;case 49:w=c;break;case 44:w=p;break;case 52:w=f;break;case 53:w=h;break;case 54:w=v;break;case 50:w=g;break;case 55:w=y;break;case 57:w=m;break;case 56:w=S;break;case 46:w=E;break;case 58:w=x;break;default:w=T}o.default.addGL(_,a.default(n.GLctx.Texture,_),w,L.pos.x-t-.5*L.radius+5,L.pos.y-s-.5*L.radius-5,e);var R=i.hexBox(L.radius,L.pos,t,s);X.push.apply(X,R[0]),r.addToColorMap(H,X,.1,.1,.1,1),X.push.apply(X,R[1]),r.addToColorMap(H,X,.7,.7,.7,1),X.push.apply(X,R[2]),r.addToColorMap(H,X,.3,.3,.3,1)}}}if(X.length>0){var P=a.default(n.GLctx.Vertices,_);r.drawColorMap(H,X,P,_)}return"bonuses"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(3),r(103),r(10),r(45)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distortionBracketEnd=void 0;var A=0,u=.97*n.GAME_INTRO_TIMER,l=r.default.create("ENTERED UNCHARTERED SPACE",50,"r"),c=r.default.create("MASTER CAUTION",n.TEXT_SIZE_MEDIUM,"r"),d=!1;t.default=function(e){e.ctx,e.frame;var t=e.WW,p=e.WH,f=e.game,h=e.SW,v=e.SH,g=(e.SX,e.SY,e.gl),y=e.stepMS,m=e.step,S=h/f.resW;u-=m;var E=i.default(e);o.setTargetToFrameBuffer(e);var x=!f.IS_PROCEDURAL&&s.default(E,t,p);if(x){var T=4;Math.random()>.9&&(T=64,Math.random()>.9&&(T=256)),e.SX+=(Math.random()-.5)*T,e.SY+=(Math.random()-.5)*T}return E&&E.damageTaken&&(A=500),A>0||x||!E||u>-30||f.level_completed?(A-=y,!f.level_completed&&E||(u=n.GAME_INTRO_TIMER),x&&r.default.addGL(g,a.default(a.GLctx.TextureDist,g),l,.5*h-l.w*S*.5,.8*v,e),!d,A>0&&f.currentLevel>14&&r.default.addGL(g,a.default(a.GLctx.TextureDist,g),c,.5*h-c.w*S*.5,.15*v,e),d=!0):(!!d,d=!1),"distortion begin"},t.distortionBracketEnd=function(e){var t=e.gl;if(e.game.menuSettings.noise){var r=d?a.default(a.GLctx.GameBufferDist,t):a.default(a.GLctx.GameBufferNoise,t);o.renderFrameBuffer(t,r)}else{var n=a.default(a.GLctx.Texture,t);o.renderFrameBuffer(t,n)}return"distortion end"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(4)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupFrameBuffer=t.setTargetToCanvas=t.renderFrameBuffer=t.setTargetToFrameBuffer=void 0;var o=null,i=null;t.setTargetToFrameBuffer=function(e){var t=e.gl,a=e.game;if(t.bindFramebuffer(t.FRAMEBUFFER,i),t.viewport(0,0,t.canvas.width,t.canvas.height),a.menuSettings.motionBlur){t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),r.default(r.GLctx.Vertices,t);var o=[];n.fillPoly(0,0,0,t.canvas.width,t.canvas.height,o),n.drawColor(o,t,0,0,0,.3),t.blendFunc(t.ONE,t.ONE)}else t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.renderFrameBuffer=function(e,t){e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(t),e.bindTexture(e.TEXTURE_2D,o),e.viewport(0,0,e.canvas.width,e.canvas.height);var r=a.GLAttribLocations(e,"a_texcoord"),n=a.GLUniformLocation(e,"u_matrix"),i=a.GLUniformLocation(e,"u_texture"),s=a.GLUniformLocation(e,"distortionStart"),A=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(s,Math.random()),e.uniform1f(A,Math.random());var u=window.m4;e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0);var l=u.orthographic(0,e.canvas.width,e.canvas.height,0,-1,1);l=u.translate(l,0,e.canvas.height,0),l=u.scale(l,e.canvas.width,-e.canvas.height,1),e.uniformMatrix4fv(n,!1,l),e.uniform1i(i,0),e.drawArrays(e.TRIANGLES,0,6)},t.setTargetToCanvas=function(e){e.bindFramebuffer(e.FRAMEBUFFER,null)},t.setupFrameBuffer=function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t);var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),o=e.createTexture(),e.bindTexture(e.TEXTURE_2D,o);var a=e.RGBA,n=e.RGBA,s=e.UNSIGNED_BYTE;e.texImage2D(e.TEXTURE_2D,0,a,e.canvas.width,e.canvas.height,0,n,s,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,i);var A=e.COLOR_ATTACHMENT0;e.framebufferTexture2D(e.FRAMEBUFFER,A,e.TEXTURE_2D,o,0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersectsXYWH_XY=t.intersectsArr_XY=void 0,t.intersectsArr_XY=function(e,t,r){return!(e[0]>t||e[0]+e[2]<t||e[1]>r||e[1]+e[3]<r)},t.intersectsXYWH_XY=function(e,t,r,a,n,o){return!(e>n||e+r<n||t>o||t+a<o)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(1),r(28),r(164),r(3),r(165),r(7),r(10),r(8),r(4),r(6),r(5),r(36),r(63),r(2),r(18),r(14)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawGenericShipThrust=t.drawPlayerShipThrust=void 0;var m=0,S=[[0,0,1],[0,1,0],[1,0,0]],E=0,x=[],T=new r.Vector(0,0),_=new r.Vector(0,0),I=function(e,t,a,n){return void 0===a&&(a=0),void 0===n&&(n=0),new r.Vector(e.pos.x+Math.cos(t)*-(i.SHIP_LENGTH_RADIUS+a),e.pos.y+Math.sin(t)*-(i.SHIP_LENGTH_RADIUS+n))},M=function(e,t){var r=l.ShipColors[e.colorIndex]||l.ShipColors[0],n=1;e.shields<80&&(n=.15*d.RandomStepBased(t.step,e.guid)+.85),e.shields<5&&(n=.2*d.RandomStepBased(t.step,e.guid)+.6),a.Glow(e.pos,2.5*e.radius*n,[],t,r.r,r.g,r.b,1)},L=function(e,t,r,a,o,i,s,A){void 0===A&&(A=!1),n.DirectionalGlow(e,t+a,o,Math.PI*r,i,s,s,s,1),A||(n.DirectionalGlow(e,1.25*t+a,o,Math.PI*r*.5,i,s,s,1,1),n.DirectionalGlow(e,1.5*t+a,o,Math.PI*r*.2,i,1,s,1,1),n.DirectionalGlow(e,1.65*t+a,o,Math.PI*r*.1,i,1,s,1,1))},b=new r.Vector(0,0);t.drawPlayerShipThrust=function(e,t,r){void 0===r&&(r=1);var n=.5+.2*d.RandomStepBased(t.step,e.guid),o=.1*d.RandomStepBased(t.step,e.guid)*r;b.set(e.radius*r*.4,0);var i=e.keyCodes;if(i.UP){var A=I(e,e.angle,0,0);L(A,.1,.05,o,e.angle+Math.PI,t,n)}if(i.BOOST&&e.boost>0&&!e.inSafeZone){A=I(e,e.angle,0,0);L(A,.2,.035,o,e.angle+Math.PI,t,n),d.rotateVector(b,e.angle+Math.PI,b),b.add(A),s.Flare(b,.5,t),a.Glow(b,.1,[],t,1,1,1,1)}i.LEFT&&(L(e.comp[0].vertex[2],.025,.035,o,e.angle+-.5*Math.PI,t,n),L(e.comp[0].vertex[0],.025,.035,o,e.angle+.5*Math.PI,t,n)),i.RIGHT&&(L(e.comp[0].vertex[1],.025,.035,o,e.angle+.5*Math.PI,t,n),L(e.comp[0].vertex[0],.025,.035,o,e.angle+-.5*Math.PI,t,n)),i.STRAFERIGHT&&(L(e.comp[0].vertex[2],.025,.035,o,e.angle+-.5*Math.PI,t,n),L(e.comp[0].vertex[0],.025,.035,o,e.angle+-.5*Math.PI,t,n)),i.STRAFELEFT&&(L(e.comp[0].vertex[1],.025,.035,o,e.angle+.5*Math.PI,t,n),L(e.comp[0].vertex[0],.025,.035,o,e.angle+.5*Math.PI,t,n))},t.drawGenericShipThrust=function(e,t){var r=43===e.type?.05:.3,a=.5+.2*d.RandomStepBased(t.step,e.guid),n=.05*d.RandomStepBased(t.step,e.guid),o=.05*d.RandomStepBased(t.step,e.guid),i=.05*d.RandomStepBased(t.step,e.guid),s=.05*d.RandomStepBased(t.step,e.guid),A=.05*d.RandomStepBased(t.step,e.guid);if(e.turnAcc<.01?(L(e.comp[0].vertex[2],.05*r,.07*r,n,e.angle+-.5*Math.PI,t,a,!0),L(e.comp[0].vertex[0],.05*r,.07*r,o,e.angle+.5*Math.PI,t,a,!0)):e.turnAcc>.01&&(L(e.comp[0].vertex[1],.05*r,.07*r,i,e.angle+.5*Math.PI,t,a,!0),L(e.comp[0].vertex[0],.05*r,.07*r,s,e.angle+-.5*Math.PI,t,a,!0)),!(e.vel.getLength()<2)){var u=I(e,e.angle,0,0);L(u,.2*r,.1*r,A,e.angle+Math.PI,t,a)}};var w=0,R=!0,P=0;t.default=function(e){e.WW,e.WH;var n=e.game,l=e.SW,I=e.SH,L=e.SX,b=e.SY,O=(e.gl,e.step);if(n.menuSettings.glow){x=[];var C=p.getQuadTreesObj();if(C.Asteroids){for(var G=new A.Rectangle(L,b,l,I),N=new A.Rectangle(L-f.PROXIMITY_MINE_RAY_LENGTH,b-f.PROXIMITY_MINE_RAY_LENGTH,l+2*f.PROXIMITY_MINE_RAY_LENGTH,I+2*f.PROXIMITY_MINE_RAY_LENGTH),B=C.SpaceSnakes.queryInt(G),F=B.length,D=0;D<F;D++){var V=B[D];a.Glow(V.pos,.003*V.radius*1.35,x,e,.9,.1,.1,.2)}var X=C.Npcs.queryInt(G);for(D=0;D<X.length;D++){var H=X[D];if(H.miningRig)if(4===H.miningRig.armState){var k=H.miningRig.arm[H.miningRig.arm.length-1];h.default(e,k.joint,80,20),a.Glow(k.joint,.01+.05*Math.random(),[],e,.3,.3,1*Math.random(),1)}else if(5===H.miningRig.armState){k=H.comp[0].vertex[0];h.default(e,k,80,20),a.Glow(k,.01+.05*Math.random(),[],e,.3,.3,1*Math.random(),1)}}var W=C.Asteroids.queryInt(G);F=W.length;for(D=0;D<F;D++){var U=W[D];12!==U.type&&a.Glow(U.pos,.1,x,e,.1,.9,.1,1)}var Y=C.SpaceMines.queryInt(G);F=Y.length;for(D=0;D<F;D++){var z=Y[D];a.Glow(z.pos,.03*z.lightIntensity,x,e,.6,.1,.1,1)}var j=C.SpaceTurret.queryInt(G);F=j.length;for(D=0;D<F;D++){var q=j[D];q.fireing?a.Glow(q.pos,.01+.08*d.RandomStepBased(O,q.guid),x,e,1,1,1,1):q.bullets>0&&a.Glow(q.pos,.03*q.lightIntensity,x,e,.1,.6,.3,1)}var K=C.ProximityMines.queryInt(N);F=K.length;for(D=0;D<F;D++){(z=K[D]).target?2===z.aquireMode?(z.intersectAaquired&&a.Glow(z.intersectA,.003+.015*d.RandomStepBased(O,z.guid),x,e,.1,.9,.1,1),z.intersectBaquired&&a.Glow(z.intersectB,.003+.015*d.RandomStepBased(O,z.guid),x,e,.1,.9,.1,1),a.Glow(z.pos,.01,x,e,.1,.9,.1,1)):1===z.aquireMode&&(z.intersectAaquired&&a.Glow(z.intersectA,.003+.015*d.RandomStepBased(O,z.guid),x,e,.9,.2,.1,1),z.intersectBaquired&&a.Glow(z.intersectB,.003+.015*d.RandomStepBased(O,z.guid),x,e,.9,.2,.1,1),a.Glow(z.pos,.01,x,e,.9,.2,.1,1)):a.Glow(z.pos,.015,x,e,.1,.2,1,1)}var Z=C.SpacePorts.queryInt(G);for(D=0;D<Z.length;D++){var Q=Z[D];if(Re=Q.cannons[P]){var J=Re.pos.x,$=Re.pos.y;if(Re.fireing){_.set(2*Q.wallThickness,0),d.rotateVector(_,Re.angle,_);var ee=J+_.x,te=$+_.y;a.Glow({x:ee,y:te},.05,[],e,1,1,1,1)}R?(w+=.19*O)>1&&(R=!1):(w-=.36*O)<0&&(w=0,R=!0,++P>=Q.cannons.length&&(P=0));var re=Q.weaponsActive?0:1,ae=Q.weaponsActive?1:0;a.Glow({x:J,y:$},.04*w,[],e,re,ae,.1,1)}else P=0}var ne=g.getAllAnomalies(e.game);F=ne.length;for(D=0;D<F;D++){var oe=ne[D],ie=(J=oe.pos.x,$=oe.pos.y,new r.Vector(J,$));switch(oe.type){case 29:a.Glow(ie,.1*oe.radius,x,e,.6,.1,.6,1);break;case 30:a.Glow(ie,.1*oe.radius,x,e,.6,.6,.1,1);break;case 31:a.Glow(ie,.1*oe.radius,x,e,.6,.1,.1,1)}s.Flare(ie,1,e)}var se=y.getForce2Tree().queryInt(e.game.screen.rect);for(D=0;D<se.length;D++){var Ae=se[D];1===Ae.type&&(a.Glow(Ae.pos,Math.max(.1*Ae.radius,30),[],e,1,1,1,1),s.Flare(Ae.pos,.1*Ae.radius*.01,e))}var ue=n.rockets;F=ue.length;for(D=0;D<F;D++){var le=ue[D],ce=!0;if(le.life>i.ROCKET_START_LIFE-20?ce=!1:le.life>i.ROCKET_START_LIFE-40?ce=d.RandomStepBased(e.step,le.guid)>.8:le.life>i.ROCKET_START_LIFE-60&&(ce=d.RandomStepBased(e.step,le.guid)>.4),ce){a.Glow(le.pos,.1,[],e,.8,.8,1,1),s.Flare(le.pos,.35,e)}}var de=u.default(e);if(de){var pe=de.keyCodes;!de.inSafeZone&&pe.ELECTROBASTARDRAY&&de.availableElectroBastardRays&&de.closestItem&&(a.Glow(de.closestItem.pos,.2*d.RandomStepBased(e.step,de.guid)+.1,[],e,.9,.3,.9,1),s.Flare(de.closestItem.pos,.3,e)),de.shields>0&&M(de,e),de.life>0&&t.drawPlayerShipThrust(de,e),de.keyCodes.FIRE&&!de.unableToComply&&a.Glow(de.comp[0].vertex[0],.01+.06*d.RandomStepBased(O,de.guid),x,e,1,1,1,1),n.menuSettings.lazerSight&&n.currentLevel>=14&&a.Glow(de.aimPoint,13,x,e,.3,1,.3,1)}var fe=C.Enemies.queryInt(G).concat(C.Drones.queryInt(G).concat(C.Player.queryInt(G)));F=fe.length;for(D=0;D<F;D++){var he=fe[D];de&&de.guid===he.guid||c.onStage(e,he.pos.x,he.pos.y,100)&&(he.shields>0&&M(he,e),t.drawGenericShipThrust(he,e))}var ve=C.Destroyers.queryInt(G);F=ve.length;for(D=0;D<ve.length;D++){var ge=ve[D],ye=(re=S[m][0],ae=S[m][1],S[m][2]);a.Glow(ge.comp[0].vertex[m],.01*E,[],e,re,ae,ye,1),a.GlowCustomLayout(ge.comp[0].vertex[m],.1*Math.max(0,E-.8)*3,o(ge.comp[0].vertex[0].toVertArray(L,b),ge.comp[0].vertex[1].toVertArray(L,b),ge.comp[0].vertex[2].toVertArray(L,b)),e,re,ae,ye,1),(E+=.1)>1&&(E=0,++m>2&&(m=0));for(var me=Math.min(3,ge.vel.getLength()+.5),Se=v.midpoint(ge.comp[0].vertex[2],ge.pos,.04),Ee=v.midpoint(ge.comp[0].vertex[1],ge.pos,.04),xe=(v.midpoint(ge.comp[0].vertex[2],Se,.5),v.midpoint(ge.comp[0].vertex[1],Ee,.5),v.midpoint(ge.comp[0].vertex[1],ge.comp[0].vertex[2])),Te=v.midpoint(xe,ge.pos,.1),_e=v.midpoint(xe,ge.pos,-.3),Ie=.3,Me=0;Me<5;Me++){var Le=v.midpoint(Se,Ee,.165*(Me+1));2===Me&&(Le=v.midpoint(Le,ge.pos,.02)),Me<3?Ie+=.4:Ie-=.4;var be=[Te.x-L,Te.y-b,_e.x-L,_e.y-b,ge.comp[0].vertex[1].x-L,ge.comp[0].vertex[1].y-b,Te.x-L,Te.y-b,_e.x-L,_e.y-b,ge.comp[0].vertex[2].x-L,ge.comp[0].vertex[2].y-b];a.GlowCustomLayout(Le,.13*Ie*.4+.01*Math.random(),be,e,.1+.15*me,.2+.15*me,1,1),a.GlowCustomLayout(Le,.04*Ie*.4*me*1+.01*Math.random(),be,e,1,1,1,1)}for(var we=0;we<ge.cannons.length;we++){var Re=ge.cannons[we];T.setLength(.1*ge.radius),T.setAngle(Re.angle),T.add(Re.pos),Re.fired&&(a.Glow(T,.01+.02*d.RandomStepBased(O,ge.guid),[],e,1,1,.2,1),a.GlowCustomLayout(T,.15+.15*d.RandomStepBased(O,ge.guid),o(ge.comp[0].vertex[0].toVertArray(L,b),ge.comp[0].vertex[1].toVertArray(L,b),ge.comp[0].vertex[2].toVertArray(L,b)),e,.2,.2,.1,1))}}F=n.traceLine.length;for(D=0;D<F;D++)for(var Pe=n.traceLine[D],Oe=Pe.line,Ce=Oe.length,Ge=0;Ge<Ce;Ge++){Le=Oe[Ge];a.Glow(Le,.01,[],e,Pe.r,Pe.g,Pe.b,Pe.a)}return"glow"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(10)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Darkness=t.setDarknessFollower=void 0;var i=[],s=null;t.setDarknessFollower=function(e){s=e},t.Darkness=function(e,t,o){void 0===o&&(o=1);var s=t.game,A=t.gl,u=t.SH,l=t.SW,c=t.SX,d=t.SY;i=[];var p=(l>u?l:u)*(s.resW/l)*1.5*o,f=e.x-c,h=e.y-d;if(r.fillPolyForFan(l,0,0,l,u,i),i.length>0){A.blendFunc(A.DST_COLOR,A.ZERO),a.default(n.GLctx.VerticesGradient,A);var v=n.GLUniformLocation(A,"u_pos_x"),g=n.GLUniformLocation(A,"u_pos_y");A.uniform1f(v,f),A.uniform1f(g,h);var y=n.GLUniformLocation(A,"u_perimiter");A.uniform1f(y,.5*p),r.drawColor(i,A,1,1,1,1),A.blendFunc(A.ONE,A.ONE)}},t.default=function(e){i=[];var r=e.game,a=(e.gl,e.SH),n=e.SW,A=e.SX,u=e.SY;if(!r.menuSettings.extensiveUI&&!r.settings_no_darkness){var l=1,c=o.default(e),d=s;return d||(c?(c.cloaked&&(l*=.2),d=c.pos):d={x:A+.5*n,y:u+.5*a}),t.Darkness(d,e,l),s=null,"darkness"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS=void 0,t.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS={}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Muscle=void 0;var r=function(){function e(e,t){this.minLength=e,this.maxLength=t,this.l=t}return e.prototype.toJSON=function(){return{minLength:this.minLength,maxLength:this.maxLength,l:this.l}},e.prototype.relax=function(){this.l=.98*this.l+.02*this.maxLength},e.prototype.contract=function(){this.l=.95*this.l+.05*this.minLength},e}();t.Muscle=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MuscleSegment=void 0;var r=function(e){for(;e<0;)e+=2*Math.PI;for(;e>=2*Math.PI;)e-=2*Math.PI;return e},a=function(){function e(e,t,r,a,n,o,i){this.isMuscleSegment=!0,this.width=e,this.leftMuscle=t,this.rightMuscle=r,this.centerX=a,this.centerY=n,this.angle=o,this.desiredAngleVsTarget=i,this.isMuscleSegment=!0}return e.prototype.toJSON=function(){return{width:this.width,centerX:this.centerX,centerY:this.centerY,angle:this.angle,leftMuscle:this.leftMuscle.toJSON(),rightMuscle:this.rightMuscle.toJSON(),desiredAngleVsTarget:this.desiredAngleVsTarget,isMuscleSegment:!0}},e.prototype.getLength=function(){return.5*this.leftMuscle.l+.5*this.rightMuscle.l},e.prototype.updatePosition=function(e){var t=e.centerX+Math.cos(e.angle)*e.getLength()*.5,r=e.centerY+Math.sin(e.angle)*e.getLength()*.5,a=Math.atan2(this.leftMuscle.l-this.rightMuscle.l,this.width);this.angle=e.angle+a,this.centerX=t+Math.cos(this.angle)*this.getLength()*.5,this.centerY=r+Math.sin(this.angle)*this.getLength()*.5},e.prototype.moveMusclesForTarget=function(e,t){var a=r(Math.atan2(t-this.centerY,e-this.centerX)),n=r(a-this.angle),o=r(n-this.desiredAngleVsTarget);if(o<Math.PI){var i=Math.min(.15,o/Math.PI*.5);this.rightMuscle.l=this.rightMuscle.l*(1-i)+this.rightMuscle.minLength*i}else{i=Math.min(.15,.5*(2-o/Math.PI));this.leftMuscle.l=this.leftMuscle.l*(1-i)+this.leftMuscle.minLength*i}},e}();t.MuscleSegment=a}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(67),r(52)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRadialGradientTexture=void 0;var n={};t.createRadialGradientTexture=function(e,t,o,i,s,A,u){void 0===u&&(u=!1);var l=""+e+o+t+i+s+A;if(u){var c=n[l];if(c)return c}var d=document.createElement("canvas");d.height=s,d.width=s;var p=d.getContext("2d"),f=.5*s,h=p.createRadialGradient(f,f,0,f,f,f);h.addColorStop(0,"rgba("+e+", "+o+", "+t+", "+i+")"),h.addColorStop(1,"Enable"===A?"rgba(0, 0, 0, 1)":"rgba(0, 0, 0, 0)"),p.fillStyle=h,p.fillRect(0,0,s,s);var v=r.default.create("texture1",d,!0,a.default().global_gl);return u&&(n[l]=v),v}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(67),r(172),r(52),r(0),r(0)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showVideoFeed=void 0;var s=[],A=!1,u=!1,l=function(e,t){A=!0;var a=document.createElement("canvas");a.height=90,a.width=100;var o=a.getContext("2d"),i=new Image;i.crossOrigin="Anonymous",i.setAttribute("crossOrigin",""),i.onload=function(){o.drawImage(i,0,0),o.lineWidth=1,o.beginPath();for(var A=0;A<a.height;A+=4)o.moveTo(0,A),o.lineTo(a.width,A);o.stroke(),s[t]||(s[t]=[]),s[t].push(r.default.create("texture1",a,!0,n.default().global_gl)),e.length>0?l(e,t):u=!0},i.src=e.pop()},c=0,d=0,p=0;t.showVideoFeed=function(e,t,a,n){e.game;var A=e.gl,l=(e.SH,e.SX,e.SY,e.stepMS);e.step,e.SW;(c+=l)>p&&(c=0,p=20+Math.random()*Math.random()*1088,d=Math.floor(s[n].length*Math.random())),Math.random();if(u){var f=s[n][d];f&&r.default.addGL(A,o.default(Math.random()>.26?i.GLctx.TextureDist:i.GLctx.Texture,A),f,t+0,a+0,e,1.4,1.4)}},t.default=function(e){e.game,e.gl,e.SH,e.SX,e.SY,e.stepMS,e.step,e.SW;if(!A)for(var t=0;t<a.faces.length;t++)l(a.faces[t],t);return"videofeed"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(181),r(57),r(14)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanList=void 0,t.cleanList=function(e,t,r,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var i=[],s=e.length,A=!!r,u=t.game.IS_PROCEDURAL;if(o)for(var l=0;l<s;l++){(c=e[l]).remove||c.life<1&&c?(n&&a.pool_put(c.type,c),A&&r(c,t),u&&t.game.proceduralDestroyedData.push(c)):i.push(c)}else for(l=0;l<s;l++){var c;(c=e[l]).ownedByStructureType&&c.ownedByStructureGuid?i.push(c):c.remove||c.life<1||!c.inTree?(n&&a.pool_put(c.type,c),A&&r(c,t),u&&t.game.proceduralDestroyedData.push(c)):i.push(c)}return i};var o=0;t.default=function(e){var a=e.game;e.WW,e.WH;o=performance.now();for(var i=0;i<a.spaceSnake.length;i++){var s=a.spaceSnake[i];s.segments=t.cleanList(s.segments,e,r.default)}a.asteroids=t.cleanList(a.asteroids,e,r.default),a.rockFormations=t.cleanList(a.rockFormations,e,r.default);for(i=0;i<a.spacePorts.length;i++){var A=a.spacePorts[i];if(A.cannons=t.cleanList(A.cannons,e,r.default),A.centerNoneCannon.remove){if(A.life=0,A.cannons.length>0){if(Math.random()>.75){var u=A.cannons.pop();u.remove=!0,r.default(u,e)}}else A.cannons=[],A.remove=!0,a.spacePorts.splice(i,1),n.addForceExplosion(a,A.pos.x,A.pos.y,250,4);break}}a.bullets=t.cleanList(a.bullets,e,null,!0),a.rockets=t.cleanList(a.rockets,e),a.drones=t.cleanList(a.drones,e,r.default),a.player=t.cleanList(a.player,e,r.default,!1,!0),a.npcs=t.cleanList(a.npcs,e,r.default),a.spaceSquids=t.cleanList(a.spaceSquids,e,r.default),a.spaceSpiders=t.cleanList(a.spaceSpiders,e,r.default),a.enemies=t.cleanList(a.enemies,e,r.default),a.charges=t.cleanList(a.charges,e),a.proximityMines=t.cleanList(a.proximityMines,e),a.spaceMines=t.cleanList(a.spaceMines,e),a.spaceTurrets=t.cleanList(a.spaceTurrets,e,r.default),a.destroyers=t.cleanList(a.destroyers,e,r.default),a.flames=t.cleanList(a.flames,e),o=performance.now()-o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(1),r(11),r(6),r(4),r(7),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSquids=void 0;var c=new o.Vector(0,0),d=new o.Vector(0,0),p=new o.Vector(0,0),f=function(e,t,r,a){var n=e.pos.x,o=e.pos.y,i=e.angle+Math.PI;c.x=2.3*e.radius,c.y=0,s.rotateVector(c,i,c),d.x=.7*e.radius,d.y=0,s.rotateVector(d,i,d),p.x=1.05*e.radius,p.y=0,s.rotateVector(p,i+.5*Math.PI,p),t.push(c.x+n-r,c.y+o-a,d.x+n-r,d.y+o-a,p.x+n-r,p.y+o-a),p.x=1.05*e.radius,p.y=0,s.rotateVector(p,i+-.5*Math.PI,p),t.push(c.x+n-r,c.y+o-a,d.x+n-r,d.y+o-a,p.x+n-r,p.y+o-a)};t.renderSquids=function(e,t,a,n,u,l,h){new o.Vector(0,0);for(var v=0;v<u.length;v++){var g=u[v];if(i.onStage(e,g,1e3)){var y=g.pos.x,m=g.pos.y;r.blockCirclePoly(14,g.radius,y,m,s.normalizeRadianAngle(g.angle-Math.PI),t,0,l,h,.6*g.radius,!1,0,4,9,14),f(g,t,l,h),c.x=.7*g.radius,c.y=0,s.rotateVector(c,g.angle+.93*Math.PI,c),r.setTriangle(g.pos.x+c.x-l,g.pos.y+c.y-h,a,5),c.x=.7*g.radius,c.y=0,s.rotateVector(c,g.angle+-.93*Math.PI,c),r.setTriangle(g.pos.x+c.x-l,g.pos.y+c.y-h,a,5);for(var S=g.tentacles,E=0;E<S.length;E++)for(var x=S[E],T=0;T<x.arm.length;T++){var _=x.arm[T],I=.5*_.leftMuscle.l+.5*_.rightMuscle.l;c.x=-.5*I,c.y=0,s.rotateVector(c,_.angle,c),d.x=.8*I,d.y=0,s.rotateVector(d,_.angle,d),A.line2Poly(c.x+_.centerX+y-l,c.y+_.centerY+m-h,d.x+_.centerX+y-l,d.y+_.centerY+m-h,t,_.width),c.x=-.4*I,c.y=0,s.rotateVector(c,_.angle,c),d.x=.7*I,d.y=0,s.rotateVector(d,_.angle,d),p.x=.8*_.width,p.y=0,s.rotateVector(p,_.angle+.5*Math.PI,p),A.line2Poly(c.x+_.centerX+y+p.x-l,c.y+_.centerY+m+p.y-h,d.x+_.centerX+y+p.x-l,d.y+_.centerY+m+p.y-h,n,.1*_.width),T===x.glowIndex&&A.line2Poly(c.x+_.centerX+y+p.x-l,c.y+_.centerY+m+p.y-h,d.x+_.centerX+y+p.x-l,d.y+_.centerY+m+p.y-h,n,.1*_.width)}}}};var h=[],v=[],g=[];t.default=function(e){var r=e.SW,o=e.SH,i=(e.frame,e.SX),s=e.SY,c=(e.WW,e.WH,e.game,e.gl);h=[],v=[],g=[];var d=l.getQuadTreesObj().SpaceSquid;if(d){var p=Math.max(r>o?r:o,2e3),f=d.queryInt(new u.Rectangle(i-p,s-p,2*p,2*p));if(t.renderSquids(e,h,v,g,f,i,s),h.length>0){a.default(n.GLctx.Vertices,c),A.drawColor(g,c,.5,.1,.1,1);c.blendFunc(c.DST_COLOR,c.ZERO),A.drawColor(h,c,0,0,0,1),c.blendFunc(c.ONE,c.ONE),A.drawColor(v,c,.5,.1,.1,1)}return"spacesquid"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(7),r(10),r(1),r(6),r(8),r(29),r(31),r(32),r(39),r(12),r(5)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectorSetup=t.resetDirector=void 0;var f=10,h=30,v=9,g=11,y=40,m=1e4,S=m,E=0,x=new r.Rectangle(0,0,0,0),T=0;t.resetDirector=function(){S=S,T=m},t.DirectorSetup=function(e){h=e.enemies,v=e.spacesnakes,g=e.spacesquids,f=e.spaceSpiders,y=e.npcs,m=e.campingTimeout,E=e.destroyers};var _=function(e,t,a){for(var n=a.SX,o=a.SY,i=a.SW,s=a.SH,A=new r.Rectangle(n-800,o-800,i+1600,s+1600),u=3e3,l=null;u<.5*a.WW;){for(var c=e.queryVec(t,u,u),d=0;d<c.length;d++){var p=c[d];if(!A.intersectsPoint(p.pos)){l=p;break}}if(l)break;u+=3e3}return l};t.default=function(e){var t,r,I,M,L,b=e.SX,w=e.SY,R=e.SW,P=e.SH,O=e.WW,C=e.WH,G=e.game,N=e.stepMS;if(G.isPaused)return!1;var B=a.default(e);if(B){B.inSafeZone?S>100&&(S-=4):S=m,x.intersectsPoint(B.pos)?T+=N:(x.x=B.pos.x-.5*R,x.y=B.pos.y-.5*P,x.width=R,x.height=P,T=0);var F=Math.random()>.5?1.5*R:-1.5*R;if(T>S){var D;if(B.inSafeZone||Math.random()>.5)if(Math.random()>.8){if(G.spaceSnake.length>0){var V=Math.floor(Math.random()*G.spaceSnake.length),X=G.spaceSnake[V];X.restPos.setFromVec(B.pos),X.prioritzeRestpos=!0}}else if(Math.random()>.66){if(G.spaceSquids.length>0)(D=_(p.getQuadTreesObj().SpaceSquid,B.pos,e))&&(D.restPos.setFromVec(B.pos),D.prioritzeRestpos=!0)}else if(G.spaceSpiders.length>0)(D=_(p.getQuadTreesObj().SpaceSpiders,B.pos,e))&&(D.restPos.setFromVec(B.pos),D.prioritzeRestpos=!0);if(G.enemies.length>0){var H=new n.Vector(F,F);H.add(B.pos);var k=G.enemies[Math.floor(Math.random()*G.enemies.length)];k.pos.setFromVec(H);var W=Math.atan2(B.pos.y-k.pos.y,B.pos.x-k.pos.x);k.angle=i.normalizeRadianAngle(W)}T=0}else for(var U=o(G.spaceSquids,G.spaceSnake,G.spaceSpiders),Y=0;Y<U.length;Y++){var z=U[Y];Y%2==0?z.restPos.set(0,Y*P):z.restPos.set(O,Y*P)}if(G.enemies.length<h){0;var j=s.createEnemies(e,5);A.default(j,b+F,w+F,300,300),(t=G.enemies).push.apply(t,j)}if(G.spaceSnake.length<v&&(r=G.spaceSnake).push.apply(r,u.default(e,1,b+F,w+2*F)),G.spaceSquids.length<g&&(I=G.spaceSquids).push.apply(I,l.default(e,1,b+F,w+F)),G.spaceSpiders.length<f&&(M=G.spaceSpiders).push.apply(M,c.default(e,1,b+F,w+F)),G.npcs.length<y&&((L=G.npcs).push.apply(L,s.createNPCs(e,1,{},-1)),d.LOG_GL("npc created @ "+(0|G.npcs[G.npcs.length-1].pos.x)+", "+(0|G.npcs[G.npcs.length-1].pos.y))),G.destroyers.length<E){var q=s.createDestroyer(e);G.anomalyPairs.length>0?q.pos.setFromVec(G.anomalyPairs[0].out.pos):q.pos.set(O-5,C-5),G.destroyers.push(q),d.LOG_GL("destroyer created @ "+(0|q.pos.x)+", "+(0|q.pos.y))}}return!1}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(4),r(0),r(0),r(6),r(2),r(10),r(4),r(45),r(28),r(4),r(4),r(47)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResetRadar=void 0;var h=new r.Vector(0,0),v=new r.Vector(0,0),g=new r.Vector(0,0),y=0,m=[],S=[],E=[],x=.06*Math.PI,T={},_=(new r.Vector(0,0),function(e,t,r,a,n,o,i,A,u,l){for(var c=e.length,d=[],p=0;p<c;p++){var f=e[p],h=Math.floor(f.pos.x/r*n+i),v=Math.floor(f.pos.y/a*o+i);if(!T[f.guid]&&s.fine(3,t,{x:h,y:v})){var g=h+A,y=v+u,m=0===f.type,S={pos:{x:g,y:y},life:200,guid:f.guid,type:f.type,radius:f.radius,angle:m?f.angle:0};d.push(S),T[f.guid]=S}}return d}),I=new r.Vector(0,0),M=new r.Vector(0,0),L=new r.Vector(0,0),b=new r.Vector(0,0),w=0;t.ResetRadar=function(){w=0};var R=!0,P=0;t.default=function(e){e.SW;var t=e.WW,r=e.WH,s=(e.SH,e.SX),O=e.SY,C=e.game,G=e.gl,N=e.step;m=[],S=[];var B=A.default(e)||C.player[0];if(B&&!(C.currentLevel<14)&&C.menuSettings.minimap&&!C.levelEditor){var F=f.posInAncient(B.pos);F?P<Math.PI&&(P+=.025):P>0&&(P-=.025);var D=-1*(B.angle+.5*Math.PI)+P;C.isPaused&&(N=0);var V=B.damageTaken||F&&Math.random()>.95||!C.IS_PROCEDURAL&&l.default(B,t,r)&&w>0&&!R;V&&Math.random()>.7&&(w=3*Math.random());var X=V||B.damageTaken?(Math.random()-.5)*(V?7:4):0;if(R){if(w-=.01,R!=B.cloaked&&(E=[],w=0,T={}),w<0)return E=[],T={},void(w=0)}else(w+=.01)>1&&(w=1);R=B.cloaked;var H=i.map(w,.85,1,0,1);M.set(110,110);var k=e.IS_MULTIPLAYER?500:800,W=e.IS_MULTIPLAYER?10:30,U=k,Y=k,z=(Math.max(110,110)-10)*(R?H:1);h.set(z,0),v.set(z,0),y+=R||0!==X?0:.025*N*w,V&&Math.random()>.97&&(y+=Math.PI*Math.random()*1.5),i.rotateVector(h,y,h),i.rotateVector(v,y-x,v),y>2*Math.PI&&(y-=2*Math.PI);for(var j=Math.floor(B.pos.x/t*U+10),q=Math.floor(B.pos.y/r*Y+10),K=[{x:j,y:q},{x:h.x+j,y:h.y+q},{x:v.x+j,y:v.y+q}],Z=C.enemies,Q=C.spaceSquids,J=C.spacePorts,$=C.spaceSnake,ee=C.asteroids,te=C.rockFormations,re=C.spaceBats,ae=C.spaceSpiders,ne=C.destroyers,oe=[],ie=0;ie<$.length;ie++)oe.push.apply(oe,$[ie].segments);R||E.push.apply(E,function(e,t,r,a,n,o,i,s,A,u){for(var l=e.length,c=[],d=0;d<l;d++){var p=e[d];c.push.apply(c,_(p,t,r,a,n,o,i,s,A))}return c}(f.posInAncient(B.pos)?[C.ancientBlocks]:[C.ancientBlocks,Z,Q,J,oe,J,ee,te,re,ae,ne],K,t,r,U,Y,10,110-j,110-q));var se=E.length;for(ie=0;ie<se;ie++){if((he=E[ie]).life-=N,R){var Ae=.01*N;he.pos.y>110?he.pos.y*=1-Ae:he.pos.y<110?he.pos.y*=1+Ae:(he.pos.y=110,he.pos.x>115?he.pos.x*=1-.3*Ae:he.pos.x<105?he.pos.x*=1+.3*Ae:he.pos.x=110)}I.set(he.pos.x-M.x,he.pos.y-M.y),i.rotateVector(I,D,I);var ue=M.x+X+I.x,le=M.y+X+I.y;if(he.life<0)he.remove=!0,delete T[he.guid];else{var ce=.005*he.life,de=2,pe=!1;switch(he.type){case 25:de=3;break;case 1:case 39:de=5;break;case 18:de=6;break;case 11:pe=!0,u.crossHair(ue,le,m,12,1);break;case 12:if(he.radius<W)continue;(de=Math.max(.03*he.radius,1))>4&&(pe=!0,a.blockCirclePoly(7,de,ue,le,0,m,0,0,0,2));break;case 22:de=Math.max(.062*he.radius,2),pe=!0,u.createBlockCirclePolySingleWall(ue,le,m,8,0,de,!0);break;case 21:(de=Math.max(.03*he.radius,1))>8&&(pe=!0,u.createBlockCirclePolySingleWall(ue,le,m,8,0,de,!0));break;case 72:de=2;break;case 0:p.line2PolyTriangleRotateableFilled(ue,le,7,m,he.angle-.5*Math.PI-B.angle),pe=!0}pe||a.rectangleRotated45Poly(ue,le,de,m),a.addToColorMap(S,m,.1*ce*w,.7*ce*w,.1*ce*w,1)}}if(a.addToColorMap(S,m,w>1?.5*w:0,.2*w,w>1.1?.5*w:0,1),R){u.line2Poly(120-110*H,110,110+90*H,110,m,2);de=z*((H<.5?1:-1)>0?w:w-(w-.5))*.1;a.blockCirclePoly(40,de,110,110,0,m,-1,0,0,de),a.addToColorMap(S,m,0,w,0,1)}var fe=[];for(ie=0;ie<se;ie++){var he;(he=E[ie]).remove||fe.push(he)}E=fe,g.set(-z,0),i.rotateVector(g,y+D,g),function(e,t,r,n,o,s,A){for(var u=0;u<18;u++)L.set(r,n),i.rotateVector(L,Math.PI*(-.01*u-1),L),i.rotateVector(L,Math.PI*(-.01*u),b),o.push(e,t,e+L.x,t+L.y,e+b.x,t+b.y),a.addToColorMap(s,o,0,(.4-.05*u)*A,0,1)}(110,110,g.x,g.y,m,S,w),a.addToColorMap(S,m,1,1,1,1),d.drawColorMapSingle(S,m,G);var ve=V?10*(Math.random()-.5):0,ge=V?10*(Math.random()-.5):0;return c.Glow({x:110+s+ve,y:110+O+ge},.25,m,e,0,.3*w,0,1),S=[],function(e,t,r,a,n){for(var o=r.length,i=0;i<o;i++){var s=r[i];u.createBlockCirclePolySingleWall(e,t,n,Math.round(68*s),0,a*s)}}(110,110,[1,.75,.5,.25],z+2,m=[]),a.addToColorMap(S,m,0,.1*w,0,1),a.drawColorMap(S,m,n.default(o.GLctx.Vertices,G),G,G.LINES),"Radar"}w=0}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(12),r(185),r(187),r(118),r(7),r(188),r(189),r(190),r(23),r(4),r(119),r(69),r(191),r(59),r(117)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetProceduralWorld=t.getRectangles=void 0;var g=[];t.getRectangles=function(){return g};var y=new n.Hash,m=new n.Hash,S=new h.QuadTreeInt32(new i.Rectangle(0,0,0,0),5,0,20,!1);t.resetProceduralWorld=function(){y.clear(),m.clear(),S.reset(),E=0,x=0,T=!0};var E=0,x=0,T=!0,_=0,I=0,M=function(e,t,n,i){var A=s.getSeedFromGenResXY(t,n),c=y.get(A);if(c)return u.default(e,c),y.remove(A),void(i[A]=!0);if(!i[A]&&!m.get(A)){var d=o.mulberry32(A),p=d();if(0,p,_=Math.min(p,_),I=Math.max(p,I),p>.6){var f=a.default(A,e,d,t,n,S,m);f&&13===f&&r.LOG_GL("creating : "+l.TypesToString(f)+" "+t+" "+n+" S:"+A),i[A]=!0}}},L=function(e,t,r,a,n,o,i){for(var s=e;s<t;s+=i)for(var A=r;A<a;A+=i)M(n,s,A,o)};t.default=function(e){if(e.game.IS_PROCEDURAL){var t=e.game,a=e.SX,n=e.SY,o=e.SW,u=e.SH,c=t.procedural.map,d=c.GEN_RES,h=c.GEN_SIZE_PIXELS;0,0,_=2e7,I=0,g=[];var M=performance.now(),b=Math.floor(o/d)*d+d,w=Math.floor(u/d)*d+d,R=new i.Rectangle(-h+a,-h+n,b+2*h,w+2*h);e.game.proceduralBounds=R,e.game.procedural.boundsSS=new i.Rectangle(2*-h+a,2*-h+n,b+4*h,w+4*h);var P=f.createExistingSeedHash(e);v.updateTree(e,S);var O=S.intersectTree(S);O.length>0&&r.LOG_GL_FIXED(O.length,"Procedual tree err");for(var C=0;C<t.proceduralRemovalData.length;C++){if(12===(N=t.proceduralRemovalData[C]).type&&(!N.procedurallyCreated||A.checkDiffed(N))){var G=s.getSeedFromCoord(N.pos.x,N.pos.y,d);if(N.procedurallyCreated&&m.add(N.seedKey,!0),0,!N.opos)throw console.log(N),console.log(l.TypesToString(N.type)),"missing opos";y.add(G,{type:N.type,x:0|N.pos.x,y:0|N.pos.y,ox:0|N.opos.x,oy:0|N.opos.y,life:0|N.life,oLife:0|N.oLife,radius:N.radius,guid:N.guid,oSeedK:G})}}t.proceduralRemovalData=[];for(C=0;C<t.proceduralDestroyedData.length;C++){var N;6!==(N=t.proceduralDestroyedData[C]).shape&&3!==N.shape&&N.seedKey&&N.procedurallyCreated&&(m.add(N.seedKey,!0),N.type)}t.proceduralDestroyedData=[];var B=Math.floor(a/d)*d-h,F=Math.floor(n/d)*d-h,D=b+2*h,V=w+2*h,X=B+D,H=F+V;if(c.SX=B,c.SY=F,c.WIDTH=D,c.HEIGHT=V,c.SX_END=X,c.SY_END=H,c.MOVED_X=B-E,c.MOVED_Y=F-x,c.MOVED_XY_ABS_DIST_CELLS=Math.abs(c.MOVED_X)+Math.abs(c.MOVED_Y),c.MOVED_X_RES=c.MOVED_X/c.GEN_RES,c.MOVED_Y_RES=c.MOVED_Y/c.GEN_RES,c.FULL_REFRESH=T||Math.abs(B-E)>h||Math.abs(F-x)>h,c.WIDTH_RES=D/d,c.HEIGHT_RES=V/d,c.FULL_REFRESH){performance.now();L(B,X,F,H,e,P,d)}else if(B!==E||F!==x){var k=0,W=0,U=0,Y=0;B<E?(k=B,W=E,U=Math.min(F,x),Y=Math.max(F,x)+V,L(k,W,U,Y,e,P,d)):B>E&&(k=E+D,W=B+D,U=Math.min(F,x),Y=Math.max(F,x)+V,L(k,W,U,Y,e,P,d)),F<x?(U=F,Y=x,k=Math.min(B,E),W=Math.max(B,E)+D,L(k,W,U,Y,e,P,d)):F>x&&(U=x+V,Y=F+V,k=Math.min(B,E),W=Math.max(B,E)+D,L(k,W,U,Y,e,P,d))}performance.now();return window.metaHash=y,E=B,x=F,T=!1,y.housekeeping(1e4,1e3),m.housekeeping(2e4,1e3),window.parasiteTree=p.getParasiteTree(),"procedural world"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(14),r(88)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTree=t.anomalyPairAsTreeItem=t.ancientAsTreeItem=t.anomalyAsTreeItem=t.rockformationSystemAsTreeItem=t.spaceFogAsTreeItem=t.beltAsTreeItem=void 0,t.beltAsTreeItem=function(e){return{pos:{x:e.x,y:e.y},vel:{x:0,y:0},radius:e.radius,sleepingAABB:!0,type:e.type,seedKey:e.seedkey}},t.spaceFogAsTreeItem=function(e){return{pos:{x:e.x,y:e.y},vel:{x:0,y:0},radius:e.radius,seedKey:e.seedKey,sleepingAABB:!1,type:e.type}},t.rockformationSystemAsTreeItem=function(e){return{pos:e.pos,vel:{x:0,y:0},radius:e.radius,seedKey:e.seedKey,sleepingAABB:!1,type:e.type}},t.anomalyAsTreeItem=function(e,t){return{pos:e.pos,vel:{x:0,y:0},radius:e.effect*t.game.procedural.map.GEN_RES,seedKey:e.seedKey,sleepingAABB:!1,type:e.type}},t.ancientAsTreeItem=function(e){return{pos:{x:e.pos.x,y:e.pos.y},vel:{x:0,y:0},radius:e.radius+200,seedKey:e.seedKey,sleepingAABB:!1,type:e.type}},t.anomalyPairAsTreeItem=function(e,t){return[{pos:e.in.pos,vel:{x:0,y:0},radius:e.in.radius,seedKey:e.in.seedKey,sleepingAABB:!1,type:e.in.type},{pos:e.out.pos,vel:{x:0,y:0},radius:e.out.radius,seedKey:e.out.seedKey,sleepingAABB:!1,type:e.out.type}]},t.updateTree=function(e,n){n.reset(),n.setup(e.game.procedural.boundsSS,5,-1,8,!1);var o=e.game;o.asteroidBelts.map(function(e){n.insert(t.beltAsTreeItem(e),0)}),o.spacePorts.map(function(e){n.insert(e,0)}),o.spaceFog.map(function(e){n.insert(t.spaceFogAsTreeItem(e),0)}),o.rockFormationSystemRadius.map(function(e){n.insert(t.rockformationSystemAsTreeItem(e),0)}),o.anomlies.map(function(r){n.insert(t.anomalyAsTreeItem(r,e),0)}),o.ancients.map(function(e){n.insert(t.ancientAsTreeItem(e),0)}),o.anomalyPairs.map(function(o){var i=t.anomalyPairAsTreeItem(o,e);n.insert(i[0],0);var s=i[1];n.insert(s,0)&&0===r.getForce2Tree().queryVec(s.pos,2,2).length&&a.createForceFromAnomaly(e,o.out)})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mulberry32=void 0,t.mulberry32=function(e){return function(){var t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(15)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawExternal=void 0;var i=[];t.drawExternal=function(e){var t,r,a,n;if(e.autoSXSY)for(var s=o.default().engine,A=s.SX,u=s.SY,l=0;l<e.polys.length;l+=2)e.polys[l]-=A,e.polys[l+1]-=u;e.r=null!==(t=e.r)&&void 0!==t?t:1,e.g=null!==(r=e.g)&&void 0!==r?r:1,e.b=null!==(a=e.b)&&void 0!==a?a:1,e.a=null!==(n=e.a)&&void 0!==n?n:1,i.push(e)},t.default=function(e){var t=e.gl,o=i.length;if(o>0){n.default(a.GLctx.Vertices,t);for(var s=0;s<o;s++){var A=i[s];r.drawColor(A.polys,t,A.r,A.g,A.b,A.a,A.mode)}i=[]}return"DrawExternalGL"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(37),r(42),r(107)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keybindingItems=t.createKeyBindingLabel=t.IN_GAME_KEY_BINDING_TRANSLATIONS=void 0,t.IN_GAME_KEY_BINDING_TRANSLATIONS={};var o="in_game_keys_translation",i=!0,s=null,A=null;window.addEventListener("keydown",function(e){if(i){switch(e.keyCode){case r.Keys.ESCAPE:return i=!1,void(s=null);case r.Keys.BACKSPACE:case r.Keys.DELETE:case r.Keys.RETURN:case r.Keys.TILDE:return}f(s,e.keyCode),A=e.keyCode}});var u=[],l=function(e){switch(e){case r.Keys.CHARGE:return"CTRL";case r.Keys.PROXIMITYMINE:return"N";case r.Keys.FIRE:return"SPACE";case r.Keys.LEFT:return"ARROW LEFT";case r.Keys.UP:return"ARROW UP";case r.Keys.RIGHT:return"ARROW RIGHT";case r.Keys.DOWN:return"ARROW DOWN";default:return String.fromCharCode(e)}},c=function(e){for(var t in e)delete e[t]},d=function(){for(var e in c(n.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS),t.IN_GAME_KEY_BINDING_TRANSLATIONS)for(var a in r.Keys)if(parseInt(r.Keys[a],10)===parseInt(e,10)){if(n.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t.IN_GAME_KEY_BINDING_TRANSLATIONS[e]])return console.error("duplicate key"),!0;n.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t.IN_GAME_KEY_BINDING_TRANSLATIONS[e]]=r.Keys[a]}};t.createKeyBindingLabel=function(e,t){return"DOWN"===e&&(e="ROCKET"),e+" <"+l(t)+">"};var p=function(e,t){return"INPUT "+e+" <"+l(t)+">"},f=function(e,t){for(var r=0;r<u.length;r++){var a=u[r];a.id===e&&(a.children[0].label=p(e,t))}},h=function(){var e=function(e){if(r.Keys[e]){var n=t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]];u.push({id:e,label:t.createKeyBindingLabel(e,n),action:function(t){return i=!0,s=e,{}},children:[{action:function(n){return i=!1,s=null,function(e,a){var n=!1,o=t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]];t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=a,d()&&(t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=o,d(),n=!0);for(var i=0;i<u.length;i++){var s=u[i];s.id===e&&(n?(s.label=t.createKeyBindingLabel(s.id,o),s.children[0].label="ERROR <DUPLICATE KEY>"):s.label=t.createKeyBindingLabel(s.id,a))}if(n)return!0}(e,A)?{}:(a.saveData(o,t.IN_GAME_KEY_BINDING_TRANSLATIONS),{pop:!0})},label:p(e,n)}]})}};for(var n in r.inGameKeyCodes.keys)e(n);u.push({label:"RESET KEYS TO DEFAULT",action:function(e){return g(),a.saveData(o,t.IN_GAME_KEY_BINDING_TRANSLATIONS),{}}})};setTimeout(function(){if(g(),a.containsData(o)){console.log("key bindings loaded");var e=a.loadData(o);c(t.IN_GAME_KEY_BINDING_TRANSLATIONS),function(e,t){for(var r in e)t[r]=e[r]}(e,t.IN_GAME_KEY_BINDING_TRANSLATIONS),v()}},0);var v=function(){for(;u.length>0;)u.pop();h(),d()},g=function(){!function(){for(var e in r.Keys)t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=r.Keys[e]}(),v()};t.keybindingItems={label:"KEY BINDINGS",children:u}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(7)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRagdoll=t.RagDoll=t.Link=void 0;var n=function(){function e(e){this.x=e.x,this.y=e.y,this.xb=this.x,this.yb=this.y+2,this.w=0,this.stiffness=e.stiffness,this.mass=1}return e.prototype.anim=function(e){var t=(this.x-this.xb)*this.stiffness,r=(this.y-this.yb)*this.stiffness;this.xb=this.x,this.yb=this.y,this.x+=t+.5*(Math.random()-.5)*e,this.y+=r+.5*(Math.random()-.5)*e},e}(),o=function(){function e(e,t,r,a,n,o,i,s){this.p1=e,this.p2=t,this.p3=r,this.len1=a,this.len2=n,this.angle=o,this.range=i,this.force=s||.2}return e.prototype.solve=function(){var e,t,r,a,n,o,i,s,A,u,l,c;e=Math.atan2(this.p2.y-this.p1.y,this.p2.x-this.p1.x),t=Math.atan2(this.p3.y-this.p2.y,this.p3.x-this.p2.x),r=(r=this.angle-(t-e))>Math.PI?r-2*Math.PI:r<-Math.PI?r+2*Math.PI:r,a=Math.abs(r)>this.range?(-Math.sign(r)*this.range+r)*this.force:0,n=this.p1.mass+this.p2.mass,o=this.p1.mass/n,i=this.p2.mass/n,l=Math.cos(e-a),c=Math.sin(e-a),A=this.p1.x+(this.p2.x-this.p1.x)*i,u=this.p1.y+(this.p2.y-this.p1.y)*i,this.p1.x=A-l*this.len1*i,this.p1.y=u-c*this.len1*i,this.p2.x=A+l*this.len1*o,this.p2.y=u+c*this.len1*o,e=Math.atan2(this.p2.y-this.p3.y,this.p2.x-this.p3.x)+a,n=this.p2.mass+this.p3.mass,i=this.p2.mass/n,s=this.p3.mass/n,l=Math.cos(e),c=Math.sin(e),A=this.p3.x+(this.p2.x-this.p3.x)*i,u=this.p3.y+(this.p2.y-this.p3.y)*i,this.p3.x=A-l*this.len2*i,this.p3.y=u-c*this.len2*i,this.p2.x=A+l*this.len2*s,this.p2.y=u+c*this.len2*s},e}(),i=function(){function e(e,t){this.length=t.length*e.s,this.width=t.width*e.s,this.type=t.memberType,e.points[t.p0]=this.p0=e.points[t.p0]?e.points[t.p0]:new n(e),e.points[t.p1]=this.p1=e.points[t.p1]?e.points[t.p1]:new n(e),this.width>this.p0.w&&(this.p0.w=this.width);var r=t.mass||1;r>this.p0.mass&&(this.p0.mass=r),r>this.p1.mass&&(this.p1.mass=r)}return e.prototype.draw=function(){var e=this.p1.x-this.p0.x,t=this.p1.y-this.p0.y,a=Math.atan2(t,e),n=new r.Vector(this.length,0);n.setAngle(a);var o=n.toPoint();return{a:{x:this.p0.x,y:this.p0.y},b:o,angle:a,end:{x:this.p0.x+n.x,y:this.p0.y+n.y}}},e}();t.Link=i;var s=function(){function e(e,t,r,a,n){function s(e,t){for(var r=0;r<n.links.length;r++){var a=n.links[r];if(a.p0===e&&a.p1===t||a.p0===t&&a.p1===e)return a.length}return 1}this.points=[],this.links=[],this.angles=[],this.x=e,this.y=t,this.s=r,this.stiffness=a,this.points=[],this.links=[],this.angles=[];for(var A=0;A<n.links.length;A++){var u=n.links[A];this.links.push(new i(this,u))}for(A=0;A<n.constraints.length;A++){var l=n.constraints[A];this.angles.push(new o(this.points[l.p1],this.points[l.p2],this.points[l.p3],s(l.p1,l.p2)*r,s(l.p2,l.p3)*r,l.angle,l.range,l.force))}}return e.prototype.anim=function(e){for(var t=0,r=void 0;r=this.points[t++];r.anim(e));for(t=0,r=void 0;r=this.angles[t++];r.solve());},e.prototype.getRect=function(){for(var e=Number.MAX_VALUE,t=Number.MAX_VALUE,r=Number.MIN_VALUE,n=Number.MIN_VALUE,o=0,i=void 0;i=this.points[o++];)i.x>r&&(r=i.x),i.y>n&&(n=i.y),i.x<e&&(e=i.x),i.y<t&&(t=i.y);return new a.Rectangle(e,t,r-e,n-t)},e.prototype.collideIM=function(e){for(var t=0,r=void 0;r=this.points[t++];){var a=r.x-e.pos.x,n=r.y-e.pos.y,o=Math.sqrt(a*a+n*n),i=e.radius+r.w;if(o<i){o=Math.abs(i-o);var s=Math.atan2(n,a);r.x+=o*Math.cos(s),r.y+=o*Math.sin(s)}}},e.prototype.collide=function(e){for(var t=0,r=void 0;r=this.points[t++];)for(var a=0,n=void 0;n=e.points[a++];){var o=r.x-n.x,i=r.y-n.y,s=Math.sqrt(o*o+i*i),A=.5*(r.w+n.w);if(s<A){s=Math.abs(A-s);var u=Math.atan2(i,o),l=s*Math.cos(u)*.5,c=s*Math.sin(u)*.5;r.x+=l,r.y+=c,n.x-=l,n.y-=c}}},e}();t.RagDoll=s;var A={links:[{p0:0,p1:1,length:3,width:3,img:"rd05.png",memberType:1},{p0:1,p1:2,length:5,width:2.5,img:"rd09.png",memberType:2},{p0:3,p1:7,length:6,width:3.5,img:"rd01.png",memberType:5},{p0:7,p1:8,length:7,width:5,img:"rd06.png",memberType:6},{p0:3,p1:9,length:6,width:3.5,img:"rd01.png",memberType:7},{p0:9,p1:10,length:7,width:5,img:"rd06.png",memberType:8},{p0:0,p1:4,length:2.5,width:4.5,img:"rd04.png",memberType:9},{p0:0,p1:3,length:9,width:5,mass:10,img:"rd08.png",memberType:0},{p0:0,p1:5,length:5,width:3,img:"rd05.png",memberType:3},{p0:5,p1:6,length:5,width:2.5,img:"rd07.png",memberType:4}],constraints:[{p1:4,p2:0,p3:3,angle:0,range:.1,force:.2*.1*5},{p1:3,p2:0,p3:1,angle:Math.PI/2,range:2*Math.PI*.1,force:.2*.1},{p1:0,p2:1,p3:2,angle:-Math.PI/2,range:Math.PI/2*.1,force:.2*.1},{p1:3,p2:0,p3:5,angle:Math.PI/2,range:2*Math.PI*.1,force:.2*.1},{p1:0,p2:5,p3:6,angle:-Math.PI/2,range:Math.PI/2*.1,force:.2*.1},{p1:0,p2:3,p3:7,angle:-Math.PI/3,range:Math.PI/2*.1,force:.2*.1},{p1:0,p2:3,p3:9,angle:-Math.PI/3,range:Math.PI/2*.1,force:.2*.1},{p1:3,p2:7,p3:8,angle:Math.PI/2,range:Math.PI/3*.1,force:.2*.1},{p1:3,p2:9,p3:10,angle:Math.PI/2,range:Math.PI/3*.1,force:.2*.1}]};t.createRagdoll=function(e,t,r){return void 0===e&&(e=300),void 0===t&&(t=300),void 0===r&&(r=10),new s(e,t,r,.998,A)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(16),r(11),r(20),r(1),r(13),r(2),r(10)],void 0===(n=function(e,t,r,a,n,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFlame=t.createRamp=t.rampSize=void 0;t.rampSize=[],t.createRamp=function(e,t,r,a,n){for(var o=Math.abs(r-a),i=a>r,s=Math.min(r,a),A=1/t,u=0;u<t;u++){var l=s+o*A*u+(Math.random()-.5)*n;i||(l=1-l),l=Math.min(Math.max(r,a),l),l=Math.max(Math.min(r,a),l),e.push(l)}},t.createRamp(t.rampSize,25,.05,.1,.01),t.createRamp(t.rampSize,25,.1,.3,.04),t.createRamp(t.rampSize,25,.3,1,.08),t.createRamp(t.rampSize,25,1,0,.02),t.default=function(e){for(var o=e.game,i=e.WW,s=e.WH,A=e.step,l=o.flames.length,c=0;c<l;c++){var d=o.flames[c],p=A+2*Math.random();d.colorRamp+=A+2*Math.random(),d.life-=p,d.colorRamp>=99?d.remove=!0:(d.vel.mult(d.friction),n.default(o,d,!1),r.default(d,A),d.life-=A,a.shift(d,i,s))}var f=u.default(e);return f&&f.keyCodes.FLAMETHROWER&&(f.availableFlames>0?(e.game.flames.push(t.createFlame(f)),f.availableFlames--):f.unableToComply=!0),"rockets/missiles"},t.createFlame=function(e){var t=new i.Vector(0,0);t.setLength(e.vel.getLength()+.8*e.bulletVelocity+4*Math.random()),t.setAngle(e.angle+(Math.random()-.5)*Math.PI*.02);var r=A.getGuid();return o(o({},s.setImovableDefaults(null)),{pos:new i.Vector(e.pos.x+Math.cos(e.angle)*e.radius,e.pos.y+Math.sin(e.angle)*e.radius),vel:t,guid:r,ownerGuid:e.guid,ownerType:e.type,colorRamp:0,radius:10,life:100,large:r%10==0,type:5,friction:.95,collided:!1})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(24),r(21)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.game;var n=t.keyCodes;t.electroBastardRay=!1;var o=t.closestItem;if(n.ELECTROBASTARDRAY)if(o&&t.availableElectroBastardRays>0){if(t.availableElectroBastardRays--,t.electroBastardRay=!0,39===o.type||1===o.type?r.DamageItem(o,.1):r.DamageItem(o,1),a.createDust(o.pos,4,4,e),o.vel.mult(.9),o.stunned=!0,o.life<1)switch(o.type){case 12:o.remove=!0;break;case 1:case 2:case 43:case 39:var i=o;i.remove=!0,i.killedByGuid=t.guid}}else t.unableToComply=!0}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(6)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlowMotion=void 0;var n=1;t.SlowMotion=function(){n=.001},t.default=function(e){var t=e.game;e.step,e.SW;return 1!==n&&(e.step*=n,e.stepMS*=n),n<1?(n+=.009,t.eventMap[r.GAME_EVENT.TIME_SCALE_CHANGED]={intensity:a.map(n,.001,1,.1,1)}):n=1,e.keyCodes.TIMEFREEZE&&(n=.001),"timescale"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(6),r(3)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHIP_TURNING_MAX_VAL=t.SHIP_TURNING_INITIAL=void 0,t.SHIP_TURNING_INITIAL=.005,t.SHIP_TURNING_MAX_VAL=.1,t.default=function(e,n){var o,i=e.keyCodes;i.STRAFELEFT&&((o=e.vel.clone()).setLength(.1),o.setAngle(e.angle-.5*Math.PI),e.vel.add(o));i.STRAFERIGHT&&((o=e.vel.clone()).setLength(.1),o.setAngle(e.angle+.5*Math.PI),e.vel.add(o));if(i.UP&&e.life<a.PLAYER_LIFE_LOW_THRESHOLD){var s=1-r.map(e.life,0,a.PLAYER_LIFE_LOW_THRESHOLD,0,1);e.angle+=n*s*.01}i.LEFT&&(e.angVel+=e.turnAcc*n*.05,e.turnAcc>-t.SHIP_TURNING_MAX_VAL&&(e.turnAcc-=t.SHIP_TURNING_INITIAL*n),e.angleVel*=.99),i.RIGHT&&(e.angVel+=e.turnAcc*n*.05,e.turnAcc<t.SHIP_TURNING_MAX_VAL&&(e.turnAcc+=t.SHIP_TURNING_INITIAL*n),e.angleVel*=.99),i.LEFT||i.RIGHT||(e.turnAcc=0),e.angle=r.normalizeRadianAngle(e.angle),i.UP||i.BOOST?(i.BOOST?e.boost>0?(e.boost-=n,e.thrust.setLength(.5)):(e.unableToComply=!0,i.UP?e.thrust.setLength(.1):e.thrust.setLength(0)):e.thrust.setLength(.1),e.thrust.setAngle(e.angle)):(e.vel.mult(.99),e.thrust.setLength(0)),e.vel.add(e.thrust)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(20),r(16),r(18),r(11),r(1),r(2),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSpaceMine=void 0,t.default=function(e){for(var t=e.game,o=e.WW,s=e.WH,A=e.step,u=e.stepMS,l=t.spaceMines.length,c=0;c<l;c++){var d=t.spaceMines[c];d.activationTimer>0?d.activationTimer-=u:d.lightIntensity<1?d.lightIntensity+=.03*A:d.lightIntensity=0;var p=d.vel.getLength();p>3&&d.vel.setLength(3),p>.2&&d.vel.mult(.97),a.default(d,A),i.shift(d,o,s),r.default(t,d,!0),n.wormhole(d,e)}return"SpaceMines"},t.createSpaceMine=function(e,t){var r=e.vel.clone();r.mult(.65);var a=new s.Vector(e.pos.x+Math.cos(e.angle+Math.PI)*(e.radius+10),e.pos.y+Math.sin(e.angle+Math.PI)*(e.radius+10));t.game.spaceMines.push(o(o({pos:a,vel:r,guid:A.getGuid(),life:100,radius:7,type:36},u.setImovableDefaults(l.BallCreator(a.x,a.y,7,7))),{activationTimer:1100,lightIntensity:0}))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QtEntitiesEnemiesList=t.QtEntitiesToString=void 0,t.QtEntitiesToString=function(e){switch(e){case 0:return"Asteroids";case 1:return"RockFormations";case 2:return"RockFormationSystems";case 3:return"Enemies";case 4:return"Player";case 5:return"SpaceSnakes";case 6:return"Npcs";case 7:return"SpaceSquids";case 8:return"Drones";case 9:return"Bullets";case 10:return"Rockets";case 11:return"Charges";case 12:return"SpacePorts";case 13:return"SpacePortCannons";case 14:return"SpaceSpiders";case 15:return"ProximityMines";case 16:return"SpaceMines";case 17:return"SpaceTurrets";case 18:return"Destroyers";case 19:return"Flames";case 20:return"Ancients";case 21:return"AncientBlocks"}},t.QtEntitiesEnemiesList=[3,5,14,7]}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(6),r(5),r(7),r(2),r(3)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=.004*Math.PI*2,A=function(e,t,a){var n=Math.atan2(t.pos.y-e.pos.y,t.pos.x-e.pos.x);e.angle=r.normalizeRadianAngle(e.angle),e.angle+=.028*r.angleDelta(e.angle,n)*a};t.default=function(e,t){var r=t.step,u=t.game,l=e.miningRig;if(l&&u.rockFormationSystemRadius.length>0){if(l.target&&!l.target.remove)A(e,l.target,r),(c=o.distanceBetweenVectors(e.pos,l.target.pos)-(l.target.radius+e.radius))<500&&(e.thrust.mult(.1),c<50?(e.thrust.set(0,0),3===l.armState?l.armState=1:0===l.armState?l.armState=4:4===l.armState&&(l.target.minerals-=.01,l.minedMinerals++,l.minedMinerals>=300&&(l.armState=2,l.target=null))):4===l.armState&&(l.armState=0));else if(l.minedMinerals>0){if(0===l.base.cannons.length||0===l.base.life)return u.spacePorts.length>0?void(l.base=u.spacePorts[Math.floor(u.spacePorts.length*Math.random())]):void(e.miningRig=null);var c,d=function(e,t){if(!t.miningRig.repairTarget||t.miningRig.repairTarget.life>=i.SPACEPORT_START_LIFE){var r=e.centerNoneCannon;if(r.life>.3*i.SPACEPORT_START_LIFE)if(t.guid%=2)for(var a=0;a<e.cannons.length;a++)(n=e.cannons[a]).life<r.life&&(r=n);else if(t.pos.x>e.pos.x){for(var a=0;a<e.cannons.length;a++)if((n=e.cannons[a]).life<r.life){r=n;break}}else for(var a=e.cannons.length-1;a>0;a--){var n;if((n=e.cannons[a]).life<r.life){r=n;break}}return t.miningRig.repairTarget=r,r}return t.miningRig.repairTarget}(l.base,e);if(A(e,d,r),l.armState=3,(c=o.distanceBetweenVectors(d.pos,e.pos)-(e.radius+d.radius))<90){if(e.vel.mult(.95),e.thrust.mult(.3),d.life>=i.SPACEPORT_START_LIFE)return l.armState=3,void e.thrust.mult(.01);c<e.radius&&(e.thrust.mult(.1),l.armState=5,l.minedMinerals--,d.life<i.SPACEPORT_START_LIFE&&(d.life++,d.life>=i.SPACEPORT_START_LIFE&&(d.life=i.SPACEPORT_START_LIFE,d.damages=[]),e.life<80&&e.life++,d.damages.length>1&&Math.random()>.8&&(d.damages.pop(),d.damages.pop())),l.minedMinerals<=0&&(l.armState=3))}}else A(e,u.rockFormationSystemRadius[0],r),function(e){for(var t,r=e.miningRig,o=a.getQuadTreesObj().RockFormations.queryInt(new n.Rectangle(e.pos.x-200,e.pos.y-200,400,400)),i=0;i<o.length;i++){var s=o[i];t?s.radius>t.radius&&s.minerals>0&&(t=s):s.radius>15&&s.minerals>0&&(t=s)}t&&(r.target=t)}(e);if(3!==l.armState){for(var p=e.comp[0].vertex[0].toPoint(),f=e.angle,h=0;h<l.arm.length;h++){var v=l.arm[h];v.joint.set(v.size,0),f+=v.angle,v.joint.setAngle(f),v.joint.add(p),p=v.joint.toPoint()}1===l.armState&&function(e){e.thrust.set(0,0);for(var t=e.miningRig,r=0;r<t.arm.length;r++){var a=t.arm[r];if(a.angle>a.maxAngle)return a.angle-=s*(r+1),!1;a.angle=a.maxAngle}return!0}(e)&&(l.armState=0),2===l.armState&&function(e){e.thrust.set(0,0);for(var t=e.miningRig,r=t.arm.length-1;r>=0;r--){var a=t.arm[r];if(a.angle<a.minAngle)return a.angle+=s*(r+1),!1;a.angle=a.minAngle}return!0}(e)&&(l.armState=3)}}return"MiningRig"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(64)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformPosToGrid=void 0;var a=function(e,t,r,a,n,o){if(!(r<1))for(var i,s,A=0,u=r,l=-r;A<=u;)i=e-u,s=u+u,c(e-A,t-u,t+u,A+A),c(i,t-A,t+A,s),(l+=A+++A)>=0&&(l-=--u+u);function c(e,t,r,a){a++;for(var n=0;a--;)d(n=e+a,t),d(n,r)}function d(e,t){e<n&&t<o&&e>=0&&t>=0&&(a[t*n+e]=0)}};t.transformPosToGrid=function(e,t,a,n,o,i){var s=r.getSectorSize(e.WW,e.WH);return{x:Math.round((t-s.w*n)/s.w*i),y:Math.round((a-s.h*o)/s.h*i)}},t.default=function(e,t,n,o,i,s,A){for(var u=[],l=n*o,c=0;c<l;c++)u.push(1);var d=r.getSectorSize(t.WW,t.WH),p={},f=i.length;for(c=0;c<f;c++){var h=i[c],v=h.guid;if(!p[v]){p[v]=!0;var g=(h.pos.x-d.w*s)/d.w*e,y=(h.pos.y-d.h*A)/d.h*e,m=h.radius/d.w*e;a(Math.round(g),Math.round(y),Math.ceil(m),u,n,o)}}var S=[];for(c=0;c<o;c++)S.push(u.slice(c*n,c*n+n));return S}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(50),r(6),r(3),r(16),r(11),r(20),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,u=e.WW,l=e.WH,c=e.step,d=t.rockets.length,p=0;p<d;p++){var f=t.rockets[p];if(8===f.type){var h=f.target;if(!h||h.remove){var v=r.GetPlayerByGuidOrNull(f.ownerGuid,e);v&&v.closestItem&&(h=f.target=v.closestItem)}if(h){var g=Math.atan2(h.pos.y-f.pos.y,h.pos.x-f.pos.x);f.angle=a.normalizeRadianAngle(f.angle),f.angle+=.07*a.angleDelta(f.angle,g)*c}}f.thrust.setLength(.1),f.thrust.setAngle(f.angle),f.vel.add(f.thrust);var y=9===f.type?10.5:9.5;f.vel.getLength()>y&&f.vel.setLength(y),f.angle=f.angle%n.doublePI,s.default(t,f,!1),o.default(f,c),f.life-=c,f.life<0&&(f.remove=!0,A.addForce(t,f.pos.x,f.pos.y,90,2)),i.shift(f,u,l)}return"rockets/missiles"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(7),r(3),r(1),r(2),r(20),r(16),r(6),r(5),r(13)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpaceportCannonHash=t.prePopulateSpaceportCannonHash=void 0;var p=0,f={};t.prePopulateSpaceportCannonHash=function(e){for(var t=0;t<e.length;t++)for(var r=e[t],a=0;a<r.cannons.length;a++){var n=r.cannons[a];f[n.guid]=r}},t.getSpaceportCannonHash=function(){return f},t.default=function(e){var t=e.game,f=e.step,h=e.stepMS,v=c.getQuadTreesObj();if(v&&v.Player){p++;for(var g=t.spacePorts,y=[],m=0;m<g.length;m++){var S=g[m];S.centerNoneCannon.life<a.SPACEPORT_START_LIFE&&(S.centerNoneCannon.life+=.05*f),S.pos=S.staticPos.clone(),S.vel.x=0,S.vel.y=0;var E=1.75*S.radius,x=new r.Rectangle(S.pos.x-E,S.pos.y-E,2*E,2*E),T=new r.Rectangle(S.pos.x-S.radius,S.pos.y-S.radius,2*S.radius,2*S.radius),_=v.Player.queryInt(T);S.weaponsActive=_.length>0,y.push.apply(y,_);var I=[],M=S.cannons,L=M.length;if(S.weaponsActive)I=M;else for(var b=0;b<L;b++){var w=M[b];w.weaponsActiveTimerMS>0&&(I.push(w),w.weaponsActiveTimerMS-=h)}for(var R=0;R<S.cannons.length;R++){var P=S.cannons[R];if(P.busy=!1,P.fireing=!1,P.pos.x>P.staticPos.x+1?P.pos.x--:P.pos.x<P.staticPos.x-1&&P.pos.x++,P.pos.y>P.staticPos.y+1?P.pos.y--:P.pos.y<P.staticPos.y-1&&P.pos.y++,A.default(t,P,!0,5,.5),P.vel.getLength()>20&&P.vel.setLength(20),P.vel.mult(.7),u.default(P,f),I.length>0){var O=i(v.SpaceSnakes.queryInt(x),v.SpaceSquid.queryInt(x),v.Enemies.queryInt(x),v.SpaceSpiders.queryInt(x));O.length<2&&O.push.apply(O,v.Player.queryInt(x));for(var C=O.length,G=0;G<C;G++){var N=O[G],B=39===N.type;if(p>3)for(var F=0;F<L;F++){var D=M[F],V=D.aggressionForGuidsHash[N.guid]||0;if(!D.busy&&D.isCannon&&!(B&&V<20)){var X=Math.atan2(N.pos.y-D.pos.y,N.pos.x-D.pos.x),H=Math.atan2(D.pos.y-S.pos.y,D.pos.x-S.pos.x);if(D.angle=l.normalizeRadianAngle(D.angle),B){if(V<40&&Math.random()>.05)continue;if(V<60&&Math.random()>.2)continue}if(!(Math.abs(X-H)>.59*Math.PI)){var k=new n.Vector(28,0);k.setAngle(X);var W=s.angleDifference(D.angle,X);if(D.angle-=.1*W*f,Math.abs(W)<.05*Math.PI){var U=o({ownerGuid:D.guid,owenerType:D.type,type:6,guid:s.getGuid(),pos:D.pos.clone(),vel:k,life:400,radius:1,homing:!1},d.setImovableDefaults(null));t.bullets.push(U),D.fireing=!0}D.busy=!0}}}}}}}if(p>10){p=0;var Y={},z=y.length;for(m=0;m<z;m++){Y[y[m].guid]=!0}if(!e.IS_MULTIPLAYER||e.IS_SERVER){var j=t.player,q=j.length;for(m=0;m<q;m++){var K=j[m];if(!Y[K.guid]&&K.inSafeZone){K.inSafeZone=!1;var Z={life:a.NOTIFICATION_LIFE,type:69,onlyForGuid:K.guid};e.game.notifications.unshift(Z);var Q={life:a.NOTIFICATION_LIFE,type:66,onlyForGuid:K.guid};e.game.notifications.unshift(Q)}}}}return"spaceports"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(5)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new r.Vector(0,0);t.default=function(e){var t=e.game,r=t.rockFormationSystemRadius;if(0!==r.length){var o=a.getQuadTreesObj();if(o.RockFormationSystems){var i=r[0],s=[o.Enemies,o.Drones];14===t.currentLevel&&s.push(o.Player,o.SpaceSnakes,o.SpaceSpiders,o.SpaceSquid),function(e,t){for(var r=t.length,a=e.pos.x,o=e.pos.y,i=0;i<r;i++)for(var s=t[i].query(e),A=s.length,u=0;u<A;u++){var l=s[u],c=Math.atan2(l.pos.y-o,l.pos.x-a);n.set(.13,0),n.setAngle(c),l.vel.add(n)}}(i,s);for(var A=t.rockFormations,u=A.length,l=0;l<u;l++){var c=A[l];c.minerals<1&&(c.remove=!0),c.pos.setFromVec(c.staticPos)}return"rockFormations"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEntityList=t.getEntityList=t.getAllSpacePortCannonsCached=t.getAllSpaceSnakeSegmentsCached=void 0;var a=[],n=[];t.getAllSpaceSnakeSegmentsCached=function(e){if(a.length>0)return a;for(var t=[],r=e.length,n=0;n<r;n++)for(var o=e[n].segments,i=o.length,s=0;s<i;s++){var A=o[s];t.push(A)}return a=t,t},t.getAllSpacePortCannonsCached=function(e){if(n.length>0)return n;for(var t=[],r=e.length,a=0;a<r;a++)for(var o=e[a].cannons,i=o.length,s=0;s<i;s++){var A=o[s];t.push(A)}return n=t,t};var o=[];o[0]={type:12,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[1]={type:21,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[2]={type:16,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[3]={type:1,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[4]={type:39,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[6]={type:2,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[5]={type:25,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:30,maxDepth:3,largeProceduralBounds:!0},o[7]={type:18,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[8]={type:43,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[10]={type:8,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[9]={type:4,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[11]={type:3,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[12]={type:11,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[13]={type:20,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[14]={type:19,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[15]={type:35,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[16]={type:36,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[17]={type:37,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[18]={type:0,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0},o[19]={type:5,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!1},o[20]={type:15,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0};var i=-1;o[21]={type:22,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0),cap:5,maxDepth:30,largeProceduralBounds:!0,keepEvaluator:function(e){var t=e.game.ancients;if(1===t.length){var r=t[0];if(r.guid===i)return!0;i=r.guid}return!1}};var s=function(e,t){var r=e.length;if(r>0){for(var a=1e7,n=1e7,o=-1e7,i=-1e7,s=0;s<r;s++){var A=e[s],u=0|A.radius,l=0|A.pos.x,c=0|A.pos.y,d=l-u,p=c-u,f=d<0?0:d,h=p<0?0:p;f<a&&(a=f),h<n&&(n=h);var v=l+u;v>o&&(o=v);var g=c+u;g>i&&(i=g)}t.x=a,t.y=n,t.width=o,t.height=i}return t};t.getEntityList=function(){return o},t.updateEntityList=function(e){var r=e.game;a=[],n=[];var i=r.asteroids,A=r.rockFormations,u=r.rockFormationSystemRadius,l=r.enemies,c=r.player,d=r.npcs,p=t.getAllSpaceSnakeSegmentsCached(r.spaceSnake),f=r.bullets,h=r.rockets,v=r.drones,g=r.charges,y=r.spacePorts,m=r.spaceSpiders,S=t.getAllSpacePortCannonsCached(r.spacePorts),E=r.spaceSquids,x=r.proximityMines,T=r.spaceMines,_=r.spaceTurrets,I=r.destroyers,M=r.flames,L=r.ancients,b=r.ancientBlocks;o[0].list=i,o[1].list=A,o[2].list=u,o[3].list=l,o[4].list=c,o[6].list=d,o[5].list=p,o[7].list=E,o[8].list=v,o[10].list=h,o[9].list=f,o[11].list=g,o[12].list=y,o[13].list=S,o[14].list=m,o[15].list=x,o[16].list=T,o[17].list=_,o[18].list=I,o[19].list=M,o[20].list=L,o[21].list=b;for(var w=o.length,R=0;R<w;R++){var P=o[R];if(P.preCalculateBounds&&!e.game.IS_PROCEDURAL)P.bounds=s(P.list,P.bounds),!e.game.IS_PROCEDURAL&&(P.bounds.width>5e4||P.bounds.height);else{var O=P.bounds;O.x=0,O.y=0,O.width=e.WW,O.height=e.WH}}return o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(249),r(250),r(251),r(252),r(254),r(257),r(258),r(259),r(260),r(261),r(262),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(51),r(279)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_){"use strict";var I,M;Object.defineProperty(t,"__esModule",{value:!0}),t.getIntersectionData=void 0;var L=function(e,t,r){return void 0===r&&(r=[]),t.filter(function(e){return r.indexOf(e)<0}).map(function(t){return{type:t,handler:e}})},b=((I={})[0]=o(L(r.default,[0,13]),L(v.default,[1])),I[3]=o(L(r.default,[0,12,13,3,1])),(M={})[0]=[{type:0,handler:r.default},{type:13,handler:r.default},{type:1,handler:v.default},{type:21,handler:r.default}],M[3]=[{type:0,handler:r.default},{type:12,handler:r.default},{type:13,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[7]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[14]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:13,handler:r.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:14,handler:r.default},{type:4,handler:n.default},{type:8,handler:n.default},{type:6,handler:n.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[5]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[6]=[{type:0,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[4]=[{type:1,handler:r.default},{type:21,handler:r.default},{type:6,handler:i.default},{type:3,handler:i.default},{type:0,handler:s.default},{type:4,handler:i.default},{type:13,handler:r.default},{type:12,handler:A.default}],M[10]=[{type:4,handler:u.default},{type:3,handler:u.default},{type:6,handler:u.default},{type:5,handler:l.default},{type:7,handler:c.default},{type:14,handler:c.default},{type:18,handler:u.default},{type:0,handler:d.default},{type:1,handler:d.default},{type:21,handler:d.default},{type:13,handler:d.default},{type:15,handler:S.default},{type:16,handler:S.default},{type:17,handler:S.default}],M[8]=[{type:13,handler:r.default},{type:0,handler:r.default},{type:8,handler:r.default},{type:4,handler:r.default},{type:3,handler:r.default},{type:6,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default}],M[9]=[{type:3,handler:p.default},{type:0,handler:f.default},{type:1,handler:f.default},{type:21,handler:f.default},{type:5,handler:h.default},{type:7,handler:c.default},{type:14,handler:c.default},{type:4,handler:p.default},{type:18,handler:p.default},{type:8,handler:p.default},{type:6,handler:p.default},{type:13,handler:f.default},{type:15,handler:m.default},{type:17,handler:m.default}],M[11]=[{type:0,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default},{type:4,handler:r.default},{type:8,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default},{type:5,handler:r.default},{type:14,handler:r.default},{type:7,handler:r.default}],M[15]=[{type:15,handler:g.default},{type:0,handler:g.default},{type:1,handler:g.default},{type:21,handler:g.default},{type:4,handler:g.default},{type:8,handler:g.default},{type:6,handler:g.default},{type:13,handler:g.default},{type:3,handler:g.default},{type:5,handler:g.default},{type:7,handler:g.default},{type:14,handler:g.default},{type:18,handler:g.default}],M[16]=[{type:16,handler:y.default},{type:15,handler:y.default},{type:0,handler:y.default},{type:1,handler:y.default},{type:21,handler:y.default},{type:4,handler:y.default},{type:8,handler:y.default},{type:6,handler:y.default},{type:13,handler:y.default},{type:3,handler:y.default},{type:5,handler:y.default},{type:7,handler:y.default},{type:14,handler:y.default},{type:9,handler:y.default},{type:17,handler:y.default},{type:18,handler:y.default}],M[17]=[{type:15,handler:r.default},{type:17,handler:r.default},{type:0,handler:r.default},{type:1,handler:r.default},{type:21,handler:r.default},{type:4,handler:r.default},{type:8,handler:r.default},{type:6,handler:r.default},{type:3,handler:r.default},{type:13,handler:r.default},{type:5,handler:r.default},{type:14,handler:r.default},{type:7,handler:r.default},{type:18,handler:r.default}],M[18]=[{type:18,handler:E.default},{type:4,handler:E.default},{type:1,handler:r.default},{type:21,handler:r.default},{type:6,handler:E.default},{type:3,handler:E.default},{type:8,handler:E.default},{type:0,handler:x.default},{type:13,handler:x.default},{type:7,handler:x.default},{type:14,handler:x.default}],M[19]=[{type:3,handler:_.default},{type:0,handler:_.default},{type:1,handler:_.default},{type:21,handler:_.default},{type:5,handler:_.default},{type:7,handler:_.default},{type:14,handler:_.default},{type:4,handler:_.default},{type:18,handler:_.default},{type:8,handler:_.default},{type:6,handler:_.default},{type:13,handler:_.default},{type:15,handler:_.default},{type:17,handler:_.default}],M);t.getIntersectionData=function(){return b},T.startupTests()}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCorrectCollisionPoint=void 0,t.getCorrectCollisionPoint=function(e,t){var a=e.length;if(0===a)return t.pos;if(1===a)return e[0];for(var n=t.pos.x-1e3*t.vel.x,o=t.pos.y-1e3*t.vel.y,i=Number.MAX_VALUE,s=0,A=0;A<e.length;A++){var u=r.distanceBetweenXYXYRelative(n,o,e[A].x,e[A].y);u<i&&(i=u,s=A)}return e[s]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetQuadtreeOnTreeIntersections=t.getNumCollisions=void 0;var r,a=0,n=0;t.getNumCollisions=function(){var e=a,t=n;return a=0,n=0,{collisions:e,broadPhase:t}},t.GetQuadtreeOnTreeIntersections=function(e,t,o){var i=function(e){var t=[];for(var r in e)t.push(parseInt(r,10));return t}(o),s=i.length;r=[];for(var A=0;A<s;A++){var u=i[A],l=e[u];n+=l.REFERENCE_INDEX;for(var c=o[u],d=c.length,p=0;p<d;p++){var f=c[p],h=e[f.type];if(0!==l.references.length&&0!==h.references.length){var v=l.intersectTree(h);v.length>0&&(a+=v.length-1,r.push({indexes:v,typeA:l.itemType,typeB:h.itemType,handler:f.handler,AABB_VEL:l.AABB_VEL||h.AABB_VEL}))}}}return r}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(54),r(5)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableResponseDebug=t.RESPONSE_DEBUG=t.getImIntersections=void 0;var n=[];t.getImIntersections=function(){return n};t.default=function(e,t){var o=t.length,i=function(){for(var e=a.___getQtreeList(),t={},r=e.length,n=0;n<r;n++){var o=e[n];t[o.itemType]=o.references}return t}();n=[];for(var s=0;s<o;s++)for(var A=t[s],u=A.indexes,l=u.length,c=0;c<l;c++){var d=u[c],p=d[0],f=d.length,h=i[A.typeA][p],v={a:h,im:[]};n.push(v);for(var g=1;g<f;g++){var y=d[g],m=i[A.typeB][y];v.im.push(m),h.remove||m.remove||(A.handler(h,m,e),r.default(h,m,e))}}},t.RESPONSE_DEBUG=[],t.enableResponseDebug=function(){}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShipCamera=void 0;var r=[],a=[];t.ShipCamera=function(e,t){t.step;var n=e.SW,o=e.SH;if(t.IS_SERVER)return e.SX=e.pos.x-.5*n,void(e.SY=e.pos.y-.5*o);var i=function(e){r.push(e.x),a.push(e.y);var t=r.length;t>50&&(r.shift(),a.shift(),t--);for(var n=0,o=0,i=0;i<t;i++)n+=r[i],o+=a[i];return{x:n/t,y:o/t}}(e.vel);e.SX=e.pos.x-.5*n+20*i.x,e.SY=e.pos.y-.5*o+20*i.y},t.default=function(e){for(var r=e.game,a=(e.step,e.SW),n=e.SH,o=(r.resW,r.player),i=0;i<o.length;i++){var s=o[i];e.IS_MULTIPLAYER||s.SW!==a&&(s.SW=a,s.SH=n),t.ShipCamera(s,e)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(2),r(1),r(44)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new a.Vector(0,0);t.default=function(e,t){if(void 0!==t.forceX&&0!==t.forceX||void 0!==t.forceY&&0!==t.forceY){for(var a=t.comp[0].vertex,i=[0,1,0,2],s=[2,2,1,0],A=Math.abs(t.forceX)+Math.abs(t.forceY),u=0;u<a.length;u++){var l=a[u],c=(Math.random()-.5)*A*15,d=(Math.random()-.5)*A*15;l.x+=c,l.y+=d}for(var p=0;p<i.length;p++)for(u=0;u<a.length;u++){var f=r.midpoint(a[i[p]],a[s[p]],Math.random(),o),h=n.createParticle(f.x,f.y,t.forceX,t.forceY,5*Math.random()+2);e.game.particles.push(h)}t.forceX*=.8,t.forceY*=.8,Math.abs(t.forceX)<.1&&Math.abs(t.forceY)<.1&&(t.forceX=0,t.forceY=0)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(11),r(6),r(16),r(18),r(86),r(7),r(62),r(53),r(5),r(70),r(2),r(48),r(14)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPartsTree=void 0;t.GetPartsTree=function(){return v};var v=new d.QuadTreeUint16Point(new A.Rectangle(0,0,100,100),20,75);t.default=function(e){var t=e.game,g=e.SW,y=e.SH,m=e.SX,S=e.SY,E=e.WW,x=e.WH,T=e.step;t.IS_PROCEDURAL&&v instanceof d.QuadTreeUint16Point?v=new f.QuadTreeInt32Point(new A.Rectangle(0,0,0,0),100,100):!t.IS_PROCEDURAL&&v instanceof f.QuadTreeInt32Point&&(v=new d.QuadTreeUint16Point(new A.Rectangle(0,0,0,0),100,100));var _=c.getQuadTreesObj();if(_&&_.Asteroids){!function(e,t){for(;t.length>0;){var r=t.pop();l.default(r,e)}}(e,t.removedAsteroids),function(e,t){for(;t.length>0;){var r=t.pop();s.default(r,e)}}(e,t.removedShips);var I=new A.Rectangle(m,S,g,y),M=new A.Rectangle(m-300,S-300,g+600,y+600),L=t.asteroidParts;v.reset(),v.setup(M,100,75);for(var b=L.length,w=0;w<b;w++){var R=L[w];v.insert(R)}var P=v.queryInt(M),O=P.length,C=o(_.Drones.queryInt(I),_.Npcs.queryInt(I),_.Enemies.queryInt(I),_.Player.queryInt(I),_.Rockets.queryInt(I),_.Asteroids.queryInt(I),_.SpacePortCannons.queryInt(I),_.RockFormations.queryInt(I),_.Destroyers.queryInt(I)),G=C.length,N=new A.Rectangle(0,0,0,0);for(w=0;w<G;w++){var B=C[w],F=2*B.radius;if(39===B.type?F=2*B.originalRadius:12!==B.type&&20!==B.type||(F=B.radius),N.x=B.pos.x-F,N.y=B.pos.y-F,N.width=2*F,N.height=2*F,0===B.type)for(var D=(W=v.queryInt(N)).length,V=0;V<D;V++){var X=W[V];if(p.fine(3,B.comp[0].vertex,X.pos)){var H=Math.atan2(B.pos.y-X.pos.y,B.pos.x-X.pos.x);X.vel.setAngle(H+Math.PI);var k=.7*Math.random();X.vel.setLength(1*k+2),n.default(X,T),Math.abs(X.angleVel)<.1?X.angleVel=(k>.5?k:.4-k)*k*.1:X.angleVel*=2}}else{var W;for(D=(W=v.queryInt(N)).length,V=0;V<D;V++){X=W[V],H=Math.atan2(B.pos.y-X.pos.y,B.pos.x-X.pos.x);var U=X.pos.x-B.pos.x,Y=X.pos.y-B.pos.y;if(u.OperatorApproxDist96(U,Y)<F){X.vel.setAngle(H+Math.PI);k=.7*Math.random();X.vel.setLength(1*k+.1),n.default(X,T),Math.abs(X.angleVel)<.1?X.angleVel=(k>.5?k:.4-k)*k*.1:X.angleVel*=2}}}}for(w=0;w<O;w++){var z=(R=P[w]).vel.getLength();z>7&&R.vel.setLength(7),n.default(R,T),R.angle+=R.angleVel,z>0&&R.vel.mult(.98),R.angleVel*=.996;var j=R.angle;(R.angleVel>.01||R.angleVel<.01)&&(R.angleVel>.3?R.angleVel=.3:R.angleVel<-.3&&(R.angleVel=-.3),R.rotatedEdgeA&&(R.rotatedEdgeA=a.rotateVector(R.edgeA,j,R.rotatedEdgeA)),R.rotatedEdgeB&&(R.rotatedEdgeB=a.rotateVector(R.edgeB,j,R.rotatedEdgeB))),r.shift(R,E,x),i.wormhole(R,e)}var q=h.getForce2Tree().queryInt(e.game.screen.rectSS_400);for(w=0;w<q.length;w++){var K=q[w],Z=v.queryCircle(K.pos,K.radius);h.FastForce2Cached(Z,K)}t.screen.rectSS_800;if(L.length>2500){var Q=[],J=0;for(w=0;w<b;w++){X=L[w];J<50&&!M.intersectsPoint(X.pos)?J++:Q.push(X)}t.asteroidParts=Q}return"parts"}}}.apply(t,a))||(e.exports=n)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__(9),__webpack_require__(0),__webpack_require__(4),__webpack_require__(37),__webpack_require__(38),__webpack_require__(3)],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,CreateText_1,GLCTX_1,BufferGL_1,KeyMapper_1,GameState_1,Consts_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetConsoleOpen=exports.ForceOpen=exports.Log=exports.Err=void 0;for(var TEXT_HEIGHT=30,TEXT_SIZE=18,MAX_LINES=14,ROW_SIZE=100,colors=["r","g","w"],i=0;i<colors.length;i++)CreateText_1.default.createSplitted("1234567890:-+*()[]'\"/|,.-_ <>",TEXT_SIZE,colors[i]),CreateText_1.default.createSplitted("QWERTYUIOPASDFGHJKLZXCVBNM",TEXT_SIZE,colors[i]),CreateText_1.default.createSplitted("qwertyuiopasdfghjklzxcvbnm",TEXT_SIZE,colors[i]);var measure=CreateText_1.default.create("1",TEXT_SIZE,"r"),openTarget=!1,polys=[],polyColorMap=[],isOpen=!1,isOpening=!1,isClosing=!1,topPos=window.innerHeight,OPEN_POS=.5*window.innerHeight,actualHintCode=[],hintLine=[],lines=[],currentLine="game".split(""),userInputIndexes=[],currentUserInputIndex=-1,scrollIndex=0,is_paused=!1,commands={godmode:function(e){if(1===e.player.length){var t=e.player[0];t.availableElectroBastardRays=1e6,t.availableRockets=1e3,t.life=1e6,t.boost=1e4,t.availableMissiles=1e3,t.bulletWeaponLevel=1e3,t.availableMines=2e3,t.ultrabright=2e7,e.notifications.push({type:63,message:"GOD MODE ENABLED",life:10*Consts_1.NOTIFICATION_LIFE})}},pause:function(){exports.Log("enabled"),is_paused=!is_paused},zoom:{in:function(e){e.SW*=.7,e.SH*=.7},out:function(e){e.SW*=1.3,e.SH*=1.3},eagleEye:function(e){e.SW<4e3?(e.SW*=10,e.SH*=10):commands.zoom.reset(e)},reset:function(e){e.SW=window.innerWidth,e.SH=window.innerHeight}},debugGui:function(e){e.debug=e.debug?null:{},e.menuSettings.extensiveUI=!!e.debug},clear:function(){lines=[],scrollIndex=0},kill:function(e){e.player[0]&&(e.player[0].life=0,e.player[0].remove=!0,openTarget=!1)},ship:function(e){currentLine=["game.","player[0]."]}},showHistory=function(e){var t=(currentUserInputIndex>-1?currentUserInputIndex:userInputIndexes.length-1)+e;t>userInputIndexes.length-1?t=userInputIndexes.length-1:t<0&&(t=0),lines[userInputIndexes[t]]&&(currentLine=lines[userInputIndexes[t]].join("").split(""))},convertStr=function(e,t){var r=[];if(e&&e.length>1){for(var a=e.split(""),n=0;n<a.length;n++){var o=a[n];if(t){if(t.indexOf(o)>-1){n++,r.push(o),lines.push(r),r=[];continue}}else if("\\"===o&&("n"===a[n+1]||"r"===a[n+1])){n++,lines.push(r),r=[];continue}r.push(a[n]),r.length>ROW_SIZE&&" "===o&&(lines.push(r),r=[])}r.length>0&&lines.push(r)}else lines.push(e+"");removeOld()},removeOld=function(){lines.length>400&&(lines=lines.splice(100,lines.length))},addToLine=function(e){if(e&&e.length>1)for(var t=e.split(""),r=0;r<t.length;r++)currentLine.push(t[r]),currentLine.length>ROW_SIZE&&(lines.push(currentLine),currentLine=[]);else currentLine.push(e+"");removeOld()},removeFromLine=function(){currentLine.pop()},executeCommand=function(e){for(var t=commands,r=e.split("."),a=0;a<r.length;a++){var n=r[a];t[n]&&(t=t[n])}return!(!t||"function"!=typeof t)&&(t(window.game),!0)},executeLine=function(){var str=currentLine.join("");if(!executeCommand(str)){userInputIndexes.push(lines.length),currentUserInputIndex=-1,lines.push(currentLine),currentLine=[];var res="";try{res=JSON.stringify(eval(str),null,1)}catch(e){res=e+""}convertStr("> "+res,",{}")}},KEYMAP={TILDE:220,BACKSPACE:8,DELETE:46,RETURN:13,SHIFT:16,CAPSLOCK:20,ALT:17,ALTGR:18,UP:38,DOWN:40,LEFT:37,RIGHT:39,HOME:35,END:36,ESCAPE:27},close=function(e){e.SH,e.stepMS;isClosing=!0,(topPos*=1.1)>e.game.resH&&(topPos=e.game.resH,isClosing=!1,isOpening=!1,isOpen=!1)},open=function(e){e.SH,e.stepMS;isOpening=!0,(topPos*=.9)<.5*e.game.resH&&(topPos=.5*e.game.resH,isClosing=!1,isOpening=!1,isOpen=!0)},generateHints=function(){var str=currentLine.join(""),matcher="",parts=[];"."===str[str.length-1]?str=str.substr(0,str.length-1):(parts=str.split("."),matcher=parts.pop(),str=parts.join(".")),actualHintCode=[],hintLine=[];var hints=[],priorityHints=[];if(str.indexOf("game")>-1)try{var res=eval(str),i=1;if("object"==typeof res)for(var key in res){var keyValue=res[key],m="["+i+" "+key+":"+typeof keyValue+"]",c=str+"."+key;if(matcher.length>0){var idxof=key.indexOf(matcher);if(-1===idxof)continue;if(0===idxof){i++,priorityHints.push(m),actualHintCode.push(c);continue}}i++,hints.push(m),actualHintCode.push(c)}}catch(e){hints.push("[no matches]")}else{var i=0,cwd=commands,cwdUpdated=!1;for(0===parts.length&&commands[str]&&(cwd=commands[str],cwdUpdated=!0),i=0;i<parts.length;i++){var currPath=parts[i];cwd[currPath]&&(cwd=cwd[currPath],cwdUpdated=!0)}for(var key in i=0,cwd){var keyType=typeof cwd[key],strType="function"===keyType?"()":">";i++;var m="["+i+" "+key+":"+strType+"]";cwdUpdated?actualHintCode.push(str+"."+key):actualHintCode.push(key),hints.push(m)}}hintLine=priorityHints.concat(hints)},scroll=function(e){var t=scrollIndex+e;t>-MAX_LINES&&t<lines.length&&(scrollIndex=t)},blinkMarker=!1,blinkMarkerCnt=0,handleKeys=function(e,t){var r=e.keys,a=e.charCodeString;if(r.BACKSPACE)return console.log("console backspace"),removeFromLine(),void generateHints();if(r.DELETE)return console.log("console delete"),removeFromLine(),void generateHints();if(r.RETURN)return console.log("console return"),void executeLine();if(r.UP)return console.log("console up"),showHistory(-1),void generateHints();if(r.DOWN)return console.log("console down"),showHistory(1),void generateHints();if(r.HOME)return console.log("console home"),scroll(-1),void(hintLine=["scroll up:"+scrollIndex]);if(r.END)return console.log("console end"),scroll(1),void(hintLine=["scroll down:"+scrollIndex]);if(r.ESCAPE){console.log("console escape");var n=currentLine.join("").split(".");return 1===n.length&&0===n[0].length&&(openTarget=!1),n.pop(),void(currentLine=n.join(".").split(""))}if(r.SHIFT||r.CAPSLOCK||r.ALT||r.ALTGR||r.LEFT||r.RIGHT)console.log("console ignored keys");else{var o=t-48-1;t>=48&&t<=57&&actualHintCode.length>0&&o<actualHintCode.length&&o>=0?currentLine=actualHintCode[o].split(""):null!==a&&addToLine(a),generateHints()}};exports.default=function(e){e.frame;var t=e.game,r=e.gl,a=e.stepMS,n=t.resW,o=t.resH;if(t.allKeyCodes.currentKeyCode===KeyMapper_1.Keys.TILDE&&(t.state.console.active?isOpen&&(openTarget=!1):isOpen||(openTarget=!0,GameState_1.StateMachine(t.state).consoleActivate())),t.state.console.active){isOpen||openTarget||GameState_1.StateMachine(t.state).consoleDisable(),handleKeys(t.allKeyCodes.console,t.allKeyCodes.currentKeyCode),t.allKeyCodes.console.keys.ESCAPE&&(openTarget=!1),polys=[],polyColorMap=[];if(openTarget?open(e):isOpen&&close(e),isOpen||isOpening||isClosing){var i=t.zoomTX;BufferGL_1.fillPoly(n*i,0,topPos*i,n*i,(topPos+.5*o)*i,polys),BufferGL_1.addToColorMap(polyColorMap,polys,0,0,0,.8),BufferGL_1.fillPoly(n*i,0,topPos*i,n*i,1*i,polys),BufferGL_1.addToColorMap(polyColorMap,polys,.5,.5,.5,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);var s=GLCTX_1.default(GLCTX_1.GLctx.Vertices,r);BufferGL_1.drawColorMap(polyColorMap,polys,s,r),r.blendFunc(r.ONE,r.ONE);var A=GLCTX_1.default(GLCTX_1.GLctx.Texture,r),u=CreateText_1.default.createSplitted(hintLine.join(" ").substr(0,ROW_SIZE),TEXT_SIZE,"g","");CreateText_1.default.addListGL(r,A,u,10,10+topPos,e);for(var l=Math.max(lines.length-MAX_LINES-scrollIndex,0),c=Math.min(l+MAX_LINES,lines.length),d=1,p=l;p<c;p++){var f=CreateText_1.default.createSplitted(lines[p].join(""),TEXT_SIZE,"r","");CreateText_1.default.addListGL(r,A,f,10,10+topPos+d*TEXT_HEIGHT*1,e),d++}var h=CreateText_1.default.createSplitted(currentLine.join(""),TEXT_SIZE,"w",blinkMarker?"_":"");return CreateText_1.default.addListGL(r,A,h,10,10+topPos+d*TEXT_HEIGHT*1,e),(blinkMarkerCnt+=a)>500&&(blinkMarker=!blinkMarker,blinkMarkerCnt=0),"Console"}}};var ErrCnt=0;exports.Err=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];is_paused||convertStr("("+ ++ErrCnt+") "+e.join(", "))},exports.Log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];is_paused||convertStr(e.join(", "))},exports.ForceOpen=function(){isOpen||is_paused||(openTarget=!0)},exports.GetConsoleOpen=function(){return isOpen}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(32),r(3),r(0),r(2),r(19),r(22),r(15)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.5*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSquids[0]&&A.distanceBetween(t.player[0],t.spaceSquids[0])<700&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,n=e.SW,i=e.SH,s=r.createShip(e);s.life=2e3,t.player.push(s),s.availableElectroBastardRays=3e6,s.angle+=.9*Math.PI,s.shields=0,a.default(t.player,n,i,.3*n,.3*i),t.spaceSquids=o.default(e,1,s.pos.x+.5*n,s.pos.y+200),t.spaceSquids[0].life=5e7;for(var d=0;d<220;d++)u.default(e),l.default(e),t.player[0]&&t.spaceSquids[0]&&A.distanceBetween(t.player[0],t.spaceSquids[0])<555&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0);s.keyCodes.UP=!0,c.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*i.TEXT_SIZE_MEDIUM),o=n.default.create("USE ",a,"w"),A=n.default.create("ELECTROBASTARD RAY ",a,"r"),u=n.default.create("TO STUN",a,"w"),l=n.default.create("BIOLOGIAL ENEMIES [SPACE SQUIDS]",a,"w"),c=s.default(s.GLctx.Texture,t);n.default.addListGL(t,c,[o,A,u],100,r-400,e),n.default.addGL(t,c,l,100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(1),r(27),r(12),r(5),r(106),r(11)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuGamePlayerAI=void 0;var u=new a.Vector(0,0),l=0,c=60;t.menuGamePlayerAI=function(e){var t=e.SW,r=e.SH,a=e.game,s=a.player[0];for(var A in s.keyCodes)s.keyCodes[A]=!1;for(var A in s.keyCodes)"STRAFELEFT"!==A&&"STRAFERIGHT"!==A&&"LEFT"!==A&&"RIGHT"!==A&&"TIMEFREEZE"!==A&&"CLOAKED"!==A&&"BOOST"!==A&&"CHARGE"!==A&&"MISSILE"!==A&&"FIRE"!==A&&"FLAMETHROWER"!==A&&"PROXIMITYMINE"!==A&&"SPACEMINE"!==A&&"SPACETURRET"!==A&&"TRACELINE"!==A&&Math.random()>.99&&(s.keyCodes[A]=!0);if(s.damageTaken?(l++,s.keyCodes.ELECTROBASTARDRAY=!0,Math.random()>.99&&(Math.random()>.5?s.keyCodes.PROXIMITYMINE=!0:s.keyCodes.SPACEMINE=!0)):l=0,(l>20||c<60)&&(c>0?(c--,s.keyCodes.BOOST=!0):c=60),Math.random()>.995&&(s.availableElectroBastardRays++,s.availableRockets<3&&s.availableRockets++,s.availableMines<2&&s.availableMines++),s.keyCodes.ELECTROBASTARDRAY=!1,s.keyCodes.DOWN=!1,s.closestItem&&12!==s.closestItem.type&&Math.random()>.99&&(Math.random()>.5?s.keyCodes.ELECTROBASTARDRAY=!0:s.keyCodes.DOWN=!0),s.vel.getLength()<2&&(s.stunned||s.damageTaken)){s.keyCodes.CHARGE=!0,s.keyCodes.FLAMETHROWER=!0;var d=Math.random();d>.66?a.proximityMines.length<50&&(s.keyCodes.PROXIMITYMINE=!0):d>.33?a.spaceMines.length<100&&(s.keyCodes.SPACEMINE=!0):a.spaceTurrets.length<60&&(s.keyCodes.SPACETURRET=!0)}var p=i.getQuadTreesObj();if(p.Asteroids){u.set(s.pos.x,s.pos.y);for(var f=p.queryTreesVec([0,6,12,2,18],u,.5*t,.5*r),h=[],v=0;v<f.length;v++){var g=f[v];12!==g.type&&2!==g.type&&11!==g.type&&16!==g.type&&0!==g.type||h.push(g)}var y=n.default(s,s.angle,h);s.keyCodes.STRAFELEFT=!1,s.keyCodes.STRAFERIGHT=!1,y.avoidanceAngle>0?s.keyCodes.STRAFELEFT=!0:y.avoidanceAngle<0&&(s.keyCodes.STRAFERIGHT=!0),s.avoidance=y,s.vel.add(y.avoidance)}s.damageTaken,s.keyCodes.UP=!0,s.keyCodes.BOOST&&o.LOG_GL("boost")};new a.Vector(0,0);t.default={gui:null,camera:function(e){},splash:null,assert:function(e){return t.menuGamePlayerAI(e),!1},init:function(e){var t;e.game,e.WH,e.WW;e.game.IS_PROCEDURAL=!0,i.SetupQuadTreeRangeType(1),e.game.spaceFog=[],e.game.anomlies=[],e.game.anomalyPairs=[],A.disableMapShift(!0);var a=r.createShip(e);a.life=400,a.angle=2*Math.PI*Math.random(),a.pos.x=1e8*(Math.random()-.5),a.pos.y=1e8*(Math.random()-.5),a.SX=a.pos.x+.5*e.game.SW,a.SY=a.pos.y+.5*e.game.SH,e.SX=e.game.SX=a.SX,e.SY=e.game.SY=a.SY,e.game.player.push(a),(t=e.game.drones).push.apply(t,r.createDrones(e,a.pos.clone().addXY(100,0),1,a.guid))},mapSize:function(){return{WW:32e3,WH:32e3}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(12)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeuralNetwork=void 0;var a=function(){function e(e,t,r){this._numInputs=e,this._numHidden=t,this._numOutputs=r,this._bias0=new o(1,this._numHidden),this._bias1=new o(1,this._numOutputs),this._weights0=new o(this._numInputs,this._numHidden),this._weights1=new o(this._numHidden,this._numOutputs),this._bias0.randomWeights(),this._bias1.randomWeights(),this._weights0.randomWeights(),this._weights1.randomWeights()}return e.Mutate=function(t,r,a){void 0===a&&(a=.1);var n=new e(t._numInputs,t._numHidden,t._numOutputs);return n.bias0=o.mutateFromFirst(t.bias0,r.bias0,a),n.bias1=o.mutateFromFirst(t.bias1,r.bias1,a),n.weights0=o.mutateFromFirst(t.weights0,r.weights0,a),n.weights1=o.mutateFromFirst(t.weights1,r.weights1,a),n},Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs},set:function(e){this._inputs=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bias0",{get:function(){return this._bias0},set:function(e){this._bias0=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bias1",{get:function(){return this._bias1},set:function(e){this._bias1=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weights0",{get:function(){return this._weights0},set:function(e){this._weights0=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weights1",{get:function(){return this._weights1},set:function(e){this._weights1=e},enumerable:!1,configurable:!0}),e.prototype.feedForward=function(e){this.inputs=o.convertFromArray(e),this.hidden=o.dot(this.inputs,this.weights0),this.hidden=o.add(this.hidden,this.bias0),this.hidden=o.map(this.hidden,function(e){return n(e)});var t=o.dot(this.hidden,this.weights1);return t=o.add(t,this.bias1),t=o.map(t,function(e){return n(e)})},e.prototype.train=function(e,t,a){var i=this.feedForward(e),s=o.convertFromArray(t),A=o.subtract(s,i);a&&r.LOG_GL_FIXED(A.data[0].map(function(e){return e.toFixed(3)}).join(","),"ERR RATE");var u=o.map(i,function(e){return n(e,!0)}),l=o.multiply(A,u),c=o.transpose(this.weights1),d=o.dot(l,c),p=o.map(this.hidden,function(e){return n(e,!0)}),f=o.multiply(d,p),h=o.transpose(this.hidden);this.weights1=o.add(this.weights1,o.dot(h,l));var v=o.transpose(this.inputs);return this.weights0=o.add(this.weights0,o.dot(v,f)),this.bias1=o.add(this.bias1,l),this.bias0=o.add(this.bias0,f),A.data[0]},e}();function n(e,t){return void 0===t&&(t=!1),t?e*(1-e):1/(1+Math.exp(-e))}t.NeuralNetwork=a;var o=function(){function e(e,t,r){if(void 0===r&&(r=[]),this._rows=e,this._cols=t,this._data=r,null==r||0==r.length){this._data=[];for(var a=0;a<this._rows;a++){this._data[a]=[];for(var n=0;n<this._cols;n++)this._data[a][n]=0}}else if(r.length!=e||r[0].length!=t)throw new Error("Incorrect data dimensions!")}return Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),e.add=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),n=0;n<a.rows;n++)for(var o=0;o<a.cols;o++)a.data[n][o]=t.data[n][o]+r.data[n][o];return a},e.mutateFromFirst=function(t,r,a){void 0===a&&(a=.1),e.checkDimensions(t,r);for(var n=new e(t.rows,t.cols),o=0;o<n.rows;o++)for(var i=0;i<n.cols;i++){var s=(t.data[o][i]-r.data[o][i])*Math.random()*a;n.data[o][i]=t.data[o][i]+s}return n},e.checkDimensions=function(e,t){if(e.rows!=t.rows||e.cols!=t.cols)throw new Error("Matrices are of different dimensions!")},e.convertFromArray=function(t){return new e(1,t.length,[t])},e.dot=function(t,r){if(t.cols!=r.rows)throw new Error('Matrices are not "dot" compatible!');for(var a=new e(t.rows,r.cols),n=0;n<a.rows;n++)for(var o=0;o<a.cols;o++){for(var i=0,s=0;s<t.cols;s++)i+=t.data[n][s]*r.data[s][o];a.data[n][o]=i}return a},e.map=function(t,r){for(var a=new e(t.rows,t.cols),n=0;n<a.rows;n++)for(var o=0;o<a.cols;o++)a.data[n][o]=r(t.data[n][o]);return a},e.multiply=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),n=0;n<a.rows;n++)for(var o=0;o<a.cols;o++)a.data[n][o]=t.data[n][o]*r.data[n][o];return a},e.subtract=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),n=0;n<a.rows;n++)for(var o=0;o<a.cols;o++)a.data[n][o]=t.data[n][o]-r.data[n][o];return a},e.transpose=function(t){for(var r=new e(t.cols,t.rows),a=0;a<t.rows;a++)for(var n=0;n<t.cols;n++)r.data[n][a]=t.data[a][n];return r},e.prototype.randomWeights=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++)this.data[e][t]=2*Math.random()-1},e}()}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(146)],void 0===(n=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.m4=r(368),window.webglUtils=r(369);r(370);var n=function(){function e(){}return e.main=function(){a.default()},e}();t.default=n,n.main()}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(26),r(19),r(22),r(3),r(37),r(49),r(297),r(299),r(300),r(302),r(306),r(307),r(314),r(315),r(316),r(317),r(49),r(0),r(141),r(40),r(141),r(38),r(37),r(318),r(42),r(319),r(320),r(333),r(10),r(3),r(12),r(334),r(354),r(355),r(142),r(15),r(143),r(90),r(12),r(356),r(357),r(358),r(359),r(77),r(364),r(5),r(21),r(89),r(140),r(26),r(19),r(22),r(365),r(9),r(367)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_,I,M,L,b,w,R,P,O,C,G,N,B,F,D,V,X,H,k,W,U,Y,z,j,q,K,Z,Q,J,$,ee,te,re,ae){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var ne=[];ne[14]=V.default,ne[15]=d.default,ne[16]=te.default,ne[19]=ae.default,ne[17]=c.default,ne[18]=p.default,ne[9]=U.default,ne[10]=Y.default,ne[12]=f.default,ne[1]=h.default,ne[0]=v.default,ne[2]=g.default,ne[3]=N.default,ne[4]=B.default,ne[5]=y.default,ne[6]=k.default,ne[7]=W.default,ne[8]=j.default,ne[11]=F.default;var oe=window.innerWidth,ie=window.innerHeight,se=10*oe,Ae=10*ie,ue=b.default(oe,ie),le=null,ce=null,de=null,pe=null,fe=null;window.onresize=function(){D.default().engine.game.loadscreen&&(window.location.href=window.location.href),C.LOG_GL_FIXED_FORCED("RESOLUTION CHANGE NOT SUPPORTED","ERROR"),setTimeout(function(){D.default().engine.game.resW=window.innerWidth,D.default().engine.game.resH=window.innerHeight,D.default().engine.game.currentResW=window.innerWidth,D.default().engine.game.currentResH=window.innerHeight,D.default().engine.game.SW=window.innerWidth,D.default().engine.game.SH=window.innerHeight,D.default().engine.SW=window.innerWidth,D.default().engine.SH=window.innerHeight,D.default().gui.SW=window.innerWidth,D.default().gui.SH=window.innerHeight;var e=P.default(D.default().engine);e.SW=window.innerWidth,e.SH=window.innerHeight;var t=document.getElementById("stage");t.width=window.innerWidth,t.height=window.innerHeight,ce.game.zoomTX=ce.SW/ce.game.resW,ce.game.zoomTXinverted=ce.game.resW/ce.SW,S.zoom(D.default().gui,!0)},50)};var he=!0;t.default=function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("level"),10)-1;if(null===e.get("console")){for(var n in null===e.get("devproject")&&null===e.get("hotdevproject")||(J.setDevProjectGui(),$.setDevProjectEngine(),ee.setDevProjectEngineClient()),ue.menuSettings)"boolean"==typeof ue.menuSettings[n]&&L.containsBool(n)&&(ue.menuSettings[n]=L.loadBool(n));for(var n in ue.menuSettings.debugItems)L.containsBool(n)&&(ue.menuSettings.debugItems[n]=L.loadBool(n)||!1);null!=e.get("debug")?(ue.debug={},ue.menuSettings.extensiveUI=!0):ue.menuSettings.extensiveUI=!1,e.get("dev")&&(ue.debug={},ue.menuSettings.fps=!0,!0),he=!e.get("soft"),!!e.get("skip"),t<ne.length&&(ue.currentLevel=t),he||(se=10*oe,Ae=10*ie),E.Log("SW:",oe,"SH:",ie),E.Log("WW:",se,"WH:",Ae);var i=document.getElementById("stage");i.width=oe,i.height=ie,he?fe=w.createGL(i,ue.menuSettings.antialiasing):((de=i.getContext("2d")).fillStyle="black",de.fillRect(0,0,oe,ie),pe=de.getImageData(0,0,oe,ie)),window.addEventListener("resize",function(){var e=window.innerWidth/i.width;ue.resW=ue.SW=i.width*=e,ue.resH=ue.SH=i.height*=e,E.Log("resolution changed",ue.resW,ue.resH)}),window.game=ue,window.trees=function(){return o(o({},q.getQuadTreesObj()),{spaceDust:K.GetSpaceDustTree(),bats:Z.getSpaceBatTree(),parts:Q.GetPartsTree()})},le=R.createDefaultGuiCTX(ue,se,Ae,fe,de,pe,pe?pe.data:new Uint8ClampedArray(0)),ce=R.createDefaultEngineCTX(ue,se,Ae,!1,!1),D.setGlobalContexts(ce,le),A.default(ce,le),a.init(ce),I.addKeyMapperEvents(),z.enableShipMousecontrol(),r.default(le);if(null===e.get("hot")){var s;if(null===e.get("hotdevproject")){if(null!==e.get("hotrocks"))return ve(7),void setTimeout(function(){_.StateMachine(D.default().engine.game.state).menuDisable()},500);if(null!==e.get("hotplayground"))return ve(8),void setTimeout(function(){_.StateMachine(D.default().engine.game.state).menuDisable()},500);ce.game.loadscreen=!0,fe.clear(fe.COLOR_BUFFER_BIT|fe.DEPTH_BUFFER_BIT),setTimeout(function(){re.default.createUnitializedTextBuffers(function(e,t,r){if(G.default(le,ce,t?1:e),t){ce.game.loadscreen=!1,E.Log("created: "+r+" char textures"),ve(14);var a=L.loadStr("version_info");a!==O.VERSION_STR&&(L.saveStr("version_info",O.VERSION_STR),ue.notifications.push({type:63,message:"new version: "+O.VERSION_STR,life:O.NOTIFICATION_LIFE}),C.LOG_GL("new version: "+O.VERSION_STR),C.LOG_GL("UPDATE: was on "+a),ue.menuSettings.fps=!1,ue.menuSettings.fps3dBars=!1,ue.menuSettings.fps3dGrid=!1)}},fe)},0)}else ve(7)}else{var u=e.get("level"),l=function(){null!==u?(ve(parseInt(u,10)),setTimeout(function(){_.StateMachine(D.default().engine.game.state).menuDisable()},500)):(ve(14),setTimeout(function(){_.StateMachine(D.default().engine.game.state).menuDisable()},500))};null!==e.get("text")?(s=function(){l()},re.default.createUnitializedTextBuffers(function(e,t,r){H.LOG_GL_FIXED(t?"DONE ("+r+")":Math.round(100*e),"TXT"),t&&s()},fe,!0)):l()}}else console.log("console only. only static inializers.")};var ve=function(e){var t;t=ne[e],ue.currentLevel=e,A.default(ce,le,t.mapSize),E.Log("mapsize set to",ce.WW,ce.WH),E.Log("changed to level",e),t.init(ce),m.postLeelReset(ce),Se(),ue.playerGuid=ue.player[0].guid},ge=0,ye=0,me=0,Se=function(){var e=!1,t=performance.now(),o=t,A=0,u=!1,c=function(d){S.zoom(le);var p=ue.currentLevel,f=ne,h=f[p].assert;u=ue.isPaused,t=o,o=performance.now(),A=o-t;var v=P.default(le);v&&(A=Math.min(A,100));var g=A*O.STEP_MULTIP;ce.stepMS=A,ce.step=g,ce.stepREQframe=d,u||(ce.stepMStotal+=A,ce.frameCnt++),le.stepMS=A,le.step=g,le.stepREQframe=d,u||(le.stepMStotal+=A,le.frameCnt++);var y=s.default(ue.state);if(ce.keyCodes=le.keyCodes=y.game.keys,ue.allKeyCodes=y,v&&(v.keyCodes=y.game.keys),e||(e=ue.player.length>0&&h(ce)),!e&&ue.fromClock&&ue.clock>ue.fromClock&&(ue.player=[]),void 0!==ue.targetLevel)return ve(ue.targetLevel),void(ue.targetLevel=void 0);if(e||0===ue.player.length){if((ge+=A)>500&&ue.SW>.15*ue.resW){var m=.99;ue.SX+=ue.SW*(1-m)*.5*1,ue.SY+=ue.SH*(1-m)*.5*1,ue.SW*=.99,ue.SH*=.99,S.zoom(le)}var L=X.getRagDollPos();if(L&&(ue.SX=L.x-.5*ue.SW,ue.SY=L.y-.5*ue.SH),e&&(ue.level_completed=!0),ge>i.LEVEL_COMPLETION_TIMEOUT)return ge=0,e?(E.Log("level asserted:",ue.currentLevel),void ve(ue.currentLevel+1)):(E.Log("level failed:",ue.currentLevel),ve(14),void _.StateMachine(ue.state).menuActivate())}if(ue.debug)u||(a.default(ce),(w=f[p].camera)&&w(le),n.default(ce));else try{if(!u)a.default(ce),(w=f[p].camera)&&w(le),n.default(ce)}catch(e){ye++,C.LOG_GL_FIXED_FORCED(ye,"engine/client error "+e.message),T.Err(JSON.stringify(e.stack)),E.ForceOpen(),ue.performance.engine=[],console.error(e)}ce.game.zoomTX=ce.SW/ce.game.resW,ce.game.zoomTXinverted=ce.game.resW/ce.SW;var b=ue.player[0];if(b?(le.SX=ce.SX=ue.SX=b.SX,le.SY=ce.SY=ue.SY=b.SY,b.pos.toPoint()):(le.SX=ce.SX=ue.SX,le.SY=ce.SY=ue.SY),le.SW=ce.SW=ue.SW,le.SH=ce.SH=ue.SH,ue.debug)(w=f[p].camera)&&w(le),r.default(le),(R=f[p].gui)&&R(le);else try{var w,R;if(he)(w=f[p].camera)&&w(le),r.default(le),(R=f[p].gui)&&R(le)}catch(e){me++,C.LOG_GL_FIXED_FORCED(me,"gui error "+e.message),T.Err(JSON.stringify(e.stack)),E.ForceOpen(),ue.performance.gui=[],C.LOG_GL_FIXED_FORCED(ye,"engine/client error "+e.message),console.error(e)}he&&(x.default(E.default,le,ue.performance.gui,"gui"),l.default(le)),M.default(ue),ue.eventMap={},I.resetKeyCodes(!1),requestAnimationFrame(c)};setTimeout(function(){return c(0)},ue.testMode?500:0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(7),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[],u=[];t.default=function(e){var t=e.SW,l=e.SH,c=e.SX,d=e.SY,p=e.gl,f=s.getQuadTreesObj();if(f.Asteroids){var h=new i.Rectangle(c-100,d-100,t+200,l+200),v=f.Asteroids.queryInt(h);A=[],u=[];for(var g=0;g<v.length;g++){var y=v[g];r.blockCirclePoly(y.sides,y.radius,y.pos.x,y.pos.y,y.angle,y.isLV426?u:A,l,c,d,Math.max(4,.1*y.radius))}A.length>0&&(p.disable(p.BLEND),a.default(n.GLctx.Vertices,p),o.drawColor(A,p,.3,.3,.3,1),u.length>0&&o.drawColor(A,p,.45,.3,.3,1),p.enable(p.BLEND))}return"asteroids"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SAT_collider=void 0,t.SAT_collider=function(e,t){for(var r={pen:null,axis:null,vertex:null},a=0;a<e.comp.length;a++)for(var o=0;o<t.comp.length;o++){var i=n(e.comp[a],t.comp[o]);i&&i.pen>r.pen&&(r=i)}return r};var a=new r.Vector(0,0);function n(e,t){var r=null;a.set(0,0);for(var n,m,E,x=a,T=function(e,t){var r=[];if(0===e.shape&&0===t.shape)return y.setFromVec(t.pos).subtr(e.pos),y.mag()>0?(i.setFromVec(y).unit(),r.push(i)):(i.set(Math.random(),Math.random()).unit(),r.push(i)),r;0===e.shape&&(i.setFromVec(S(t,e.pos)).subtr(e.pos),i.unit(),r.push(i));2===e.shape&&(g.setFromVec(e.dir),g.normal(),r.push(g));4===e.shape&&(s.setFromVec(e.dir).normal(),r.push(s),r.push(e.dir));1===e.shape&&(A.setFromVec(e.vertex[1]).subtr(e.vertex[0]),u.setFromVec(e.vertex[2]).subtr(e.vertex[1]),l.setFromVec(e.vertex[0]).subtr(e.vertex[2]),A.normal(),u.normal(),l.normal(),r.push(A),r.push(u),r.push(l));0===t.shape&&(c.setFromVec(S(e,t.pos)).subtr(t.pos),c.unit(),r.push(c));2===t.shape&&(d.setFromVec(t.dir).normal(),r.push(d));4===t.shape&&(p.setFromVec(t.dir).normal(),r.push(p),r.push(t.dir));1===t.shape&&(f.setFromVec(t.vertex[1]).subtr(t.vertex[0]),h.setFromVec(t.vertex[2]).subtr(t.vertex[1]),v.setFromVec(t.vertex[0]).subtr(t.vertex[2]),f.normal(),h.normal(),v.normal(),r.push(f),r.push(h),r.push(v));return r}(e,t),_=function(e){if(0===e.shape||2===e.shape)return 1;if(4===e.shape)return 2;if(1===e.shape)return 3;throw"unknown shape @ getshape axes"}(e),I=0;I<T.length;I++){m=o(T[I],e),E=o(T[I],t);var M=Math.min(m.max,E.max)-Math.max(m.min,E.min);if(M<0)return!1;if(m.max>E.max&&m.min<E.min||m.max<E.max&&m.min>E.min){var L=Math.abs(m.min-E.min),b=Math.abs(m.max-E.max);L<b?M+=L:(M+=b,T[I].mult(-1))}(M<r||null===r)&&(r=M,x=T[I],I<_?(n=t,m.max>E.max&&x.setFromVec(T[I]).mult(-1)):(n=e,m.max<E.max&&x.setFromVec(T[I]).mult(-1)))}var w=o(x,n).collVertex;return n===t&&x.setFromVec(x).mult(-1),{pen:r,axis:x.clone(),vertex:w.clone()}}function o(e,t){!function(e,t){0===e.shape&&(e.vertex[0].setFromVec(e.pos),E.setFromVec(t),E.unit(),E.mult(-e.r),e.vertex[0].add(E),e.vertex[1].setFromVec(e.pos),E.setFromVec(t),E.unit(),E.mult(e.r),e.vertex[1].add(E))}(t,e);for(var a=r.Vector.dot(e,t.vertex[0]),n=a,o=t.vertex[0],i=0;i<t.vertex.length;i++){var s=r.Vector.dot(e,t.vertex[i]);s<a&&(a=s,o=t.vertex[i]),s>n&&(n=s)}return{min:a,max:n,collVertex:o}}var i=new r.Vector(0,0),s=new r.Vector(0,0),A=new r.Vector(0,0),u=new r.Vector(0,0),l=new r.Vector(0,0),c=new r.Vector(0,0),d=new r.Vector(0,0),p=new r.Vector(0,0),f=new r.Vector(0,0),h=new r.Vector(0,0),v=new r.Vector(0,0),g=new r.Vector(0,0),y=new r.Vector(0,0);var m=new r.Vector(0,0);function S(e,t){for(var r,a=null,n=0;n<e.vertex.length;n++){m.setFromVec(t).subtr(e.vertex[n]);var o=m.mag();(o<a||null===a)&&(r=e.vertex[n],a=o)}return r}var E=new r.Vector(0,0)}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollData=void 0;var a=new r.Vector(0,0),n=new r.Vector(0,0),o=new r.Vector(0,0),i=new r.Vector(0,0),s=new r.Vector(0,0),A=new r.Vector(0,0),u=new r.Vector(0,0),l=new r.Vector(0,0),c=new r.Vector(0,0),d=new r.Vector(0,0),p=new r.Vector(0,0),f=new r.Vector(0,0),h=function(){function e(e,t,r,a,n){this.o1=e,this.o2=t,this.normal=r,this.pen=a,this.cp=n}return e.prototype.penRes=function(){p.setFromVec(this.normal).mult(this.pen/(this.o1.inv_m+this.o2.inv_m)),f.setFromVec(p),p.mult(this.o1.inv_m),this.o1.pos.add(p),f.mult(-this.o2.inv_m),this.o2.pos.add(f)},e.prototype.collRes=function(){a.setFromVec(this.cp).subtr(this.o1.comp[0].pos),o.set(-this.o1.angVel*a.y,this.o1.angVel*a.x),s.setFromVec(this.o1.vel).add(o),n.setFromVec(this.cp).subtr(this.o2.comp[0].pos),i.set(-this.o2.angVel*n.y,this.o2.angVel*n.x),A.setFromVec(this.o2.vel).add(i);var e=r.Vector.cross(a,this.normal);e=e*this.o1.inv_inertia*e;var t=r.Vector.cross(n,this.normal);t=t*this.o2.inv_inertia*t,u.setFromVec(s).subtr(A);var p=r.Vector.dot(u,this.normal),f=(-p*Math.min(this.o1.elasticity,this.o2.elasticity)-p)/(this.o1.inv_m+this.o2.inv_m+e+t);l.setFromVec(this.normal).mult(f),c.setFromVec(l).mult(this.o1.inv_m),d.setFromVec(l).mult(-this.o2.inv_m),this.o1.vel.add(c),this.o2.vel.add(d),this.o1.angVel+=this.o1.inv_inertia*r.Vector.cross(a,l),this.o2.angVel-=this.o2.inv_inertia*r.Vector.cross(n,l)},e}();t.CollData=h}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(1),r(6),r(0),r(0),r(10),r(9),r(60),r(2),r(98),r(61),r(4)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e,t,a,n,o,i,s){for(var A=e.length,u=0;u<A;u++){var l=e[u];r.line2Poly((t.x+l.from.x-n)*i,(t.y+l.from.y-o)*i,(t.x+l.to.x-n)*i,(t.y+l.to.y-o)*i,s,1)}},h=(new a.Vector(0,0),Number.MIN_VALUE,Number.MIN_VALUE),v=[],g=[],y=A.default.create("<AUTOPILOT>",30,"g"),m=A.default.create("<AUTOPILOT>",30,"r");new a.Vector(0,0);t.default=function(e){var t=e.game,a=e.SX,S=e.SY,E=e.SW,x=e.SH,T=e.gl,_=e.step,I=0,M=t.player;v=[],g=[];var L=t.enemies;I=L.length;for(var b=0;b<I;b++){var w=L[b],R=w.pos.x,P=w.pos.y;r.onStage(e,w.pos.x,w.pos.y)&&(d.default(t.zoomTXinverted,w,a,S,v,g,{r:1,g:0,b:0}),R>a&&R<a+E&&P>S&&P<S+x&&r.line2Poly(R-.5*w.radius-a,P-2*w.radius-S,R-.5*w.radius+.3*w.life-a,P-2*w.radius-S,v,2))}var O=t.npcs;if((I=O.length)>0)for(b=0;b<I;b++){var C=O[b];R=C.pos.x,P=C.pos.y;if(r.onStage(e,C.pos.x,C.pos.y)&&(d.default(t.zoomTXinverted,C,a,S,v,g,{r:.9,g:.9,b:.9}),R>a&&R<a+E&&P>S&&P<S+x&&(r.line2Poly(R-.5*C.radius-a,P-2*C.radius-S,R-.5*C.radius+.3*C.life-a,P-2*C.radius-S,v,2),C.miningRig&&C.miningRig.minedMinerals>0&&r.line2Poly(R-.5*C.radius-a,P-3*C.radius-S,R-.5*C.radius+.1*C.miningRig.minedMinerals+2-a,P-3*C.radius-S,v,4))),C&&C.miningRig&&3!==C.miningRig.armState&&5!==C.miningRig.armState){for(var G=C.comp[0].vertex[0],N=0;N<C.miningRig.arm.length;N++){var B=C.miningRig.arm[N].joint;r.line2Poly(G.x-a,G.y-S,B.x-a,B.y-S,v,2),G=B}r.addToColorMap(g,v,.8,.8,.8,1)}}var F=s.default(e);if(F&&!F.cloaked&&!t.levelEditor){if(t.menuSettings.lazerSight&&t.currentLevel>=14){r.line2Poly(F.pos.x-a,F.pos.y-S,F.aimPoint.x-a-2.5,F.aimPoint.y-S-2.5,v,.1),r.line2Poly(F.pos.x-a,F.pos.y-S,F.aimPoint.x-a+2.5,F.aimPoint.y-S+2.5,v,.1),r.line2Poly(F.pos.x-a,F.pos.y-S,F.aimPoint.x-a,F.aimPoint.y-S,v,.1),r.addToColorMap(g,v,.3,1,.3,1)}t.menuSettings.showCloseItems&&(f(F.enemyDetection,F.pos,0,a,S,t.zoomTXinverted,v),r.addToColorMap(g,v,.7,0,0,1),f(F.asterodDetection,F.pos,0,a,S,t.zoomTXinverted,v),r.addToColorMap(g,v,.7,.7,.7,1),f(F.anomalyDetection,F.pos,0,a,S,t.zoomTXinverted,v),r.addToColorMap(g,v,.7,.7,0,1));var D=F.closestItem;D&&(e.game.isPaused||(h+=.02*_),(12===D.type||F.availableRockets>0||F.availableElectroBastardRays>0)&&(r.blockCirclePoly(16,Math.max(50,1.2*D.radius),D.pos.x,D.pos.y,h,v,x,a,S,2,!0),r.addToColorMap(g,v,.3,1,.3,1)))}var V=t.drones.length;for(N=0;N<V;N++){var X=t.drones[N];d.default(t.zoomTXinverted,X,a,S,v,g,{r:.1,g:.7,b:.1})}for(var H=0;H<M.length;H++){var k=M[H];if(k.guid!==t.playerGuid&&k.name&&k.name.length>1){if(!k.cloaked){var W=A.default.create(k.name,30,"g");A.default.addGL(T,o.default(i.GLctx.Texture,T),W,k.pos.x-.5*W.w-a,k.pos.y-70-S,e)}}else if(14!==t.currentLevel){var U=!1;if(k.autoPilot>0&&A.default.addGL(T,o.default(k.autoPilot>100?i.GLctx.Texture:i.GLctx.TextureDist,T),k.autoPilot>100?y:m,k.pos.x-.5*y.w-a,k.pos.y-70-S,e),k.unableToComply){U=!0;var Y={x:k.pos.x,y:k.pos.y};Y.x-=a,Y.y-=S,Y.y-=2*k.originalRadius;var z=.7*k.originalRadius,j=.85*z,q=.7*z,K=Y.y-z,Z=Y.x,Q=Y.y+z,J=Y.x-j,$=Y.y+z,ee=Y.x+j,te=Y.y-.3*q,re=Y.x,ae=Y.y+q,ne=Y.x;r.line2Poly(Z,K,J,Q,v,2),r.line2Poly(Z,K,ee,$,v,2),r.line2Poly(J,Q,ee,$,v,2),r.line2Poly(re,te,ne,ae,v,2)}else k.bulletsFired>0&&!k.cloaked&&(U=!0,r.blockCirclePoly(k.maxBullets,.6*k.originalRadius,k.pos.x,k.pos.y-2*k.originalRadius,0,v,0,a,S,4,!1,0,k.maxBullets-k.bulletsFired,0,k.maxBullets-k.bulletsFired));U&&r.addToColorMap(g,v,.9,.1,.1,1)}if(t.menuSettings.showSightLines){var oe=c.getInsightShapeProximity(k.pos,k.angle),ie=oe[0],se=oe[1],Ae=oe[2],ue=l.midpoint(ie,se,.1),le=l.midpoint(ie,Ae,.1);r.line2Poly(ue.x-a,ue.y-S,se.x-a,se.y-S,v,1),r.line2Poly(le.x-a,le.y-S,Ae.x-a,Ae.y-S,v,1),r.addToColorMap(g,v,.8,.1,.1,1)}if(d.default(t.zoomTXinverted,k,a,S,v,g),r.addToColorMap(g,v,1,0,1,1),k.closestItem&&k.electroBastardRay){for(var ce=[],de=k.closestItem,pe=de.pos.x-de.radius,fe=de.pos.y,he=0;he<3;he++){var ve=[(R=k.comp[0].vertex[0].x)-a],ge=[(P=k.comp[0].vertex[0].y)-S],ye=(pe-R)/10,me=(fe-P)/10;for(N=1;N<9;N++)ve.push(ye*(N+1)+.5*(n.RandomStepBased(_,k.guid+N)-.5)*me+R-a),ge.push(me*(N+1)+.5*(n.RandomStepBased(_,k.guid-N)-.5)*ye+P-S);ve.push(pe-a),ge.push(fe-S);var Se=ve.length-1;for(N=0;N<Se;N++){var Ee=ve[N],xe=ve[N+1],Te=ge[N],_e=ge[N+1];ce.push(Ee,Te,xe,_e)}}var Ie=ce.length;for(N=0;N<Ie;N+=4)r.line2Poly(ce[N],ce[N+1],ce[N+2],ce[N+3],v,2);r.addToColorMap(g,v,.1,.1,.7,1);for(N=0;N<Ie;N+=4)r.line2Poly(ce[N],ce[N+1],ce[N+2],ce[N+3],v,1);r.addToColorMap(g,v,.5,.5,1,1)}}I=t.rockets.length;for(N=0;N<I;N++){var Me=t.rockets[N],Le=n.rotateVector(Me.tailLayout,Me.angle);r.line2Poly(Me.pos.x-a,Me.pos.y-S,Me.pos.x+Le.x-a,Me.pos.y+Le.y-S,v,3)}r.addToColorMap(g,v,.5,.5,.5,1),I=t.charges.length;for(N=0;N<I;N++){var be=t.charges[N],we=(be.pos.x,be.pos.y,u.hexBox(be.radius,be.pos,a,S));v.push.apply(v,we[0]),r.addToColorMap(g,v,.1,.1,.1,1),v.push.apply(v,we[1]),r.addToColorMap(g,v,.7,.7,.7,1),v.push.apply(v,we[2]),r.addToColorMap(g,v,.3,.3,.3,1)}return v.length>0&&(T.disable(T.BLEND),p.drawColorMapSingle(g,v,T),T.enable(T.BLEND)),"ship"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixOpRotMx22=t.MatrixOpMultiplyVec=t.CreateMatrix22=void 0,t.CreateMatrix22=function(){for(var e=[],t=0;t<2;t++){e[t]=[];for(var r=0;r<2;r++)e[t][r]=0}return e},t.MatrixOpMultiplyVec=function(e,t,r){return r.x=e[0][0]*t.x+e[0][1]*t.y,r.y=e[1][0]*t.x+e[1][1]*t.y,r},t.MatrixOpRotMx22=function(e,t){e[0][0]=Math.cos(t),e[0][1]=-Math.sin(t),e[1][0]=Math.sin(t),e[1][1]=Math.cos(t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(4),r(0),r(10),r(45),r(9),r(3),r(28)],void 0===(n=function(e,t,r,a,n,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=[],d=0,p=0,f=1;t.default=function(e){var t=e.WW,h=e.WH,v=e.SX,g=e.SY,y=e.gl,m=e.game,S=e.step,E=m.currentResW,x=m.currentResH,T=n.default(e);if(T&&!(m.currentLevel<14)&&m.menuSettings.instruments&&!m.levelEditor){if(T.cloaked){if(!(d<.5))return;d+=.01*S}else d>.2&&(d-=.005*S);var _=T.damageTaken||!m.IS_PROCEDURAL&&i.default(T,t,h);_?p<3*t&&(p+=f,f*=1.01):p>10?p*=.7:(f=1,p=0),c=[],l=[];for(var I=x*d,M=E*d,L=10+(_?5*Math.random():0),b=1/(4*d),w=g;w<g+x;w+=50){var R=w,P=25;r.line2Poly(E-L-1*b,R-g-g%50,E-P*b,R-g-g%50,l,2*b)}for(var O=v;O<v+E;O+=50){var C=O;P=25;r.line2Poly(C-v-v%50,x-L-1*b,C-v-v%50,x-P*b,c,2*b)}r.line2Poly(E-L,I,E-L,x-I,l,2),r.line2Poly(M,x-L,E-M,x-L,c,2),u.GlowCustomLayout({x:.5*E+v,y:x+g},1,c,e,0,1,0,1),u.GlowCustomLayout({x:E+v,y:.5*x+g},x/E,l,e,0,1,0,1);for(var G=Math.round(.005*(.5*E+v)+p)+"'",N=Math.round(.005*(.5*x+g)+-.5*p)+"'",B=[],F=o(G.split(""),[""],N.split("")),D=F.length,V=0;V<D;V++)B.push(s.default.create(F[V],A.TEXT_SIZE_SMALL,"g"));return s.default.addListGL(y,a.default(p>5?a.GLctx.TextureDist:a.GLctx.Texture,y),B,10,x-2*A.TEXT_SIZE_SMALL*1,e),"instruments"}d=.5}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],i=[];t.default=function(e){var t=e.game,s=e.SW,A=e.SH,u=e.SX,l=e.SY,c=e.gl;if(t.menuSettings.particles){var d;o=[],i=[];for(var p=t.particles,f=p.length,h=0;h<f;h++){var v=0|(d=p[h]).pos.x,g=0|d.pos.y;if(v-u<s&&g-l<A&&v-u>0&&g-l>0){var y=0|d.vel.x,m=0|d.vel.y;o.push(v-u,g-l,v+(0==y?1:y)-u,g+(0==m?1:m)-l)}}r.addToColorMap(i,o,.3,.3,.3,1);var S=t.customParticles;f=S.length;for(h=0;h<f;h++){var E=S[h];v=E.pos.x-u,g=E.pos.y-l;v<s&&g<A&&v>0&&g>0&&o.push(v,g,v+E.vel.x,g+E.vel.y)}r.addToColorMap(i,o,.5,.3,.2,1);for(var x=t.spacePorts,T=x.length,_=0;_<T;_++){var I=x[_].chargeParticles,M=I.length;for(h=0;h<M;h++){var L=I[h];v=0|L.pos.x,g=0|L.pos.y;if(v-u<s&&g-l<A&&v-u>0&&g-l>0){y=0|L.vel.x,m=0|L.vel.y;o.push(v-u,g-l,v+(0==y?1:y)-u,g+(0==m?1:m)-l)}}}if(r.addToColorMap(i,o,.5,1,.5,1),o.length>0){var b=a.default(n.GLctx.Vertices,c);r.drawColorMap(i,o,b,c,c.LINES)}return"particles"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(1),r(6),r(4),r(11)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],l=[],c=new o.Vector(0,0),d=new o.Vector(0,0),p=new o.Vector(0,0),f=new o.Vector(0,0);t.default=function(e){e.WW,e.WH,e.game,e.SW;var t=e.SH,o=e.SX,h=e.SY,v=e.gl;u=[],l=[];for(var g=e.game.spaceSnake,y=g.length,m=0;m<y;m++)for(var S=g[m].segments,E=S.length,x=0;x<E;x++){var T=S[x];if(A.onStage(e,T,3*T.radius)){r.blockCirclePoly(10,T.radius*(0===x?1.3:1.2),T.pos.x,T.pos.y,T.angle,u,t,o,h,T.radius*(0===x?1.3:1.2));for(var _=S[x-1],I=1;I<6;I++)r.blockCirclePoly(5,.17*T.radius*I,T.pos.x,T.pos.y,T.pos.y-T.pos.x,l,t,o,h,.17*T.radius*I),x>0&&r.line2Poly(T.pos.x-o,T.pos.y-h,_.pos.x-o,_.pos.y-h,l,.1*T.radius*I);if(x>0&&x<E-1)for(var M=0;M<2;M++)for(var L=.3*T.radius,b=0;b<L;b++)f.x=2*T.radius+T.radius*b*.2,f.y=0,i.rotateVector(f,T.angle+(-.38*Math.PI+.04*b-.15*T.legAngle*b)*(0===M?-1:1),f),r.line2Poly(T.pos.x-o,T.pos.y-h,T.pos.x+f.x-o,T.pos.y+f.y-h,u,2),b<4&&r.line2Poly(T.pos.x-o,T.pos.y-h,T.pos.x+f.x-o,T.pos.y+f.y-h,l,2);else c.x=1.13*T.radius,c.y=0,i.rotateVector(c,T.angle+-.1*Math.PI+.01*T.radius,c),p.x=1.13*T.radius,p.y=0,i.rotateVector(p,T.angle+-.1*Math.PI-.01*T.radius,p),d.x=.9*T.radius,d.y=0,i.rotateVector(d,T.angle+.1*Math.PI+.065*T.legAngle,d),d.add(c),u.push(c.x+T.pos.x-o,c.y+T.pos.y-h,d.x+T.pos.x-o,d.y+T.pos.y-h,p.x+T.pos.x-o,p.y+T.pos.y-h),c.x=1.13*T.radius,c.y=0,i.rotateVector(c,T.angle+.1*Math.PI+.01*T.radius,c),p.x=1.13*T.radius,p.y=0,i.rotateVector(p,T.angle+.1*Math.PI-.01*T.radius,p),d.x=.9*T.radius,d.y=0,i.rotateVector(d,T.angle+-.1*Math.PI-.065*T.legAngle,d),d.add(c),u.push(c.x+T.pos.x-o,c.y+T.pos.y-h,d.x+T.pos.x-o,d.y+T.pos.y-h,p.x+T.pos.x-o,p.y+T.pos.y-h)}}if(u.length>0){a.default(n.GLctx.Vertices,v);v.blendFunc(v.DST_COLOR,v.ZERO);s.drawColor(u,v,0,0,0,1),v.blendFunc(v.ONE,v.ONE),s.drawColor(l,v,.1,.01,.01,1)}return"spacesnake"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(9),r(1),r(18)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=200,u=400,l=o.default.create("BLACK_HOLE",80,"r"),c=o.default.create("WHITE_HOLE",80,"r"),d=o.default.create("ANOMALY",80,"r"),p=[],f=function(e,t,i,s){s.frame;var A=s.game,u=(s.SW,s.SX),l=s.SY,c=s.gl,d=A.zoomTXinverted;r.onStage(s,t,i,300)&&(r.line2Poly(t-u,i-l,t-u+300,i-l-300,p,5),o.default.addGL(c,a.default(n.GLctx.TextureDist,c),e,(t-u+300)*d,(i-l-300-40)*d,s,!0))};new i.Vector(0,0);t.default=function(e){e.WW,e.WH,e.SW,e.SH,e.SX,e.SY;var t=e.gl;e.game;p=[];for(var o=s.getAllAnomalies(e.game),i=o.length,h=0;h<i;h++){var v=o[h],g=v.pos.x,y=v.pos.y;switch(v.type){case 29:f(d,g,y,e);break;case 30:f(c,g,y,e);break;case 31:f(l,g,y,e)}}return(A+=10)>400&&(A=10),(u-=10)<10&&(u=400),p.length>0&&(a.default(n.GLctx.Vertices,t),r.drawColor(p,t,.9,0,0,1)),"wormhole"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(61),r(4)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],A=[],u=function(e,t,a,n,i,u){var l=e.length;if(l>0){for(var c=0;c<l;c++){var d=e[c];s.push.apply(s,o.vectorsToVertices(d.complexPartIndices,d.complexPartVectors,d.pos.x-t,d.pos.y-a,d.angle))}r.addToColorMap(A,s,n,i,u,1)}};t.default=function(e){e.ctx,e.WW,e.WH,e.game,e.SW,e.SH;var t=e.SX,o=e.SY,l=e.gl;e.game.asteroids;s=[],A=[];for(var c=e.game.asteroidParts,d=[],p=[],f=[],h=0;h<c.length;h++){var v=c[h];if(r.onStage(e,v.pos.x,v.pos.y,600)){switch(v.type){case 14:i.line2PolyTriangle(v.pos.x+v.rotatedEdgeA.x-t,v.pos.y+v.rotatedEdgeA.y-o,v.pos.x+v.rotatedEdgeB.x-t,v.pos.y+v.rotatedEdgeB.y-o,s,.25*v.width);break;case 10:d.push(v);break;case 40:p.push(v);break;case 41:f.push(v);break;case 26:i.line2PolyTriangle(v.pos.x+v.rotatedEdgeA.x-t,v.pos.y+v.rotatedEdgeA.y-o,v.pos.x+v.rotatedEdgeB.x-t,v.pos.y+v.rotatedEdgeB.y-o,s,v.width);break;case 27:i.line2PolyTriangle(v.pos.x+v.rotatedEdgeA.x-t,v.pos.y+v.rotatedEdgeA.y-o,v.pos.x+v.rotatedEdgeB.x-t,v.pos.y+v.rotatedEdgeB.y-o,s,.25*v.width);break;default:i.line2PolyTriangle(v.pos.x+v.rotatedEdgeA.x-t,v.pos.y+v.rotatedEdgeA.y-o,v.pos.x+v.rotatedEdgeB.x-t,v.pos.y+v.rotatedEdgeB.y-o,s,v.width)}v.colorFade>127.5&&(v.colorFade-=.1)}}if(r.addToColorMap(A,s,.3,.3,.3,1),u(d,t,o,.1,1,1),u(p,t,o,.8,.1,.1),u(f,t,o,.1,.8,.1),s.length>0){var g=a.default(n.GLctx.Vertices,l);l.disable(l.BLEND),r.drawColorMap(A,s,g,l),l.enable(l.BLEND)}return"parts"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(3),r(0),r(10)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.default.create("GET",60,"w"),s=r.default.create("READY",70,"w"),A=r.default.create("1",50,"w"),u=r.default.create("2",50,"w"),l=r.default.create("3",50,"w"),c=a.GAME_INTRO_TIMER;t.default=function(e){e.frame;var t=e.SW,d=e.SH,p=e.step,f=e.game,h=e.gl,v=(f.resW,o.default(e)),g=v?v.life:0;c-=p;var y=.4*t,m=.45*d;if((f.level_completed||g<1||!v)&&(c=a.GAME_INTRO_TIMER),c>0&&!f.level_completed&&g>0){var S=l;if(c<200&&(S=u),c<100&&(S=A),c<8&&(y=300+(Math.random()-.5)*t*.4,m=300+(Math.random()-.5)*t*.4),f.currentLevel>14){var E=n.default(n.GLctx.TextureDist,h);r.default.addListGL(h,E,[i,s,S],3*Math.random()+y,3*Math.random()+m,e)}}return"game intro"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(10)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.default.create("GAME OVER",150,"r"),i=r.default.create("space points",40,"r"),s=r.default.create("LEVEL COMPLETED",150,"r");t.default=function(e){var t=e.game,A=e.SW,u=e.SH,l=e.gl,c=A/t.resW;if(0!==t.player.length){var d=n.default(e);if((d?d.life:0)<1&&(t.SW>.5*t.resW&&(t.SW=.99*t.SW,t.SH=.99*t.SH),t.currentLevel>14)){var p=a.default(a.GLctx.TextureDist,l);r.default.addGL(l,p,o,.35*A+5*Math.random(),.15*u+5*Math.random(),e),r.default.addGL(l,p,i,.05*A+5*Math.random(),.5*u+5*Math.random(),e)}if(t.level_completed){t.SW<.5*t.resW&&(t.SW=1.01*t.SW,t.SH=1.01*t.SH);p=a.default(a.GLctx.TextureDist,l);r.default.addGL(l,p,s,.15*A+5*Math.random(),.2*u+5*Math.random(),e),r.default.addGL(l,p,i,.07*A+5*Math.random(),.4*u+5*Math.random(),e);var f=r.default.create(d.score+"",350,"r");r.default.addGL(l,p,f,i.w*c+.05*A+20+5*Math.random(),.2*u+5*Math.random(),e)}return"game over"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(9),r(0),r(3),r(10),r(45),r(7),r(35),r(77),r(3),r(47)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,f=function(){for(var e={},t=0;t<10;t++)e[t]=a.default.create(t+"",o.TEXT_SIZE_SMALL,"w");var r=["-","+","?","|"," "];for(t=0;t<r.length;t++)e[r[t]]=a.default.create(r[t],o.TEXT_SIZE_SMALL,"w");return e}(),h=(a.default.create("autopilot:",o.TEXT_SIZE_SMALL,"w"),a.default.create("homing bullets:",o.TEXT_SIZE_SMALL,"w"),a.default.create("LV:",o.TEXT_SIZE_SMALL,"w")),v=a.default.create("SPACE ICE:",o.TEXT_SIZE_SMALL,"w"),g=a.default.create("INTEGRITY:",o.TEXT_SIZE_SMALL,"w"),y=a.default.create("LIFE:",o.TEXT_SIZE_SMALL,"w"),m=a.default.create("RADIUS:",o.TEXT_SIZE_SMALL,"w");!function(e){e[e.guid=0]="guid",e[e.size=1]="size",e[e.integrity=2]="integrity"}(p||(p={}));var S=[{buffer:m,type:p.size},{buffer:g,type:p.integrity},{buffer:h,type:p.guid}],E=[{buffer:m,type:p.size},{buffer:g,type:p.integrity},{buffer:v,type:p.guid}],x=(a.default.create("hull:",o.TEXT_SIZE_SMALL,"w"),a.default.create("score:",o.TEXT_SIZE_SMALL,"w"),a.default.create("shield:",o.TEXT_SIZE_SMALL,"w"),a.default.create("EB:",o.TEXT_SIZE_SMALL,"w"),a.default.create("Rockets:",o.TEXT_SIZE_SMALL,"w"),a.default.create("Missiles:",o.TEXT_SIZE_SMALL,"w"),a.default.create("boost:",o.TEXT_SIZE_SMALL,"w"),a.default.create("WARNING: HULL INTEGRITY FAILING",25,"r")),T=a.default.create("WARNING: MISSILE LOCK",25,"r"),_=function(e,t){for(var r=(e+"").split(""),a=r.length,n=0;n<a;n++){var o=f[r[n]];o&&t.push(o)}},I=!1,M=0,L=-1,b=0,w=0;t.default=function(e){e.frame;var t=e.WW,f=e.WH,h=e.SW,v=e.SH,g=e.SX,m=e.SY,R=e.gl,P=e.game,O=e.step,C=e.stepMS;if(!(P.currentLevel<=14)){var G=h/P.resW,N=i.default(e);if(!N||N.life<1||N.cloaked)return 0,void(w=0);var B=!P.IS_PROCEDURAL&&s.default(N,t,f),F=[];if(N.selectedPrimaryWeapon!==b||w>0){N.selectedPrimaryWeapon!==b&&(w=w>0?1320:1500),w-=C,b=N.selectedPrimaryWeapon;var D=[],V=Math.max(b-1,0),X=Math.min(b+1,l.ShipWeaponLoadout.length-1)+1,H=n.default(w<150||w>1350?n.GLctx.TextureDist:n.GLctx.Texture,R),k=300;X-V==2&&0===V&&(k+=c.TEXT_SIZE_MEDIUM-8);for(var W=V;W<X;W++){var U=a.default.create("DOWN"===l.ShipWeaponLoadout[W]?"ROCKET":l.ShipWeaponLoadout[W],W===b?c.TEXT_SIZE_MEDIUM+8:c.TEXT_SIZE_MEDIUM-8,"g");a.default.addGL(R,H,U,.5*h-.5*U.w,k,e,!1),k+=U.h,D.push(U)}}if(!N.remove){var Y=new A.Rectangle(g-500,m-500,h+1e3,v+1e3),z=P.rockets,j=z.length,q=!1;for(W=0;W<j;W++){var K=z[W];if(K.target&&K.target.guid===N.guid&&Y.intersectsPoint(K.pos)){q=!0;break}}if(q&&a.default.addGL(R,n.default(n.GLctx.TextureDist,R),T,.5*h-T.w*G*.5,.2*v+55,e),N.life<o.PLAYER_LIFE_LOW_THRESHOLD?(a.default.addGL(R,n.default(n.GLctx.TextureDist,R),x,.5*h-x.w*G*.5,.2*v,e),I||(P.eventMap[r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_CRITICAL]={},I=!0)):(I&&(P.eventMap[r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_OK]={}),I=!1),P.menuSettings.objectData&&N.closestItem&&!d.posInAncient(N.pos)&&!d.posInAncient(N.closestItem.pos,!0)){var Z=N.closestItem;F=[];var Q=0;k=0;switch(Z.guid!==L&&(M=0,L=Z.guid),Z.radius<200?(Q=Z.pos.x-g,k=Z.pos.y-m-Z.radius-o.TEXT_SIZE_SMALL):(Q=Z.pos.x-g,k=Z.pos.y-m),Z.type){case 12:case 21:var J=12===Z.type?S:E,$=Math.min(J.length,M);for(W=0;W<$;W++){var ee=J[W];(F=[]).push(ee.buffer);var te=0;switch(ee.type){case p.guid:te=Z.guid;break;case p.integrity:te=Z.life;break;case p.size:te=Z.radius}M>J.length+W&&_(Math.round(te),F);var re=a.default.measureBuffers(F)*G;F.length>0&&a.default.addListGL(R,n.default(B||M<2.5*J.length?n.GLctx.TextureDist:n.GLctx.Texture,R),F,Q-.5*re,k+W*-o.TEXT_SIZE_SMALL,e,!0)}break;default:(F=[]).push(y);var ae=Z.life;if(25===Z.type){var ne=Z;ae=u.getSpacesnakeFromSegment(ne.guid).life}_(Math.round(ae),F);a.default.measureBuffers(F);a.default.addListGL(R,n.default(B||M<2.5*S.length?n.GLctx.TextureDist:n.GLctx.Texture,R),F,Q,k,e,!0)}M+=.3*O}else M=0}return"playersStats"}0}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleCreator=void 0,t.CircleCreator=function(e,t,a){return{vertex:[new r.Vector(0,0),new r.Vector(0,0)],pos:new r.Vector(e,t),r:a,shape:0}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(2),r(7),r(34),r(23)],void 0===(n=function(e,t,r,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeInt32Base=t.intersectsXYWH_XYWH=void 0;var s={},A=function(e){return new a.Rectangle(e[0],e[1],e[2],e[3])},u=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},l=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},c=function(e,t,r,a,n){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+n||e[1]+e[3]<r)};t.intersectsXYWH_XYWH=function(e,t,r,a,n,o,i,s){return!(e>n+i||e+r<n||t>o+s||t+a<o)};var d=function(e,t){return t[0]>e[0]&&t[1]>e[1]&&t[0]+t[2]<e[0]+e[2]&&t[1]+t[3]<e[1]+e[3]},p=8,f=function(){function e(e,t,r,a){var n=this;this.divide=!1,this.debugBounds=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);return u(r,n.boundry)&&t.push(A(n.boundry)),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.debugAABBs=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);if(u(r,n.boundry)){for(var a=0;a<4*n.index;a+=4)t.push(A(n.itemsXYWH.slice(a,a+4)));n.divide&&(n.northeast.debugAABBs(e,t),n.northwest.debugAABBs(e,t),n.southeast.debugAABBs(e,t),n.southwest.debugAABBs(e,t))}return t},this.boundry=new Int32Array(e),this.capacity=r>=a?t*p:t,this.items=new Int32Array(this.capacity),this.itemsXYWH=new Int32Array(4*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,n,o,i){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=n,this.currentDepth=o,this.maxDepth=i,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],n=this.boundry[3],o=this.currentDepth+1,i=this.maxDepth,A=o>=i?this.capacity*p:this.capacity;if(this.northeast)this.northeast.update(t+.5*a,r,.5*a,.5*n,A,o,i),this.northwest.update(t,r,.5*a,.5*n,A,o,i),this.southeast.update(t+.5*a,r+.5*n,.5*a,.5*n,A,o,i),this.southwest.update(t,r+.5*n,.5*a,.5*n,A,o,i);else{var u=s[A];if(u&&u.length>4)return this.northeast=u.pop(),this.northwest=u.pop(),this.southeast=u.pop(),this.southwest=u.pop(),void this.subDivide();this.northeast=new e([t+.5*a,r,.5*a,.5*n],A,o,i),this.northwest=new e([t,r,.5*a,.5*n],A,o,i),this.southeast=new e([t+.5*a,r+.5*n,.5*a,.5*n],A,o,i),this.southwest=new e([t,r+.5*n,.5*a,.5*n],A,o,i)}this.divide=!0},e.prototype.___query=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.index,l=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var d=0;d<u;d++){var p=A[d];if(!i[p]&&p!==s){var f=4*d;t.intersectsXYWH_XYWH(e,r,a,n,l[f],l[f+1],l[f+2],l[f+3])&&(i[p]=!0,o.push(p))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e,t){if(!l(this.boundry,t))return!1;if(!(this.index<this.capacity))return this.divide||this.subDivide(),!!this.northeast.insert(e,t)||(!!this.northwest.insert(e,t)||(!!this.southeast.insert(e,t)||!!this.southwest.insert(e,t)));this.items[this.index]=e;var r=4*this.index;return this.itemsXYWH[r]=t[0],this.itemsXYWH[r+1]=t[1],this.itemsXYWH[r+2]=t[2],this.itemsXYWH[r+3]=t[3],this.index++,!!d(this.boundry,t)||void 0},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),n=this.southwest.reset();if(t&&r&&a&&n&&(this.deleteBranchMarker++,this.deleteBranchMarker>30)){var o=s[this.northeast.capacity];o||(o=s[this.northeast.capacity]=[]),o.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),h=function(){function e(e,t,r,a){var n=this;void 0===a&&(a=8),this.divide=!1,this.findIndex=function(e,t){if(void 0===t&&(t=null),t){if((r=t.items.indexOf(e))>-1)return r;t.divide&&(n.findIndex(e,t.northeast),n.findIndex(e,t.northwest),n.findIndex(e,t.southeast),n.findIndex(e,t.southwest))}else{var r;if((r=n.items.indexOf(e))>-1)return r;n.divide&&(n.findIndex(e,n.northeast),n.findIndex(e,n.northwest),n.findIndex(e,n.southeast),n.findIndex(e,n.southwest))}},this.debugAABBs=function(e,t){var r=new Int32Array([e.x,e.y,e.width,e.height]);if(u(r,n.boundry)){for(var a=0;a<4*n.index;a+=4)t.push(A(n.itemsXYWH.slice(a,a+4)));n.divide&&(n.northeast.debugAABBs(e,t),n.northwest.debugAABBs(e,t),n.southeast.debugAABBs(e,t),n.southwest.debugAABBs(e,t))}return t},this.debugBounds=function(e){var t=[],r=[e.x,e.y,e.width,e.height];return l(n.boundry,r)&&t.push(A(n.boundry)),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.setup(e,t,r,a)}return e.prototype.shrink=function(){this.boundry[0]=0|Math.max(this.minX+1,0),this.boundry[1]=0|Math.max(this.minY+1,0),this.boundry[2]=Math.ceil(this.maxW-this.minX),this.boundry[3]=Math.ceil(this.maxH-this.minY)},e.prototype.intersectTree=function(e){var t=[],r=this.itemType===e.itemType,a=this.index;if(a>0){for(var n={},i=this.items,s=this.itemsXYWH,A=0;A<a;A++){var u=i[A];if(!n[u]){var l=4*A,c=s[l],d=s[l+1],p=s[l+2],f=s[l+3];n[u]=!0;var h=e.___queryXYWH(c,d,p,f,[],[],r?u:-1);h.length>0&&t.push(o([u],h))}}this.divide&&(this.___iterateBranchAgainstTree(this.northeast,e,t,n),this.___iterateBranchAgainstTree(this.northwest,e,t,n),this.___iterateBranchAgainstTree(this.southeast,e,t,n),this.___iterateBranchAgainstTree(this.southwest,e,t,n))}return t},e.prototype.___iterateBranchAgainstTree=function(e,t,r,a){var n=e.index,i=this.itemType===t.itemType;if(n>0){for(var s=e.items,A=e.itemsXYWH,u=0;u<n;u++){var l=s[u];if(!a[l]){var c=4*u,d=A[c],p=A[c+1],f=A[c+2],h=A[c+3];a[l]=!0;var v=t.___queryXYWH(d,p,f,h,[],[],i?l:-1);v.length>0&&r.push(o([l],v))}}e.divide&&(this.___iterateBranchAgainstTree(e.northeast,t,r,a),this.___iterateBranchAgainstTree(e.northwest,t,r,a),this.___iterateBranchAgainstTree(e.southeast,t,r,a),this.___iterateBranchAgainstTree(e.southwest,t,r,a))}},e.prototype.___queryXYWH=function(e,r,a,n,o,i,s){void 0===s&&(s=-1);var A=this.items,u=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var l=0;l<this.index;l++){var d=A[l];if(!i[d]&&d!==s){var p=4*l;t.intersectsXYWH_XYWH(e,r,a,n,u[p],u[p+1],u[p+2],u[p+3])&&(i[d]=1,o.push(d))}}this.divide&&(this.northeast.___query(e,r,a,n,o,i,s),this.northwest.___query(e,r,a,n,o,i,s),this.southeast.___query(e,r,a,n,o,i,s),this.southwest.___query(e,r,a,n,o,i,s))}return o},e.prototype.insert=function(e){var t=e.radius,r=2*t,a=2*t,n=e.pos.x-t,o=e.pos.y-t,i=[n,o,r,a];if(!l(this.boundry,i))return!1;if(this.references[this.totalItems]=e,this.totalItems++,!(this.index<this.capacity))return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,i)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,i)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,i)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,i)?(this.REFERENCE_INDEX++,!0):void this.REFERENCE_INDEX++;this.items[this.index]=this.REFERENCE_INDEX;var s=4*this.index;return this.itemsXYWH[s]=n,this.itemsXYWH[s+1]=o,this.itemsXYWH[s+2]=r,this.itemsXYWH[s+3]=a,this.index++,this.REFERENCE_INDEX++,!!d(this.boundry,i)||void 0},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],n=this.maxDepth,o=this.capacity;this.northeast?(this.northeast.update(e+.5*r,t,.5*r,.5*a,o,0,n),this.northwest.update(e,t,.5*r,.5*a,o,0,n),this.southeast.update(e+.5*r,t+.5*a,.5*r,.5*a,o,0,n),this.southwest.update(e,t+.5*a,.5*r,.5*a,o,0,n)):(this.northeast=new f([e+.5*r,t,.5*r,.5*a],o,0,n),this.northwest=new f([e,t,.5*r,.5*a],o,0,n),this.southeast=new f([e+.5*r,t+.5*a,.5*r,.5*a],o,0,n),this.southwest=new f([e,t+.5*a,.5*r,.5*a],o,0,n)),this.divide=!0},e.prototype.___query=function(e,r,a,n){var o=[],i=[],s=this.items,A=this.itemsXYWH;if(c(this.boundry,e,r,a,n)){for(var u=0;u<this.index;u++){var l=s[u];if(!o[l]){var d=4*u;t.intersectsXYWH_XYWH(e,r,a,n,A[d],A[d+1],A[d+2],A[d+3])&&(o[l]=1,i.push(l))}}this.divide&&(this.northeast.___query(e,r,a,n,i,o),this.northwest.___query(e,r,a,n,i,o),this.southeast.___query(e,r,a,n,i,o),this.southwest.___query(e,r,a,n,i,o))}var p=i.length;if(0===p)return[];var f=new Array(p);for(u=0;u<p;u++)f[u]=this.references[i[u]];return f},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,2*t)},e.prototype.queryPoint=function(e){return[]},e.prototype.queryShape=function(e){for(var t=Number.MAX_VALUE,r=Number.MIN_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,i=e.length,s=0;s<i;s++){var A=e[s];A.x>r&&(r=A.x),A.x<t&&(t=A.x),A.y>o&&(o=A.y),A.y<n&&(n=A.y)}for(var u=new a.Rectangle(t,n,r-t,o-n),l=this.queryInt(u),c=l.length,d=0;d<c;d++)for(var p=l[d],f=new a.Rectangle(p.pos.x-p.radius,p.pos.y-p.radius,2*p.radius,2*p.radius).toPointArray(),h=0;h<4;h++){var v=f[h],g=(s=0,0),y=void 0;for(s=0,g=i-1;s<i;g=s++)e[s].y>v.y!=e[g].y>v.y&&v.x<(e[g].x-e[s].x)*(v.y-e[s].y)/(e[g].y-e[s].y)+e[s].x&&(y=!y);if(y)return[p]}return[]},e.prototype.queryRay=function(e,t){for(var r,a,o,i,s,A,u=Math.min(e.x,t.x),l=Math.min(e.y,t.y),c=Math.max(e.x,t.x)-u,d=Math.max(e.y,t.y)-l,p=this.___query(u,l,c,d),f=e.x,h=e.y,v=t.x,g=t.y,y=[],m=p.length,S=0;S<m;S++){var E=p[S],x=E.pos.x,T=E.pos.y,_=E.radius;n.LineIntersects(f,h,v,g,x-_,T-_,x+_,T-_)?y.push(E):n.LineIntersects(f,h,v,g,x+_,T-_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T+_,x+_,T+_)?y.push(E):n.LineIntersects(f,h,v,g,x-_,T-_,x-_,T+_)?y.push(E):(a=T,o=_,i=_,A=h,(r=x)>(s=f)||r+o<s||a>A||a+i<A||y.push(E))}return y},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var n,o,i,s,A,u=.7*t,l=[e.x-u,e.y-u,2*u,2*u],c=a.length,d=[],p=0;p<c;p++){var f=a[p];n=l,o=f.pos.x-f.radius,i=f.pos.y-f.radius,s=2*f.radius,A=2*f.radius,n[0]>o+s||n[0]+n[2]<o||n[1]>i+A||n[1]+n[3]<i?r.radiusIntersectXYXY(e.x,e.y,t,f.pos.x,f.pos.y,f.radius)&&d.push(f):d.push(f)}return d},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.getRangeType=function(){return"INT32"},e.prototype.setup=function(e,t,r,a){void 0===a&&(a=8);var n=e.x,o=e.y,s=e.width,A=e.height;this.boundry=new Int32Array([n,o,s,A]),(n>2147483647||o>2147483647||s>2147483647||A>2147483647||n<-2147483648||o<-2147483648)&&console.log("Out of range @ Quadtree constructor "+this.boundry.join(",")+" "+i.TypesToString(this.itemType)),this.items=new Int32Array(t),this.itemsXYWH=new Int32Array(4*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=a},e.prototype.visualize=function(e,t,r,a){if(this.divide){var n=600/this.boundry[2],o=10;this.__visualize(n,o,e,t,r,a,r-300,a+40,this.northwest),this.__visualize(n,o,e,t,r,a,r-100,a+40,this.northeast),this.__visualize(n,o,e,t,r,a,r+100,a+40,this.southwest),this.__visualize(n,o,e,t,r,a,r+300,a+40,this.southeast)}},e.prototype.__visualize=function(e,t,r,a,n,o,i,s,A){r.push(n,o,i,s);var u=A.boundry;r.push(u[0]*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,u[1]*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240,u[0]*e+100,u[1]*e+240,u[0]*e+100,(u[1]+u[3])*e+240,u[0]*e+100,(u[1]+u[3])*e+240,(u[0]+u[2])*e+100,(u[1]+u[3])*e+240),t*=.25,A.divide?(this.__visualize(e,t,r,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,r,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,r,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,r,a,i,s,i+30*t,s+40,A.southeast)):A.southwest&&(this.__visualize(e,t,a,a,i,s,i-30*t,s+40,A.northwest),this.__visualize(e,t,a,a,i,s,i-10*t,s+40,A.northeast),this.__visualize(e,t,a,a,i,s,i+10*t,s+40,A.southwest),this.__visualize(e,t,a,a,i,s,i+30*t,s+40,A.southeast))},e}();t.QuadTreeInt32Base=h}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(78),r(3),r(3),r(7),r(10),r(6),r(5),r(18),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=0,p=new r.Vector(0,0),f=new r.Vector(0,0),h=0,v=0;t.default=function(e){e.WW,e.WH;var t=e.game,r=e.step,g=e.SX,y=e.SY,m=e.SW,S=e.SH;if(t.menuSettings.raycasting){s.default(e);var E=new i.Rectangle(g-400,y-400,m+800,S+800),x=u.getQuadTreesObj();if(x&&x.SpacePorts){for(var T=x.Npcs.queryInt(E),_=0;_<T.length;_++){var I=T[Math.floor(Math.random()*T.length)];if(I.miningRig&&5===I.miningRig.armState&&Math.random()>.95){var M=I.comp[0].vertex[0];a.RayCaster(M,.06+.19*Math.random(),e,.7,.7,.7+.3*Math.random(),1,!0)}}for(var L=e.game.player,b=0;b<L.length;b++){var w=L[b];w.life>0&&(w.cloaked?(h>0&&(h-=.3),v>0&&(v-=.3)):(h<.9&&(h+=.03),v<1&&(v+=.03)),w.cloaked||(w.ultrabright>0?(h=1.8,w.ultrabright<10&&(h=1.8-.1*(10-w.ultrabright)),v=1.5):w.life<n.PLAYER_LIFE_LOW_THRESHOLD&&(h=.7+.1*A.RandomStepBased(e.step,w.guid))),a.RayCaster(w.pos,h,e,.2*v,.05*v,.2*v,1,!1,w.guid))}var R=t.rockets,P=R.length;for(_=0;_<P;_++){var O=R[_],C=!0;O.life>n.ROCKET_START_LIFE-20?C=!1:O.life>n.ROCKET_START_LIFE-40?C=A.RandomStepBased(e.step,O.guid)>.8:O.life>n.ROCKET_START_LIFE-60&&(C=A.RandomStepBased(e.step,O.guid)>.4),C&&(9===O.type?39!==O.ownerType?a.RayCaster(O.pos,.25,e,.8,.1,.3,1,!0):a.RayCaster(O.pos,.25,e,.5,.2,.6,1,!0):39!==O.ownerType?a.RayCaster(O.pos,.3,e,.9,.4,.4,1,!0):a.RayCaster(O.pos,.3,e,.1,.6,.6,1,!0))}var G=t.charges;P=G.length,.03,(d+=r)>40&&(d=0);for(_=0;_<P;_++){var N=G[_];a.RayCaster(N.pos,.4,e,.5,.2,.6,1,!0)}var B=l.getAllAnomalies(e.game);P=B.length;for(_=0;_<P;_++){var F=B[_],D=F.pos.x,V=F.pos.y;switch(f.set(D,V),F.type){case 29:a.RayCaster(f,2.6*F.radius,e,.6,.1,.6,1,!0);break;case 30:a.RayCaster(f,2.6*F.radius,e,.6,.6,.1,1,!0);break;case 31:a.RayCaster(f,2.6*F.radius,e,.6,.1,.1,1,!0)}}var X=t.spaceFog;P=X.length;for(_=0;_<P;_++){var H=X[_];if(!(A.RandomStepBased(e.step,H.guid)<.97)){D=H.x,V=H.y;f.set(D+(A.RandomStepBased(e.step,H.guid)-.5)*H.radius*.5,V+(A.RandomStepBased(e.step,H.guid)-.5)*H.radius*.5),H.fire?a.RayCaster(f,1+A.RandomStepBased(e.step,H.guid),e,.7,.1,.1,.6,!0):a.RayCaster(f,1.5+A.RandomStepBased(e.step,H.guid),e,.6,.1,.1,.6,!0)}}var k=performance.now(),W=c.getForce2Tree().queryInt(e.game.screen.rect);for(_=0;_<W.length;_++){var U=W[_];if(1===U.type)if(a.RayCaster(U.pos,Math.max(2*U.radius,200),e,.2,.2,.1,1,!0),performance.now()-k>4&&0!==r)break}var Y=x.SpacePorts.queryInt(E);for(_=0;_<Y.length;_++){var z=Y[_],j=z.centerNoneCannon.pos.x,q=z.centerNoneCannon.pos.y,K=z.centerNoneCannon.life,Z=K>.1*o.SPACEPORT_START_LIFE?1:2*K/o.SPACEPORT_START_LIFE;if(A.RandomStepBased(e.step,z.guid)>Z?A.RandomStepBased(e.step,z.guid)>.2&&a.RayCaster({x:j,y:q},.7,e,.3,.2,.1,1,!0,null):a.RayCaster({x:j,y:q},1,e,.1,.5,.1,1,!0,null),z.weaponsActive)for(var Q=0;Q<z.cannons.length;Q++){var J=z.cannons[Q];if(J.isCannon){p.set(1.1*z.wallThickness,0),A.rotateVector(p,J.angle,p);var $=J.pos.x+p.x,ee=J.pos.y+p.y;p.set(.5*z.wallThickness,0),A.rotateVector(p,J.angle+.5*Math.PI,p);var te=$+p.x,re=ee+p.y;p.set(.5*z.wallThickness,0),A.rotateVector(p,J.angle-.5*Math.PI,p);var ae=$+p.x,ne=ee+p.y;a.RayCaster({x:te,y:re},.6,e,.2,.2,.2,1,!0,null,J.angle+.029*Math.PI,.09*Math.PI),a.RayCaster({x:ae,y:ne},.6,e,.2,.2,.2,1,!0,null,J.angle-.029*Math.PI,.09*Math.PI)}}}var oe=x.AncientSystem.queryInt(E);P=oe.length;for(_=0;_<P;_++){var ie=oe[_];a.RayCaster(ie.pos,1.8,e,.2,0,0,1,!0,null)}return"raycaster"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(62)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSightPolygon=t.pairToPolys=t.polysToPair=t.getRayCasterTimings=void 0;t.getRayCasterTimings=function(e){var t=[];return t.push(a.angles*e),t.push(a.angles2*e),function(){for(var e in a)a[e]=0}(),t};var a={total:0,polysToPair:0,pairToPolys:0,interSectionNew:0,interSection:0,raycasting:0,setup:0,filtering:0,uniqe:0,uniqe2:0,angles:0,angles2:0,sorting:0};t.polysToPair=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push({a:{x:e[a],y:e[a+1]},b:{x:e[a+2],y:e[a+3]}});return r},t.pairToPolys=function(e){for(var t=e.length,r=[],a=0;a<t;a++){var n=e[a];r.push(n.x,n.y)}return r};var n=function(e,t){var a=e.a.x,n=e.a.y,o=e.b.x-e.a.x,i=e.b.y-e.a.y,s=t.a.x,A=t.a.y,u=t.b.x-t.a.x,l=t.b.y-t.a.y,c=r.OperatorApproxDist97(o,i),d=r.OperatorApproxDist97(u,l);if(o/c==u/d&&i/c==l/d)return null;var p=(o*(A-n)+i*(a-s))/(u*i-l*o);if(p<0||p>1)return null;var f=(s+u*p-a)/o;return f<0?null:{x:a+o*f,y:n+i*f,param:f}};t.getSightPolygon=function(e,t,r){var o=function(e){for(var t=performance.now(),r=[],n={},o=e.length,i=0;i<o;i++){var s=e[i],A=s.a.x/s.a.y;n[A]||(r.push(s.a),n[A]=!0);var u=s.b.x/s.b.y;n[u]||(r.push(s.b),n[u]=!0)}return a.uniqe+=performance.now()-t,r}(r),i=performance.now(),s=function(e,t,r){for(var n=performance.now(),o=[],i=e.length,s=0;s<i;s++){var A=e[s],u=Math.atan2(A.y-r,A.x-t);A.angle=u,o.push(u-1e-5,u+1e-5)}return a.angles+=performance.now()-n,o}(o,e,t);i=performance.now();for(var A=[],u=s.length,l=0;l<u;l++){var c=s[l],d={a:{x:e,y:t},b:{x:e+Math.cos(c),y:t+Math.sin(c)},angle:c};A.push(d)}for(var p=[],f=(Number.MAX_VALUE,Number.MIN_VALUE,1.01*t),h=.99*t,v=1.01*e,g=.99*e,y=[],m=[],S=[],E=[],x=performance.now(),T=0;T<r.length;T++){var _=r[T],I=_.a.y>f,M=_.b.y>f,L=_.a.y<h,b=_.b.y<h,w=_.a.x>v,R=_.b.x>v,P=_.a.x<g,O=_.b.x<g;I&&M&&P&&O?S.push(_):I&&M&&w&&R?E.push(_):L&&b&&P&&O?y.push(_):L&&b&&w&&R?m.push(_):I&&M?(S.push(_),E.push(_)):L&&b?(y.push(_),m.push(_)):w&&R?(E.push(_),m.push(_)):P&&O?(S.push(_),y.push(_)):(S.push(_),E.push(_),y.push(_),m.push(_))}a.sorting+=performance.now()-x;var C=[];for(l=0;l<u;l++){var G=null,N=(C=(c=(d=A[l]).angle)<-.5*Math.PI?y:c<0?m:c<.5*Math.PI?E:S).length;for(T=0;T<N;T++){var B=n(d,C[T]);B&&((!G||B.param<G.param)&&(G=B))}G&&(G.angle=c,p.push(G))}a.interSectionNew+=performance.now()-i,i=performance.now();for(var F=[],D=0;D<p.length;D++){for(var V=p[D],X=!0,H=D;H<p.length;H++){var k=p[H];if(D!=H&&Math.abs(V.x-k.x)<2&&Math.abs(V.y-k.y)<2){X=!1;break}}X&&F.push(V)}return p=F,a.filtering+=performance.now()-i,p=p.sort(function(e,t){return e.angle-t.angle})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(4),r(0),r(0),r(46)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalGlow=void 0;var s=[];t.DirectionalGlow=function(e,t,A,u,l,c,d,p,f){s=[];var h=l.game,v=l.gl,g=l.SH,y=l.SW,m=l.SX,S=l.SY,E=(y>g?g*t:y*t)*(h.resW/y);if(i.onStage(l,e.x,e.y,E)){s=[];var x=e.x-m,T=e.y-S,_=new r.Vector(e.x+Math.cos(A-.5*u)*E,e.y+Math.sin(A-.5*u)*E),I=new r.Vector(e.x+Math.cos(A+.5*u)*E,e.y+Math.sin(A+.5*u)*E);if((s=[x,T,_.x-m,_.y-S,I.x-m,I.y-S]).length>0){n.default(o.GLctx.VerticesGradient,v);var M=o.GLUniformLocation(v,"u_pos_x"),L=o.GLUniformLocation(v,"u_pos_y"),b=o.GLUniformLocation(v,"u_perimiter");v.uniform1f(M,x),v.uniform1f(L,T),v.uniform1f(b,E),a.drawColor(s,v,c,d,p,f)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(46),r(4)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flare=void 0;var s=[],A=[],u=function(e,t,r,a,n){var o=.1*Math.random()+.95;e.push(t-a*n*o,r,t,r+.01*n*a,t,r+-.01*n*a,t+a*n*o,r,t,r+.01*n*a,t,r+-.01*n*a)};t.Flare=function(e,t,l){var c=l.game,d=l.gl,p=l.SH,f=l.SW,h=l.SX,v=l.SY,g=(f>p?p*t:f*t)*(c.resW/f);if(o.onStage(l,e.x,e.y,.1*g)){s=[];var y=e.x-h,m=e.y-v;if(u(s,y,m,g,1),r.addToColorMap(A,s,.1,.1,.2,.1),u(s,y,m,g,.8),r.addToColorMap(A,s,.2,.2,.3,.2),u(s,y,m,g,.4),r.addToColorMap(A,s,.4,.4,.5,.4),u(s,y,m,g,.1),r.addToColorMap(A,s,.6,.6,.9,.6),u(s,y,m,g,.05),r.addToColorMap(A,s,.9,.9,1,1),s.length>0){var S=a.default(n.GLctx.Vertices,d);i.drawColorMap(A,s,S,d)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(3),r(0),r(0),r(64),r(4)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=0,u=[];t.default=function(e){var t=e.step,l=e.WW,c=(e.WH,e.SX),d=e.SY,p=e.SW,f=(e.SH,e.game),h=e.gl;u=[],(A+=.5*t)>100&&(A=0);i.RESOLUTION,a.MAP_SAFETY_ZONE;for(var v=f.wayPoints,g=v.length,y=1;y<g;y++){var m=v[y-1],S=v[y];r.onStage(e,m.posX,m.posY,m.vertical?Math.abs(m.posY-S.posY):Math.abs(m.posX-S.posX))&&(m.vertical?r.lineVerticalRGBADash(p,m.posX-c,m.posY-d,S.posY-d,u,5,50,50,A):r.lineHorizontalRGBADash(p,m.posX-c,m.posY-d,S.posX-c,u,5,50,50,A))}return u.length>0&&(n.default(o.GLctx.Vertices,h),s.drawColor(u,h,.1,.1,.1,1)),"waypoints"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(4),r(30),r(0),r(0),r(9),r(37),r(38),r(42),r(169),r(192),r(194),r(195),r(197),r(4),r(3),r(28)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var m={children:o(window.io?[]:c.singlePlayerItems,window.io?d.multiplayerItems:[],p.optionsItems,h.shipItems,f.debugItems)},S=0;S<m.children.length;S++)s.default.create(m.children[S].label,70,"w");var E=s.default.create(" ON",70,"w"),x=s.default.create(" OFF",70,"w"),T=[],_=-1,I=0,M=0,L=!1,b=!1,w=0,R=function(e,t){for(var r=[],a=0;a<t.length;a++){var n=t[a];n.condition&&!n.condition(e)||r.push(n)}return r},P=function(e){for(var t=m.children,r=0;r<T.length;r++)t=(t=R(e,t))[T[r]].children;return t},O=[],C=!1,G=function(e,t){for(var r=t||O.length,a=0;a<r;a++)O[a]=e};G(window.innerWidth,10);var N=!0,B=function(e,t,r){for(var a=!0,n=O.length,o=0;o<n;o++){var i=O[o];i=i+=1*(e.step*t*80+(1+o)/n*500*t),t>0?i<r?a=!1:i=r:i>r?a=!1:i=r,O[o]=i}return a},F=!1,D=!1,V=function(e){var t=e.keys;return t.UP?(M=-1,!0):t.DOWN?(M=1,!0):t.RETURN?(b=!0,C=!0,!0):!(!t.BACKSPACE&&!t.ESCAPE||0===T.length)&&(b=!1,0===T.length?(G(window.innerWidth),L=!L,F=!1,N=!0,C=!1,D=!1):D=!0,!0)},X=[],H=0,k=!1,W=!1;t.default=function(e){var t=e.game,o=e.stepMS,c=e.gl,d=e.SW,p=(e.SH,e.SX),f=e.SY;if(!t.loadscreen)if(14===t.currentLevel&&(H+=o)>=5e4&&(H=5e4,k||(D=!0,W=!1,k=!0),F&&(F=!1)),(t.allKeyCodes.currentKeyCode===A.Keys.ESCAPE||-1!==t.allKeyCodes.currentKeyCode&&k)&&(t.state.menu.active?0===T.length&&H<5e4?H=5e4:(H=0,k=!1,F=!0,W=!1):(u.StateMachine(t.state).menuActivate(),H=0,k=!1,t.isPaused=!0)),k&&W){var h=s.default.create("ESC TO SHOW MENU",g.TEXT_SIZE_SMALL,"w");s.default.addGL(c,n.default(i.GLctx.Texture,c),h,.5*t.resW-.5*h.w,10,e)}else if(t.state.menu.active||!W){if(t.currentLevel>14&&L&&(t.isPaused=!0,L=!1),V(t.allKeyCodes.menu)&&(H=0,t.eventMap[a.GAME_EVENT.MENU_SELECT]={x:0,y:0}),!(t.currentLevel>14)||t.isPaused){X=[],[];var m,S=function(e){var t=P(e),r=[];if(t)for(var a=0;a<t.length;a++){var n=t[a];n.condition&&!n.condition(e)||r.push(n)}var o=I+M;return I=o>=0&&o<r.length?o:o<0?r.length-1:0,M=0,_>-1&&(r[_]&&r[_].children&&(T.push(_),I=0),_=-1),I<w&&(w=I),I+1>5+w&&(w=I-5+1),r}(e),R=Math.min(S.length,5+w);if(b){if(S[I].action){var U=S[I].action(e);for(var Y in U.root&&(T=[],I=0),U.resetToTop&&(I=0),U.pop&&(I=T.pop(),C=!1,N=!1,F=!1,D=!1),t.menuSettings)"boolean"==typeof t.menuSettings[Y]&&l.saveBool(Y,t.menuSettings[Y]);for(var Y in t.menuSettings.debugItems)"boolean"==typeof t.menuSettings.debugItems[Y]&&l.saveBool(Y,t.menuSettings.debugItems[Y])}b=!1}C?B(m=e,-1,-m.game.resW)&&(G(m.game.resW),C=!1,N=!0,_=I):N?function(e){B(e,-1,0)&&(G(0),N=!1)}(e):F?function(e){B(e,1,0)&&(G(0),F=!1)}(e):D?function(e){B(e,1,e.game.resW)&&(G(-e.game.resW),D=!1,F=!0,T.pop())}(e):W=!0;for(var z=t.zoomTX,j=[],q=1-Math.abs(O[0]/d),K=(.22*t.resH-5)*z,Z=(.25*t.resH+77*(R-w)+20)*z,Q=Z-K,J=Q*q,$=Z-(Q-J),ee=K+(Q-J);ee<$;ee+=5)j.push(0,ee,d,ee);n.default(i.GLctx.Vertices,c),y.GlowCustomLayout({x:.5*t.resW+p,y:.2*t.resH*2+f},.88*q,j,e,.61,.61,.61,1,c.LINES);var te=0,re=0,ae=0;for(ee=w;ee<R;ee++){var ne=S[ee],oe=I===ee,ie=s.default.create(ne.label,70,"w");re=.25*t.resH+77*ae;var se=ne.enabled?ne.enabled(e)?[ie,E]:[ie,x]:[ie],Ae=s.default.measureBuffers(se),ue=.5*t.resW-.5*Ae+O[ae+1];s.default.addListGL(c,n.default(oe?i.GLctx.TextureDist:i.GLctx.Texture,c),se,ue,re,e),ie.w>te&&(te=ie.w),ae++}te=1.1*te+100;var le=.5*t.resW-.5*te;return w>0&&X.push(le-.5*O[0]-30+.5*te,.2*t.resH,le-.5*O[0]+30+.5*te,.2*t.resH,le-.5*O[0]+.5*te,.2*t.resH-20),r.line2Poly((le-O[0])*z,.22*t.resH*z,(le+te-O[0])*z,.22*t.resH*z,X,8*z),r.line2Poly((le-O[Math.min(5,R)])*z,(re+91)*z,(le+te-O[Math.min(5,R)])*z,(re+91)*z,X,8*z),R<S.length&&X.push(le-.5*O[Math.min(5,R)]-30+.5*te,re+91+20,le-.5*O[Math.min(5,R)]+30+.5*te,re+91+20,le-.5*O[Math.min(5,R)]+.5*te,re+91+40),n.default(i.GLctx.Vertices,c),v.drawColor(X,c,1,1,1,.5),"menu"}}else G(t.resW)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyTypeMode=void 0,function(e){e[e.TYPEING=0]="TYPEING",e[e.PLAYING=1]="PLAYING"}(t.KeyTypeMode||(t.KeyTypeMode={}))}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(30),r(38),r(42),r(79),r(79)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singlePlayerItems=void 0;var s=function(){var e=o.getGameSaves(),n=t.singlePlayerItems.filter(function(e){return"LOAD/SAVE"===e.label})[0].children.filter(function(e){return"LOAD GAME"===e.label})[0];n.children=e.map(function(e){return{label:e,action:function(t){return i.loadGame(e,t),a.StateMachine(t.game.state).menuDisable(),t.game.eventMap[r.GAME_EVENT.START_GAME]={},t.game.isPaused=!1,{root:!0}}}}),n.children.reverse(),n.children.unshift({label:o.getStorageUsedKB()+"/4000 KB USED"});var A=t.singlePlayerItems.filter(function(e){return"LOAD/SAVE"===e.label})[0].children.filter(function(e){return"DELETE SAVED GAME"===e.label})[0];A.children=e.map(function(e){return{label:e,action:function(t){return i.deleteSavedGame(t.game,e),s(),{root:!0}}}}),A.children.reverse(),A.children.unshift({label:o.getStorageUsedKB()+"/4000 KB USED"})};setTimeout(function(){s()},10),t.singlePlayerItems=[{label:"RESUME GAME",action:function(e){return a.StateMachine(e.game.state).menuDisable(),e.game.eventMap[r.GAME_EVENT.RESUME_GAME]={},e.game.isPaused=!1,{root:!0}},condition:function(e){return e.game.isPaused}},{label:"NEW GAME",action:function(e){return e.game.targetLevel=16,a.StateMachine(e.game.state).menuDisable(),e.game.eventMap[r.GAME_EVENT.START_GAME]={},e.game.isPaused=!1,{root:!0}}},{label:"LOAD/SAVE",condition:function(e){return(n.loadData("gameSaves")||[]).length>0||e.game.currentLevel>14},children:[{label:"LOAD GAME",condition:function(){return o.getGameSaves().length>0},children:[]},{label:"SAVE GAME (CURRENTLY BROKEN)",action:function(e){return i.saveGame(e.game),s(),{root:!0}},condition:function(e){return e.game.currentLevel>14}},{label:"DELETE SAVED GAME",condition:function(){return o.getGameSaves().length>0},children:[]}]}]}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.getDescriptor=void 0;var r={},a={},n=function(e,t){var r={};for(var a in e)r[a]=e[a];for(var a in t)r[a]=t[a];return r},o=function(e){s=e.keyset,r=n(r,e.packHash),a=n(a,function(e){var t={};for(var r in e)t[e[r]]=r;return t}(e.packHash))};t.getDescriptor=function(){return{keyset:s,packHash:r}};var i=("qwertuiopasdfghjklzcvbnm"+"qwertuiopasdfghjklzcvbnm".toUpperCase()).split(""),s=[0],A=function(e){if("x"===e||"y"===e)return r[e]=e,a[e]=e,e;var t=parseInt(e,10);if(t>=0)return t;if(r[e])return r[e];var n=function(){for(var e=i.length,t=s.map(function(e){return i[e]}).join(""),r=s.length;r>=0;r--){var a=s[r];if(a<e-1){s[r]=a+1,r!==s.length-1&&s[r+1]>0&&(s[r+1]=0);break}if(0===r){s.push(0);for(var n=0;n<s.length;n++)s[n]=0}}return t}();return r[e]=n,a[n]=e,n},u=function(e,t,r){for(var n in e){var o=e[n],i=a[n];if("object"==typeof o)if(o[a.isVector]){var s=t[i]={},A=a.x,l=a.y,c=a.id,d=a.isVector;s[A]=o[A],s[l]=o[l],s[c]=o[c],s[d]=o[d]}else if(Array.isArray(o))t[i]=[],u(o,t[i],r);else if(Array.isArray(t)){var p={};u(o,p,r),t.push(p)}else t[i]={},u(o,t[i],r);else Array.isArray(t)?t.push(o):t[i]=o}},l=function(e,t,r){for(var a in e){var n=e[a];if(null!=n){var o=A(a);if("object"==typeof n)if(n.isVector){var i=t[o]={};i[A("x")]=r?0|n.x:n.x,i[A("y")]=r?0|n.y:n.y,i[A("isVector")]=n.isVector,void 0!==n.id&&(i[A("id")]=n.id)}else Array.isArray(n)?(t[o]=[],l(n,t[o],r)):(t[o]={},l(n,t[o],r));else if(r&&"number"==typeof n){var s=n;(s+"").indexOf(".")>-1&&(s=.1*Math.round(10*s)),Array.isArray(t)?t.push(s):t[o]=s}else Array.isArray(t)?t.push(n):t[o]=n}}return t};t.pack=function(e,r,a){o(r);var n={};return l(e,n,a),{result:n,descriptor:t.getDescriptor()}},t.unpack=function(e,t,r){o(t);var a={};return u(e,a,r),a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerlinNoise3d=t.PerlinNoise2d=void 0;var r=function(){return function(e,t,r){this.dot2=function(e,t){return this.x*e+this.y*t},this.dot3=function(e,t,r){return this.x*e+this.y*t+this.z*r},this.x=e,this.y=t,this.z=r}}(),a=[new r(1,1,0),new r(-1,1,0),new r(1,-1,0),new r(-1,-1,0),new r(1,0,1),new r(-1,0,1),new r(1,0,-1),new r(-1,0,-1),new r(0,1,1),new r(0,-1,1),new r(0,1,-1),new r(0,-1,-1)],n=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o=new Array(512),i=new Array(512);!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;r=1&t?n[t]^255&e:n[t]^e>>8&255,o[t]=o[t+256]=r,i[t]=i[t+256]=a[r%12]}}(0);var s=function(e){return e*e*e*(e*(6*e-15)+10)},A=function(e,t,r){return(1-r)*e+r*t};t.PerlinNoise2d=function(e,t){var r=Math.floor(e),a=Math.floor(t);e-=r,t-=a;var n=i[(r&=255)+o[a&=255]].dot2(e,t),u=i[r+o[a+1]].dot2(e,t-1),l=i[r+1+o[a]].dot2(e-1,t),c=i[r+1+o[a+1]].dot2(e-1,t-1),d=s(e);return A(A(n,l,d),A(u,c,d),s(t))},t.PerlinNoise3d=function(e,t,r){var a=Math.floor(e),n=Math.floor(t),u=Math.floor(r);e-=a,t-=n,r-=u;var l=i[(a&=255)+o[(n&=255)+o[u&=255]]].dot3(e,t,r),c=i[a+o[n+o[u+1]]].dot3(e,t,r-1),d=i[a+o[n+1+o[u]]].dot3(e,t-1,r),p=i[a+o[n+1+o[u+1]]].dot3(e,t-1,r-1),f=i[a+1+o[n+o[u]]].dot3(e-1,t,r),h=i[a+1+o[n+o[u+1]]].dot3(e-1,t,r-1),v=i[a+1+o[n+1+o[u]]].dot3(e-1,t-1,r),g=i[a+1+o[n+1+o[u+1]]].dot3(e-1,t-1,r-1),y=s(e),m=s(t),S=s(r);return A(A(A(l,f,y),A(c,h,y),S),A(A(d,v,y),A(p,g,y),S),m)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.faces=void 0;t.faces=[],t.faces[0]=["data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABaCAMAAAB5TAO7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAwBQTFRFKv8AK5gAAF4E////AAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASips5QAAAAZ0Uk5T//////8As7+kvwAABcBJREFUeNrsmdGS6zgIRA907v//sIF9kGRLTiaxM3efdseVGo9rYtQCugHZH/79H+d/I/9JI9JXX9sIwv89I1lBeHp6EJRd+MrjpgUSYeMSYfH5HX7XhlMURagIUogt/6aRLQ8MCkPhgGTbXzOSG0KhVCkohUJBkaTqrRm7yl01bkIBeKJYgsZ+jSS7jVhsBAEEkFD5SyPbWKYQMmG03VIQ6q+x+I2RrVT7moPwUKgYV8MD+Pa9Twqszg9jIBHMvrHvkBRm29iJIAhystG8FE/xcQvJJmPTjzjiiZbsCyQy0onZJxw+id0n7ZOQ95E0IM/rDQW8RPICin8G0jICDr+0/XJiyZWD4G4iqXJqjZ93sfUDlA9IwkkoMe07i09WLEG9iLD3SH7yyDufhJ6gvEei4uAolvgqXvskPJ688gHJg028jK2O5NknVk9e+YAEvGvgehU7xjOWzWC7gWSjIzlW29b+U7a3V4afoLxF4h1JW23ssdRiazzjlCfP0fXWiBUkM08JhVAY1u5bnqJTBVTXjVR2JCMnIvpf/YnW+Iqe8ef4eo/EIREiyfa/oRCGsIERoY5FPeF1eu0VJASO4+k4hzecF7E1nBK3kBht7enH5c0mR84vPsk8vfc9Esuix9JuAU8aMnevk57sa7vhEwxQGEkOLKQn++Vd0RY8GbeMDC7sPsnumXT2q3sqZjdoVZX3tGJHPC04PLs4DVw2KsthY8n5D/2JWShUZdVwWHovudtrLD2RVcnKyrIcIG21cqG4Uxg2YZiubPV9OtVM63hp3ui0GndVIjuwtE+6hyrNLD2trKzMDiR2A0koFSaFybCc/OJZivTcn1mvh/2exkMSXkQUFaXQEmNZeLow5K0HE0dI3DGiMHouhmLyTVu7Gh8bK5JZUz4aeSg08h3VnC/prW8kQNE1dN/lO0gohfnRJ/aMaVjC3MNREK0vsikf/U4Ihyr7bouBqud7JV5UQ0hRe0bmxACfjfjY76jerEy8lVhmWIy8t133fWLmC0iKwgk8i0qog8nSKdrH0wnVy37oghHrXGtYLVw8X2TzSXzZM5bGmisnNj5zcXrX/mdtvGAkG3f5k56sukJiqAXuSbauTIk8GlMN7kovH08aJ7dnZV7laY21/JZPPOR29sXxe9JMC3N/uEEtDfMVJDnpyVj3/HvHYnXsk9UxCrsyLHCtPnjjExtFtHGLVsBLvnLWniUHH/vMXUrwW7QC/jo/WLRl4q7tpPLXBjjuM2MtijLjq6XQrrujKG95P+s7dqphRoFByvgCCVATAuTpKk11ZdfFGh3HN0hwWzkKi6wn34QB1QfG95Hsb/R0yovyJdb2SpItHn1K9gUSTvnOy1hj0+OJ6i8POnPldmC3YDtKs2PkXV84/tDCJLExIZbJasdRE5fUF3PhPUOk1p9aqKgo6vCLpb0aFt0w0tcboIrqquy71nQ9edVnX59w+8j4IvodiQU1sn6uiBYjdv10boNWSSKI8x3t/sGz3+/M6h+7rgchTzdXEO7pJrmC0D4a3r5EcmCxaU60y2x0VA1L2ndIdizZ6vto9eRsQ73zXrqTu8dNHpQn5VmUQjXyEhyC8jZSZD3wunk659pzwkeG9Ml3VKuN8aeJ6j0jm8XCVd7ypk3f0s1Rkgn24FvHp/UdSoeJv9CI6B5T6f41Ejct/cngSKGWK2F9q+wX25VBiV3d6UoSg78IAwfFL07nIBLZru2ZnmlSHfVKY+nV87d80tta7Z7Jlpk1qwuQqmX597ar+1t77WI0G0MnW5mq+pLq9xPT9Aj6jFChhmNofatW4iQoV7erB2zSz//mrnXS+XZMR7Uv+M1zxlUfx2w1au8XR4U5tMSn08lLRjLH/+1xVRReQ/P3/AewY5+iLm/XMbfcmOpf0tft7H/PcpUqv9YzHi50/MdZZOeAxTTeDiH+XHHH+N52qr3GJ9TyZKqEdxl24p8BACw+7CTEmncYAAAAAElFTkSuQmCC"],t.faces[1]=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABLCAMAAACxxtKFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAwBQTFRFKv8AK5gAAF4E////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa66H3QAAAAV0Uk5T/////wD7tg5TAAADq0lEQVR42qyZ25bjKgxEq3TO//+xVfPAxVwEDszEi07idDfZLqmQMP9H+JDE5ug/pAB2n5PE+mGL804QIpEO6w7CUD4XCRp9Mwf+i2d5IBMoQABkXg7IHIKgSgQQwg7FVqfNSebv/M5hMH95iPQ7wO5iLUkcAGaOiSX9AAXZKcljCDmWLIQdk9Azh0aOnsc8oRD0jShLTWpM9QTjOyRmuN1pMujBPF6WIolAUMckbpEe4zuIiRi+j694EhMcwqjDqAwkuAmwHI9nJJkD3dUfdXEDaU5A2EbX4rPMsRuJTUKKxHOSKD/G2Gp0EQHzizwJ8oM5pkqemOf/nGL4IrqGbHjPgF7zJ+U94Zea1HiKtajPglTd7tyFgyM4SyQjvvKu4ksL72oOAQSuvKuugR7kR3eO+S90oQmGXE8DYlpL3nNSswYdk0SaoK7675lcZ9jhJHQ4PF5NpMHPpKzG8npxURI9BqRiZ6JBGuW1m6rkPCuJzCG6RI+8uM8X6i5PkFwkZfcufmt8XWQ8PrOjYynRpTNNBGDWoR3/QJNVnsyawOlZEz+MLqjn2DElErdzEsRre8CkRGK+LCbWJOP1X7E0mvAwusDx+q9YzKnkdTjNeDQVUcQz6rVdfzc5FOa4xVzarvFrEmhgoEKuXAfftHM5XtqhmCvF1bYL2pDMdapFsbaNq0+SUOs51rb++03S58oqxkpvwluSvWe1r+G6JBm8eJcjt3kyeXFba5mb+8ClW5JIDzH51exlvCFh4LkmysSwf9HV5Zr6RKeYRtgN61qTUjtmX88sCL1ZOtYkii8gaTLH13J9tK9kHX1KGDRpcyU96zmcZLryeRPNtz2+Difh6FcUPa4rm3dnmrxevFsb+zEZmX1b6NwnTq+R8x+xL3+T7FmivJ/i65vkjeGv+r4OXJCsa7C4vrwjIXbfe+4rHReTgLOHzTtG7W7ezSTrGv9d6f9Wk9xDfq2Pxbsm8/qRBL/sfRWeU6sfOgksdo6GXbC7SfRgkR8W7B3xRpOnWdF/8S6ek8hZu3n8NHQ6iSS0OykrTdqsmTpt+9JCgBzL/jHKm8OqPvW2+17rjaZ+TeEvJHrgcEqrnqTLjy7n5e6uR4+2NwRS7Ui3eAdEpVKtz8g7MeWc2mgOJ3lY7jHohz1Ih/p7Eu+9FXOJrnkSpXsuhl/nMFWONNSwphEqUXtamPCxR5R737HWVBN7NmQF2nWBmOqrcEeVg3cR5n1uvUoUirffxZZj5V1THP4ZAL+yXCqd4TurAAAAAElFTkSuQmCC","data:image/png;base64,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","data:image/png;base64,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"]}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(33),r(81)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateRockets=void 0,t.clientCreateRockets=function(e){for(var t=[],n=e.game.rockets,o=n.length,i=0;i<o;i++){var s=n[i],A=r.readFromGH(s.type,s.guid);A||(A=a.createRocketClient({angle:s.angle,life:s.life,pos:s.pos,vel:s.vel,ownerType:s.type,ownerGuid:s.ownerGuid,target:s.target}),r.writeGH(s.type,s.guid,A)),A.netpos=s.pos,A.netvel=s.vel,A.netangle=s.angle,A.life=s.life,t.push(A)}return t}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(39)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSpiders=void 0,t.clientCreateSpiders=function(e,t){for(var n=[],o=e.game.spaceSpiders,i=o.length,s=0;s<i;s++){var A=o[s],u=r.readFromGH(A.type,A.guid);u||(u=a.default(t,1,A.pos.x,A.pos.y,A.radius,A.restPos)[0],r.writeGH(A.type,A.guid,u)),u.netpos=A.pos,u.netangle=A.angle,u.life=A.life,n.push(u)}return n}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(17)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateAsteroids=void 0,t.clientCreateAsteroids=function(e){for(var t=[],n=e.game.asteroids,o=0;o<n.length;o++){var i=n[o],s=r.readFromGH(12,i.guid);s||(s=a.createSingleAsteroid(i.radius,i.pos,i.vel,{angleVel:0,angle:i.angle,type:i.type}),r.writeGH(12,i.guid,s)),s.netangle=i.angle,s.netpos=i.pos,s.netvel=i.vel,s.life=i.life,t.push(s)}return t}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(83),r(12)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateParasites=void 0,t.clientCreateParasites=function(e){for(var t=[],o=e.game.parasites,i=0;i<o.length;i++){var s=o[i],A=r.readFromGH(28,s.guid);if(A||(A=a.createParasite(s.pos.x,s.pos.y,s.numSegments,s.restPos.x,s.restPos.y),r.writeGH(28,s.guid,A),n.LOG_GL("PARASITE CREATED "+s.guid)),s.target){var u=r.readFromGH(43,s.target.targetGuid)||r.readFromGH(39,s.target.targetGuid)||r.readFromGH(1,s.target.targetGuid);u&&(A.target={ship:u,idxA:s.target.idxA,idxB:s.target.idxB,valueBetween:s.target.valueBetween})}else A.target&&(A.target=null);A.life=s.life,A.netpos=s.pos,t.push(A)}return t}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(31),r(12)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSnakes=void 0,t.clientCreateSnakes=function(e,t){for(var o=[],i=e.game.spaceSnakes,s=0;s<i.length;s++){var A=i[s],u=r.readFromGH(17,A.guid);u||(u=a.default(t,1,A.segments[0].pos.x,A.segments[0].pos.y,A.size,A.restPos)[0],r.writeGH(17,A.guid,u),n.LOG_GL("SNAKE CREATED "+A.guid)),o.push(u)}return o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(55)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateRocks=void 0,t.clientCreateRocks=function(e){for(var t=[],n=e.game.rockformation,o=0;o<n.length;o++){var i=n[o],s=r.readFromGH(21,i.guid);s||(s=a.createRFsingle(i.pos,i.radius),r.writeGH(21,i.guid,s)),t.push(s)}return t}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(32),r(12)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSquids=void 0,t.clientCreateSquids=function(e,t){for(var o=[],i=e.game.spaceSquids,s=0;s<i.length;s++){var A=i[s],u=r.readFromGH(18,A.guid);u||(u=a.default(t,1,A.pos.x,A.pos.y,A.radius,A.restPos)[0],n.LOG_GL("SQUID CREATED "+A.guid),r.writeGH(18,A.guid,u)),u.netpos=A.pos,u.netangle=A.angle,u.stunned=A.stunned,u.life=A.life,o.push(u)}return o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(33),r(1),r(43),r(12),r(112)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSpaceports=void 0,t.clientCreateSpaceports=function(e,t){for(var s=[],A=e.game.spacePorts,u=0;u<A.length;u++){var l=A[u],c=r.readFromGH(11,l.guid);if(!c){c=n.default(t,l.radius,new a.Vector(l.pos.x,l.pos.y),l.name,l.reparations,l.cannons),o.LOG_GL("SPACEPORT CREATED "+l.guid),r.writeGH(11,l.guid,c);for(var d=0;d<c.cannons.length;d++){var p=c.cannons[d];l.cannons[d]&&p.guid===l.cannons[d].guid?r.writeGH(20,l.cannons[d].guid,c.cannons[d]):(c.cannons.splice(d,1),d--)}}var f={},h={},v=Math.max(c.cannons.length,l.cannons.length);for(d=0;d<v;d++){(p=c.cannons[d])&&(f[p.guid]=p),(y=l.cannons[d])&&(h[y.guid]=y)}for(var g in f){p=f[g];var y=h[g];p&&(y?(p.life=y.life,p.angle=y.angle,p.isCannon=y.isCannon):(p.life=0,p.remove=!0,c.cannons=i.cleanList(c.cannons,t)))}s.push(c)}return s}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(56),r(50),r(85),r(53),r(35),r(1),r(83),r(86),r(21),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=new s.Vector(0,0);t.default=function(e,t){if(!t.game.levelEditor){var s=!0,p=t.IS_MULTIPLAYER&&t.IS_SERVER;switch(e.type){case 21:case 12:var f=e;r.removeAsteroid(f,t),p&&t.game.removedAsteroids.push(f);break;case 25:for(var h=e,v=i.getSpacesnakeFromSegment(h.guid),g=0;g<v.segments.length;g++){(y=v.segments[g]).remove=!0}if(!v.remove){if(!p){i.createPartsFromSpaceSnake(t,v);for(g=0;g<v.segments.length;g++){var y=v.segments[g];if(l.createDust(y.pos,y.radius,y.radius,t),v.infected)for(var m=Math.ceil(4*Math.random()),S=0;S<m;S++)t.game.parasites.push(A.createParasite(y.pos.x+(Math.random()-.5)*y.radius,y.pos.y+(Math.random()-.5)*y.radius,32*Math.random()+8,t.WW*Math.random(),t.WH*Math.random()))}}v.remove=!0}break;case 19:var E=e;if(!p){if(l.createDust(E.pos,E.radius,E.radius,t,E.vel.x,E.vel.y),E.infected)for(m=Math.ceil(Math.random()*E.radius*.5)+4,S=0;S<m;S++)t.game.parasites.push(A.createParasite(E.pos.x+(Math.random()-.5)*E.radius,E.pos.y+(Math.random()-.5)*E.radius,32*Math.random()+8,t.WW*Math.random(),t.WH*Math.random()));for(g=0;g<E.legs.length;g++)for(var x=E.legs[g],T=0;T<x.bones.length;T++){var _=x.bones[T],I=_.length;d.set(I,0),d.setAngle(_.angle);for(var M=0;M<I;M+=2){var L=M/I*7;l.createDust({x:_.pos.x+d.x*L,y:_.pos.y+d.y*L},2,2,t,E.vel.x,E.vel.y)}}}break;case 18:if(!p){var b=e;if(n.createPartsFromSquid(b,t),b.infected)for(m=Math.ceil(Math.random()*b.radius*.25)+9,S=0;S<m;S++)t.game.parasites.push(A.createParasite(b.pos.x+(Math.random()-.5)*b.radius,b.pos.y+(Math.random()-.5)*b.radius,32*Math.random()+8,t.WW*Math.random(),t.WH*Math.random()))}break;case 20:c.addForceExplosion(t.game,e.pos.x,e.pos.y,510,4),p||(o.default(e,t,0),l.createDust(e.pos,e.radius,e.radius,t)),e.remove=!0;break;case 0:var w=e;for(g=0;g<w.cannons.length;g++){var R=w.cannons[g];c.addForceExplosion(t.game,R.pos.x,R.pos.y,90,2)}c.addForceExplosion(t.game,e.pos.x,e.pos.y,510,8);break;case 39:case 43:case 2:case 1:var P=e;c.addForceExplosion(t.game,e.pos.x,e.pos.y,90,2);var O=a.GetPlayerByGuidOrNull(P.killedByGuid,t);p||u.default(P,t),O?(O.kills++,p&&t.game.networkMessages.push({msg:((O.name||"UNKNOWN")+" KILLED "+(P.name||"UNKNOWN")).toUpperCase(),level:1})):p&&t.game.networkMessages.push({msg:(P.name||"UNKNOWN")+" SACRIFICED HIMSELF",level:1}),p&&t.game.removedShips.push(P),P.deaths++;break;case 37:case 36:case 35:c.addForceExplosion(t.game,e.pos.x,e.pos.y,70,1);break;default:s=!1}s&&p&&t.game.networkMessages.push({msg:"remove",remove:{type:e.type,guid:e.guid},level:1})}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(73),r(1),r(2),r(6),r(73),r(13)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e,t,r){var u=function(e,t){for(var r={},a=[],n=[],o=0;o<t.length;o++)void 0===r[t[o]]?(r[t[o]]=a.length,n.push(a.length),a.push(e[t[o]].clone())):n.push(r[t[o]]);return{vectors:a,indices:n}}(t,r),l=null;switch(e.type){case 39:l=10;break;case 1:l=40;break;case 43:l=41;break;default:l=40}var c=function(e){for(var t=e.length,r=[],a=[],n=0;n<t;n++)r.push(e[n].x),a.push(e[n].y);var o=Math.max.apply(Math,r),i=Math.min.apply(Math,r),s=Math.max.apply(Math,a),A=Math.min.apply(Math,a);return{offsetX:.5*(o-i)+i,offsetY:.5*(s-A)+A,radius:.5*Math.max(o-i,s-A)}}(u.vectors),d=new a.Vector(-c.offsetX,-c.offsetY);return i.rotateVector(d,e.angle,d),o({fromType:e.type,pos:new a.Vector(e.pos.x+d.x,e.pos.y+d.y),vel:new a.Vector(e.vel.x,e.vel.y),life:150,radius:c.radius,guid:n.getGuid(),type:l,angle:e.angle,width:null,edgeA:null,edgeB:null,rotatedEdgeA:null,rotatedEdgeB:null,colorFade:255,complexPartIndices:u.indices,complexPartVectors:s.offsetVectorArray(u.vectors,-c.offsetX,-c.offsetY),angleVel:.01*Math.random()-.005},A.setImovableDefaults(null))};t.default=function(e,t){for(var a,n=r.default(43===t.type?1:2,!0),o=n.leftWing,i=n.rightWing,s=n.hood,A=n.roof,l=n.baseWingIndexes,c=n.endWingIndexes,d=n.hoodIndexes,p=n.roofIndexes,f=t.vel.getAngle(),h=t.vel,v=[u(t,o,l),u(t,i,l),u(t,s,d),u(t,A,p),u(t,o,c),u(t,i,c)],g=0;g<v.length;g++){var y=Math.random()-.5,m=(Math.random(),v[g]);m.vel.set(h.x,h.y),m.vel.setAngle(f+.1*y),m.angleVel=.01*Math.random()-.005}(a=e.game.asteroidParts).push.apply(a,v)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(13)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.struct=void 0;var n=o(o({},a.setImovableDefaults(null)),{pos:new r.Vector(0,0),vel:new r.Vector(0,0),radius:1,life:0,guid:-1,type:0,stunned:!1,shape:3,sleepingAABB:!1,remove:!1,targetFlagged:!1,forceX:0,forceY:0}),i=o({},n),s=o({ownerGuid:0,owenerType:0,target:null,homing:!1},i);t.struct=function(e){switch(e){case 42:case 4:var t=o({},s);return t.pos=new r.Vector(0,0),t.vel=new r.Vector(0,0),t;case 24:var a=o({},i);return a.pos=new r.Vector(0,0),a.vel=new r.Vector(0,0),a}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(33),r(8),r(1),r(13)],void 0===(n=function(e,t,r,a,n,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateShips=void 0;var u=function(e,t){e.guid,e.type,e.pos,e.vel,e.angle;var r=e.thrust,a=e.closestItem,s=i(e,["guid","type","pos","vel","angle","thrust","closestItem"]);for(var u in t.netpos=e.pos,t.netvel=e.vel,t.netangle=e.angle,a&&(t.closestItem=o(o({},A.setImovableDefaults(null)),{pos:new n.Vector(a.pos.x,a.pos.y),vel:new n.Vector(a.pos.x,a.pos.y),radius:a.radius,type:a.type,guid:a.guid,life:a.life,remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,sleepingAABB:!1})),r&&t.thrust.setFromVec(r),s)t[u]=s[u]};t.clientCreateShips=function(e,t,r){if(39===r){var a=c(e,t);return a?s([a],l(e.game.ships,r,t)):l(e.game.ships,r,t)}if(1===r)return l(e.game.enemies,r,t);if(43===r)return l(e.game.drones,r,t);throw new Error("unknown type @ createClient ship + "+r)};var l=function(e,t,s){for(var A=[],l=0;l<e.length;l++){var c=e[l],d=r.readFromGH(t,c.guid),p=(c.pos,c.vel,c.angle,i(c,["pos","vel","angle"]));d||(d=a.createShip(s,o(o({},p),{pos:new n.Vector(c.pos.x,c.pos.y),vel:new n.Vector(c.vel.x,c.vel.y),angle:c.angle,guid:c.guid})),r.writeGH(t,c.guid,d)),u(c,d),A.push(d)}return A},c=function(e,t){var s=e.game.playerShip;if(!s)return null;var A=r.readFromGH(39,s.guid),l=(s.pos,s.vel,s.angle,s.thrust,s.closestItem,i(s,["pos","vel","angle","thrust","closestItem"]));return A||(A=a.createShip(t,o(o({},l),{pos:new n.Vector(s.pos.x,s.pos.y),vel:new n.Vector(s.vel.x,s.vel.y),thrust:new n.Vector(s.thrust.x,s.thrust.y),angle:s.angle,guid:s.guid})),r.writeGH(39,s.guid,A)),A.SW=e.SW,A.SH=e.SH,A.netSX=e.SX,A.netSY=e.SY,u(s,A),A}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(17),r(43),r(1),r(8),r(55),r(6),r(39),r(32),r(2),r(7),r(5),r(87),r(10),r(8),r(117),r(88)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exist=void 0,t.exist=function(e,t){return e.filter(function(e){return e.seedKey===t}).length>0};var y=function(e,t,r,a){return e.queryInt(new c.Rectangle(r-.5*t,a-.5*t,t,t)).length>0},m=function(e,t,r,a,n,o){var i=e.queryInt(new c.Rectangle(r-.5*t,a-.5*t,t,t)),s={};if(void 0!==n&&(s[n]=!0),void 0!==o)for(var A=0;A<o.length;A++)s[o[A]]=!0;var u=i.length;for(A=0;A<u;A++)if(s[i[A].type])return!0;return!1};t.default=function(e,t,c,S,E,x,T){var _,I,M,L,b,w=t.game,R={seedKey:e,procedurallyCreated:!0,pos:new n.Vector(S,E),opos:{x:S,y:E}},P=Math.floor(38*c());switch(P){case 0:if(c()>.99)return y(x,300,S,E)?void T.add(e,!0):(w.destroyers.push(o.createDestroyer(t,R)),P);break;case 1:if(c()>.97)return y(x,50,S,E)?void T.add(e,!0):((_=w.enemies).push.apply(_,o.createEnemies(t,1,R)),P);break;case 2:if(c()>.98)return y(x,50,S,E)?void T.add(e,!0):((I=w.npcs).push.apply(I,h.createNPCs(t,1,R,-1)),P);break;case 3:case 4:case 6:case 7:case 8:case 9:case 10:break;case 11:if(c()>.98){if(y(x,2e3,S,E))return void T.add(e,!0);if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var O=a.default(t,400,new n.Vector(S,E),"SP "+e,null,null,R);return w.spacePorts.push(O),x.insert(O,0),d.getQuadTreesObj().Asteroids.query(O).map(function(e){e.radius>30&&(e.remove=!0)}),P}break;case 13:if(c()>.996){var C=2600*c()+256;if(y(x,2*C,S,E))return void T.add(e,!0);var G=r.createAsteroidBelt(c,S,E,C,2*Math.PI*c(),Math.PI*c()*.3,20+40*c(),90+120*c(),100+120*c());return x.insert(v.beltAsTreeItem(G.belt),0),t.game.asteroidBelts.push(G.belt),(M=t.game.asteroids).push.apply(M,G.asteroids),P}break;case 12:var N=Math.floor(300*c()+20);if(m(x,2.2*N,S,E,null,[15,11]))return;O=r.createSingleAsteroid(N,{x:S,y:E},{x:c()-.5,y:c()-.5},R);return w.asteroids.push(O),P;case 14:break;case 16:if(c()>.995){if(y(x,2800,S,E))return;if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var B=i.default(c,S,E,200);return(L=w.rockFormations).push.apply(L,B.rockFormations),w.rockFormationSystemRadius.push(B.rfSystem),B.rfSystem.seedKey=e,B.rfSystem.procedurallyCreated=!0,x.insert(B.rfSystem,0),P}break;case 17:break;case 18:if(c()>.994){if(y(x,300,S,E))return;(Y=u.default(t,1,S,E,80*c()+80,{x:S,y:E})[0]).seedKey=e,Y.procedurallyCreated=!0,w.spaceSquids.push(Y)}break;case 19:if(c()>.994){if(y(x,300,S,E))return;var F=A.default(t,1,S,E,8+8*c(),{x:S,y:E})[0];return F.seedKey=e,F.procedurallyCreated=!0,w.spaceSpiders.push(F),P}break;case 15:if(c()>.997&&0===w.ancients.length){if(y(x,7400,S,E))return void T.add(e,!0);if(m(x,7400,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var D=f.default(t);if(l.distanceBetweenVectors(D.pos,{x:S,y:E})<4e3)return;for(var V=p.CreateAncient(c,12,c()*Math.PI,S,E,e),X=d.getQuadTreesObj().queryTreesVec([18,0],{x:S,y:E},3700,3700,!1),H=X.length,k=0;k<H;k++){var W=X[k];W.remove=!0,T.add(W.seedKey,!0)}return w.ancients.push(V.ancient),(b=w.ancientBlocks).push.apply(b,V.blocks),p.populateAncientRooms(t,V.ancient),x.insert(v.ancientAsTreeItem(V.ancient),0),P}break;case 20:case 21:case 23:case 24:case 25:case 26:case 27:case 28:break;case 32:if(c()>.991){if(y(x,1200,S,E))return void T.add(e,!0);if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var U={fire:!0,guid:l.getGuid(),radius:100+600*c()+(c()>.2?100*c():20*c()),x:S,y:E,seedKey:e,type:32};return w.spaceFog.push(U),x.insert(v.spaceFogAsTreeItem(U),0),P}break;case 33:if(c()>.988){if(y(x,1200,S,E))return void T.add(e,!0);if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);U={fire:!1,guid:l.getGuid(),radius:100+600*c()+(c()>.2?100*c():20*c()),x:S,y:E,seedKey:e,type:33};if(w.spaceFog.push(U),c()>.9){var Y=u.default(t,1,S,E,80*c()+80,{x:S,y:E})[0];w.spaceSquids.push(Y)}return x.insert(v.spaceFogAsTreeItem(U),0),P}break;case 29:if(c()>.99){if(y(x,1200,S,E))return void T.add(e,!0);if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var z=g.createAnomaly(t,S,E,c()>.92,c()>.9?4:2,510,!0,!0,e);return x.insert(v.anomalyAsTreeItem(z,t),0),P}break;case 30:break;case 31:if(c()>.993){if(y(x,1200,S,E))return void T.add(e,!0);if(m(x,4500,S,E,-1,[29,31,30,32,33]))return void T.add(e,!0);var j=g.createAnomalyPair(t,S,E,c()*s.MAX_INT_RANGES.MAX_INT_32_QUART*(c()>.5?1:-1),c()*s.MAX_INT_RANGES.MAX_INT_32_QUART*(c()>.5?1:-1),e),q=v.anomalyPairAsTreeItem(j,t);return x.insert(q[0],0),x.insert(q[1],0),P}break;case 34:break;default:return}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(25),r(2),r(13),r(1)],void 0===(n=function(e,t,r,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAncientBlockSingle=void 0,t.createAncientBlockSingle=function(e,t,s,A,u,l){return void 0===s&&(s=8),void 0===A&&(A=0),void 0===u&&(u=!1),void 0===l&&(l={}),o(o(o({},n.setImovableDefaults(r.BallCreator(t.x,t.y,e,0))),{centerStone:u,isLV426:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:22,guid:a.getGuid(),staticPos:{x:t.x,y:t.y},minerals:0,radius:e,vel:new i.Vector(0,0),sides:s,angle:A,angleVel:.01*(1-2*Math.random()),life:9999999,oLife:9999999,acc:new i.Vector(0,0),opos:{x:t.x,y:t.y}}),l)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=void 0;var r=function(){function e(){this._hash={},this._sortedHash=[]}return e.prototype.add=function(e,t){this._hash[e]=t,this._sortedHash.push(e)},e.prototype.get=function(e){return this._hash[e]},e.prototype.remove=function(e){delete this._hash[e]},e.prototype.clear=function(){this._hash={},this._sortedHash=[]},e.prototype.size=function(){return this._sortedHash.length},e.prototype.hashSize=function(){var e=0;for(var t in this._hash)e++;return e},e.prototype.housekeeping=function(e,t){if(void 0===e&&(e=4e3),void 0===t&&(t=.1*e),this._sortedHash.length>e){for(var r=this._sortedHash.length-(e-t),a=this._sortedHash.splice(r,this._sortedHash.length),n=0;n<r;n++)delete this._hash[this._sortedHash[n]];this._sortedHash=a}},e}();t.Hash=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSeedFromGenResXY=t.getSeedFromCoord=void 0,t.getSeedFromCoord=function(e,t,r){var a=Math.floor(e/r)*r,n=Math.floor(t/r)*r;return a<<16|Math.abs(n)},t.getSeedFromGenResXY=function(e,t){return e<<16|Math.abs(t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkDiffed=void 0,t.checkDiffed=function(e){return!e.seedKey||!(!e.opos||!(Math.abs(e.opos.x-e.opos.x)>Math.max(.1*e.radius,30)||Math.abs(e.opos.y-e.opos.y)>Math.max(.1*e.radius,30)||e.life!==e.oLife))}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(17),r(1),r(8),r(36),r(10)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s,A,u,l={},c=t.x,d=t.y;switch(l.pos=new a.Vector(t.x,t.y),l.life=t.life,l.seedKey=t.oSeedK,l.opos={x:t.ox,y:t.oy},l.oLife=t.oLife,l.radius=t.radius,t.type){case 0:e.game.destroyers.push(n.createDestroyer(e,l));break;case 1:(s=e.game.enemies).push.apply(s,n.createEnemies(e,1,l));break;case 2:case 3:case 4:case 6:case 7:case 8:case 9:case 10:case 11:break;case 12:var p=r.createSingleAsteroid(t.radius,{x:c,y:d},{x:.1,y:.1},l);e.game.asteroids.push(p);break;case 14:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 34:break;case 35:var f=i.default(e);e.game.proximityMines.push(o.createProximityMine(new a.Vector(c,d),new a.Vector(0,0),null!==(A=null==f?void 0:f.guid)&&void 0!==A?A:0,null!==(u=null==f?void 0:f.type)&&void 0!==u?u:39,0,l));break;case 36:case 37:break;default:return}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(5)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createExistingSeedHash=void 0,t.createExistingSeedHash=function(e){var t={};r.___getQtreeList().map(function(e){for(var r=e.references.length,a=0;a<r;a++){var n=e.references[a];if(6===n.shape||3===n.shape)break;n.procedurallyCreated&&(t[n.seedKey]=!0)}});for(var a=e.game.anomlies,n=a.length,o=0;o<n;o++){var i=a[o];t[i.seedKey]=!0}var s=e.game.anomalyPairs;n=s.length;for(o=0;o<n;o++){var A=s[o];t[A.in.seedKey]=!0,t[A.out.seedKey]=!0}var u=e.game.asteroidBelts;n=u.length;for(o=0;o<n;o++){var l=u[o];t[l.seedkey]=!0}var c=e.game.ancients;n=c.length;for(o=0;o<n;o++){var d=c[o];t[d.seedKey]=!0}return t}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(38),r(193),r(37),r(42)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiplayerItems=void 0;var i=!0,s=null;window.addEventListener("keydown",function(e){if(i){var r=t.multiplayerItems[0].label;switch(e.keyCode){case n.Keys.BACKSPACE:case n.Keys.DELETE:if("ENTER_NAME_TO_JOIN"===r);else{var a=r.split("");a.pop(),r=a.join("")}return""==r&&(r="ENTER_NAME_TO_JOIN"),void(t.multiplayerItems[0].label=r);case n.Keys.RETURN:case n.Keys.LEFT:case n.Keys.RIGHT:case n.Keys.UP:case n.Keys.DOWN:return}if(e.keyCode>=65&&e.keyCode<=90||e.keyCode===n.Keys.FIRE){if(e.keyCode===n.Keys.FIRE&&" "===r.split("").pop())return;"ENTER_NAME_TO_JOIN"===r?r=e.key.toUpperCase():r+=e.key.toUpperCase()}t.multiplayerItems[0].label=r}}),t.multiplayerItems=[{label:"ENTER_NAME_TO_JOIN",action:function(e){var n=s||t.multiplayerItems[0].label;if("ENTER_NAME_TO_JOIN"!==n&&n&&n.length>1&&"  "!==n&&n.split(" ").join("").length>1)return a.clientCreateShip(n,window.innerWidth,window.innerHeight),i=!1,o.saveStr("multiplayer_save_name_key",n),e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}];setTimeout(function(){o.containsStr("multiplayer_save_name_key")&&(s=o.loadStr("multiplayer_save_name_key"),t.multiplayerItems[0].label="JOIN GAME")},0)}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";var r=this;Object.defineProperty(t,"__esModule",{value:!0}),t.serverInit=t.serverEvent=t.clientRecieveGameEvents=t.getNumClients=t.serverSendShipId=t.serverSend=t.serverSendHeartbeat=t.clientRecieve=t.clientRecieveShipId=t.clientRecieveHeartbeat=t.clientSend=t.clientCreateShip=t.initClient=t.VOLATILE_GAME_STATE_TRAFFIC=void 0;var a=null,n=null,o=0;t.VOLATILE_GAME_STATE_TRAFFIC=!0,t.initClient=function(){console.log("init client IO() "),a=r.io()},t.clientCreateShip=function(e,t,r){var n={playerName:e,SW:t,SH:r};a.emit("client_create_ship",n)},t.clientSend=function(e){a.emit("client",e)},t.clientRecieveHeartbeat=function(e){a.on("server_heartbeat",function(t){e(t)})},t.clientRecieveShipId=function(e){a.on("client_ship_id",function(t){e(t)})},t.clientRecieve=function(e){a.on("server",function(t){e(t)})},t.serverSendHeartbeat=function(e){t.VOLATILE_GAME_STATE_TRAFFIC?n.volatile.emit("server_heartbeat",e):n.emit("server_heartbeat",e)},t.serverSend=function(e){t.VOLATILE_GAME_STATE_TRAFFIC?n.volatile.emit("server",e):n.emit("server",e)},t.serverSendShipId=function(e){n.emit("client_ship_id",e)},t.getNumClients=function(){return o},t.clientRecieveGameEvents=function(e){a.on("server_event",function(t){e(t)})},t.serverEvent=function(e,t){e.emit("server_event",t)},t.serverInit=function(e,t,r,a,i){n=e,e.on("connection",function(e){o++,console.log("client connected",e.id),a(e.id,e,o),e.on("client",function(r){var a=t(r);a&&e.emit("server",a)}),e.on("client_create_ship",function(t){e.emit("client_ship_id",r(t,e.id))}),e.broadcast.emit("newclientconnect",{description:o+" clients connected!"}),e.on("disconnect",function(){i(e.id),console.log("client disconnect",e.id),o--,e.broadcast.emit("newclientconnect",{description:o+" clients connected!"})})})}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(120)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optionsItems=void 0,t.optionsItems=[{label:"OPTIONS",children:[{label:"STEER WITH MOUSE",action:function(e){return e.game.menuSettings.mouseControl=!e.game.menuSettings.mouseControl,{}},enabled:function(e){return e.game.menuSettings.mouseControl}},r.keybindingItems,{label:"GFX",children:[{label:"WOODEN PC MODE",action:function(e){return e.game.menuSettings.woodenPC=!e.game.menuSettings.woodenPC,{}},enabled:function(e){return e.game.menuSettings.woodenPC}},{label:"NOISE",action:function(e){return e.game.menuSettings.noise=!e.game.menuSettings.noise,{}},enabled:function(e){return e.game.menuSettings.noise}},{label:"MOTION BLUR (BETA)",action:function(e){return e.game.menuSettings.motionBlur=!e.game.menuSettings.motionBlur,{}},enabled:function(e){return e.game.menuSettings.motionBlur}},{label:"SPACEDUST",action:function(e){return e.game.menuSettings.spacedust=!e.game.menuSettings.spacedust,{}},enabled:function(e){return e.game.menuSettings.spacedust}},{label:"RAYCASTING",action:function(e){return e.game.menuSettings.raycasting=!e.game.menuSettings.raycasting,{}},enabled:function(e){return e.game.menuSettings.raycasting}},{label:"LOS SHADOWS",action:function(e){return e.game.menuSettings.losShadows=!e.game.menuSettings.losShadows,{}},enabled:function(e){return e.game.menuSettings.losShadows}},{label:"GLOW",action:function(e){return e.game.menuSettings.glow=!e.game.menuSettings.glow,{}},enabled:function(e){return e.game.menuSettings.glow}},{label:"GLOW PARTICLES",action:function(e){return e.game.menuSettings.glowParticles=!e.game.menuSettings.glowParticles,{}},enabled:function(e){return e.game.menuSettings.glowParticles}},{label:"REFLECTIONS",action:function(e){return e.game.menuSettings.reflections=!e.game.menuSettings.reflections,{}},enabled:function(e){return e.game.menuSettings.reflections}},{label:"ANTIALIASING (RELOAD REQUIRED)",action:function(e){return e.game.menuSettings.antialiasing=!e.game.menuSettings.antialiasing,setTimeout(function(){window.location.reload()},500),{}},enabled:function(e){return e.game.menuSettings.antialiasing}},{label:"TRANSFORM FEEDBACK",action:function(e){return e.game.menuSettings.transformFeedback=!e.game.menuSettings.transformFeedback,{}},enabled:function(e){return e.game.menuSettings.transformFeedback}},{label:"PARTICLES",action:function(e){return e.game.menuSettings.particles=!e.game.menuSettings.particles,{}},enabled:function(e){return e.game.menuSettings.particles}}]},{label:"HUD",children:[{label:"MINIMAP",action:function(e){return e.game.menuSettings.minimap=!e.game.menuSettings.minimap,{}},enabled:function(e){return e.game.menuSettings.minimap}},{label:"FLIGHT INSTRUMENTS",action:function(e){return e.game.menuSettings.instruments=!e.game.menuSettings.instruments,{}},enabled:function(e){return e.game.menuSettings.instruments}},{label:"LAZER SIGHT",action:function(e){return e.game.menuSettings.lazerSight=!e.game.menuSettings.lazerSight,{}},enabled:function(e){return e.game.menuSettings.lazerSight}},{label:"SHOW CLOSE ENTITIES",action:function(e){return e.game.menuSettings.showCloseItems=!e.game.menuSettings.showCloseItems,{}},enabled:function(e){return e.game.menuSettings.showCloseItems}},{label:"SHOW SIGHT LINES",action:function(e){return e.game.menuSettings.showSightLines=!e.game.menuSettings.showSightLines,{}},enabled:function(e){return e.game.menuSettings.showSightLines}},{label:"SHIP STATUS",action:function(e){return e.game.menuSettings.shipStatus=!e.game.menuSettings.shipStatus,{}},enabled:function(e){return e.game.menuSettings.shipStatus}},{label:"SHOW OBJECT DATA",action:function(e){return e.game.menuSettings.objectData=!e.game.menuSettings.objectData,{}},enabled:function(e){return e.game.menuSettings.objectData}},{label:"KEYBINDING HINT",action:function(e){return e.game.menuSettings.keybindingHint=!e.game.menuSettings.keybindingHint,{}},enabled:function(e){return e.game.menuSettings.keybindingHint}},{label:"GAME CLOCK",action:function(e){return e.game.menuSettings.gameClock=!e.game.menuSettings.gameClock,{}},enabled:function(e){return e.game.menuSettings.gameClock}},{label:"HELP FROM COMMANDER",action:function(e){return e.game.menuSettings.commanderHelp=!e.game.menuSettings.commanderHelp,{}},enabled:function(e){return e.game.menuSettings.commanderHelp}}]},{label:"AUDIO",children:[{label:"MUSIC",action:function(e){return e.game.menuSettings.music=!e.game.menuSettings.music,{}},enabled:function(e){return e.game.menuSettings.music}},{label:"SFX",action:function(e){return e.game.menuSettings.sfx=!e.game.menuSettings.sfx,{}},enabled:function(e){return e.game.menuSettings.sfx}}]}]}]}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(38),r(196)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugItems=void 0,t.debugItems=[{label:"DEV UI",children:o([{label:"GUI DEBUG",children:[{label:"AABBs",action:function(e){return e.game.menuSettings.debugItems.aabb=!e.game.menuSettings.debugItems.aabb,{}},enabled:function(e){return e.game.menuSettings.debugItems.aabb}},{label:"FORCES",action:function(e){return e.game.menuSettings.debugItems.forces=!e.game.menuSettings.debugItems.forces,{}},enabled:function(e){return e.game.menuSettings.debugItems.forces}}]},{label:"NETWORK LOCATIONS",action:function(e){return e.game.menuSettings.networkLocaations=!e.game.menuSettings.networkLocaations,{}},enabled:function(e){return e.game.menuSettings.networkLocaations}},{label:"EXTENSIVE UI",action:function(e){return e.game.menuSettings.extensiveUI=!e.game.menuSettings.extensiveUI,setTimeout(function(){e.game.debug=e.game.menuSettings.extensiveUI?{}:null},0),{}},enabled:function(e){return e.game.menuSettings.extensiveUI}},{label:"FPS",action:function(e){return e.game.menuSettings.fpsOnly=!e.game.menuSettings.fpsOnly,e.game.menuSettings.fps&&(e.game.menuSettings.fps=!1,e.game.menuSettings.keybindingHint=!1),{}},enabled:function(e){return e.game.menuSettings.fpsOnly}},{label:"FPS MEETERS",action:function(e){return e.game.menuSettings.fps=!e.game.menuSettings.fps,e.game.menuSettings.fpsOnly&&(e.game.menuSettings.fpsOnly=!1,e.game.menuSettings.keybindingHint=!1),{}},enabled:function(e){return e.game.menuSettings.fps}},{label:"HEAP",action:function(e){return e.game.menuSettings.heap=!e.game.menuSettings.heap,{}},enabled:function(e){return e.game.menuSettings.heap}},{label:"FPS 3D BARS",action:function(e){return e.game.menuSettings.fps3dBars=!e.game.menuSettings.fps3dBars,e.game.menuSettings.fps3dBars&&(e.game.menuSettings.fps3dGrid=!1),{}},enabled:function(e){return e.game.menuSettings.fps3dBars}},{label:"FPS 3D GRID",action:function(e){return e.game.menuSettings.fps3dGrid=!e.game.menuSettings.fps3dGrid,e.game.menuSettings.fps3dGrid&&(e.game.menuSettings.fps3dBars=!1),{}},enabled:function(e){return e.game.menuSettings.fps3dGrid}},{label:"ON SCREEN LOGGING",action:function(e){return e.game.menuSettings.onScreenLogging=!e.game.menuSettings.onScreenLogging,{}},enabled:function(e){return e.game.menuSettings.onScreenLogging}},{label:"LEVELS",children:[{label:"OLD SURVIVAL LEVEL",action:function(e){return e.game.targetLevel=15,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"THE CONVOY",action:function(e){return e.game.targetLevel=17,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SURVIVAL",action:function(e){return e.game.targetLevel=15,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"BE THE SNAKE",action:function(e){return e.game.targetLevel=18,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}]},{label:"LEVEL EDITOR",action:function(e){return e.game.targetLevel=12,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}],a.testItems)}]}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(38)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testItems=void 0;var a=function(e,t){return{label:e,action:function(e){return e.game.targetLevel=t,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}};t.testItems=[{label:"TESTS",children:[{label:"DYNAMIC COLLISION",action:function(e){return e.game.targetLevel=1,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"STATIC COLLISSION",action:function(e){return e.game.targetLevel=0,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SNAKES",action:function(e){return e.game.targetLevel=2,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SQUIDS",action:function(e){return e.game.targetLevel=5,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SNAKE <FOLLOW>",action:function(e){return e.game.targetLevel=3,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE BATS",action:function(e){return e.game.targetLevel=3,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SPIDER",action:function(e){return e.game.targetLevel=6,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"ROCK FORMATIONS",action:function(e){return e.game.targetLevel=7,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACEDUST PERF.",action:function(e){return e.game.targetLevel=19,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},a("PLAYGROUND",8),a("NEURAL NETWORK TRAINING",9),a("NEURAL NETWORK EVOLUTION",10)]}]}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(42),r(8),r(8),r(10)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shipItems=void 0;var i=function(){return"CHROME <"+n.ShipColorStrings[n.getCurrentColorIndex()]+">"};t.shipItems=[{label:"SHIP",children:[{label:i(),action:function(e){n.increaseColorIndex(),r.saveInt("storage_ship_color_index",n.getCurrentColorIndex()),t.shipItems[0].children[0].label=i();var a=o.default(e);return a&&(a.colorIndex=n.getCurrentColorIndex()),{}}}]}],setTimeout(function(){var e=r.loadInt("storage_ship_color_index")||0;a.setColorIndex(e),t.shipItems[0].children[0].label=i()},0)}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(0),r(0),r(4)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[],A=0,u=function(e,t,r,a,n,o,i){var s=.5*n;i.push(e-s,t,r,e-s,a,r,e+s,t,r,e+s,a,r,e-s,t,o,e-s,a,o,e+s,t,o,e+s,a,o,e-s,t,r,e-s,t,o,e+s,t,r,e+s,t,o,e-s,a,r,e-s,a,o,e+s,a,r,e+s,a,o,e-s,t,r,e+s,t,r,e-s,t,o,e+s,t,o,e-s,a,r,e+s,a,r,e-s,a,o,e+s,a,o)};t.default=function(e){e.stepMS;var t=e.game,l=e.SW,c=e.SH,d=e.gl;if(t.menuSettings.fps3dGrid||t.menuSettings.fps3dBars){i=[];t.resW;var p=o([0],t.performance.engine.map(function(e){return e.time}),t.performance.gui.map(function(e){return e.time}),[0]);A=p.length,s.push.apply(s,p),s.length>100*A&&(s=s.splice(A,100*A));for(var f=40,h=s.length,v=0,g=t.menuSettings.fps3dBars,y=0;y<h;y++){var m=y%A*f+0+.135*l,S=.72*c,E=2*Math.floor(y/A)*-.05-1;g?u(m,S,E,S-48*s[v],32,2*(Math.floor(y/A)-.8)*-.05-1,i):(i.push(m+60,S-48*s[v+1],E,m+20,S-48*s[v],E),y>=A&&i.push(m+20,S-48*s[v],E,m+20,S-48*s[v-A],2*(Math.floor(y/A)-1)*-.05-1)),v++}if(!g){m=A*f+0+.135*l,S=.72*c;i.push(m+20,S,-1,m+20,S,2*Math.floor(h/A)*-.05-1)}i.length>0&&(r.default(a.GLctx.Vertices3d,d),n.drawColor(i,d,.8,.1,.1,1,d.LINES))}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(9),r(101),r(3)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n.default.create("SPACEPORT WEAPONS ONLINE",i.TEXT_SIZE_SMALL,"g"),A=n.default.create("SPACEPORT WEAPONS OFFLINE",i.TEXT_SIZE_SMALL,"r"),u=n.default.create("ENTERED SPACEPORT",i.TEXT_SIZE_SMALL,"w"),l=n.default.create("RELOADING WEAPONS, REPAIRING HULL...",i.TEXT_SIZE_SMALL,"g"),c=n.default.create("SHIP REPAIRS COMPLETED. WEAPONS RELOADED.",i.TEXT_SIZE_SMALL,"g"),d=n.default.create("LEFT SPACEPORT - SHIP WEAPONS ENABLED",i.TEXT_SIZE_SMALL,"g");t.default=function(e){for(var t=e.gl,p=e.game,f=e.game.notifications,h=f.length,v=0,g=0;g<h;g++){var y=f[g];if(!(y.onlyForGuid&&y.onlyForGuid!==p.playerGuid&&p.playerGuid>-1)&&!(p.currentLevel<=14&&63!==y.type)){var m=null;switch(y.type){case 51:m=o.BONUS_BUFFERS.BUFFER_EB;break;case 45:m=o.BONUS_BUFFERS.BUFFER_LIFE;break;case 47:m=o.BONUS_BUFFERS.BUFFER_ROCKET_X1;break;case 48:m=o.BONUS_BUFFERS.BUFFER_ROCKET_X2;break;case 49:m=o.BONUS_BUFFERS.BUFFER_ROCKET_X3;break;case 50:m=o.BONUS_BUFFERS.BUFFER_MISSILE_X6;break;case 44:m=o.BONUS_BUFFERS.BUFFER_SHIELD;break;case 52:m=o.BONUS_BUFFERS.BUFFER_BOOSTERS;break;case 53:m=o.BONUS_BUFFERS.BUFFER_WEAPON_UPGRADE;break;case 54:m=o.BONUS_BUFFERS.BUFFER_DRONE;break;case 55:m=o.BONUS_BUFFERS.BUFFER_AUTOPILOT;break;case 56:m=o.BONUS_BUFFERS.BUFFER_HOMINGBULLETS;break;case 57:m=o.BONUS_BUFFERS.BUFFER_ULTRABRIGHT;break;case 46:m=o.BONUS_BUFFERS.BUFFER_PROXIMITY_MINES_X3;break;case 58:m=o.BONUS_BUFFERS.BUFFER_FLAME;break;case 63:m=n.default.create(y.message||"err",i.TEXT_SIZE_SMALL,"y");break;case 64:m=n.default.create(y.message||"err",i.TEXT_SIZE_SMALL,"r");break;case 65:m=n.default.create(y.message||"err",i.TEXT_SIZE_SMALL,"y");break;case 68:m=u;break;case 67:m=s;break;case 66:m=A;break;case 69:m=d;break;case 70:m=l;break;case 71:m=c;break;default:m=o.BONUS_BUFFERS.BUFFER_UNKNOWN}n.default.addGL(t,r.default(y.life<20?a.GLctx.TextureDist:a.GLctx.Texture,t),m,.5*p.resW-.5*m.w,.8*p.resH-v*(1.1*i.TEXT_SIZE_SMALL),e),v++}}return"notifications"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(4),r(7),r(69)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],A=[];t.default=function(e){var t=e.gl,u=(e.game,e.SX),l=e.SY,c=e.SW,d=e.SH;s=[],A=[];for(var p=new o.Rectangle(u-100,l-100,c+200,d+200),f=i.getParasiteTree().queryInt(p),h=f.length,v=0;v<h;v++){var g=f[v],y=g.segments,m=y.length;if(g.target){var S=g.segments[g.segments.length-1];n.line2Poly(S.pos.x-u,S.pos.y-l,g.target.ship.pos.x-u,g.target.ship.pos.y-l,A)}for(var E=1;E<m;E++){var x=y[E],T=y[E-1];s.push(x.pos.x-u,x.pos.y-l,T.pos.x-u,T.pos.y-l)}}return s.length>0&&(r.default(a.GLctx.Vertices,t),n.drawColor(s,t,.9,.15,.15,1,t.LINES),n.drawColor(A,t,0,1,0,1)),"parasite"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(37),r(3),r(120),r(45),r(10)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=0;t.default=function(e){var t=e.game,l=e.SW,c=e.SH,d=e.gl,p=e.WW,f=e.WH;if(!t.menuSettings.keybindingHint||t.currentLevel<=14||t.levelEditor)u=0;else{var h=A.default(e);if(h&&!(h.life<1)){h.cloaked&&(u=1);var v=l/t.resW,g=h.damageTaken||!t.IS_PROCEDURAL&&s.default(h,p,f),y=[];for(var m in n.inGameKeyCodes.keys){var S=i.IN_GAME_KEY_BINDING_TRANSLATIONS[n.Keys[m]],E=i.createKeyBindingLabel(h.cloaked?"PRESS TO UNCLOAK":m,S);y.push(r.default.create(E,o.TEXT_SIZE_SMALL,"w"))}for(var x=a.default(g?a.GLctx.TextureDist:a.GLctx.Texture,d),T=y.length,_=Math.min(u,T),I=0;I<_;I++)I===Math.floor(u)&&(x=a.default(a.GLctx.TextureDist,d)),r.default.addGL(d,x,y[I],(g?5+10*Math.random():10)*v,.3*c+I*(1.2*o.TEXT_SIZE_SMALL)*v,e);return u<T+2?u+=.14:t.clock<6e4&&r.default.addGL(d,x,r.default.create("ESC/options/hud/keybinding hint",o.TEXT_SIZE_SMALL,"w"),(g?5+10*Math.random():10)*v,.3*c+(_+1)*(1.2*o.TEXT_SIZE_SMALL)*v,e),"keybindings"}u=0}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(7),r(21),r(4),r(10)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[],u=0,l=0,c=0;t.default=function(e){var t=e.gl,d=e.game,p=e.SX,f=e.SY,h=e.SW,v=e.SH;if(d.menuSettings.spacedust){A=[];for(var g=o.GetSpaceDustTree(),y=(new n.Rectangle(p,f,h,v),g.references),m=y.length,S=0;S<m;S++){var E=y[S];A.push(E.pos.x-p,E.pos.y-f,E.pos.x+2-p,E.pos.y-f,E.pos.x-p,E.pos.y+2-f)}if(A.length>0)s.default(e)?(u=.3,l=.15,c=.15):(u<1&&(u+=.01),l>0&&(l-=.01),c>0&&(c-=.01)),r.default(a.GLctx.Vertices,t),i.drawColor(A,t,u,l,c,1,t.POINTS);return"spacedust"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(7),r(1),r(6),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=[],d=[],p=new s.Vector(0,0),f=new s.Vector(0,0);t.default=function(e){var t=e.SX,s=e.SY,h=e.SW,v=e.SH,g=e.gl,y=u.getQuadTreesObj();if(y&&y.SpacePorts){var m=new i.Rectangle(t,s,h,v),S=y.SpacePorts.queryInt(m);c=[],l=[],d=[];for(var E=0;E<S.length;E++){for(var x=S[E],T=x.cannons,_=0;_<T.length;_++){var I=T[_],M=I.pos.x,L=I.pos.y;r.blockCirclePoly(I.sides,I.radius,M,L,I.angle,l,v,t,s,2*x.wallThickness),I.isCannon&&(p.set(2*x.wallThickness,0),A.rotateVector(p,I.angle,p),o.line2Poly(M-t,L-s,M+p.x-t,L+p.y-s,l,.2*x.wallThickness));for(var b=I.damages,w=b.length,R=0;R<w;R++){var P=b[R];A.rotateVector(P,I.angle,f);var O=M+f.x-t,C=L+f.y-s;f.mult(.8);var G=M+f.x-t,N=L+f.y-s;c.push(O,C,G,N)}}r.addToColorMap(d,l,0,0,0,1)}if(l.length>0){g.blendFunc(g.DST_COLOR,g.ZERO);var B=a.default(n.GLctx.Vertices,g);o.drawColorMap(d,l,B,g),g.blendFunc(g.ONE,g.ONE),o.drawColor(c,g,.25,.25,.25,1,g.LINES)}return"spaceport"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(205),r(10),r(1),r(4),r(0),r(0),r(45),r(3),r(3)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=[],d=[],p=new n.Vector(0,0);t.default=function(e){e.frame;var t=e.WW,n=e.WH,f=(e.SH,e.SX,e.SY,e.gl),h=e.game,v=h.currentResW,g=a.default(e);if(g&&!(h.currentLevel<=14)&&h.menuSettings.shipStatus&&!h.levelEditor){p.set(g.vel.x,g.vel.y);var y=[{str:"power",val:g.life,max:u.SHIP_MAX_LIFE,allowOverFlow:!1},{str:"bullets",val:g.availableBullets,max:u.SHIP_MAX_BULLETS,allowOverFlow:!1},{str:"rockets",val:g.availableRockets,max:l.SHIP_MAX_ROCKETS,allowOverFlow:!1},{str:"missiles",val:g.availableMissiles,max:l.SHIP_MAX_MISSILES,allowOverFlow:!1},{str:"boost",val:g.boost,max:100,allowOverFlow:!1},{str:"rays",val:g.availableElectroBastardRays,max:l.SHIP_MAX_ELECTROBASTARDRAYS,allowOverFlow:!1},{str:"speed",val:p.getLength(),max:10,allowOverFlow:!0},{str:"homing",val:g.homingBullets,max:l.SHIP_MAX_HOMING_BULLETS,allowOverFlow:!1},{str:"shield",val:g.shields,max:l.SHIP_MAX_SHIELD,allowOverFlow:!1},{str:"flame",val:g.availableFlames,max:u.SHIP_MAX_FLAMES,allowOverFlow:!1}],m=y.length,S=.5*(v-110*m);c=[],d=[];for(var E=0;E<m;E++){var x=y[E],T=[],_=[];r.AnalogueInstrument(S,30,100,60,x.max,g.cloaked?0:x.val<1?0:x.val,x.allowOverFlow,x.str,e,g.guid+E+1,_,T,g.damageTaken||!h.IS_PROCEDURAL&&A.default(g,t,n),!g.cloaked&&x.val>0,0===E),T.length>0&&(c.push(T),d.push(_)),S+=110}if(c.length>0){var I=o.unitePolyColorMaps(c,d);o.drawColorMap(I.colorMap,I.polys,i.default(s.GLctx.Vertices,f),f)}return"PlayerstatsAnalogue"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(1),r(6),r(4),r(0),r(9),r(3),r(28)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalogueInstrument=void 0;var l={},c=new a.Vector(0,0),d=new a.Vector(0,0),p=[],f=[],h=0;t.AnalogueInstrument=function(e,t,v,g,y,m,S,E,x,T,_,I,M,L,b){void 0===M&&(M=!1),void 0===L&&(L=!0),void 0===b&&(b=!0);var w=x.gl,R=x.SX,P=x.SY;x.game.currentLevel<=14&&(h=0,(l[T]||{}).localPower=0);var O=e+.5*v,C=t+.5*g;l[T]||function(e){l[e]={currentValue:0,actualValue:0,actualOverhoot:0,localPower:0}}(T);var G=l[T],N=G.currentValue,B=G.actualValue,F=G.actualOverhoot,D=G.localPower;if(b&&(L?(h+=.01)>1&&(h=1):(h-=.01)<0&&(h=0,M=!1)),L?(D+=.01)>1&&(D=1):(D-=.01)<0&&(D=0,M=!1),!(D<=0)){M&&(e+=2*(Math.random()-.5),t+=2*(Math.random()-.5)),M||(B=m);var V=S?B:Math.min(y,B);h<1&&(V=0),M?(N--,S=!0):N+=.05*(V-N),(N>y||N<0)&&(S=!0),0===p.length&&function(e,t,r,o,i){for(var s=r-t,A=new a.Vector(0,0),u=0;u<e;u++){A.set(0,-o);var l=s*(u/e)+t;n.rotateVector(A,l,A),A.toVertices,p.push(A.toPoint()),A.set(0,-i),n.rotateVector(A,l,A),f.push(A.toPoint())}}(7,-1,1.2,.8*g,.7*g);var X=e+.5*v,H=t+.8*g,k=-.1*g,W=k+-.4*g*n.map(D,.8,.95,0,1,!0);c.set(0,W),d.set(0,k);var U=e+.5*v,Y=t+.5*g,z=0;z=S?N*(.9*Math.PI)/y-.45*Math.PI:n.map(N,0,y,0,.9*Math.PI)-.45*Math.PI,n.rotateVector(c,z,c),n.rotateVector(d,z,d);for(var j=p.length*n.map(D,.8,1,0,1,!1),q=0;q<j;q++){var K=p[q],Z=f[q];r.line2Poly(K.x+X,K.y+H,Z.x+X,Z.y+H,_,1)}o.addToColorMap(I,_,.2,.2,.2,1,!0);var Q=s.default.create(E,A.TEXT_SIZE_SMALL,"g");r.line2Poly(U+d.x,Y+d.y,U+c.x,Y+c.y,_,1.5);var J=h<1?n.map(h,.8,1,0,1,!0):1,$=D<1?n.map(D,.8,1,0,1,!0):1;o.addToColorMap(I,_,0,.7*J,0,1,!0);var ee=Math.random()>.999;D>.85&&s.default.addGL(w,i.default(D<1||ee?i.GLctx.TextureDist:i.GLctx.Texture,w),Q,e+.5*v-.5*Q.w,t+.5*g,x),u.Glow({x:O+R,y:C+P},(M?.05*Math.random()+.05:ee?.01:.1)*$,_,x,0,.3,0,1),l[T]={currentValue:N,actualOverhoot:F,actualValue:B,localPower:D}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(7),r(5)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],A=[];t.default=function(e){var t=e.SW,u=e.SH,l=e.SX,c=e.SY,d=e.gl;s=[],A=[];var p=new o.Rectangle(l,c,t,u),f=i.getQuadTreesObj();if(f.Bullets){for(var h=f.Bullets.queryInt(p),v=h.length,g=[],y=0;y<v;y++){if(!(T=h[y]).remove)if(T.homing)g.push(T);else{var m=0|T.pos.x,S=0|T.pos.y;if(m-l<t&&S-c<u&&m-l>0&&S-c>0){var E=0|T.vel.x,x=0|T.vel.y;s.push(m-l,S-c,m+(0==E?1:E)-l,S+(0==x?1:x)-c)}}}r.addToColorMap(A,s,1,1,0,1),v=g.length;for(y=0;y<v;y++){var T;m=0|(T=g[y]).pos.x,S=0|T.pos.y;if(m-l<t&&S-c<u&&m-l>0&&S-c>0){E=0|T.vel.x,x=0|T.vel.y;s.push(m-l,S-c,m+(0==E?1:E)-l,S+(0==x?1:x)-c)}}if(r.addToColorMap(A,s,1,0,0,1),s.length>0){var _=a.default(n.GLctx.Vertices,d);r.drawColorMap(A,s,_,d,d.LINES)}return"bullets"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(66),r(4),r(7),r(6),r(5),r(18)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game,A=e.gl,u=(e.WW,e.WH,e.SX),l=e.SY,c=e.SW,d=e.SH,p=e.step,f=i.getQuadTreesObj();if(f.SpacePortCannons)for(var h=new n.Rectangle(u,l,c,d),v=f.SpacePortCannons.queryInt(h),g=0;g<v.length;g++){var y=v[g];y.life<1&&(r.default(e,5,70+70*o.RandomStepBased(p,y.guid),y.pos.x,y.pos.y,250,0,50,.3,"Enable",128,1),r.default(e,5,70+70*o.RandomStepBased(p,y.guid),y.pos.x,y.pos.y,255,200,150,.3,"Enable",128,1))}var m=s.getAllAnomalies(e.game);for(g=0;g<m.length;g++){var S=m[g];r.default(e,220,350,S.pos.x,S.pos.y,50,0,0,.1,"Enable",512),r.default(e,120,159,S.pos.x,S.pos.y,255,255,255,.7,"Enable",256)}var E=t.spaceFog,x=E.length;for(g=0;g<x;g++){var T=E[g];if(a.onStage(e,T.x,T.y,1200+T.radius)){var _=T.x,I=T.y;T.fire?(r.default(e,T.radius,300*o.RandomStepBased(p,T.guid),_,I,100,200,100,.3,"Enable",512),A.blendFunc(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA),r.default(e,.1*T.radius,250,_,I,0,0,0,.9,"Disable",256),A.blendFunc(A.ONE,A.ONE),r.default(e,30,100*o.RandomStepBased(p,T.guid)+100,_,I,100,200,100,.3,"Disable",512)):(r.default(e,T.radius,128,_,I,255,0,0,.9,"Disable",32),A.blendFunc(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA),r.default(e,.66*T.radius,600,_,I,0,0,0,.9,"Disable",512),r.default(e,.66*T.radius,200,_,I,100,100,100,.3,"Disable",512),A.blendFunc(A.ONE,A.ONE),r.default(e,.2*T.radius,12,_,I,255,0,0,.4,"Disable",8))}}return"fog"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(89),r(7),r(4),r(1),r(110),r(67),r(6)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=new i.Vector(0,0),d=new i.Vector(0,0),p=new i.Vector(0,0),f=new i.Vector(0,0);new i.Vector(0,0),new i.Vector(0,0),new i.Vector(0,0),new i.Vector(0,0);t.default=function(e){var t=e.SW,i=e.SH,h=e.SX,v=e.SY,g=e.gl,y=(e.game,e.step);l=[];for(var m=a.getSpaceBatTree().queryInt(new n.Rectangle(h,v,t,i)),S=m.length,E=s.createRadialGradientTexture(75,5,5,.15,30,"Enable",!0),x=s.createRadialGradientTexture(175,5,5,.35,30,"Enable",!0),T=0;T<S;T++){var _=m[T],I=_.vel.getAngle();c.x=20,c.y=0,c.setAngle(I+Math.PI),f.x=10,f.y=0,f.setAngle(I),d.x=6,d.y=0,d.setAngle(I+.5*Math.PI),p.x=6,p.y=0,p.setAngle(I-.5*Math.PI),l.push(_.pos.x+f.x-h,_.pos.y+f.y-v,_.pos.x+d.x-h,_.pos.y+d.y-v,_.pos.x+p.x-h,_.pos.y+p.y-v,_.pos.x+c.x-h,_.pos.y+c.y-v,_.pos.x+d.x-h,_.pos.y+d.y-v,_.pos.x+p.x-h,_.pos.y+p.y-v),o.line2Poly(_.pos.x-h,_.pos.y-v,_.pos.x+1.3*c.x-h,_.pos.y+1.3*c.y-v,l,2),A.default.addGL(g,r.default(r.GLctx.Texture,g),u.RandomStepBased(y,_.guid)>.8?x:E,_.pos.x+_.vel.x-h,_.pos.y+_.vel.y-v,e,1,1)}return g.blendFunc(g.DST_COLOR,g.ZERO),l.length>0&&(r.default(r.GLctx.Vertices,g),o.drawColor(l,g,0,0,0,1)),g.blendFunc(g.ONE,g.ONE),"spacebats"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(10),r(3),r(6)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[],u=[],l=0,c=1,d=0;t.default=function(e){A=[],u=[];e.game;var t=e.gl,p=e.SH,f=e.stepMS,h=e.SW,v=e.step;if(o.default(e)?(d-=5e-4*f*3*v,l=0):(d+=5e-4*f*v,l+=f),d>1?d=1:d<0&&(d=0,c=1),d>0){r.fillPoly(0,0,0,h,p,u);var g=s.map(l,.9*i.LEVEL_COMPLETION_TIMEOUT,i.LEVEL_COMPLETION_TIMEOUT,.1,.5,!0);r.fillPoly(-1,0,0,h,p*g*d,A),r.fillPoly(-1,0,p-p*g*d,h,p*g,A)}return A.length>0&&(a.default(n.GLctx.Vertices,t),t.blendFunc(t.DST_COLOR,t.ZERO),l>.7*i.LEVEL_COMPLETION_TIMEOUT&&(c>0&&(c-=.01),r.drawColor(u,t,1,c,c,1)),r.drawColor(A,t,0,0,0,1),t.blendFunc(t.ONE,t.ONE)),"cinematic"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(14)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s={},A=[];t.default=function(e){i=[];e.game;for(var t=e.gl,u=e.SH,l=e.SW,c=o.getForce2Tree().queryInt(e.game.screen.rect),d=0;d<c.length;d++){var p=c[d];if(1===p.type&&p.radius>200&&!s[p.pos.x+"_"+p.pos.y]){s[p.pos.x+"_"+p.pos.y]=!0,A.push({x:p.pos.x,y:p.pos.y}),r.fillPoly(-1,0,0,l,u,i);break}}if(i.length>0){a.default(n.GLctx.Vertices,t);r.drawColor(i,t,.25,.25,.25,.25)}else if(A.length>30){var f=A.shift();delete s[f.x+"_"+f.y]}return"highlight"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(63),r(7),r(63),r(6),r(3),r(5),r(28)],void 0===(n=function(e,t,r,a,n,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){e.game;var t=e.SX,l=e.SY,c=e.SW,d=e.SH,p=(e.gl,A.getQuadTreesObj());if(p.Player){for(var f=new a.Rectangle(t,l,c,d),h=o(p.Player.queryInt(f),p.Drones.queryInt(f),p.Npcs.queryInt(f),p.SpacePortCannons.queryInt(f)),v=h.length,g=0;g<v;g++){var y,m=h[g];if(20===m.type){if(m.life<.2*s.SPACEPORT_START_LIFE)(y=i.map(m.life,0,.2*s.SPACEPORT_START_LIFE,.2,1,!0,!0))>.2&&r.default(e,m.pos,12*y,800*y)}else(y=i.map(m.life,0,s.PLAYER_LIFE_LOW_THRESHOLD,.2,1,!0,!0))>.2&&(r.default(e,m.pos,5*y,150*y),Math.random()>.9&&u.Glow(m.pos,.02*Math.random(),[],e,1,1,1,Math.random()))}return n.drawSparks(e),"Sparks"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(4),r(1),r(4)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[],A=new n.Vector(0,0);t.default=function(e){e.ctx,e.WW,e.WH;var t=e.game,n=(e.SW,e.SH,e.SX),u=e.SY,l=e.gl;s=[],i=[];for(var c=0;c<t.spaceSpiders.length;c++){var d=t.spaceSpiders[c];if(o.onStage(e,d.pos.x,d.pos.y,10*d.radius)){var p=d.pos.x-n,f=d.pos.y-u,h=d.angle,v=d.radius;a.blockCirclePoly(8,v,p,f,h,s,null,null,null,v),A.set(v,0),A.setAngle(h),a.blockCirclePoly(8,.8*v,p+A.x,f+A.y,h,s,null,null,null,.8*v),A.mult(-.8),a.blockCirclePoly(8,.6*v,p+A.x,f+A.y,h,s,null,null,null,.6*v),A.mult(2),a.blockCirclePoly(8,.5*v,p+A.x,f+A.y,h,s,null,null,null,.5*v);for(var g=0;g<d.legs.length;g++)for(var y=d.legs[g],m=0;m<y.bones.length;m++){var S=y.bones[m],E=y.bones[m-1];if(m>0){var x=(y.bones.length-m)/y.bones.length*2,T=S.pos.x-n,_=S.pos.y-u,I=E.pos.x-n,M=E.pos.y-u;m>1&&i.push(T,_,I,M),a.line2PolyCone(T,_,I,M,s,.1*v*x,.25*v*x)}}}}return s.length>0&&(l.disable(l.BLEND),r.default(r.GLctx.Vertices,l),a.drawColor(s,l,.05,.05,.05,1),a.drawColor(i,l,.18,.02,.02,1,l.LINES),l.enable(l.BLEND)),"space spiders"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(7),r(5),r(2),r(118)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=[],d=[],p=[],f=[],h=[],v=2*Math.PI,g=function(e,t,r,a,n){void 0===a&&(a=e.radius),void 0===n&&(n=1);for(var o=e.sides,i=e.angle,s=e.pos.x-t,d=e.pos.y-r,f=e.sides,h=u.mulberry32(e.guid),g=s+Math.cos(v*(f/o)+i)*a>>0,y=d+Math.sin(v*(f/o)+i)*a>>0,m=[c,l,p],S=0,E=0;f>-1;--f){if(0===S&&E>.33*o||1===S&&E>.66*o){S++;var x=m.shift();m.push(x)}E++;h();for(var T=s+Math.cos(v*(f/o)+i)*a>>0,_=d+Math.sin(v*(f/o)+i)*a>>0,I=.6*h()+.2,M=[I,1],L={x:g,y:y},b=0;b<2;b++)if(!(1!==n&&h()>n)){var w={x:L.x,y:L.y},R=A.midpoint({x:g,y:y},{x:T,y:_},M[b]);L=R;var P=A.midpoint(w,R,.5);P.setFromVec(A.midpoint(P,{x:s,y:d},.12+.1*h())),m[0].push(w.x,w.y,R.x,R.y,P.x,P.y);var O=s+(h()-.5)*a*.6,C=d+(h()-.5)*a*.6,G=s+(h()-.5)*a*.6,N=d+(h()-.5)*a*.6;m[1].push(O,C,w.x,w.y,P.x,P.y),m[1].push(G,N,O,C,w.x,w.y),m[2].push(O,C,R.x,R.y,P.x,P.y)}g=T,y=_}};t.default=function(e){var t=e.SW,A=e.SH,u=e.SX,v=e.SY,y=e.gl,m=e.game,S=s.getQuadTreesObj();if(S.RockFormations){var E=new i.Rectangle(u-100,v-100,t+200,A+200),x=S.RockFormations.queryInt(E);if(l=[],c=[],d=[],p=[],f=[],h=[],m.debug&&m.rockFormationSystemRadius.length>0){var T=m.rockFormationSystemRadius[0];r.blockCirclePoly(40,T.radius,T.pos.x,T.pos.y,0,l,A,u,v,30)}for(var _=0;_<x.length;_++){var I=x[_];r.blockCirclePoly(I.sides,.8*I.radius,I.pos.x,I.pos.y,I.angle,h,A,u,v,.8*I.radius),g(I,u,v,I.radius,.46)}l.length>0&&(y.disable(y.BLEND),a.default(n.GLctx.Vertices,y),o.drawColor(h,y,.2,.2,.4,1),o.drawColor(l,y,.1,.1,.4,1),o.drawColor(c,y,.01,.01,.01,1),y.enable(y.BLEND),o.drawColor(p,y,1,1,1,1),o.drawColor(f,y,.6,.6,.6,1),o.drawColor(d,y,.3,.3,1,1))}return"rockFormations"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(46),r(28)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[],u=[],l=[],c=function(e,t,r,a,n,o){for(var A=0;A<e.length;A++){var u=e[A];i.onStage(t,u.pos.x,u.pos.y,3*u.radius)&&s.Glow(u.pos,u.radius/t.SW*9,[],t,r,a,n,o)}};t.default=function(e){e.SW;var t=e.SH,s=e.SX,d=e.SY,p=e.game,f=e.gl;A=[],u=[],l=[],[];c(p.rockFormations,e,.02,.02,.3,.05);for(var h=p.rockFormationsArcs,v=0;v<h.length;v++){var g=h[v];c(g.arc,e,.02,.02,.27,.045);if(i.onStage(e,g.pos.x,g.pos.y,1e3))for(var y=0;y<g.arc.length;y++){var m=g.arc[y],S=m.pos.x,E=m.pos.y;l.push(m.pos.x-s,m.pos.y-d),r.blockCirclePoly(m.sides,m.radius,S,E,m.angle,u,t,s,d,m.radius)}}if(A.length>0||u.length>0||l.length>0){f.disable(f.BLEND);a.default(n.GLctx.Vertices,f);o.drawColor(u,f,.05,.05,.28,1),f.enable(f.BLEND)}return"rockFormationArc"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(0),r(4),r(3),r(6)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],A=[],u=[],l=0,c=performance.now(),d=0;t.default=function(e){if(e.game.menuSettings.heap){var t=e.gl,p=e.stepMS,f=e.game,h=window.performance.memory.totalJSHeapSize/1e6,v=window.performance.memory.usedJSHeapSize/1e6,g=performance.now()-c;c=performance.now();var y=1e3/g;d>100&&(d=0,u.push(y),A.push(h),s.push(v)),d+=p,A.length>f.resW-l&&(A.shift(),s.shift(),u.shift()),a.default(a.GLctx.VerticesOverlay,t);for(var m=[],S=[],E=[],x=0;x<A.length;x++)m.push(x,200-A[x]),S.push(x,200-s[x]),E.push(x,200-u[x]);var T=0;for(x=3;x<S.length;x+=3)s[x-3]>s[x]+20&&T++;n.drawColor(E,t,0,0,.6,1,t.LINE_STRIP),n.drawColor(m,t,1,0,0,1,t.LINE_STRIP),n.drawColor(S,t,0,1,0,1,t.LINE_STRIP);var _=r.default.create("TOTAL: "+i.normalize(h,"heap total",10,0).avg,o.TEXT_SIZE_SMALL,"r"),I=r.default.create("CURR : "+i.normalize(v,"heap curr",10,0).avg,o.TEXT_SIZE_SMALL,"g"),M=r.default.create("FPS  : "+i.normalize(y,"fps curr",10,0).avg,o.TEXT_SIZE_SMALL,"b"),L=r.default.create("M.GC : "+T,o.TEXT_SIZE_SMALL,"w");0===l&&(l=2*Math.max(_.w,I.w,M.w,L.w));var b=a.default(a.GLctx.Texture,t),w=A.length+10;return r.default.addGL(t,b,_,w,50,e),r.default.addGL(t,b,I,w,70,e),r.default.addGL(t,b,M,w,90,e),r.default.addGL(t,b,L,w,110,e),"heap"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(7),r(4),r(6),r(5),r(60),r(4),r(36)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=[],d=[],p=[];t.default=function(e){var t=e.SW,f=e.SH,h=e.SX,v=e.SY,g=e.gl,y=(e.game,e.step);d=[],p=[],l=[],c=[];var m=i.getQuadTreesObj();if(m.ProximityMines)for(var S=new a.Rectangle(h-u.PROXIMITY_MINE_RAY_LENGTH,v-u.PROXIMITY_MINE_RAY_LENGTH,t+2*u.PROXIMITY_MINE_RAY_LENGTH,f+2*u.PROXIMITY_MINE_RAY_LENGTH),E=m.ProximityMines.queryInt(S),x=E.length,T=0;T<x;T++){var _=E[T],I=_.pos;d.push(I.x-h,I.y-v,_.intersectA.x-h,_.intersectA.y-v),d.push(I.x-h,I.y-v,_.intersectA.x-h-4,_.intersectA.y-v),d.push(I.x-h,I.y-v,_.intersectA.x-h,_.intersectA.y-v-4),_.intersectAaquired?1===_.aquireMode?n.addToColorMap(p,d,.3*o.RandomStepBased(y,_.guid),.05,.05,1):2===_.aquireMode&&n.addToColorMap(p,d,.05,.3*o.RandomStepBased(y,_.guid),.05,1):n.addToColorMap(p,d,0,0,.1*o.RandomStepBased(y,_.guid),1),d.push(I.x-h,I.y-v,_.intersectB.x-h,_.intersectB.y-v),d.push(I.x-h,I.y-v,_.intersectB.x-h-4,_.intersectB.y-v),d.push(I.x-h,I.y-v,_.intersectB.x-h,_.intersectB.y-v-4),_.intersectBaquired?1===_.aquireMode?n.addToColorMap(p,d,.3*o.RandomStepBased(y,_.guid),.05,.05,1):2===_.aquireMode&&n.addToColorMap(p,d,.05,.3*o.RandomStepBased(y,_.guid),.05,1):n.addToColorMap(p,d,0,0,.1*o.RandomStepBased(y,_.guid),1),1===_.aquireMode&&(A.blockCirclePoly(.05*_.timerT,2*_.radius,I.x,I.y,0,l,0,h,v,3,!1,0,.05*_.aquireTimer,0,.05*_.aquireTimer),n.addToColorMap(c,l,1,.1,.1,1));var M=s.hexBox(_.radius,_.pos,h,v);l.push.apply(l,M[0]),n.addToColorMap(c,l,.1,.1,.1,1),l.push.apply(l,M[1]),n.addToColorMap(c,l,.7,.7,.7,1),l.push.apply(l,M[2]),n.addToColorMap(c,l,.3,.3,.3,1)}return l.length>0&&(r.default(r.GLctx.Vertices,g),n.drawColorMapSingle(p,d,g,g.LINES),g.disable(g.BLEND),n.drawColorMapSingle(c,l,g),g.enable(g.BLEND)),"proximityMines"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7),r(4),r(5),r(60)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[];t.default=function(e){var t=e.SW,A=e.SH,u=e.SX,l=e.SY,c=e.gl;i=[],s=[];var d=n.getQuadTreesObj();if(d.SpaceMines)for(var p=new r.Rectangle(u,l,t,A),f=d.SpaceMines.queryInt(p),h=f.length,v=0;v<h;v++){var g=f[v],y=o.hexBox(g.radius,g.pos,u,l);i.push.apply(i,y[0]),a.addToColorMap(s,i,.1,.1,.1,1),i.push.apply(i,y[1]),a.addToColorMap(s,i,.7,.7,.7,1),i.push.apply(i,y[2]),a.addToColorMap(s,i,.3,.3,.3,1)}return i.length>0&&(c.disable(c.BLEND),a.drawColorMapSingle(s,i,c),c.enable(c.BLEND)),"proximityMines"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(28),r(7),r(6),r(5),r(61),r(10),r(2),r(18),r(14)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e,t,a,n,o,i,A,u){for(var l=a.SX,c=a.SY,d=t.length,p=0;p<d;p++){var v=t[p].pos,g=h(v,e);if(0===e.type){(y=f(v,e,l,c)).length>0&&r.GlowCustomLayout(v,.3*n,y,a,o,i,A,u)}else{for(var y=[],m=0;m<g.length;m++)y.push.apply(y,s.GetShipPartComplex(1,e,l,c,g[m]));y.length>0&&r.GlowCustomLayout(v,n,y,a,o,i,A,u)}}},p=function(e,t){var r=i.getQuadTreesObj(),n=t.SX,o=t.SY,s=t.SW,A=t.SH,u=(t.game,t.WW,t.WH,new a.Rectangle(n-300,o-300,s+600,A+600)),p=new a.Rectangle(n-900,o-900,s+1800,A+1800);d(e,r.Asteroids.queryInt(u).filter(function(e){return 12!==e.type}),t,1.6,0,1,.1,1);var f=r.Rockets.queryInt(u);d(e,f.filter(function(e){return 39===e.ownerType}),t,1.2,0,.2,1,1),d(e,f.filter(function(e){return 39!==e.ownerType}),t,1.4,1,0,0,1),d(e,r.SpacePorts.queryInt(p),t,3,.1,1,.1,1),d(e,r.Charges.queryInt(u),t,2,.5,.2,.6,1);for(var h=l.getAllAnomalies(t.game),v=0;v<h.length;v++){var g=h[v].pos;p.intersectsPoint(g)&&d(e,[{pos:g}],t,4,1,.2,.1,1)}var y=c.getForce2Tree().queryInt(t.game.screen.rect);for(v=0;v<y.length;v++){var m=y[v];if(1===m.type){var S=.2*Math.random();d(e,[m],t,2*m.radius*Math.random(),S,S,S,.1*S)}}};t.default=function(e){var t=e.game,r=e.SW,n=e.SH,s=e.SX,u=e.SY;e.WW,e.WH,e.gl;if(t.menuSettings.reflections){var l=i.getQuadTreesObj();if(l.Asteroids){var c=A.default(e);c&&p(c,e);for(var d=new a.Rectangle(s,u,r,n),f=o(l.Enemies.queryInt(d),l.Npcs.queryInt(d),l.Drones.queryInt(d),l.Destroyers.queryInt(d)),h=0;h<f.length;h++)p(f[h],e);return"reflections"}}};var f=function(e,t,r,a){var i=Math.atan2(e.y-t.pos.y,e.x-t.pos.x),s=n.normalizeRadianPositive(t.angle-i)-Math.PI,A=Math.abs(s);if(A<.1)return[];var l=u.midpoint(t.comp[0].vertex[1],t.comp[0].vertex[2]),c=u.midpoint(l,t.pos,.1),d=o(t.comp[0].vertex[0].toVertArray(r,a),t.comp[0].vertex[1].toVertArray(r,a),[c.x-r,c.y-a]),p=o(t.comp[0].vertex[0].toVertArray(r,a),t.comp[0].vertex[2].toVertArray(r,a),[c.x-r,c.y-a]);return A<.1?void 0:A>Math.PI-.2?o(p,d):(Math.PI,s>0?d:p)},h=function(e,t){var r=Math.atan2(e.y-t.pos.y,e.x-t.pos.x),a=n.normalizeRadianPositive(t.angle-r)-Math.PI,o=Math.abs(a);return o<.1?[4]:o>Math.PI-.2?[2,0,1]:o>Math.PI-.4?a>0?[1,2]:[0,2]:a>0?[1]:[0]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7),r(4),r(5),r(9),r(3),r(0),r(0),r(63),r(4),r(6),r(1)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=[],f=[],h=[],v=0,g=new d.Vector(0,0),y=new d.Vector(0,0);t.default=function(e){var t=e.SW,d=e.SH,m=e.SX,S=e.SY,E=e.gl,x=e.game,T=e.stepMS;p=[],f=[],h=[],(v+=T)>500&&(v=0);var _=n.getQuadTreesObj();if(_.SpaceTurret)for(var I=new r.Rectangle(m,S,t,d),M=_.SpaceTurret.queryInt(I),L=M.length,b=0;b<L;b++){var w=M[b];h.push({heat:w.overheatVal,overheat:w.overHeatTimerMS>0,posx:w.pos.x,posy:w.pos.y,value:w.bullets}),w.life<30&&u.default(e,w.pos,30-w.life,100);var R=w.pos.x,P=w.pos.y,O=w.radius;g.set(2*O,0),g.setAngle(w.targetAngle),a.line2Poly(R-m,P-S,R+g.x-m,P+g.y-S,p,3);for(var C=0;C<4;C++)g.set(1.5*O,0),g.setAngle(w.targetAngle+.25*Math.PI+.5*Math.PI*C),y.set(.8*O,0),y.setAngle(w.targetAngle+.25*Math.PI+.5*Math.PI*C),a.line2Poly(R+g.x-m,P+g.y-S,R+y.x-m,P+y.y-S,p,1.5);l.blockCirclePoly(6,O,R,P,w.targetAngle+Math.PI/6,p,0,m,S,2,!1,0,4,0,4),a.addToColorMap(f,p,.1,.6,.1,.8)}if(p.length>0){E.disable(E.BLEND);var G=[];for(b=0;b<h.length;b++){var N=((D=h[b]).overheat||0===D.value)&&v>250?"   ":D.overheat?"OHT":c.pad009(D.value),B=o.default.create(N,i.TEXT_SIZE_SMALL,"y");G.push(B),l.drawRectPoly(new r.Rectangle(D.posx-.5*B.w*x.zoomTX,D.posy-40,B.w,i.TEXT_SIZE_SMALL),m,S,p,1),l.drawTriangle(D.posx-.5*B.w*x.zoomTX-4,D.posy-40+.5*i.TEXT_SIZE_SMALL,4,m,S,p),a.line2Poly(D.posx-B.w*x.zoomTX*.5-12-m,D.posy-40+i.TEXT_SIZE_SMALL-S,D.posx-B.w*x.zoomTX*.5-12-m,D.posy-40+i.TEXT_SIZE_SMALL-i.TEXT_SIZE_SMALL*D.heat*.01-S,p,2)}a.addToColorMap(f,p,1,1,0,1),a.drawColorMapSingle(f,p,E),E.enable(E.BLEND);var F=s.default(A.GLctx.Texture,E);for(b=0;b<G.length;b++){var D=h[b];B=G[b];o.default.addGL(E,F,B,D.posx-m-.5*B.w*x.zoomTX,D.posy-S-40,e)}}return"spaceTurrets"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(5),r(7),r(28)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new r.Vector(0,0),s=[],A=0;t.default=function(e){var t=e.SX,r=e.SY,u=e.SW,l=e.SH,c=e.step,d=e.stepMS,p=new n.Rectangle(t-.5*u,r-.5*l,2*u,2*l),f=a.getQuadTreesObj().queryTreesRect([7,14,5],p,!0),h=f.length;if(A>100){if(h>0){var v=f[Math.floor(f.length*Math.random())].pos;i.set(400+1e3*Math.random(),0),i.setAngle(Math.random()*Math.PI*2),i.add(v);var g={x:2.2*(Math.random()-.5),y:2.2*(Math.random()-.5)};s.push({pos:i.toPoint(),vel:g,size:.13*(.1*Math.random()+.05),life:6e3*Math.random()+1200})}A=0}A+=d;for(var y=h>0?d:2.2*d,m=0;m<s.length;m++){(E=s[m]).pos.x+=E.vel.x*c,E.pos.y+=E.vel.y*c,E.vel.x*=.99,E.vel.y*=.99,E.life-=y,E.size-=3e-5,o.Glow({x:E.pos.x,y:E.pos.y},E.size,[],e,Math.min(.001*E.life,.8),0,0,1)}var S=[];for(m=0;m<s.length;m++){var E;(E=s[m]).life>0&&E.size>0&&p.intersectsPoint(E.pos)&&S.push(E)}return s=S,"redParticles"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(7),r(5)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[];t.default=function(e){var t=e.SW,A=e.SH,u=e.SX,l=e.SY,c=e.gl;s=[];for(var d=new o.Rectangle(u,l,t,A),p=i.getQuadTreesObj().queryTreesRect([4,3,8,5,14,7],d),f=p.length,h=0;h<f;h++){var v=p[h],g=v.radius;switch(v.type){case 19:g*=3;break;case 17:g*=2.5;break;case 18:g*=1.3;break;case 43:g*=2}for(var y=v.pos.x+g-u,m=v.pos.y-g-l,S=Math.min(3,0|v.level),E=0;E<S;E++){var x=y,T=m-1.5*E*4;r.line2Poly(x,T,x-6,T+5,s,1.5),r.line2Poly(x,T,x+6,T+5,s,1.5)}}if(s.length>0){a.default(n.GLctx.Vertices,c);r.drawColor(s,c,.6,.6,0,1)}return"UnitLevelMarker"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7),r(5),r(4),r(0),r(0),r(4),r(2),r(28),r(1)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=[],d=[],p=[],f=[],h=[],v=[],g=([[.2,.2,.5],[.2,.5,.2],[.5,.2,.2]].map(function(e){return e.map(function(e){return.4*e})}),[]),y=new l.Vector(0,0),m=new l.Vector(0,0);t.default=function(e){var t=e.game,l=e.gl,S=e.SX,E=e.SY,x=e.SW,T=e.SH;c=[],f=[],d=[],p=[],v=[],h=[],g=[];var _=new r.Rectangle(S,E,x,T),I=a.getQuadTreesObj().Destroyers.queryInt(_),M=t.player[0];M&&M.debugCircle&&s.blockCirclePoly(30,M.debugCircle.radius,M.debugCircle.pos.x-S,M.debugCircle.pos.y-E,0,c);for(var L=0;L<I.length;L++){for(var b=I[L],w=A.midpoint(b.comp[0].vertex[2],b.pos,.04),R=A.midpoint(b.comp[0].vertex[1],b.pos,.04),P=A.midpoint(b.comp[0].vertex[2],w,.5),O=A.midpoint(b.comp[0].vertex[1],R,.5),C=0;C<5;C++){var G=A.midpoint(P,O,.165*(C+1));g.push(G)}g[2]=A.midpoint(g[2],b.pos,.012);for(var N=0;N<b.cannons.length;N++){var B=b.cannons[N],F=.03*b.radius;s.blockCirclePoly(12,F,B.pos.x,B.pos.y,B.angle,h,0,S,E,F);for(var D=[B.angle,B.min,B.max],V=0;V<1;V++)m.setLength(0===V?.1*b.radius:40),m.setAngle(D[V]),n.line2Poly(B.pos.x-S,B.pos.y-E,B.pos.x+m.x-S,B.pos.y+m.y-E,h,0===V?3:.5);u.GlowCustomLayout(B.pos,.045,[B.pos.x-S-50,B.pos.y-E-50,B.pos.x-S-50,B.pos.y-E+50,B.pos.x-S+50,B.pos.y-E+50,B.pos.x-S+50,B.pos.y-E-50,B.pos.x-S-50,B.pos.y-E-50,B.pos.x-S+50,B.pos.y-E+50],e,.4,.4,.4,1)}if(s.addToColorMap(v,h,.3,.3,.3,1),b.debugCircle&&s.blockCirclePoly(30,b.debugCircle.radius,b.debugCircle.pos.x-S,b.debugCircle.pos.y-E,0,c),b.debugVectors){var X=b.debugVectors;b.pos;n.line2Poly(X.lineNormalA.x-S,X.lineNormalA.y-E,X.lineNormalB.x-S,X.lineNormalB.y-E,c,2),n.line2Poly(X.lineNormalC.x-S,X.lineNormalC.y-E,X.lineNormalB.x-S,X.lineNormalB.y-E,c,2),n.line2Poly(X.lineNormalD.x-S,X.lineNormalD.y-E,X.lineNormalB.x-S,X.lineNormalB.y-E,c,2)}var H=b.comp[0].vertex;n.line2Poly(H[0].x-S,H[0].y-E,H[1].x-S,H[1].y-E,c,4),n.line2Poly(H[0].x-S,H[0].y-E,H[2].x-S,H[2].y-E,c,4),n.line2Poly(H[1].x-S,H[1].y-E,H[2].x-S,H[2].y-E,c,4);var k=A.midpoint(b.comp[0].vertex[1],b.comp[0].vertex[2]),W=A.midpoint(k,b.pos,.1);u.GlowCustomLayout(b.comp[0].vertex[0],1.5,[W.x-S,W.y-E,b.comp[0].vertex[1].x-S,b.comp[0].vertex[1].y-E,b.comp[0].vertex[0].x-S,b.comp[0].vertex[0].y-E],e,1,.8,.8,1),u.GlowCustomLayout(b.comp[0].vertex[2],1.5,[W.x-S,W.y-E,b.comp[0].vertex[2].x-S,b.comp[0].vertex[2].y-E,b.comp[0].vertex[0].x-S,b.comp[0].vertex[0].y-E],e,.8,.8,.8,1),u.GlowCustomLayout(W,2.5,[W.x-S,W.y-E,b.comp[0].vertex[2].x-S,b.comp[0].vertex[2].y-E,b.comp[0].vertex[1].x-S,b.comp[0].vertex[1].y-E],e,.6,.6,1,1);var U=A.midpoint(b.pos,b.comp[0].vertex[1],.7),Y=A.midpoint(b.pos,b.comp[0].vertex[1],.75),z=A.midpoint(b.pos,b.comp[0].vertex[2],.7),j=A.midpoint(b.pos,b.comp[0].vertex[2],.75),q=A.midpoint(b.pos,b.comp[0].vertex[1],.65),K=(A.midpoint(b.pos,b.comp[0].vertex[1],.8),A.midpoint(b.pos,b.comp[0].vertex[2],.65)),Z=(A.midpoint(b.pos,b.comp[0].vertex[2],.8),A.midpoint(b.pos,k,.8)),Q=A.midpoint(b.pos,k,.6);u.GlowCustomLayout(b.pos,.5,[z.x-S,z.y-E,j.x-S,j.y-E,Z.x-S,Z.y-E,Q.x-S,Q.y-E,Z.x-S,Z.y-E,z.x-S,z.y-E,U.x-S,U.y-E,Y.x-S,Y.y-E,Z.x-S,Z.y-E,Q.x-S,Q.y-E,Z.x-S,Z.y-E,U.x-S,U.y-E],e,.4,.4,.4,1),h.push(K.x-S,K.y-E,z.x-S,z.y-E,Q.x-S,Q.y-E,q.x-S,q.y-E,U.x-S,U.y-E,Q.x-S,Q.y-E),s.addToColorMap(v,h,.3,.3,.3,1);var J=A.midpoint(Z,Q),$=A.midpoint(Z,Q,.55);y.setAngle(b.radarAngle),y.setLength(.12*b.radius),n.line2Poly(J.x-S,J.y-E,y.x+J.x-S,y.y+J.y-E,h,4),y.setAngle(b.radarAngle+Math.PI),n.line2Poly(J.x-S,J.y-E,y.x+J.x-S,y.y+J.y-E,h,4),s.addToColorMap(v,h,1,1,1,1),n.line2Poly($.x-S,$.y-E,y.x+$.x-S,y.y+$.y-E,h,2),y.setAngle(b.radarAngle),n.line2Poly($.x-S,$.y-E,y.x+$.x-S,y.y+$.y-E,h,2),s.addToColorMap(v,h,0,0,0,1)}if(c.length>0){var ee=i.default(o.GLctx.Vertices,l);l.disable(l.BLEND),s.drawColorMap(f,d,ee,l),s.drawColorMap(v,h,ee,l),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE),n.drawColor(p,l,1,1,1,1)}return"Destroyer"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(10),r(12)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={},A=[],u=[],l=[],c=function(e){for(var t=Number.MAX_VALUE,r=Number.MIN_VALUE,a=e.length,n=0;n<a;n++){var o=e[n];o<t&&(t=o),o>r&&(r=o)}var i=r-t;return{min:t,max:r,spread:i,mult:1/(i/100)}},d=0,p=0,f=function(e,t,r,a,n,o){var i=[],A=s[e+"x"];A||(A=s[e+"x"]=[]);var u=s[e+"y"];u||(u=s[e+"y"]=[]),A.push(t),u.push(r);for(var l=c(A),d=c(u),p=A.length,f=0;f<p;f++){var h=(A[f]-l.min)*l.mult,v=(u[f]-d.min)*d.mult;i.push(n-200+f,o-200+h+a),i.push(n-200+f,o-200+v+a)}return A.length>200&&(A.shift(),u.shift()),i};t.default=function(e){var t=e.game,s=e.gl,c=e.SX,h=e.SY,v=e.SW,g=e.SH;if(t.debug){var y=o.default(e);if(y){var m=10*(y.SX-d)+y.SX,S=10*(y.SY-p)+y.SY;d=y.SX,p=y.SY,u.push(m-c+200+.5*v,S-h+.5*g),u.length>300&&(u.shift(),u.shift());for(var E=0;E<u.length;E+=2)u[E]--;y.damageTaken&&i.LOG_GL("damagetaken"),l=f("vel",y.vel.x,y.vel.y,-200,v,g)}if((A=f("camera",c,h,0,v,g)).length>0){n.default(a.GLctx.Vertices,s);r.drawColor(A,s,1,1,1,1,s.POINTS),r.drawColor(l,s,0,1,0,1,s.POINTS),r.drawColor(u,s,1,0,0,1,s.LINES)}return"CameraGraph"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(10),r(5),r(225)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=r.default(e),o=a.getQuadTreesObj();if(o&&o.SpacePorts&&t)return n.RayCasterLOS(t.pos,1,e,t.guid),"raycaster LOS"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(0),r(4),r(5),r(4),r(23),r(34),r(6),r(2)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RayCasterLOS=void 0;var d=[],p=[],f=new r.Vector(0,0),h=new r.Vector(0,0),v=new r.Vector(0,0),g=new r.Vector(0,0),y=new r.Vector(0,0),m=new r.Vector(0,0),S=new r.Vector(0,0),E=new r.Vector(0,0),x=new r.Vector(0,0),T=new r.Vector(0,0),_=new r.Vector(0,0),I=new r.Vector(0,0),M=new r.Vector(0,0),L=new r.Vector(0,0),b=new r.Vector(0,0);new r.Vector(0,0);t.RayCasterLOS=function(e,t,r,w){var R=r.gl,P=r.SH,O=r.SW,C=r.SX,G=r.SY;if(!r.game.menuSettings.losShadows)return"los shadows";var N=O>P?O:P;d=[],p=[];var B=i.getQuadTreesObj();if(B.Asteroids){for(var F=N,D=B.queryTreesVec([18,3,13,0,1,21,6],e,F,F),V=0;V<D.length;V++){var X=D[V];20===X.type&&X.isCannon;var H=X.pos,k=Math.atan2(e.y-X.pos.y,e.x-X.pos.x);if(y.set(.8*X.radius,0),y.setAngle(l.normalizeRadianPositive(k)),f.set(X.radius,0),f.setAngle(l.normalizeRadianPositive(k)+.5*Math.PI),v.set(X.radius,0),v.setAngle(l.normalizeRadianPositive(k)-.5*Math.PI),A.ShipLike(X.type)){var W=X.comp[0].vertex,U=[];f.setLength(2*X.radius),v.setLength(2*X.radius);for(var Y=0;Y<3;Y++){S.set(W[Y].x-e.x,W[Y].y-e.y),S.mult(2e6),S.add(e);var z=u.LineIntersectsToPoint(f.x+X.pos.x-C,f.y+X.pos.y-G,v.x+X.pos.x-C,v.y+X.pos.y-G,e.x-C,e.y-G,S.x-C,S.y-G);o.line2Poly(f.x+X.pos.x-C,f.y+X.pos.y-G,v.x+X.pos.x-C,v.y+X.pos.y-G,p,2),o.line2Poly(e.x-C,e.y-G,S.x-C,S.y-G,p,2),z&&U.push(z)}if(3===U.length){for(var j=[0,1,0,2,1,2],q=-1,K=-1,Z=-1,Q=0;Q<j.length;Q+=2){var J=c.distanceBetweenVectors(U[j[Q]],U[j[Q+1]]);J>q&&(q=J,K=j[Q],Z=j[Q+1])}var $=[U[K],U[Z]];c.distanceBetweenVectors(f,$[0])<c.distanceBetweenVectors(f,$[1])?(f.setFromVec($[0]),v.setFromVec($[1])):(f.setFromVec($[1]),v.setFromVec($[0])),f.subtract(H),f.addXY(C,G),v.subtract(H),v.addXY(C,G)}0}if(22===X.type||12===X.type||20===X.type||21===X.type){var ee=X,te=[];s.createBlockCirclePolySingleWall(0,0,te,ee.sides,ee.angle,ee.radius),f.setLength(2*X.radius),v.setLength(2*X.radius);U=[];for(var re=0;re<te.length;re+=4){if((z=u.LineIntersectsToPoint(f.x,f.y,v.x,v.y,te[re],te[re+1],te[re+2],te[re+3]))&&(U.push(z),2===U.length))break}if(2===U.length)c.distBetweenVectorsRelative(f,U[0])<c.distBetweenVectorsRelative(f,U[1])?(f.setFromVec(U[0]),v.setFromVec(U[1])):(f.setFromVec(U[1]),v.setFromVec(U[0]))}f.mult(1.2),v.mult(1.2);var ae=H.x+f.x-C,ne=H.y+f.y-G,oe=H.x+v.x-C,ie=H.y+v.y-G,se=Math.atan2(e.y-ne-G,e.x-ae-C)+Math.PI,Ae=Math.atan2(e.y-ie-G,e.x-oe-C)+Math.PI;h.set(1e10,0),h.setAngle(l.normalizeRadianPositive(se)),g.set(1e10,0),g.setAngle(l.normalizeRadianPositive(Ae)),m.setFromVec(y),m.mult(.1),M.set(H.x+f.x-C,H.y+f.y-G),I.set(H.x+v.x-C,H.y+v.y-G),L.set(H.x+h.x-C,H.y+h.y-G),b.set(H.x+g.x-C,H.y+g.y-G),E.setFromVec(I);var ue=Math.atan2(I.y-b.y,I.x-b.x);x.set(Math.min(.4*X.radius,50),0),x.setAngle(l.normalizeRadianPositive(ue)+.5*Math.PI),x.add(E),T.setFromVec(M);var le=Math.atan2(M.y-L.y,M.x-L.x);_.set(Math.min(.4*X.radius,50),0),_.setAngle(l.normalizeRadianPositive(le)-.5*Math.PI),_.add(T);var ce={lightPosX:X.pos.x-y.x-C,lightPosY:X.pos.y-y.y-G,radius:X.radius,itemPosX:X.pos.x-m.x-C,itemPosY:X.pos.y-m.y-G,edgeA_from:E.toPoint(),edgeA_to:x.toPoint(),edgeB_from:T.toPoint(),edgeB_to:_.toPoint(),edgeC_from:{x:X.pos.x-y.x-C,y:X.pos.y-y.y-G},edgeC_to:{x:X.pos.x-m.x-C,y:X.pos.y-m.y-G},polys:[H.x+f.x-C,H.y+f.y-G,H.x+v.x-C,H.y+v.y-G,H.x+h.x-C,H.y+h.y-G,H.x+g.x-C,H.y+g.y-G]};d.push(ce)}a.default(n.GLctx.EdgeGradient,R),R.blendFunc(R.DST_COLOR,R.ZERO);for(var de=d.length,V=0;V<de;V++){var ce=d[V],pe=a.GLUniformLocation(R,"toA"),fe=a.GLUniformLocation(R,"fromA"),he=a.GLUniformLocation(R,"toB"),ve=a.GLUniformLocation(R,"fromB"),ge=a.GLUniformLocation(R,"toC"),ye=a.GLUniformLocation(R,"fromC");R.uniform2f(pe,ce.edgeA_from.x,ce.edgeA_from.y),R.uniform2f(fe,ce.edgeA_to.x,ce.edgeA_to.y),R.uniform2f(he,ce.edgeB_from.x,ce.edgeB_from.y),R.uniform2f(ve,ce.edgeB_to.x,ce.edgeB_to.y),R.uniform2f(ye,ce.edgeC_from.x,ce.edgeC_from.y),R.uniform2f(ge,ce.edgeC_to.x,ce.edgeC_to.y),o.drawColor(ce.polys,R,1,0,0,0,R.TRIANGLE_STRIP)}return R.blendFunc(R.ONE,R.ONE),"los shadows"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(9),r(4),r(7),r(3),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],l=0;t.default=function(e){var t=e.SX,c=e.SY,d=e.SW,p=e.SH,f=e.gl,h=e.game,v=A.getQuadTreesObj();if(v&&v.SpacePorts){var g=new i.Rectangle(t,c,d,p),y=v.SpacePorts.queryInt(g);if(14!==h.currentLevel)for(var m,S=function(i){var A=(m=y[i]).centerNoneCannon&&m.centerNoneCannon.life>.1*s.SPACEPORT_START_LIFE?m.weaponsActive:!(Math.random()>.99)&&m.weaponsActive,d=n.default.create("SPACEPORT "+(m.name||"")+(A?" [WEAPONS ONLINE]":""),s.TEXT_SIZE_MEDIUM,A?"g":"r"),p=m.centerNoneCannon,v=p&&p.life<.2*s.SPACEPORT_START_LIFE,g=r.default(Math.random()>.98||v?a.GLctx.TextureDist:a.GLctx.Texture,f),S=p.pos.x-.5*d.w-t,E=p.pos.y-.7*m.radius-c;if(n.default.addGL(f,g,d,S,E,e,!0),A){l+=Math.random()>.92?1:0;var x=E+s.TEXT_SIZE_MEDIUM,T=m.reparations,_=0;for(var I in T){if(_>l)break;T[I]>0&&(n.default.addGL(f,g,n.default.create(I.toUpperCase()+": "+T[I],s.TEXT_SIZE_SMALL,"g"),S,x,e,!0),x+=s.TEXT_SIZE_SMALL,_++)}for(var M=0,L=0;L<h.npcs.length;L++){var b=h.npcs[L];b.miningRig&&b.miningRig.base&&b.miningRig.base.guid===m.guid&&M++}n.default.addGL(f,g,n.default.create(">> workers: "+M,s.TEXT_SIZE_SMALL,"g"),S,x,e,!0);var w=0,R=0;u=[];var P=E;m.cannons.forEach(function(e){P-=e.isCannon?6:12,o.line2Poly(S,P,S+.12*e.life,P,u,e.isCannon?3:6),e.isCannon?w+=e.life:R=e.life});var O=Math.round(w/s.SPACEPORT_START_LIFE/6*100),C=Math.round(R/s.SPACEPORT_START_LIFE*100);n.default.addListGL(f,g,n.default.createSplitted(C+"%/"+O+"%",s.TEXT_SIZE_SMALL,"g",""),S+150,E-s.TEXT_SIZE_SMALL,e,!0),x+=s.TEXT_SIZE_MEDIUM,r.default(a.GLctx.Vertices,f),o.drawColor(u,f,0,1,0,1)}else l=0},E=0;E<y.length;E++)S(E);return"spaceport texts"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){e.gl,e.SW,e.SH,e.game,e.SX,e.SY;return"TOGL (disabled)"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(78),r(0),r(122)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[],A=[],u=[];o.createRamp(s,80,0,1,.2),o.createRamp(s,20,1,0,.2),o.createRamp(A,8,0,.2,.1),o.createRamp(A,8,.2,0,.1),o.createRamp(A,44,0,.3,.1),o.createRamp(A,40,.4,0,.1),o.createRamp(u,50,1,.1,.15),o.createRamp(u,50,.1,0,.15),o.createRamp([],100,0,1,.1),t.default=function(e){e.SW,e.SH,e.SX,e.SY;var t=e.gl,l=e.game;i=[];for(var c=l.flames,d=0;d<c.length;d++){var p=c[d],f=Math.round(p.colorRamp);if(o.rampSize[f]>.01){f<50&&!p.collided&&a.RayCaster(p.pos,.2,e,s[f],A[f],u[f],1,!0,0,p.vel.getAngle(),o.rampSize[f]);p.large;a.RayCaster(p.pos,.18*(p.large?6*o.rampSize[f]:o.rampSize[f]),e,s[f]*(p.large?.3:1),A[f]*(p.large?.3:1),u[f]*(p.large?.3:1),1,!0)}}return i.length>0&&(n.default(n.GLctx.Vertices,t),r.drawColor(i,t,1,1,1,1)),"FlameThrower"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(4),r(7),r(10)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=new o.Rectangle(0,0,0,0),A=new o.Rectangle(0,0,0,0);t.default=function(e){var t=e.gl,o=e.game,u=e.SX,l=e.SY,c=e.SW,d=e.SH,p=o.traceLine,f=p.length;s.x=u,s.y=l,s.width=c,s.height=d;for(var h=i.default(e),v=0;v<f;v++){for(var g=[],y=p[v],m=y.line,S=m.length-1,E=0;E<S;E++){var x=m[E],T=m[E+1];T&&(A.x=Math.min(x.x,T.x),A.y=Math.min(x.y,T.y),A.width=Math.max(x.x,T.x)-A.x,A.height=Math.max(x.y,T.y)-A.y,s.intersects(A)&&g.push(x.x-u,x.y-l,T.x-u,T.y-l))}if(h&&y.active){var _=y.line[y.line.length-1];_&&(g.push(_.x-u,_.y-l),g.push(h.pos.x-u,h.pos.y-l))}g.length>0&&(r.default(a.GLctx.Vertices,t),n.drawColor(g,t,y.r,y.g,y.b,y.a,t.LINES))}return"TraceLineGL"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(7),r(5),r(3)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],l=[];t.default=function(e){var t=e.SW,A=e.SH,c=e.SX,d=e.SY,p=e.gl,f=s.getQuadTreesObj();if(f.AncientBlocks){var h=new i.Rectangle(c-100,d-100,t+200,A+200),v=f.AncientBlocks.queryInt(h);u=[],l=[];for(var g=0;g<v.length;g++){var y=v[g];r.createBlockCirclePolySingleWall(y.pos.x-c,y.pos.y-d,u,y.sides,y.angle,y.radius,!0)}u.length>0&&(p.blendFunc(p.DST_COLOR,p.ZERO),a.default(n.GLctx.Vertices,p),o.drawColor(u,p,0,0,0,1),p.blendFunc(p.ONE,p.ONE),o.drawColor(l,p,1,0,0,1))}return"Ancient"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(4),r(5)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],A=[],u=[];t.default=function(e){var t=e.gl,l=e.game,c=e.SX,d=e.SY;if(!l.menuSettings.debugItems.aabb)return"debug aabb (disabled)";s=[],A=[],u=[];var p=[],f=[];i.getQuadTreesObj().customOperator([0,1,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,21],function(e){return e.debugAABBs(l.screen.rect,p)}),i.getQuadTreesObj().customOperator([20,2,12],function(e){return e.debugAABBs(l.screen.rect,f)});for(var h=0;h<p.length;h++)o.rectanglePolyRect(p[h],c,d,A);for(h=0;h<f.length;h++)o.rectanglePolyRect(f[h],c,d,u);return n.default(a.GLctx.Vertices,t),r.drawColor(s,t,0,1,1,1,t.LINES),r.drawColor(A,t,1,0,0,1,t.LINES),r.drawColor(u,t,0,1,1,1,t.LINES),"debug aabb"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(0),r(3),r(4),r(14),r(7),r(9)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],c=[],d=[],p=[];t.default=function(e){var t=e.gl,f=e.game,h=e.SX,v=e.SY;if(!f.menuSettings.debugItems.forces)return"forces debug (disabled)";l=[],c=[],p=[],d=[];for(var g=n.default(a.GLctx.Texture,t),y=s.getForce2Tree().queryInt(f.screen.rect),m=0;m<y.length;m++){var S=y[m],E=s.debugForce2.getOrCreateCachedForceField(S);u.default.addGL(t,g,u.default.create(E.field.length+" x "+.5*E.field[0].length+" "+E.fx+"|"+E.fy+" s:"+S.sizeRoundedToOddRes+" i:"+Math.round(S.intensity),20,"w"),S.pos.x-S.radius-h,S.pos.y-S.radius-30-v,e),i.drawRectPoly(new A.Rectangle(S.pos.x-S.radius,S.pos.y-S.radius,2*S.radius,2*S.radius),h,v,d,1);for(var x=E.field,T=E.field.length,_=2*T,I=0;I<T;I++)for(var M=x[I],L=0;L<_;L+=2){var b=M[L],w=M[L+1],R=.5*L*o.FORCEFIELD_RESOLUTION_F2+.5*o.FORCEFIELD_RESOLUTION_F2-h+S.pos.x-S.radius,P=I*o.FORCEFIELD_RESOLUTION_F2+.5*o.FORCEFIELD_RESOLUTION_F2-v+S.pos.y-S.radius;Math.abs(b)>0||Math.abs(w)>0?(l.push(R,P,R+5e3*b,P+5e3*w),c.push(R,P)):p.push(R,P)}}return n.default(a.GLctx.Vertices,t),r.drawColor(p,t,1,0,0,1,t.POINTS),r.drawColor(c,t,0,1,1,1,t.POINTS),r.drawColor(l,t,0,1,1,1,t.LINES),r.drawColor(d,t,1,0,0,1),"forces debug"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=t.init=void 0,t.init=function(e){var t=e.game,r=t.resW,a=t.resH;e.game.starMap=[];for(var n=0;n<2*a;n++){var o={x:Math.random()*r*2,alpha:Math.floor(255*Math.random())};t.starMap.push(o)}},t.resize=function(e){e.game.starMap=[],t.init(e)};var r=0;t.default=function(e){var t=e.game,a=e.step,n=e.SW;if(r>5*a){r=0;var o={x:Math.random()*n*2,alpha:255*Math.random()};t.starMap.shift(),t.starMap.push(o)}return r+=a,"starmap"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(11),r(20),r(16),r(18),r(6)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.game,s=e.step,A=(e.SW,e.SH,e.WW),u=e.WH,l=t.particles.length,c=t.customParticles;l=c.length;for(var d=0;d<l;d++){var p=c[d];p.life-=s,n.default(p,s),p.vel.mult(.99),p.vel.getLength()>5&&p.vel.setLength(5),r.check(p,A,u)||p.life<0?(c.splice(d,1),d--,l--,p.remove=!0):(a.default(t,p,!1),o.wormhole(p,e))}var f=t.bullets;l=f.length;for(d=0;d<l;d++){var h=f[d];if(h.life-=s,h.homing){var v=h.target;if(v&&!v.remove&&v.life>0){var g=Math.atan2(v.pos.y-h.pos.y,v.pos.x-h.pos.x),y=h.vel.getAngle();y=i.normalizeRadianAngle(y),y+=.5*i.angleDelta(y,g)*s,h.vel.setAngle(y)}else h.homing=!1,h.target=void 0}n.default(h,s),a.default(t,h,!1),r.shift(h,A,u),h.life<0&&(h.remove=!0,h.target=void 0)}return"particles (& bullets)"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(3),r(11),r(65),r(123),r(81),r(18),r(124),r(236),r(237),r(125),r(238),r(239),r(240),r(77),r(36),r(126),r(91),r(128),r(16)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.game,x=e.step,T=e.WW,_=e.WH,I=t.resW,M=t.resH,L=t.player;c.default(e);for(var b=0;b<L.length;b++){var w=L[b],R=w.keyCodes;if(w.damageTaken=!1,w.unableToComply=!1,w.damageTaken&&(t.eventMap[r.GAME_EVENT.PLAYER_DAMAGE]={}),w.damageTaken&&(w.cloaked=!1),w.boost<.2*a.SHIP_MAX_BOOST&&(w.boost+=.04*x),R.CLOAK&&!w.inSafeZone&&(w.damageTaken=!0,w.cloaked=!0,w.shields=0,w.autoPilot=0,w.bulletsFired=w.maxBullets),w.cloaked){for(var P in R)"CLOAK"!==P&&R[P]&&(w.cloaked=!1);w.closestItem=null,w.life<50&&(w.life+=.01*x)}if(w.radius=w.originalRadius,w.shields>0?(w.shields-=.75*x,w.radius=w.shieldRadius):w.shields=0,t.menuSettings.mouseControl&&t.currentLevel>14&&v.default(w),d.default(w,x),p.default(e,w),R.PROXIMITYMINE&&(w.availableMines>0?w.mineDeployed||(g.createProximityMineFromShip(w,e),w.mineDeployed=!0,w.availableMines--):w.unableToComply=!0),R.SPACETURRET&&(w.availableMines>0?w.mineDeployed||(m.createSpaceTurret(w,e),w.mineDeployed=!0,w.availableMines--):w.unableToComply=!0),R.SPACEMINE&&(w.availableMines>0?w.mineDeployed||(y.createSpaceMine(w,e),w.mineDeployed=!0,w.availableMines--):w.unableToComply=!0),R.SPACEMINE||R.PROXIMITYMINE||R.SPACETURRET||(w.mineDeployed=!1),w.autoPilot>0&&!w.inSafeZone&&(w.autoPilot-=.75*x,h.default(w)),w.ultrabright>0&&(w.ultrabright-=x),w.bulletsFired>0&&!R.FIRE&&!w.cloaked&&(w.bulletsFired-=.5*x-.095*w.bulletWeaponLevel),R.FIRE)if(w.bulletsFired<w.maxBullets&&w.availableBullets>0)if(t.eventMap[r.GAME_EVENT.SPACE_BULLET]={x:w.pos.x,y:w.pos.y},w.bulletsFired+=1.8,w.availableBullets-=Math.min(w.bulletWeaponLevel,4),1===w.bulletWeaponLevel)l.default(w,e);else{var O=[];switch(w.bulletWeaponLevel){case 2:O=[-.01,0,.01];break;case 3:O=[-.02,-.01,0,.01,.02];break;case 4:O=[-.02,-.01,-.01,0,.01,.01,.02];break;case 5:O=[-.02,-.02,-.01,-.01,0,.01,.01,.02,.02];break;case 6:O=[-1,-.5,-.02,-.01,-.01,0,.01,.01,.02,.5,1];break;case 7:O=[-1,-.5,-.1,-.02,-.01,-.01,0,.01,.01,.02,.1,.5,1];break;default:O=[-1,-.5,-.1,-.02,-.01,-.01,0,.01,.01,.02,.1,.5,1]}w.bulletWeaponLevel>8&&(w.bulletWeaponLevel=8);for(var C=f.default(w),G=0;G<O.length;G++)l.default(w,e,O[G],C[G])}else w.unableToComply=!0;w.angle<0&&(w.angle+=a.doublePI),w.angle=w.angle%a.doublePI,S.default(w,e),E.ShipPositionUpdater(w,x);n.shift(w,T-.2*I,_-.2*M,.2*I,.2*M),A.wormhole(w,e)&&(w.damageTaken=!0,u.SlowMotion()),s.default(e,w),o.default(e),i.default(e,w)}return"Ship"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(3),r(11),r(13),r(21)],void 0===(n=function(e,t,r,a,n,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBullet=void 0;var u=new r.Vector(0,0);t.default=function(e,a,n,o){void 0===n&&(n=0);var s=a.WW,l=a.WH,c=a.game,d=new r.Vector(0,0);d.setLength(e.vel.getLength()+e.bulletVelocity+20),d.setAngle(n+e.angle+.02*(Math.random()-.5)),o=o||u,!e.inSafeZone&&!!(e.homingBullets>0&&e.closestItem)&&e.homingBullets--;var p=new r.Vector(e.pos.x+Math.cos(e.angle)*e.radius+o.x,e.pos.y+Math.sin(e.angle)*e.radius+o.y),f=t.createBullet(p,n+e.angle+.02*(Math.random()-.5),e.guid,e.type,e.vel.getLength()+e.bulletVelocity);i.shift(f,s,l),c.bullets.push(f);var h=d.clone();h.setAngle(e.angle+.5*Math.PI+.1*Math.random()-.05),h.setLength(3+Math.random());var v=e.comp[0].vertex[0].clone();v.add(h),v.add(h),h.add(e.vel),A.createDust(v,1,.3,a,h.x,h.y)},t.createBullet=function(e,t,i,A,u,l){void 0===u&&(u=30),void 0===l&&(l=null);var c=new r.Vector(0,0);return c.setLength(u),c.setAngle(t+.02*(Math.random()-.5)),o({ownerGuid:i,owenerType:A,type:4,guid:a.getGuid(),pos:e,vel:c,life:n.BULLET_START_LIFE,radius:1,homing:!!l,target:l},s.setImovableDefaults(null))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(11),r(27),r(6),r(16),r(20),r(18),r(2),r(1),r(50),r(27),r(5),r(44),r(75)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=0;new u.Vector(0,0);t.default=function(e){var t=e.game,v=(e.SX,e.SY,e.SW),g=e.SH,y=e.WW,m=e.WH,S=e.step,E=d.getQuadTreesObj();if(E.Asteroids)for(var x=t.drones,T=x.length,_=0;_<T;_++){var I=x[_],M=l.GetPlayerByGuidOrEmptyArray(I.ownerGuid,e),L=M[0];L&&L.cloaked&&(L=null),(h+=.002)>.1&&(h=.1),I.vel.getLength()>I.maxVel&&I.vel.setLength(I.maxVel);var b=a.default(I,I.angle,c.getGenericAvoidance(I,e,[E.SpacePortCannons],M));I.vel.add(b.avoidance),I.avoidance=b,I.angle=n.normalizeRadianAngle(I.angle),o.default(I,S),r.shift(I,y-.2*v,m-.2*g,.2*v,.2*g),i.default(t,I,!0),s.wormhole(I,e);var w=E.queryTreesVec([3,5,7,14],I.pos,.5*v*.7,.5*g*.7);w=w.concat(E.queryTreeVecIgnoreGuid(4,I.pos,.5*v*.7,.5*g*.7,I.ownerGuid));var R=L?A.distanceBetweenVectors(I.pos,L.pos):0,P=L?n.wrapTargetPos(y,m,I.pos,L.pos):t.player[0]?t.player[0].pos:t.asteroids[0].pos,O=!1;w.length>0&&R<450&&(O=f.getLineOfSight(I.pos,w[0]));var C=w.length>0&&O;if(I.bulletsFired>0&&(I.bulletsFired-=.05*S),!C&&R<500)h=.018;else{var G=C?w[0].pos:P,N=A.distanceBetweenVectors(G,I.pos);if(N<t.resW){var B=.07;N<120&&(h=.01,B=.18);var F=Math.atan2(G.y-I.pos.y,G.x-I.pos.x);if(I.turnAcc=n.angleDelta(I.angle,F)*B,I.angle+=I.turnAcc*S,C&&I.bulletsFired<I.maxBullets){var D=new u.Vector(0,0);D.setLength(I.vel.getLength()+10),D.setAngle(I.angle+.02*(Math.random()-.5));var V=p.createBullet(42,I);r.shift(V,y,m),t.bullets.push(V),I.bulletsFired++}}}I.thrust.setLength(h),I.thrust.setAngle(I.angle),I.vel.add(I.thrust)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(13),r(25)],void 0===(n=function(e,t,r,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.game,e.WW,e.WH;if(t.keyCodes.CHARGE&&t.chargeTimerValue<1){t.chargeTimerValue=t.chargeTimer;var s=new r.Vector(1.2*t.vel.x,1.2*t.vel.y);s.mult(.5);var A=new r.Vector(t.pos.x+Math.cos(t.angle+Math.PI)*(t.radius+9+1),t.pos.y+Math.sin(t.angle+Math.PI)*(t.radius+9+1)),u=o({type:3,guid:a.getGuid(),vel:s,timer:t.chargeTimer,totalTime:t.chargeTimer,radius:9,life:10},n.setImovableDefaults(i.BallCreator(A.x,A.y,9,9)));e.game.charges.push(u)}t.chargeTimer>0&&t.chargeTimerValue--}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.comp[0].vertex,n=e.bulletWeaponLevel,o=[];n>2&&((t=r.midpoint(a[0],a[1],.6)).subtr(e.pos),o.push(t));n>3&&((t=r.midpoint(a[0],a[2],.6)).subtr(e.pos),o.push(t));n>4&&((t=r.midpoint(a[0],a[1],.9)).subtr(e.pos),o.push(t));n>5&&((t=r.midpoint(a[0],a[2],.9)).subtr(e.pos),o.push(t));return o}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(7),r(27),r(5)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.SX,o=e.SY,i=e.SW,s=e.SH,A=n.getQuadTreesObj();if(A.Asteroids){for(var u=A.Asteroids.queryInt(new r.Rectangle(t,o,i,s)),l=[],c=0;c<u.length;c++){var d=u[c];12===d.type&&l.push(d)}var p=a.default(e,e.angle,l);e.avoidance=p,e.vel.add(p.avoidance)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(11),r(2),r(20),r(16),r(18),r(27),r(6),r(81),r(27),r(5),r(44),r(54)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=.1;t.default=function(e){var t=e.game,h=(e.SX,e.SY,e.SW),v=e.SH,g=e.WW,y=e.WH,m=e.step,S=t.enemies,E=S.length,x=c.getQuadTreesObj();if(x.Asteroids){for(var T=0;T<E;T++){var _=S[T];(f+=.002)>.1&&(f=.1),_.thrust.setLength(f),_.thrust.setAngle(_.angle),_.vel.add(_.thrust),_.vel.mult(.99),_.vel.getLength()>_.maxVel&&_.vel.setLength(_.maxVel);var I=s.default(_,_.angle,l.getGenericAvoidance(_,e,[x.SpacePortCannons],[]));_.vel.add(I.avoidance),_.avoidance=I,_.angle=A.normalizeRadianAngle(_.angle),o.default(_,m),r.shift(_,g-.2*h,y-.2*v,.2*h,.2*v),n.default(t,_,!0),i.wormhole(_,e);var M=x.queryTreesVec(_.guid%2==0?[4,8,6,17,7,14,5,18]:[18,8,4,6,17,7,14,5],_.pos,.5*h,.5*v,!0);_.bulletsFired>0&&(_.bulletsFired-=.05*m);for(var L=null,b=null,w=0;w<M.length;w++){var R=M[w];if(!R.cloaked){b=R,L=R.pos;break}if(a.distanceBetweenVectors(R.pos,_.pos)<180){b=R,L=R.pos;break}}if(L){var P=a.distanceBetweenVectors(L,_.pos);if(P<t.resW){var O=.05;P<100&&(f=.01,O=.15);var C=Math.atan2(L.y-_.pos.y,L.x-_.pos.x);if(_.turnAcc=A.angleDelta(_.angle,C)*O,_.angle+=_.turnAcc*m,_.bulletsFired<_.maxBullets+5*p.getUpgradeLevel(_)){var G=d.createBullet(42,_);r.shift(G,g,y),t.bullets.push(G),_.bulletsFired++,(b.inSafeZone?Math.random()>.95:Math.random()>.986-.02*p.getUpgradeLevel(_))&&t.rockets.push(u.createRocket(_,Math.random()>.66&&b))}}}}return"enemies"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(2),r(16),r(11),r(243),r(64),r(129),r(129),r(7),r(27),r(27),r(5),r(128)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTAR_GRID_RES=void 0;var v=function(e,t,r){return r?Math.min(e.gridX,t.gridX):Math.min(e.gridY,t.gridY)},g=function(e,t,r){return r?Math.max(e.gridX,t.gridX):Math.max(e.gridY,t.gridY)};t.ASTAR_GRID_RES=4;var y=function(e,r,a,n,i){void 0===i&&(i=2);var s=v(r,a,!0)+-.5*i,l=g(r,a,!0)+.5*i,d=v(r,a,!1)+-.5*i,p=g(r,a,!1)+.5*i,f=(A.getSectorSize(e.WW,e.WH).w,(l-s)*t.ASTAR_GRID_RES),h=(p-d)*t.ASTAR_GRID_RES,y=new c.Rectangle(s/A.RESOLUTION,d/A.RESOLUTION,l/A.RESOLUTION-s/A.RESOLUTION,p/A.RESOLUTION-d/A.RESOLUTION),m=n.queryInt(y);if(e.game.player[0]){var S=o({},e.game.player[0]);S.radius=2.5*S.radius,m.push(S)}return{allPass:!1,res:u.default(t.ASTAR_GRID_RES,e,f,h,m,s,d),fromX:s,fromY:d}},m=function(e){for(var t=[],r=e.length,a=0;a<r;a++)t.push({x:e[a].y,y:e[a].x});return t},S=null,E=0,x=0,T=null,_=1,I=0,M=6,L=M;t.default=function(e){e.keyCodes;var o,u=e.game,c=e.WW,v=e.WH,g=(e.SX,e.SY,e.SW,e.SH,e.step),b=e.stepMS,w=f.getQuadTreesObj();if(w.Asteroids){var R=u.wayPoints;_=1,I+=b;for(var P=u.npcs,O=P.length,C=0;C<O;C++){var G=P[C],N=P[C-1];R[G.currentWayPointIndex];if(R.length>0)if(0===C){var B=A.getPoistionVecXYinGrid(G.pos);if(I>200||!T||S&&1===S.length||B.x!==T.x||B.y!==T.y){I=0;var F={gridX:B.x,gridY:B.y};M=Math.min(R.length-1-G.currentWayPointIndex,M),L>M&&(L=M);var D=R[G.currentWayPointIndex+L];if(D){var V=y(e,F,D,w.Asteroids,6),X=s.default();E=V.fromX,x=V.fromY;var H=l.transformPosToGrid(e,G.pos.x,G.pos.y,V.fromX,V.fromY,t.ASTAR_GRID_RES),k={x:(D.gridX-V.fromX)*t.ASTAR_GRID_RES,y:(D.gridY-V.fromY)*t.ASTAR_GRID_RES},W=new X.Graph(V.res,{diagonal:!0}),U=W.grid[H.y][H.x],Y=W.grid[k.y][k.x];if(S=m(X.astar.search(W,U,Y,null)),u.debug&&(u.debug.graphMap={graphMap:S,x:E,y:x,grid:V.res,wp:D,wpStart:B}),S&&S.length<L)if(S.length>0){L<M&&L++;for(var z=0;z<O;z++)P[z].currentWayPointIndex++}else _=.1,L>2?L--:L=M;S.length>0&&(T=B)}}var j=S[Math.min(S.length-1,3)];if(j){var q=A.gridPosToWorld(j.x/t.ASTAR_GRID_RES+E,j.y/t.ASTAR_GRID_RES+x);Math.atan2(q.y-G.pos.y,q.x-G.pos.x)}else if(T){q=A.gridPosToWorld(T.x,T.y,c,v);Math.atan2(q.y-G.pos.y,q.x-G.pos.x),_=0}}else{Math.atan2(N.pos.y-G.pos.y,N.pos.x-G.pos.x);var K=r.distanceBetweenVectors(N.pos,G.pos);K<3*G.radius?_=0:K>7*G.radius&&(_=1.3)}else{var Z=d.default(G,G.angle,p.getGenericAvoidance(G,e,i([w.Npcs,w.Player],0===(null===(o=null==G?void 0:G.miningRig)||void 0===o?void 0:o.minedMinerals)?[w.SpacePortCannons]:[]),[]));G.vel.add(Z.avoidance),G.avoidance=Z}G.damageTaken?G.boost<100&&(G.boost+=20):G.boost>0?(G.thrust.setLength(.35),G.boost--):G.thrust.setLength(.1),h.default(G,e),G.thrust.setAngle(G.angle),G.vel.add(G.thrust);var Q=G.vel.getLength();G.boost<1?Q>G.maxVel*_&&G.vel.setLength(G.maxVel*_):Q>3*G.maxVel&&G.vel.setLength(3*G.maxVel),G.vel.mult(.98),a.default(G,g),n.shift(G,c,v),G.damageTaken=!1}return"npc"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.sqrt(2);t.default=function(){function e(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}var t={search:function(r,a,n,i){r.cleanDirty();var s=(i=i||{}).heuristic||t.heuristics.manhattan,A=i.closest||!1,u=new o(function(e){return e.f}),l=a;for(a.h=s(a,n),r.markDirty(a),u.push(a);u.size()>0;){var c=u.pop();if(c===n)return e(c);c.closed=!0;for(var d=r.neighbors(c),p=0,f=d.length;p<f;++p){var h=d[p];if(!h.closed&&!h.isWall()){var v=c.g+h.getCost(c),g=h.visited;(!g||v<h.g)&&(h.visited=!0,h.parent=c,h.h=h.h||s(h,n),h.g=v,h.f=h.g+h.h,r.markDirty(h),A&&(h.h<l.h||h.h===l.h&&h.g<l.g)&&(l=h),g?u.rescoreElement(h):u.push(h))}}}return A?e(l):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var a=r,n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(n+o)+(a-2)*Math.min(n,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function a(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var a=0,o=e[r];a<o.length;a++){var i=new n(r,a,o[a]);this.grid[r][a]=i,this.nodes.push(i)}}this.init()}function n(e,t,r){this.x=e,this.y=t,this.weight=r}function o(e){this.content=[],this.scoreFunction=e}return a.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)t.cleanNode(this.nodes[e])},a.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)t.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},a.prototype.markDirty=function(e){this.dirtyNodes.push(e)},a.prototype.neighbors=function(e){var t=[],r=e.x,a=e.y,n=this.grid;return n[r-1]&&n[r-1][a]&&t.push(n[r-1][a]),n[r+1]&&n[r+1][a]&&t.push(n[r+1][a]),n[r]&&n[r][a-1]&&t.push(n[r][a-1]),n[r]&&n[r][a+1]&&t.push(n[r][a+1]),this.diagonal&&(n[r-1]&&n[r-1][a-1]&&t.push(n[r-1][a-1]),n[r+1]&&n[r+1][a-1]&&t.push(n[r+1][a-1]),n[r-1]&&n[r-1][a+1]&&t.push(n[r-1][a+1]),n[r+1]&&n[r+1][a+1]&&t.push(n[r+1][a+1])),t},a.prototype.toString=function(){for(var e=[],t=this.grid,r=0;r<t.length;r++){for(var a=[],n=t[r],o=0;o<n.length;o++)a.push(n[o].weight);e.push(a.join(" "))}return e.join("\n")},n.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},n.prototype.getCost=function(e){return e&&e.x!=this.x&&e.y!=this.y?1.41421*this.weight:this.weight},n.prototype.isWall=function(){return 0===this.weight},o.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,a=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(a)))break;this.content[r]=t,this.content[e]=a,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],a=this.scoreFunction(r);;){var n,o=e+1<<1,i=o-1,s=null;if(i<t){var A=this.content[i];(n=this.scoreFunction(A))<a&&(s=i)}if(o<t){var u=this.content[o];this.scoreFunction(u)<(null===s?a:n)&&(s=o)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=r,e=s}}},{astar:t,Graph:a}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(18),r(17),r(3),r(5)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(e){var t=e.game;e.step,e.SW,e.SH,e.SX,e.SY,e.WW,e.WH;if(++i>200){i=0;for(var A=0;A<t.anomlies.length;A++){if(29===(v=t.anomlies[A]).type){var u=o.getQuadTreesObj().Asteroids.queryVec(v.pos,400,400);u.length>20&&r.wormhole(u[0],e,!0);break}}}if(t.asteroids.length>n.MAX_NUM_ASTEROIDS)for(A=0;A<t.asteroids.length;A++){(c=t.asteroids[A]).remove=!0;break}else if(t.asteroids.length<100&&e.IS_MULTIPLAYER){var l=a.default(e,50,60,120);for(A=0;A<l.length;A++){var c=l[A];r.wormhole(c,e,!0),t.asteroids.push(c)}}if(t.IS_PROCEDURAL){var d=t.procedural.boundsSS,p=t.spaceFog;for(A=0;A<p.length;A++){var f=p[A];if(!d.intersectsPoint({x:f.x,y:f.y})){t.spaceFog.splice(A,1);break}}var h=t.anomlies;for(A=0;A<h.length;A++){var v=h[A];if(!d.intersectsPoint(v.pos)){t.anomlies.splice(A,1);break}}if(t.procedural.map.MOVED_XY_ABS_DIST_CELLS<10){var g=t.anomalyPairs;for(A=0;A<g.length;A++){var y=g[A];if(!d.intersectsPoint(y.in.pos)&&!d.intersectsPoint(y.out.pos)){t.anomalyPairs.splice(A,1);break}}}var m=t.asteroidBelts;for(A=0;A<m.length;A++){var S=m[A];if(!d.intersectsPoint({x:S.x,y:S.y})){t.asteroidBelts.splice(A,1);break}}var E=e.game.ancients;for(A=0;A<E.length;A++){var x=E[A];if(!d.intersectsPoint(x.pos)){e.game.ancients=[],e.game.ancientBlocks=[];for(var T=x.rooms,_=T.length,I=0;I<_;I++){switch(T[I].inhabitantType){case 17:for(var M=t.spaceSnake.length,L=0;L<M;L++){var b=t.spaceSnake[A];s(b.segments,x.guid)>0&&0}break;case 18:s(e.game.spaceSquids,x.guid);break;case 19:s(e.game.spaceSpiders,x.guid)}}}}}return"cleanup"};var s=function(e,t){for(var r=e.length,a=0,n=0;n<r;n++){var o=e[n];o.ownedByStructureGuid===t&&(o.remove=!0,o.ownedByStructureGuid=null,o.ownedByStructureType=null,a++)}return a}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(16),r(20),r(11),r(14)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.game,i=e.step,s=e.WW,A=e.WH,u=t.charges,l=u.length,c=0;c<l;c++){var d=u[c];d.timer-=i,d.timer<3?(o.addForceExplosion(t,d.pos.x,d.pos.y,750,16),d.timer<0&&(d.remove=!0)):(d.vel.mult(.98),d.vel.limit(4),r.default(d,i),n.shift(d,s,A),a.default(t,d,!1))}return"Charges"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(11),r(5),r(24)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new r.Vector(0,0);t.default=function(e){var t=e.game,r=(e.WW,e.WH,e.step,n.getQuadTreesObj());if(r.Player){for(var s=t.spaceFog,A=s.length,u=0;u<A;u++){var l=s[u];if(a.onStageXY(e,l.x,l.y,l.radius)&&(i.set(l.x,l.y),l.fire))for(var c=r.queryTreesVec([4,8,3,5,7,6],i,l.radius,l.radius),d=0;d<c.length;d++){var p=c[d];if(39===p.type&&Math.random()>.9)p.damageTaken=!0;o.DamageItem(p,.3)}}return"fog"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(133),r(5),r(12),r(23)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(e){var t=e.step,s=r.updateEntityList(e),A=a.___getQtreeList(),u=[],l=e.game.IS_PROCEDURAL&&e.game.proceduralBounds,c=e.game.IS_PROCEDURAL&&e.game.procedural.boundsSS;i=0;for(var d=0;d<s.length;d++){var p=s[d],f=A[d];if(p.keepEvaluator&&p.keepEvaluator(e))n.LOG_GL_FIXED(o.TypesToString(f.itemType),"Qtree kept");else{f.reset(),f.setup((p.largeProceduralBounds?c:l)||p.bounds,p.cap,p.type,p.maxDepth,p.AABB_VELOCITY_BASED);var h=p.list,v=h.length;if(i+=v,l)for(var g=0;g<v;g++){(y=h[g]).inTree=!0,!1===f.insert(y,t)&&(y.inTree=!1,u.push(y))}else for(g=0;g<v;g++){var y;(y=h[g]).inTree=!0,!1===f.insert(y,t)&&(y.inTree=!1)}A[d]=f}}return e.game.proceduralRemovalData=u,i}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(133),r(134),r(136),r(5)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.___getQtreeList(),t=r.getEntityList(),i=a.getIntersectionData();return n.GetQuadtreeOnTreeIntersections(e,t,i)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11),r(1)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new n.Vector(0,0);t.default=function(e,t,n){if(r.resolve(n.step,e,t))return a.shift(e,n.WW,n.WH),a.shift(t,n.WW,n.WH),!0}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=e.radius,i=t.radius;if(11===e.type){var s=e;o=s.cannons.length<=1?0:o*(s.cannons.length/7)*.6}if(11===t.type){var A=t;i=A.cannons.length<=1?0:i*(A.cannons.length/7)*.6}r.resolve(n.step,e,t)&&(a.shift(e,n.WW,n.WH),a.shift(t,n.WW,n.WH))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(r.resolve(n.step,e,t))return a.shift(e,n.WW,n.WH),a.shift(t,n.WW,n.WH),e.vel.mult(.1),!0}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11),r(253),r(3),r(14)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,s){var A=e,u=t;if(A.shields>3)n.default(e,u,s);else if(u.shields>3)n.default(u,e,s);else for(var l=A.vel.getLength(),c=u.vel.getLength(),d=l<3&&c<3,p=0;p<3;p++){var f=u.comp[0].vertex[p],h=A.comp[0].vertex[p];if(r.fine(A.comp[0].vertex.length,A.comp[0].vertex,f)||r.fine(u.comp[0].vertex.length,u.comp[0].vertex,h)){var v=0===e.type?e:0===t.type?t:null,g=void 0;v&&(g=v.pos.toPoint()),e.type,e.radius,t.type,t.radius,r.resolve(s.step,e,t)&&(g&&v.pos.setFromVec(g),a.shift(e,s.WW,s.WH),a.shift(t,s.WW,s.WH),d||(A.life--,A.damageTaken=!0,u.life--),A.score-=o.PLAYER_SCORE_PLAYER_COLLIDED_WITH_SHIP,d||i.addForceExplosion(s.game,f.x,f.y,30,0),A.life<1&&u.level++,u.life<1&&A.level++);break}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){r.resolve(n.step,e,t)&&(a.shift(e,n.WW,n.WH),a.shift(t,n.WW,n.WH))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11),r(84),r(255),r(256),r(3),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,u){var l=e;if(l.shields>3)return o.default(e,t,u);var c=l.comp[0].vertex,d=t.type,p=e.vel.getLength(),f=p<5;if(r.distanceBetweenVectors(l.pos,t.pos)<1.2*l.radius+t.radius){var h=!1;if(t.radius<e.radius){if(i.default(l.comp[0].vertex[0],l.comp[0].vertex[1],t)||i.default(l.comp[0].vertex[1],l.comp[0].vertex[2],t)||i.default(l.comp[0].vertex[2],l.comp[0].vertex[0],t))return r.resolve(u.step,l,t),!0}else for(var v=0;v<c.length;v++){var g=c[v];if(r.distanceBetweenXYXY(g.x,g.y,t.pos.x,t.pos.y)<t.radius){h=!0,12===d&&(f||A.addForce(u.game,g.x,g.y,30,0,!0));break}}if(h){if(12===d)return f||(t.life--,e.life-=.2*Math.round(p),l.damageTaken=!0),r.resolve(u.step,l,t),l.score-=s.PLAYER_SCORE_PLAYER_COLLIDED_WITH_ASTEROID(t.radius),a.shift(e,u.WW,u.WH),a.shift(t,u.WW,u.WH),!0;n.default(t,l,u)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11),r(84),r(24)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){if(12===t.type){if(r.resolve(i.step,e,t))return a.shift(e,i.WW,i.WH),a.shift(t,i.WW,i.WH),o.DamageItem(t,20),!0}else r.distanceBetweenVectors(e.pos,t.pos)<e.radius+t.radius&&n.default(t,e,i)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var a=r.pos,n=r.radius,o=e.x-a.x,i=e.y-a.y,s=t.x-a.x,A=(t.y-a.y-i)/(s-o),u=i-A*o,l=Math.pow(n,2)*Math.pow(A,2)+Math.pow(n,2)-Math.pow(u,2);if(l<0)return!1;var c=(-A*u+Math.sqrt(l))/(Math.pow(A,2)+1),d=(-A*u-Math.sqrt(l))/(Math.pow(A,2)+1);return[{x:c+a.x,y:A*c+u+a.y},{x:d+a.x,y:A*d+u+a.y}]}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(2),r(3),r(1)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return e.life>=t.life&&e.availableElectroBastardRays>=t.electrobastardray&&e.availableMissiles>=t.missiles&&e.availableRockets>=t.rockets&&e.boost>=t.boost&&e.homingBullets>=t.homingBullets&&e.availableMines>=t.proximityMines&&e.availableBullets>=t.bullets};t.default=function(e,t,n){var i=t,s=e;if(r.coarse(i,e)){var A=i.reparations,u=o(s,A);if(!s.inSafeZone){s.cloaked=!1;var l={life:a.NOTIFICATION_LIFE,type:67,onlyForGuid:s.guid};n.game.notifications.unshift(l);var c={life:a.NOTIFICATION_LIFE,type:68,onlyForGuid:s.guid};if(n.game.notifications.unshift(c),!u){var d={life:a.NOTIFICATION_LIFE,type:70,onlyForGuid:s.guid};n.game.notifications.unshift(d)}s.inSafeZone=!0}var p=Math.random()>.995,f=!1;if(s.life<A.life?(s.life++,f=!0):s.availableBullets<A.bullets?s.availableBullets+=100:s.availableElectroBastardRays<A.electrobastardray?(s.availableElectroBastardRays+=.1,f=!0):s.availableMissiles<A.missiles?(p&&s.availableMissiles++,f=!0):s.availableRockets<A.rockets?(p&&s.availableRockets++,f=!0):s.boost<A.boost?(s.boost++,f=!0):s.homingBullets<A.homingBullets?(s.homingBullets++,f=!0):s.availableMines<A.proximityMines&&(s.availableMines++,f=!0),u=o(s,A),f&&!u&&(i.shipChargeHash[e.guid]=!0),u&&f){var h={life:a.NOTIFICATION_LIFE,type:71,onlyForGuid:s.guid};n.game.notifications=n.game.notifications.filter(function(e){return e.type!==h.type}),n.game.notifications.unshift(h)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(3),r(23),r(12),r(24),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){if(r.coarse(e,t)&&r.fine(3,t.comp[0].vertex,e.pos)){var u=e,l=t;(l.guid!==u.ownerGuid||u.life<a.ROCKET_START_LIFE-100)&&(n.ShipLike(u.type)&&o.LOG_GL_FIXED_FORCED("Err rocket is not ship","Type ERROR"),u.remove=!0,i.DamageItem(l,45),l.inSafeZone&&u.vel.mult(.4),0===l.type&&u.vel.mult(.1),l.vel.add(u.vel),l.life<1&&(l.killedByGuid=u.ownerGuid),s.addForceExplosion(A.game,u.pos.x,u.pos.y,90,2))}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(24),r(14)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o){if(r.coarse(e,t)){if(e.remove=!0,o.IS_MULTIPLAYER&&!o.IS_SERVER)return;a.DamageItem(t,90),n.addForceExplosion(o.game,t.pos.x,t.pos.y,70,1)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(24),r(21),r(14),r(93)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,s){if(r.coarse(e,t)){var A=i.circleLineColl(e,t);if(A.collided){if(e.remove=!0,s.IS_MULTIPLAYER&&!s.IS_SERVER)return;switch(e.type){case 4:case 6:a.DamageItem(t,1),t.vel.mult(.8),n.createDust(A.cp,4,20,s);break;case 9:case 8:a.DamageItem(t,50,.7),t.vel.mult(.1),t.vel.add(e.vel.mult(1.1)),n.createDust(A.cp,48,28,s)}t.stunned=!0,t.life<1||o.addForce(s.game,A.cp.x,A.cp.y,30,0,!0)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(2),r(56),r(1),r(6),r(24),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=new o.Vector(0,0);t.default=function(e,t,o){if(12===t.type)a.coarse(t,e)&&(e.remove=!0,n.removeAsteroid(t,o,null),o.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius});else if(20===t.type){if(a.coarse(t,e)){var l=t;e.remove=!0,o.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius},s.DamageItem(l,290),t.vel.add(e.vel);for(var c=0;c<33;c++)u.setFromVec(e.pos),u.subtract(l.pos),u.mult(.5*Math.random()+.4),i.rotateVector(u,-l.angle,u),i.rotateVector(u,(Math.random()-.5)*Math.PI*.12,u),l.damages.push(u.clone()),l.damages.length>200&&l.damages.shift();A.addForceExplosion(o.game,e.pos.x,e.pos.y,90,2)}}else 21!==t.type&&22!==t.type||a.coarse(t,e)&&(A.addForceExplosion(o.game,e.pos.x,e.pos.y,90,2),e.remove=!0,s.DamageItem(t,300))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(3),r(76),r(3),r(263),r(93),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,u){var l=t,c=e;l.comp[0].vertex;if(!(l.guid===c.ownerGuid&&c.life>a.BULLET_OWNER_IMMUNE_THRESHOLD)){var d=l.shields>0?s.circleLineColl(e,l):i.triangleLineColl(e,l);if(d.collided&&(A.addForceExplosion(u.game,d.cp.x,d.cp.y,30,0),l.shields<1&&(t.life--,l.score-=o.PLAYER_SCORE_STRUCK_BY_BULLET,l.damageTaken=!0),e.remove=!0,t.life<1)){l.killedByGuid=c.ownerGuid;var p=c.ownerGuid,f=n.findPlayerWithGuid(u,p);f&&(f.score+=a.PLAYER_SCORE_KILLED_OTHER_SHIP),t.remove=!0,A.addForceExplosion(u.game,d.cp.x,d.cp.y,90,2),u.game.eventMap[r.GAME_EVENT.EXPLOSION]={y:d.cp.x,x:d.cp.y}}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(34),r(135)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triangleLineColl=void 0;var o=new r.Vector(0,0),i=[0,1,2],s=[1,2,0];t.triangleLineColl=function(e,t){o.set(e.pos.x+e.vel.x,e.pos.y+e.vel.y);for(var r=t.comp[0].vertex,A=[],u=0;u<3;u++){var l=r[i[u]],c=r[s[u]],d=a.LineIntersectsToPoint(l.x,l.y,c.x,c.y,e.pos.x,e.pos.y,o.x,o.y);d&&A.push(d)}return 0===A.length?{collided:!1}:{collided:!0,cp:n.getCorrectCollisionPoint(A,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(1),r(6),r(76),r(24),r(3),r(93),r(14)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=new a.Vector(0,0);t.default=function(e,t,a){var c=A.circleLineColl(e,t);if((12===t.type||20===t.type||22===t.type||21===t.type)&&c.collided){if(20===t.type&&6===e.type)return;var d=c.cp,p=4===e.type,f=e;if(20===t.type){var h=t,v=h.aggressionForGuidsHash[f.ownerGuid]||0;h.aggressionForGuidsHash[f.ownerGuid]=v+1,v>=20&&(h.weaponsActiveTimerMS=5e3),l.setFromVec(d),l.subtract(h.pos),l.mult(.8*Math.random()+.1),n.rotateVector(l,-h.angle,l),h.damages.push(l.clone()),h.damages.length>200&&h.damages.shift(),i.DamageItem(t,5)}else a.game.currentLevel<14?i.DamageItem(t,p?25:5):i.DamageItem(t,5);if(e.remove=!0,t.life<0){if(12===t.type&&p){var g=f.ownerGuid;(y=o.findPlayerWithGuid(a,g))&&(y.score+=s.PLAYER_SCORE_REMOVED_ASTEROID(t.radius))}a.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius}}else{var y;if(p)g=f.ownerGuid,(y=o.findPlayerWithGuid(a,g))&&(y.score+=s.PLAYER_SCORE_BULLET_HIT_ASTEROID);u.addForce(a.game,d.x,d.y,70,0,!0),a.game.eventMap[r.GAME_EVENT.SPACE_BULLET_IMPACT]={x:d.x,y:d.y}}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(24),r(21),r(14)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){if(r.coarse(e,t)){if(e.remove=!0,i.IS_MULTIPLAYER&&!i.IS_SERVER)return;for(var s=0;s<8;s++)n.createDust(e.pos,1,0,i,Math.random()-.5,Math.random()-.5);a.DamageItem(t,1),o.addForceExplosion(i.game,t.pos.x,t.pos.y,30,0)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(13),r(25),r(2)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){var u=null;if(12===e.type&&21===t.type)u=e;else{if(12!==t.type||21!==e.type)return void(a.coarse(e,t)&&s.resolve(A.step,e,t));u=t}if(A.game.rockFormations.length>200)a.coarse(e,t)&&s.resolve(A.step,e,t);else if(s.coarseVecotr(e.pos,.85*e.radius,t.pos,.85*t.radius)){u.remove=!0;var l=o(o({minerals:u.radius,isLV426:u.isLV426},n.setImovableDefaults(i.BallCreator(u.pos.x,u.pos.y,u.radius,20*u.m))),{netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},vel:new r.Vector(0,0),staticPos:u.pos.clone(),life:u.life,sides:u.sides,angle:u.angle,guid:s.getGuid(),angleVel:0,radius:u.radius,type:21});u.life=0,A.game.rockFormations.push(l)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(11)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(r.resolve(n.step,e,t)&&(a.shift(e,n.WW,n.WH),a.shift(t,n.WW,n.WH),35===e.type)){var o=e;o.target&&o.target.guid===t.guid&&(o.aquireTimer=o.timerT+1)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(14)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=t.pos.x-e.pos.x,i=t.pos.y-e.pos.y,s=Math.sqrt(o*o+i*i);if(e.radius+t.radius>=s){var A;36===e.type&&((A=e).activationTimer<=0?(a.addForceExplosion(n.game,A.pos.x,A.pos.y,510,8),A.remove=!0):r.resolve(n.step,e,t)),36===t.type?(A=t).activationTimer<=0||36===e.type?(a.addForceExplosion(n.game,A.pos.x,A.pos.y,510,8),A.remove=!0):r.resolve(n.step,e,t):(A=e).activationTimer<=0&&(t.life=.5*t.life,t.life-=38,t.stunned=!0,t.life<=0&&(t.remove=!0))}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(2),r(24),r(14)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){a.coarse(t,e)&&(n.DamageItem(t,5),e.remove=!0,t.life<0&&(t.remove=!0),o.addForceExplosion(i.game,e.pos.x-e.vel.x,e.pos.y-e.vel.y,30,0),i.game.eventMap[r.GAME_EVENT.SPACE_BULLET_IMPACT]={x:e.pos.x,y:e.pos.y})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30),r(2),r(14)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o){a.coarse(t,e)&&(t.remove=!0,e.remove=!0,t.life<0&&(t.remove=!0),n.addForceExplosion(o.game,e.pos.x,e.pos.y,90,2),o.game.eventMap[r.GAME_EVENT.SPACE_BULLET_IMPACT]={x:e.pos.x,y:e.pos.y})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,a){r.resolve(a.step,e,t)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,a){r.resolve(a.step,e,t)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(127),r(51)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifier=void 0,t.verifier=function(e){var t=function(e,t,n){var o="Intersection "+e+": "+t.split("_").map(function(e){return r.QtEntitiesToString(parseInt(e,10))}).join(" > ");if(n)throw o;a.TestLogger(o,!1)},n={},o={},i=function(r){o[r]=r+"",e[r].map(function(e){o[e.type]=e.type+"";var a=r+"_"+e.type,i=e.type+"_"+r;n[a]&&t("duplicate",a,!0),n[i]&&t("duplicate",i,!0),n[a]=!0,n[i]=!0})};for(var s in e)i(s);for(var s in a.TestLogger("IntersectionData.",!0),o)for(var A in o)!n[s+"_"+A]||n[A+"_"+s]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(59),r(7),r(51)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.velocityAABBtest=void 0,t.velocityAABBtest=function(){var e=new r.QuadTreeInt32(new a.Rectangle(0,0,1e3,1e3),5,12,5,!1),t=new r.QuadTreeInt32(new a.Rectangle(0,0,1e3,1e3),5,4,5,!0),o=new r.QuadTreeInt32(new a.Rectangle(0,0,1e3,1e3),5,4,5,!1);e.insert({pos:{x:220,y:100},vel:{x:0,y:0},radius:25,Type:12,sleepingAABB:!1},1),t.insert({pos:{x:270,y:100},vel:{x:100,y:0},radius:1,Type:4,sleepingAABB:!1},1),o.insert({pos:{x:200,y:100},vel:{x:100,y:0},radius:1,Type:4,sleepingAABB:!1},1),e.intersectTree(t).length?n.TestLogger("AABB (swept)",!0):n.TestLogger("AABB (swept)",!1),e.intersectTree(o).length?n.TestLogger("AABB",!0):n.TestLogger("AABB",!1)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(48),r(7),r(70),r(51)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quadTreePointTest=void 0,t.quadTreePointTest=function(){var e=new a.Rectangle(0,0,1e3,100);i(new r.QuadTreeInt32Point(e,5,4),e),i(new n.QuadTreeUint16Point(e,5,4),e)};var i=function(e,t){for(var r=!0,a=0;a<998;a++){var n={pos:{x:.1*a,y:20}};e.insert(n)||(r=!1,o.TestLogger("qt point "+e.getRangeType()+" not inserted",!1),o.TestLogger("X:"+n.pos.x+" Y:"+n.pos.y,!1))}r&&o.TestLogger("tree insertion "+e.getRangeType(),!0);var i=e.queryInt(t).length;998!==i?(o.TestLogger("qt point query "+e.getRangeType(),!1),o.TestLogger(" expected 998",!1),o.TestLogger(" actual "+i,!1),o.TestLogger(" refs "+e.references.length,!1)):o.TestLogger("tree point query rect "+e.getRangeType(),!0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(70),r(48),r(51)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectIntersectionTests=void 0,t.rectIntersectionTests=function(){o(0,0,100,100,!0),o(0,100,100,100,!0),o(100,0,100,100,!0),o(100,100,100,100,!0),o(1.1,2.9,100,100,!0),o(.1,.9,100,100,!0),o(90.80000000000001,20,100,100,!0),o(-1,0,100,100,!1),o(101,0,100,100,!1),i(0,0,100,100,!0),i(0,100,100,100,!0),i(100,0,100,100,!0),i(100,100,100,100,!0),i(1.1,2.9,100,100,!0),i(.1,.9,100,100,!0),i(90.80000000000001,20,100,100,!0),i(-1,0,100,100,!1),i(101,0,100,100,!1)};var o=function(e,t,a,o,i,s,A){void 0===s&&(s=0),void 0===A&&(A=0);var u=[0,0,a,o],l=new Uint16Array(u);r.intersectsUintArr16XY(l,e,t)!==i?(n.TestLogger("intersectsUintArr16XY (uint16)",!1),n.TestLogger(u.join(",")+" rect (uint16)",!1),n.TestLogger([e,t].join(",")+" item (uint16)",!1)):n.TestLogger("rect intersection (uint16)",!0)},i=function(e,t,r,o,i,s,A){void 0===s&&(s=0),void 0===A&&(A=0);var u=[0,0,r,o],l=new Int32Array(u);a.intersectsInt32ArrXY(l,e,t)!==i?(n.TestLogger("intersectsInt32ArrXY (int32)",!1),n.TestLogger(u.join(",")+" rect (int32)",!1),n.TestLogger([e,t].join(",")+" item (int32)",!1)):n.TestLogger("rect intersection (int32)",!0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(34),r(1)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulletCircleTests=void 0,t.bulletCircleTests=function(){var e=new a.Vector(100,100),t=new a.Vector(0,0),n=new a.Vector(200,200);r.LineInterceptCircle(t,n,e,50)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(17),r(16),r(51)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collisiontests=void 0,t.collisiontests=function(){var e=a.createSingleAsteroid(20,{x:-100,y:100},{x:240,y:1.1},{life:1e4,sides:30}),t=a.createSingleAsteroid(100,{x:100,y:100},{x:1,y:1},{life:1e4});n.PositionUpdaterAutoSleep(e,1),n.PositionUpdaterAutoSleep(t,1),r.resolve(1,e,t)?o.TestLogger("fast impact test",!0):(o.TestLogger("fast impact test",!1),r.resolve(1,e,t));var i=a.createSingleAsteroid(10,{x:200,y:0},{x:0,y:0}),s=a.createSingleAsteroid(10,{x:190,y:0},{x:8,y:0});n.PositionUpdaterAutoSleep(i,1),n.PositionUpdaterAutoSleep(s,1),r.resolve(1,i,s)?o.TestLogger("slow impact test",!0):o.TestLogger("slow impact test",!1)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(23)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=e;if(o.life>10&&a.ShipLike(t.type)&&(s=t).guid===o.ownerGuid)return;var i=!1;switch(t.shape){case 0:i=r.distanceBetweenVectors(t.pos,e.pos)<t.radius;break;case 1:var s=t;i=r.fine(3,s.comp[0].vertex,e.pos);break;default:i=r.distanceBetweenVectors(t.pos,e.pos)<t.radius}if(i){e.pos.x-=e.vel.x*n.step,e.pos.y-=e.vel.y*n.step,o.collided=!0;var A=Math.PI*(Math.random()>.5?1.2:-1.2);e.vel.setAngle(e.vel.getAngle()+A),e.vel.mult(.01),a.ShipLike(t.type)?t.life-=2:t.life-=7}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(57)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){void 0===t&&(t=!1);for(var a=[],n=e.length,o=0;o<n;o++){var i=e[o];i.ownedByStructureType&&i.ownedByStructureGuid?a.push(i):i.inTree?a.push(i):t&&r.pool_put(i.type,i)}return a},n=0;t.default=function(e){var t=e.game;n=performance.now(),t.spaceSnake=function(e){for(var t=[],r=e.length,a=0;a<r;a++){var n=e[a];if(n.ownedByStructureType&&n.ownedByStructureGuid)t.push(n);else{for(var o=n.segments,i=o.length,s=!0,A=0;A<i;A++)if(!o[A].inTree){s=!1;break}s&&t.push(n)}}return t}(t.spaceSnake),t.asteroids=a(t.asteroids),t.rockFormations=a(t.rockFormations),t.spacePorts=function(e){for(var t=[],r=e.length,a=0;a<r;a++){for(var n=e[a],o=n.cannons,i=o.length,s=!0,A=0;A<i;A++)if(!o[A].inTree){s=!1;break}s&&t.push(n)}return t}(t.spacePorts),t.bullets=a(t.bullets,!0),t.rockets=a(t.rockets),t.npcs=a(t.npcs),t.spaceSquids=a(t.spaceSquids),t.spaceSpiders=a(t.spaceSpiders),t.enemies=a(t.enemies),t.charges=a(t.charges),t.proximityMines=a(t.proximityMines),t.spaceMines=a(t.spaceMines),t.spaceTurrets=a(t.spaceTurrets),t.destroyers=a(t.destroyers),t.flames=a(t.flames),n=performance.now()-n}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(20),r(1),r(6),r(2),r(13),r(21),r(5),r(2),r(18),r(27),r(16)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=[.2,.6],v=[];t.default=function(e){for(var t=e.game,g=e.step,y=(e.SX,e.SY,t.destroyers),m=i(t.spaceSquids,t.spaceSpiders,t.enemies),S=m.length>0?m[0]:null,E=0;E<y.length;E++){var x=y[E],T=0;if(S=l.getQuadTreesObj().queryTreesVec([7,14,3,5],x.pos,1200,1200,!0)[0]||S){var _=Math.atan2(S.pos.y-x.pos.y,S.pos.x-x.pos.x);if(v.push(.001*n.angleDelta(x.angle,_)*g),v.length>200){v.shift();for(var I=0,M=0;M<200;M++)I+=v[M];T=.005*I}c.distanceBetweenVectors(S.pos,x.pos)>x.radius+S.radius+500&&(x.acc.setLength(.06),x.acc.setAngle(x.angle))}x.radarAngle+=T,x.radarAngle+=.04*g,x.radarAngle=n.normalizeRadianAngle(x.radarAngle),x.angle+=T+100*x.angleVel,x.angle=n.wrapRadianAngle(x.angle);var L=p.default(x,x.angle,i(t.rockFormationSystemRadius,t.spacePorts));x.vel.add(L.avoidance);for(var b=0,w=0;w<2;w++)for(var R=0;R<3;R++){var P=s.midpoint(x.pos,x.comp[0].vertex[R],h[w]),O=x.cannons[b];O.pos.setFromVec(P),new a.Vector(100,0).setAngle(O.min),new a.Vector(100,0).setAngle(O.max);var C=S?S.pos:{x:5e3,y:5e3},G=S?Math.atan2(C.y-O.pos.y,C.x-O.pos.x):x.angle,N=x.angle+0,B=n.angleDelta(O.angle,G),F=O.baseAngle+N+G;(F>O.max&&F<O.min||F<O.max&&F>O.min)&&!0;var D=!1;if(B+O.baseAngle+N>O.baseMax+N?(D=!0,O.baseAngle-=.05):B+O.baseAngle+N<O.baseMin+N&&(D=!0,O.baseAngle+=.05),D||(O.baseAngle+=.12*n.angleDelta(O.angle,G)*g-T),O.baseAngle+N>O.baseMax+N?O.baseAngle=O.baseMax-.001:O.baseAngle+N<O.baseMin+N&&(O.baseAngle=O.baseMin+.001),O.angle=O.baseAngle+x.angle,O.min=O.baseMin+x.angle,O.max=O.baseMax+x.angle,O.fired)Math.random()>.8&&(O.fired=!1);else if(!D&&s.distanceBetweenXYXY(x.pos.x,x.pos.y,C.x,C.y)<1500){var V=new a.Vector(28,0);V.setAngle(O.angle);var X=o({ownerGuid:x.guid,owenerType:x.type,type:6,guid:s.getGuid(),pos:O.pos.clone(),vel:V,life:400,radius:1,homing:!1},A.setImovableDefaults(null));u.createDust(O.pos,3,2,e,.1*V.x,.1*V.y),e.game.bullets.push(X),O.fired=!0}b++}r.default(t,x,!0),d.wormhole(x,e),x.vel.getLength()>4&&x.vel.setLength(4),f.ShipPositionUpdater(x,g)}return"Destroyer"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var a=e.SX,n=e.SY,o=e.SW,i=e.SH;t.x=a-r,t.y=n-r,t.width=o+2*r,t.height=i+2*r};t.default=function(e){var t=e.game.screen;return r(e,t.rect,0),r(e,t.rectSS_200,200),r(e,t.rectSS_400,400),r(e,t.rectSS_600,600),r(e,t.rectSS_800,800),r(e,t.rectSS_1000,1e3),r(e,t.rectSS_1500,1500),r(e,t.rectSS_2000,2e3),"screenRect"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=t.init=void 0,t.init=function(e){var t=e.game,r=t.resW,a=t.resH;e.game.starMap=[];for(var n=0;n<2*a;n++){var o={x:Math.random()*r*2,alpha:Math.floor(255*Math.random())};t.starMap.push(o)}},t.resize=function(e){e.game.starMap=[],t.init(e)};var r=0;t.default=function(e){var t=e.game,a=e.step,n=e.SW;if(r>5*a){r=0;var o={x:Math.random()*n*2,alpha:255*Math.random()};t.starMap.shift(),t.starMap.push(o)}return r+=a,"starmap"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(11),r(20),r(16),r(18),r(285),r(12),r(7),r(57),r(14),r(1),r(44),r(48)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=new p.QuadTreeInt32Point(new A.Rectangle(0,0,10,10),5,24),h=new c.Vector(0,0);t.default=function(e){var t=e.game,A=e.step,c=e.WW,p=e.WH;e.SX,e.SY,e.SW,e.SH;if(t.menuSettings.particles&&!t.levelEditor){for(var v=t.particles,g=[],y=e.game.screen.rectSS_400,m=l.getForce2Tree().queryInt(y),S=0;S<m.length;S++){var E=m[S];1===E.type&&E.intensity>0&&i.particleForExplosion(.4*E.radius,E.pos.x,E.pos.y,t.particles)}var x=o.getAllAnomalies(e.game);for(S=0;S<x.length;S++){var T=x[S];if(e.game.screen.rectSS_2000.intersectsPoint(T.pos))for(var _=0;_<40;_++){T.positive?h.set(.1*T.radius,0):h.set(.9*T.radius+Math.random()*T.radius*.09,0),h.setAngle(Math.random()*Math.PI*2),h.add(T.pos);var I=d.createParticle(h.x,h.y,1*(Math.random()-.5),1*(Math.random()-.5),450+300*Math.random());v.push(I)}}var M,L=v.length,b=L>4e3;f.reset(),f.setup(e.game.screen.rectSS_600,5,24,4);for(S=0;S<L;S++)M=v[S],f.insert(M);l.FastForce2CachedReversed(f,e.game.screen.rectSS_600,13);for(S=0;S<L;S++)if((M=v[S]).life<0&&M.vel.getLength()<.01||Math.random()>.98)u.pool_put(M.type,M);else if(!b||S>400){M.life-=A;var w=M.vel,R=w.x*A,P=w.y*A;M.pos.x+=R,M.pos.y+=P,w.x*=.98,w.y*=.98,M.vel.mult(.99),o.wormhole(M,e),g.push(M)}else u.pool_put(M.type,M);b&&s.LOG_GL("PARTICLE CLEAN "+L+" TO "+g.length),t.particles=g;var O=t.customParticles;L=O.length;for(S=0;S<L;S++){var C=O[S];C.life-=A,n.default(C,A),C.vel.mult(.99),r.check(C,c,p)||C.life<0&&C.vel.getLength()<1||Math.random()>.98?(O.splice(S,1),S--,L--,C.remove=!0):(a.default(t,C,!1),o.wormhole(C,e))}return"particles"}t.particles=[]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(1),r(2),r(44),r(13),r(14)],void 0===(n=function(e,t,r,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customExplosion=t.particleForExplosion=void 0;t.particleForExplosion=function(e,t,r,a){if(!(a.length>6e3)){for(var o=0;o<e;o++){(u=n.createParticle(t,r,Math.random()-.5,Math.random()-.5,100*Math.random())).vel.setLength(Math.random()+1),a.push(u)}for(o=0;o<e;o++){(u=n.createParticle(t,r,15*(Math.random()-.5),15*(Math.random()-.5),50*Math.random())).vel.setLength(.1*Math.random()),a.push(u)}if(e>10)for(var i=0;i<4;i++)for(var s=[10*Math.random()-5,10*Math.random()-5,10*Math.random()-5,10*Math.random()-5],A=0;A<s.length;A+=2)for(o=0;o<80;o++){var u;(u=n.createParticle(t,r,s[A]+.1*Math.random(),-s[A+1]+.1*Math.random(),130*Math.random())).vel.setLength(.1*o),a.push(u)}}},t.customExplosion=function(e,t,n,s,A,u,l,c){if(!(c.length>5e3)){for(var d=0;d<e;d++){(v=o({type:23,guid:a.getGuid(),color:{r:s,g:A,b:u,a:l},life:100*Math.random(),radius:1,pos:new r.Vector(t,n),vel:new r.Vector(Math.random()-.5,Math.random()-.5)},i.setImovableDefaults(null))).vel.setLength(Math.random()+1),c.push(v)}for(d=0;d<e;d++){(v=o({type:23,guid:a.getGuid(),color:{r:s,g:A,b:u,a:l},radius:1,life:50*Math.random(),pos:new r.Vector(t,n),vel:new r.Vector(15*(Math.random()-.5),15*(Math.random()-.5))},i.setImovableDefaults(null))).vel.setLength(.1*Math.random()),c.push(v)}if(e>10)for(var p=0;p<4;p++)for(var f=[10*Math.random()-5,10*Math.random()-5,10*Math.random()-5,10*Math.random()-5],h=0;h<f.length;h+=2)for(d=0;d<80;d++){var v;(v=o({type:23,guid:a.getGuid(),color:{r:s,g:A,b:u,a:l},radius:1,life:130*Math.random(),pos:new r.Vector(t,n),vel:new r.Vector(f[h]+.1*Math.random(),-f[h+1]+.1*Math.random())},i.setImovableDefaults(null))).vel.setLength(.1*d),c.push(v)}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(287),r(288),r(139),r(289),r(3),r(65),r(21),r(290)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game,l=t.player;r.default(e),o.default(e);for(var c=0;c<l.length;c++){var d=l[c],p=d.keyCodes;if(d.vel.getLength()>2&&A.createDust(d.pos,1,1,e),d.guid===t.playerGuid&&s.addProximityDetectionToShip(d,e,!0),p.STRAFELEFT&&(a.default(e,d,.5*Math.PI,2),a.default(e,d,.5*Math.PI,2,-2*i.SHIP_LENGTH_RADIUS,-2*i.SHIP_LENGTH_RADIUS)),p.STRAFERIGHT&&(a.default(e,d,.5*-Math.PI,2),a.default(e,d,.5*-Math.PI,2,-2*i.SHIP_LENGTH_RADIUS,-2*i.SHIP_LENGTH_RADIUS)),p.LEFT&&(a.default(e,d,.5*Math.PI,2,-2*i.SHIP_LENGTH_RADIUS,-2*i.SHIP_LENGTH_RADIUS),a.default(e,d,.5*-Math.PI,3)),p.RIGHT&&(a.default(e,d,.5*-Math.PI,2,-2*i.SHIP_LENGTH_RADIUS,-2*i.SHIP_LENGTH_RADIUS),a.default(e,d,.5*Math.PI,3)),p.UP||p.BOOST){var f=0;f=p.BOOST&&d.boost>0?50:20,a.default(e,d,Math.PI+.2*(Math.random()-.5),f)}n.default(e,d),t.menuSettings.lazerSight&&u.AimPoint(d)}return"ship"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(44),r(21)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,n=t.rockets.length,o=0;o<n;o++)for(var i=t.rockets[o],s=0;s<8;s++)for(var A=0;A<8;A++){var u=r.createParticle(i.pos.x,i.pos.y,Math.random()-.5,Math.random()-.5,300);Math.random()>.97&&a.createDust(i.pos,Math.floor(3*Math.random()),1,e),t.particles.push(u)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(3),r(44)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new r.Vector(0,0),i=new r.Vector(0,0);t.default=function(e,t,r,s,A,u){void 0===A&&(A=0),void 0===u&&(u=0);for(var l=0;l<s;l++){i.set(0,0),o.set(t.vel.x,t.vel.y),i.setLength(4-o.getLength()),i.setAngle(t.angle+r),i.mult(Math.random());var c=n.createParticle(t.pos.x+Math.cos(t.angle)*-(a.SHIP_LENGTH_RADIUS+A),t.pos.y+Math.sin(t.angle)*-(a.SHIP_LENGTH_RADIUS+u),i.x,i.y,15*Math.random());e.game.particles.push(c)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(139)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game.drones,a=t.length,n=0;n<a;n++){var o=t[n];r.default(e,o)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(6),r(1),r(36)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AimPoint=void 0;var o=new a.Vector(0,0);t.AimPoint=function(e){o.set(2e3,0),o.setAngle(e.angle),o.add(e.pos);var t=n.rayIntersections(e.pos,o,r.normalizeRadianAngle(e.angle),e.guid);t.target?(e.aimPoint.x=t.pos.x,e.aimPoint.y=t.pos.y):(e.aimPoint.x=o.x,e.aimPoint.y=o.y)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,r=0;r<t.notifications.length;r++){var a=t.notifications[r];if(a.life--,a.life<0){t.notifications.splice(r,1);break}}return"notifications"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(16),r(138),r(6),r(125),r(6),r(1)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e,t){for(var a=e.length,n=0;n<a;n++)r.PositionUpdaterPoint(e[n],t)},u=new s.Vector(0,0),l=function(e,t){u.set(e.netvel.x,e.netvel.y),u.mult(t),e.netpos.x+=u.x,e.netpos.y+=u.y},c=function(e,t,r,a,o,s,A,u){void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===o&&(o=!1),void 0===s&&(s=100),void 0===A&&(A=.1),void 0===u&&(u=.05);for(var c=e.length,d=0;d<c;d++){var p=e[d],f=p.pos.x-p.netpos.x,h=p.pos.y-p.netpos.y,v=p.vel.x-p.netvel.x,g=p.vel.y-p.netvel.y,y=p.pos.x,m=p.pos.y;if(p.pos.x-=f*A*t,p.pos.y-=h*A*t,a&&(o?Math.abs(f)>5||Math.abs(h)>5?(p.pos.x=y,p.pos.y=m,p.vel.x=p.vel.x-f/s,p.vel.y=p.vel.y-h/s):(p.vel.x=p.netvel.x,p.vel.y=p.netvel.y):o||(p.vel.x-=v,p.vel.y-=g)),(Math.abs(f)>s||Math.abs(h)>s)&&(p.pos.setFromVec(p.netpos),p.vel.setFromVec(p.netvel)),r){p.angle=n.normalizeRadianPositive(p.angle),p.netangle=n.normalizeRadianPositive(p.netangle);var S=i.diffRadianPositive(p.angle,p.netangle);p.angle+=S*u*t}l(p,t)}};t.default=function(e){var t=e.game,n=e.step;return c(t.spaceSquids,n,!1,!0),c(t.rockets,n,!0,!0,!0,100),c(t.asteroids,n,!0,!0,!0,100),c(t.spaceSpiders,n,!0,!1),c(t.drones,n,!0,!1,!1,30),c(t.enemies,n,!0,!1,!1,30),function(e,t,n){for(var i=e.length,s=0;s<i;s++){var A=e[s];A.guid===n.game.playerGuid?(a.ShipCamera(A,n),n.SX=A.SX,n.SY=A.SY,A.keyCodes=n.game.allKeyCodes.game.keys,o.default(A,t),A.netangle+=A.turnAcc*t):(A.angle+=A.turnAcc*t,r.PositionUpdaterPoint(A,t))}}(t.player,n,e),c(t.player,n,!0,!0,!1,200,.19,.2),A(t.charges,n),A(t.bullets,n),"interpolation"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};a=[r,t,r(50),r(1),r(6),r(16),r(20),r(7),r(5),r(13)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=0;t.default=function(e){var t=e.game,d=e.step,p=(e.SW,t.spacePorts),f=u.getQuadTreesObj();if(f&&f.Player){++c>6&&(c=0);for(var h=0;h<p.length;h++){var v=p[h],g=v.shipChargeHash,y=v.centerNoneCannon;for(var m in g){var S=r.GetPlayerByGuidOrNull(parseInt(m,10),e);if(S&&v.chargeParticles.length<1e3)for(var E=0;E<20;E++)v.chargeParticles.push(o({pos:new a.Vector(y.pos.x+60*(Math.random()-.5),y.pos.y+60*(Math.random()-.5)),vel:new a.Vector(5+5*Math.random(),20*(Math.random()-.5)),life:300,type:7,radius:1,guid:-1,target:S},l.setImovableDefaults(null)))}for(var x=new A.Rectangle(0,0,5,5),T=v.chargeParticles,_=T.length,I=0;I<_;I++){(O=T[I]).life-=d;var M=O.target;if(M&&!M.remove){x.x=M.pos.x,x.y=M.pos.y;var L=Math.atan2(M.pos.y-O.pos.y,M.pos.x-O.pos.x),b=O.vel.getAngle();b=n.normalizeRadianAngle(b),b+=.5*n.angleDelta(b,L)*d,O.vel.setAngle(b)}s.default(t,O,!1);var w=O.vel.getLength();w>10&&O.vel.setLength(10),w>3&&O.vel.mult(.99),i.default(O,d),(O.life<0||x.intersectsPoint(O.pos))&&(O.remove=!0,O.target=void 0)}for(var R=[],P=0;P<_;P++){var O;(O=T[P]).remove||R.push(O)}v.chargeParticles=R,v.shipChargeHash={}}return"Spaceport"}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.game.sparks,r=t.length,a=[],n=0;n<r;n++){var o=t[n];o.pos.addXY(o.vel.x*e.step,o.vel.y*e.step),o.vel.addXY(0,.3),o.life-=e.stepMS,o.life>0&&a.push(o)}return e.game.sparks=a,"sparks"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(10),r(3),r(80),r(2),r(5),r(7),r(47)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=0,l=!1;t.default=function(e){var t=e.game,c=e.SW,d=e.stepMS,p=e.SX,f=e.SY,h=e.SH,v=i.getQuadTreesObj(),g=new s.Rectangle(p,f,c,h),y=r.default(e);if(y&&v.Player)if(A.posInAncient(y.pos)){n.createSubtitle({text:["COMMANDER: Are you sure that is a good idea?"],noShowAgainMS:25e4,face:0});var m=v.AncientSystem.query(y)[0];m&&o.distanceBetweenVectors(m.pos,y.pos)<m.radius-300?(l=!0,n.createSubtitle({text:["COMMANDER: I guess you did...  I can't see you on my system anymore","We talk again when you get out."],noShowAgainMS:25e4,face:0})):l&&n.createSubtitle({text:["COMMANDER: I see there's more to you than meets the eye.","I hope you found what you where looking for.","Now let's blast some space beasts to hell."],noShowAgainMS:25e4,face:0})}else{l=!1;var S=v.SpacePorts.queryVec(y.pos,y.radius,y.radius)[0];if(S){S.centerNoneCannon.life<.66*a.SPACEPORT_START_LIFE&&n.createSubtitle({text:[S.name+": We can't take this anymore. They are overwhelming us.","You need to get the hell out of here."],noShowAgainMS:2e4,face:1});for(var E=S.cannons,x=E.length,T=0;T<x;T++){var _=E[T];_.life<.95*a.SPACEPORT_START_LIFE&&_.life>.85*a.SPACEPORT_START_LIFE?n.createSubtitle({text:[S.name+": Cannon crew "+_.name+" taking damage"],noShowAgainMS:2e7,face:1}):_.life>.45*a.SPACEPORT_START_LIFE&&_.life<.7*a.SPACEPORT_START_LIFE?n.createSubtitle({text:[S.name+": Cannon crew "+_.name+" taking heavy damage"],noShowAgainMS:2e7,face:1}):_.life<.3*a.SPACEPORT_START_LIFE?n.createSubtitle({text:[S.name+": Cannon crew "+_.name+" reporting in.","We won't be able to take this much longer..."],noShowAgainMS:2e7,face:1}):(_.life<=0||_.remove)&&(_.isCannon?n.createSubtitle({text:[_.ownerName+": Oh god! We just lost the crew on cannon "+_.name+". ","Those poor souls. You must leave this place.","You will be the death of us all..."],noShowAgainMS:8e3,face:1}):n.createSubtitle({text:[_.ownerName+": Nooooooo...     [static]"],noShowAgainMS:1e3,face:1}))}}if((u+=d)>800){if(u=0,n.createSubtitle({text:["God speed captain.","I will do my best to guide you."],noShowAgainMS:9e11,face:0}),!y.inSafeZone){var I=i.getQuadTreesObj().SpacePorts.queryCircle(y.pos,3*c)[0];if(I){var M=I.reparations;(M.boost>y.boost||M.electrobastardray>y.availableElectroBastardRays||M.homingBullets>y.homingBullets||M.life>y.life||M.missiles>y.availableMissiles||M.rockets>y.availableRockets)&&n.createSubtitle({text:["COMMANDER: There is a spaceport nearby.","Make a visit and restock your armory",I.name+"It is located at: "+(.01*I.pos.x+.5*c|0)+" | "+(.01*I.pos.y+.5*h|0)],noShowAgainMS:5e4,face:0})}}if(y.life<20||y.availableBullets<250){var L=Number.MAX_VALUE,b=null;for(T=0;T<t.spacePorts.length;T++){var w=t.spacePorts[T],R=o.distanceBetweenVectors(y.pos,w.pos);R<L&&(L=R,b=w)}b&&(y.availableBullets<250&&y.life>20?y.availableBullets<1?n.createSubtitle({text:["COMMANDER: You have gone through your entire magazine of space-bullets.","You need to find a spaceport.","The closest one is "+b.name+".","It is located at: "+(.01*b.pos.x|0)+" | "+(.01*b.pos.y|0)],noShowAgainMS:5e4,face:0}):n.createSubtitle({text:["COMMANDER: You are soon out of space-bullets.","You need to find a spaceport.","The closest one is "+b.name+".","It is located at: "+(.01*b.pos.x|0)+" | "+(.01*b.pos.y|0)],noShowAgainMS:5e4,face:0}):n.createSubtitle({text:["COMMANDER: You need to find a spaceport fast.","The closest one is "+b.name+".","It is located at: "+(.01*b.pos.x|0)+" | "+(.01*b.pos.y|0)],noShowAgainMS:5e4,face:0}))}var P=t.notifications[0];if(P)switch(P.type){case 64:n.createSubtitle({text:["Oh no! Space-parasites!","I hope there are not too many of them on you."],noShowAgainMS:1e6,face:0})}if(y.closestItem&&g.intersectsPoint(y.closestItem.pos)){var O=y.availableRockets>0,C=y.availableElectroBastardRays>0,G="",N=!1,B=!1,F="";O?(N=!0,G="rockets"):C?(N=!0,G="electrobastardray"):G="spacebullets";var D="";switch(y.closestItem.type){case 1:D="enemy ship",F=" to blow it up!";break;case 25:D="got damn spacesnake",F=" to destroy it!";break;case 18:D="spacesquid from hell",F=" to send it back to where it came from.";break;case 19:D="godforsaken spacespider",F=" and fucking kill it.";break;case 12:y.closestItem.radius<100&&(B=!0),G="spacebullets",D="asteroid",F=" and hopefully get some sweet powerups.";break;case 21:D="space ice",G="spacebullets",F=" or just leave it....";break;default:return void(D="[ "+y.closestItem.type+" ]")}B||n.createSubtitle({text:["Captain!","You have that "+D+(N?" locked on.":" in your sight."),"Use your "+G+F],noShowAgainMS:1e8,face:0})}return y.enemyDetection.length>4&&n.createSubtitle({text:["There seems to be a whole lot of hostility in your sector.","Maybe you should get the fuck out of there."],noShowAgainMS:1e8,face:0}),"subtitles"}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(10),r(2)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[0,0,1,1,0,1],o=[1,0,0,1,1,0],i=[0,1,0,0,1,1],s=function(e){var t=e.game.traceLine;if(t.length>0){var r=t[t.length-1];if(r.active)return r}t.length===n.length&&e.game.traceLine.shift();var a,s=(a=t.length,{a:1,r:n[a%n.length],g:o[a%o.length],b:i[a%i.length],line:[],active:!0});return t.push(s),s},A=0;t.default=function(e){var t=e.stepMS;A+=t;var n=r.default(e);if(n&&n.keyCodes.TRACELINE&&A>500){var o=s(e);n.isTracing?(o.line.push(n.pos.toPoint()),o.active=!1):o.line.push(n.pos.toPoint()),n.isTracing=!n.isTracing,A=0}if(e.frameCnt%60==0&&(null==n?void 0:n.isTracing)){var i=(o=s(e)).line;if(0===i.length)i.push(n.pos.toPoint());else if(i.length>1500)o.active=!1;else{var u=i[i.length-1];if(a.distanceBetweenVectors(u,n.pos)>100){var l=i[i.length-2];if(l){var c=a.distanceBetweenVectors(l,n.pos),d=a.distanceBetweenVectors(l,u)+a.distanceBetweenVectors(u,n.pos);Math.abs(c-d)<20?(u.x=n.pos.x,u.y=n.pos.y):i.push(n.pos.toPoint())}else i.push(n.pos.toPoint())}}}return"TraceLine"}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(298),r(46),r(0)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=!1,s=function(e,t,a,n,i,s){for(var A=Math.max(0,t.length-18),u=A;u<t.length;u++){var l=a[u];s.gl?r.default.printListGL(s.gl,o.default(o.GLctx.Texture,s.gl),l,50,50+40*(u-A),t[u],u===t.length-1&&i,s):r.default.printList(e,n.data,l,50,50+40*(u-A),t[u],u===t.length-1&&i)}},A=function(e,t,r,o,u,l,c,d,p){void 0===p&&(p=!1),setTimeout(function(){if(!i){var f=t.length-1;p&&(t[f]<e[f].length?t[f]=t[f]+1:t.length<e.length?t.push(0):d&&(d(),d=void 0)),r.gl?s(l,t,e,u,!p,r):(a.ClearHard(r),s(l,t,e,u,!p,r),n.distort(l,c*Math.random(),c*Math.random(),u.data),o.putImageData(u,0,0)),A(e,t,r,o,u,l,c,d,!p)}},20)};t.default=function(e,t,r,a,n,o,s){void 0===s&&(s=0),i=!1;var u=function(){i||(window.removeEventListener("keydown",u),i=!0,setTimeout(function(){t()},30))};setTimeout(function(){window.addEventListener("keydown",u)},1e3),A(e,[0],r,a,n,o,r.SH,function(){setTimeout(function(){i||(i=!0,setTimeout(function(){t()},30))},8e3)})}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearHard=void 0;var r=1;t.default=function(e){var t=e.frame;e.WW,e.WH,e.SW,e.SH,t.length;!function(e,t,r,a){var n=e.length;if(a)for(var o=t;o<n;o+=r)e[o]=e[o]-20,e[o+1]=e[o+1]-20,e[o+2]=e[o+2]-20,e[o+3]=255;else for(o=t;o<n;o+=r)e[o]=0,e[o+1]=0,e[o+2]=0,e[o+3]=255}(t,4*r,4,!0),--r<0&&(r=1)},t.ClearHard=function(e){for(var t=e.frame,r=e.SW*e.SH*4,a=0;a<r;a+=4)t[a]=0,t[a+1]=0,t[a+2]=0,t[a+3]=255}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(6),r(4),r(0),r(9),r(0),r(3),r(4),r(62),r(2),r(92),r(21)],void 0===(n=function(e,t,r,a,n,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=!0,v=!0,g=!1,y=!1,m="QUADTREES",S=50;window.onkeypress=function(e){switch(e.keyCode){case 49:m="GUI",S=e.keyCode;break;case 50:m="QUADTREES",S=e.keyCode;break;case 51:m="SQRT OPERATORS",S=e.keyCode;break;case 52:m="SPACEDUST",S=e.keyCode;break;case 53:m="ITEMS",S=e.keyCode;break;case 55:h=!h;break;case 54:v=!v;break;case 57:g=!g,y=!0}};var E=[],x=[],T=[],_=[],I=[],M=[],L=[],b=[],w=[],R=[],P=[],O=[],C=[],G=[],N=[],B=[],F=[],D=function(e,t,r,n,o,i,s,A){void 0===A&&(A=1);for(var u=r.length,l=0;l<u;l++){var c=10*r[l].time+1,d=n[l]||100,p=o[l]||100,f=c>d?c:d>1?.95*d:d,h=c>p?c:p>1?.97*p:p;n[l]=f,o[l]=h;var v=s*A+5*l*A;a.line2Poly(i*A,v,i*A+1+f*A,v,B,1*A),a.line2Poly(h*A,v,h*A-3,v,B,1*A)}},V={},X=function(e,t,r,a,n,o,i){if(void 0===o&&(o=30),void 0===i&&(i=!1),V[a]&&0!==V[a].i)V[a].i>o&&(V[a].i=-1);else{var s=r.sort(function(e,t){return e.time>t.time?-1:1});V[a]={list:s,i:1}}V[a].i++,H(e,t,V[a].list,a,n,i)},H=function(e,t,r,a,o,i){for(var l=Math.min(r.length,3),c=0;c<l;c++){var d=r[c],p=d.name+(i?" ("+d.type+")":"")+(d.time>1?"   > "+Math.round(d.time)+"MS ":"");if(i)switch(d.type){case"engine":o="y";break;case"engineClient":o="w";break;case"gui":o="g"}s.default.addGL(e.gl,n.default(A.GLctx.Texture,e.gl),s.default.create(p,u.TEXT_SIZE_SMALL,o),100,a+c*u.TEXT_SIZE_SMALL,e)}};s.default.createSplitted("|",22,"r","");s.default.createSplitted("0123456789,.-",22,"r");var k=!1;t.default=function(e){var t=e.stepMS,V=e.game,H=(e.frame,e.SW,e.gl),W=e.SX,U=e.SY;if(V.menuSettings.fps||V.menuSettings.fpsOnly){var Y=performance.now();k||(k=!0,[[],[],[],[],[]],x=[],T=[],_=[],I=[],M=[],L=[],b=[],w=[],R=[],P=[],O=[],C=[],G=[],N=[],E=[],[],[],[]);var z=V.performance,j=z.engine,q=z.engineClient,K=z.gui,Z=z.totalEngine,Q=z.totalEngineClient,J=z.totalGui;V.isPaused&&(j=j.map(function(e){return o(o({},e),{time:0})}),q=q.map(function(e){return o(o({},e),{time:0})}),Z=0,Q=0),B=[],F=[];var $=r.normalize(1e3/t,"FPS_LIST"),ee=r.normalize(Z,"ENGINE_TIME"),te=r.normalize(J,"GUI_TIME"),re=[r.normalize(t,"FRAME_TIME"),te,ee],ae=V.menuSettings.fpsOnly,ne=s.default.createSplitted($.avg+"|"+$.low,ae?17.6:22,ae?"g":"r",""),oe=250;if(h||(oe=200),h){if(s.default.addListGL(H,n.default(A.GLctx.Texture,H),ne,ae?20:204,ae?230:210,e),ae)return;for(var ie=re.length,se=0;se<ie;se++){var Ae=re[se];a.line2Poly(0,240+3*se*1,10*Ae.avg*1,240+3*se*1,B,1)}a.line2Poly(200,240,200,240+3*re.length*1,B,1),E.push(1e3/t),E.length>100&&E.shift();for(var ue=E.length,le=0;le<ue;le++){var ce=.5*E[le];a.line2Poly(2+2*le*1,235,2+2*le*1,1*(235-ce),B,1)}a.addToColorMap(F,B,.9,0,0,1),D(0,0,[{time:16-(J+Z),name:null,type:null}],G,N,0,oe,1),a.addToColorMap(F,B,.9,0,0,1),oe+=15}v&&(D(0,0,j,_,I,0,oe,1),a.addToColorMap(F,B,.9,.9,0,1),X(e,1,j,oe,"y"),oe=oe+5*j.length+40,D(0,0,q,M,L,0,oe,1),a.addToColorMap(F,B,.9,.9,.9,1),X(e,1,q,oe,"w"),oe=oe+5*q.length+40,D(0,0,K,x,T,0,oe,1),a.addToColorMap(F,B,0,.9,0,1),X(e,1,K,oe,"g"),oe=oe+5*K.length+5,D(0,0,[{time:Z,name:null,type:null}],b,w,0,oe+=5,1),a.addToColorMap(F,B,.9,.9,0,1),D(0,0,[{time:Q,name:null,type:null}],R,P,0,oe+=5,1),a.addToColorMap(F,B,.9,.9,.9,1),D(0,0,[{time:J,name:null,type:null}],O,C,0,oe+=5,1),a.addToColorMap(F,B,0,.9,0,1),oe-=70,X(e,1,i(j,q,K),oe,null,60,!0)),a.drawColorMapSingle(F,B,H);var de=r.normalize(Z,"totalEngine",30,2),pe=r.normalize(Q,"totalEngineClient",30,2),fe=r.normalize(J,"totalGui",30,2),he=r.normalize(Z+Q+J,"totalAll",30,2),ve=r.normalize(t,"step",30,2),ge={};switch(S){case 49:var ye=l.readPerformance(),me=A.GLCTXreadPerformance();ge={"  program switching  ":r.normalize(me.switchedProgram,"program_switching",30).avg,"  program cache hit  ":r.normalize(me.switchedCacheHit,"program_cache_hit",30).avg,"  drawColor          ":r.normalize(ye.drawColor,"drawColor",30).avg,"  addToColorMap      ":r.normalize(ye.addToColorMap,"addToColorMap",30).avg,"  drawColorMap       ":r.normalize(ye.drawColorMap,"drawColorMap",30).avg,"  drawColorMap calls ":ye.drawColorMapCalls,"  drawColorMapSingle ":r.normalize(ye.drawColorMapSingle,"drawColorMapSingle",30).avg,"  MapSingle Time     ":r.normalize(ye.drawColorMapSingleTimings,"drawColorMapSingle time",30,2).avg,"Total: (avg)":"","  Engine    ":r.pad_9(de.avg),"  Engine cl ":r.pad_9(pe.avg),"  GUI       ":r.pad_9(fe.avg),"  ALL       ":r.pad_9(he.avg),"  STEP      ":r.pad_9(ve.avg),"  SELF      ":null};break;case 50:var Se=p.getQuadTreesConstructionTimings();ge={"  n items":Se.constructionItems,"  create ":r.normalize(Se.constructionTime,"QT CONST",30,2).avg,"  collide":r.normalize(Se.collideTime,"QT collide",30,2).avg,"  clean  ":r.normalize(Se.cleanupTime,"QT clean",30,2).avg,"  resolve":r.normalize(Se.resolveTime,"QT resolve",30,2).avg,"  broadph":Se.broadphase,"  colls  ":Se.calls,"  total  ":r.normalize((j.filter(function(e){return e.name.indexOf("QuadTree")>-1})[0]||{time:-1}).time,"Qt Total timings 2",30,2).avg};break;case 51:var Ee=c.getOperatorUsage(),xe=d.getMathSqrtUsage();ge={"  96     ":r.normalize(Ee.dist96,"dist96u",30,0).avg,"  97     ":r.normalize(Ee.dist97,"dist97u",30,0).avg,"Math.sqrt":""," coarse  ":r.normalize(xe.coarseUse," coarse",30,0).avg," coarseV ":r.normalize(xe.coarseVectorUse," coarseV",30,0).avg," dbtw    ":r.normalize(xe.distanceBetweenUse," dbtw",30,0).avg," dbtwV   ":r.normalize(xe.distanceBetweenVectorsUse," dbtwV ",30,0).avg," dbtwXY  ":r.normalize(xe.distanceBetweenXYXYUse," dbtwXY",30,0).avg," fine    ":r.normalize(xe.fineUse," fine",30,0).avg};break;case 53:var Te=l.readPerformance();ge={"Particles ":V.particles.length,"Custom    ":V.customParticles.length,"Bullets   ":V.bullets.length,"Rockets   ":V.rockets.length,"Asteroids ":V.asteroids.length,"Dust      ":V.spaceDust.length,"Parts     ":V.asteroidParts.length,"Vertices  ":Te.vertices};break;case 52:var _e=[];f.GetSpaceDustTree().visualize(_e,[],0,0,-W,-U,1),n.default(A.GLctx.Vertices,H),l.drawColor(_e,H,1,1,0,1,H.LINES);var Ie=f.getSpaceDustTimings();ge={"num dust  ":Ie.numDust,"Quadrant n":Ie.quadrantSize,"on screen ":Ie.onscreen,"reset     ":r.normalize(Ie.reset,"dust reset",30,2).avg,"filtering ":r.normalize(Ie.filtering,"dust filtering",30,2).avg,insertions:r.normalize(Ie.insertions,"dust insertions",30,2).avg,collisions:r.normalize(Ie.collisions,"dust collisions",30,2).avg,"update    ":r.normalize(Ie.update,"dust update",30,2).avg}}var Me=0,Le=0;for(var be in s.default.addGL(H,n.default(A.GLctx.Texture,H),s.default.create(m,u.TEXT_SIZE_SMALL,"w"),100,oe+4*u.TEXT_SIZE_SMALL+Me*u.TEXT_SIZE_SMALL,e),oe+=u.TEXT_SIZE_SMALL,ge)Le="  SELF      "===be?r.pad_9(r.normalize(performance.now()-Y,"statsGLself",100,2).avg):ge[be],s.default.addListGL(H,n.default(A.GLctx.Texture,H),i([s.default.create(be,u.TEXT_SIZE_SMALL,"w")],s.default.addNumberCacheable(Le,u.TEXT_SIZE_SMALL,"w")),100,oe+4*u.TEXT_SIZE_SMALL+Me*u.TEXT_SIZE_SMALL,e),Me++;var we=200;if(g){var Re={49:"gui",50:"quadtrees",51:"sqrt operators",52:"spacedust",53:"items",54:"big graphs",55:"fps graphs",57:"help"};for(var be in Re)s.default.addGL(H,n.default(A.GLctx.Texture,H),s.default.create("["+(parseInt(be,10)-48)+"] "+Re[be],u.TEXT_SIZE_SMALL,"w"),450,we,e),we+=u.TEXT_SIZE_SMALL}else!y&&V.clock<9e3&&s.default.addGL(H,n.default(A.GLctx.Texture,H),s.default.create("[HELP: 9]",u.TEXT_SIZE_SMALL,"w"),5,we+u.TEXT_SIZE_SMALL,e)}else k=V.menuSettings.fps}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(17),r(8),r(31),r(71),r(29),r(11),r(301)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=o.default(7,["SOMEWHERE IN THE ASTEROID BELT A SPACESNAKE LURES.","KILL IT."]);t.default={splash:u,assert:function(e){var t=e.game,r=e.WW,a=e.WH;return s.contain(t.player[0],r,a,500),t.npcs.length<3?(t.player[0].life=0,!1):t.npcs[0].currentWayPointIndex>100},init:function(e){var t,o=e.game,s=e.WW,u=e.WH;o.player[0]=a.createShip(e),i.default(o.player,.1*s,.1*u,.01*s,.01*u),o.drones=a.createDrones(e,o.player[0].pos,2,o.player[0].guid),o.player[0].availableRockets=10,o.player[0].availableElectroBastardRays=600,o.wayPoints=A.default(e,[{x:.1,y:.1},{x:.5,y:.1},{x:.5,y:.1},{x:.5,y:.25},{x:.5,y:.25},{x:.6,y:.25},{x:.6,y:.25},{x:.6,y:.3},{x:.6,y:.3},{x:.6,y:.9},{x:.6,y:.9},{x:.7,y:.9}]),o.npcs=a.createNPCs(e,5,{maxVel:2},0),i.default(o.npcs,.1*s,.1*u,.01*s,.01*u),o.asteroids=r.default(e,420,120,190,{angleVel:.001},!0),i.default(o.asteroids,0,.45*u,s,.1*u);var l=r.default(e,10,20,70,{angleVel:.001},!0);i.default(l,.13*s,.05*u,.05*s,.1*u),o.enemies=a.createEnemies(e,3),i.default([o.enemies[0]],.95*s,.1*u,100,100),i.default([o.enemies[1]],.3*s,.6*u,100,100),i.default([o.enemies[2]],.6*s,.6*u,100,100),(t=o.asteroids).push.apply(t,l),o.settings_wormhole=!1,o.anomalyPairs=[],o.anomlies=[],o.settings_minimap_asteroid_min_radius=48,o.spaceSnake=n.default(e,1),i.default(o.spaceSnake[0].segments,.5*s,.5*u,.05*s,.05*u)},mapSize:function(e){return{WW:16e3,WH:16e3}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(64)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=e.WW,n=e.WH,o=[],i=0;i<t.length;i++){var s=t[i],A=s.x*a,u=s.y*n,l=A*r.RESOLUTION,c=u*r.RESOLUTION,d=!!t[i+1]&&s.x===t[i+1].x;o.push({gridX:l,gridY:c,vertical:d,posX:A,posY:u})}var p=[];for(i=0;i<o.length-1;i++){for(var f=o[i],h=o[i+1],v=Math.min(f.gridX,h.gridX),g=Math.max(f.gridX,h.gridX),y=Math.min(f.gridY,h.gridY),m=Math.max(f.gridY,h.gridY),S=v;S<g;S++)p.push({gridX:S,gridY:f.gridY,posX:S/r.RESOLUTION,posY:f.gridY/r.RESOLUTION,vertical:!1});for(var E=y;E<m;E++)p.push({gridX:f.gridX,gridY:E,posX:f.gridX/r.RESOLUTION,posY:E/r.RESOLUTION,vertical:!0})}return p}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(17),r(8),r(31),r(32),r(1),r(43),r(303),r(94),r(114),r(39),r(304),r(55),r(57),r(7),r(305),r(8)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new v.Rectangle(0,0,0,0);t.default={splash:null,gui:function(e){},assert:function(e){return e.IS_MULTIPLAYER||c.default(e),h.pool_log(),!1},init:function(e){var t=e.game,h=e.WW,v=e.WH,m=e.SW,S=e.SH;c.DirectorSetup({enemies:25,spacesquids:18,spacesnakes:4,spaceSpiders:10,npcs:30,campingTimeout:2e4,destroyers:1}),0;var E=a.createShip(e);E.shields=5,e.IS_SERVER||(E.pos.x=.1*h,E.pos.y=.6*v,t.player[0]=E,t.drones=a.createDrones(e,E.pos,2,E.guid),E.availableRockets=10,E.availableElectroBastardRays=600),t.spaceSpiders=d.default(e,12);var x=A.default(e,400,new s.Vector(.27*e.WW,.1*e.WH),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:6,bullets:2e3}),T=A.default(e,380,new s.Vector(.7*e.WW,.1*e.WH),"GENESIS",{boost:200,life:150,missiles:8,rockets:2,electrobastardray:300,homingBullets:300,proximityMines:2,bullets:2400}),_=A.default(e,440,new s.Vector(.2*e.WW,.85*e.WH),"NEW HORIZON",{boost:240,life:170,missiles:6,rockets:9,electrobastardray:320,homingBullets:100,proximityMines:2,bullets:2800});t.spacePorts=[x,T,_],t.asteroids=r.default(e,300,120,300),g.setLV426(t.asteroids);var I=f.default(Math.random,.6*h,.5*v,250);t.rockFormations=I.rockFormations,t.rockFormationSystemRadius=[I.rfSystem],e.IS_SERVER||(t.spaceBats=l.default(e,500),t.npcs=o(a.createNPCs(e,48,{},0)));var M=y.createDestroyer(e);t.destroyers=[M],M.pos.setFromVec(x.pos),M.pos.x+=x.radius+M.radius,M.pos.y-=300,M.angle+=.6*Math.PI,E.pos.setFromVec(x.pos),E.pos.addXY(100,50),t.enemies=a.createEnemies(e,30),t.spaceSnake=n.default(e,4,void 0,void 0,15*Math.random()+10),t.spaceSquids=i.default(e,14),p.default([t.spaceSpiders,t.enemies,t.spaceSquids,t.spaceBats],E.pos.x-3*m,E.pos.y-3*S,6*m,6*S,e),u.default(t,!1)},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.spaceFog.filter(function(e){return!e.fire});if(t)for(var a=Math.min(r.length,e.spaceSquids.length),n=0;n<a;n++){var o=r[n];e.spaceSquids[0].pos.set(o.x,o.y),e.spaceSquids[0].restPos.set(o.x,o.y)}else if(r.length>0&&e.spaceSquids.length>0){o=r[Math.floor(r.length*Math.random())];e.spaceSquids[0].pos.set(o.x,o.y+2e3),e.spaceSquids[0].restPos.set(o.x,o.y)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(7)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,o,i){for(var s=new r.Rectangle(t,a,n,o),A=0;A<e.length;A++)for(var u=e[A],l=0;l<u.length;l++){var c=u[l];if(s.intersectsPoint(c.pos)){var d=2.2;Math.random()>.5?(c.pos.x=s.x+s.width*d+s.width*Math.random(),c.pos.y=s.y+s.height*d+s.height*Math.random()):(c.pos.x=s.x-s.width*d-s.width*Math.random(),c.pos.y=s.y-s.height*d-s.height*Math.random())}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(12)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLV426=void 0,t.setLV426=function(e){var t=e.sort(function(e,t){return e.radius-t.radius})[0];t.isLV426=!0,t.guid=426,t.life*=6,r.LOG_GL("LV 426 turned ON")}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(17),r(8),r(31),r(35),r(2),r(3),r(1),r(86),r(16),r(6),r(53)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0});var f=1,h=.1,v=function(e){var t=e.game;t.menuSettings.noise=p;for(var r=t.player[0],a=t.spaceSnake[0],n=0;n<a.segments.length;n++)d.default(a.segments[n],e);t.spaceSnake=[],r.life=0},g=0,y=-.5*Math.PI,m=y,S=0,E=0;t.default={splash:null,assert:function(e){var t=e.game,r=e.WW,a=e.WH,n=(e.SX,e.SY,e.SW,e.SH,e.step);if(t.isPaused)return!1;var d=e.game.allKeyCodes.game.keys;g++;var p=t.player[0];p.closestItem=null,p.vel.x=0,p.vel.y=0,p.life=500;var S=t.spaceSnake[0];if(!S||!S.segments||S.segments.length<1)return p.life=0,!1;var E=t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1].pos.clone();E.x-=.5*t.SW,E.y-=.5*t.SH,t.SX=E.x,t.SY=E.y;var x=S.segments[S.segments.length-1];x.vel.x=5+h,x.vel.y=5+h,d.LEFT?0!=m&&(m=Math.PI):d.RIGHT?m!=Math.PI&&(m=0):d.UP?m!=.5*Math.PI&&(m=-.5*Math.PI):d.DOWN&&m!=-.5*Math.PI&&(m=.5*Math.PI),Math.abs(m-y)<.03?y=m:y-=c.angleDelta(m,y)*n*.15,x.angle=y,x.vel.setAngle(y),l.default(x,e.step),o.snakeIK(S.segments,e.step,!1,1);var T=S.segments.slice(0,S.segments.length-5);if(g>300)for(var _=0;_<T.length;_++)if(i.coarse(x,T[_]))return void v(e);if(!(x.pos.x<s.MAP_SAFETY_ZONE||x.pos.x>r-s.MAP_SAFETY_ZONE||x.pos.y<s.MAP_SAFETY_ZONE||x.pos.y>a-s.MAP_SAFETY_ZONE)){if(i.coarse(p,x)){for(u.default(p,e),p.pos.x=Math.random()*(r-4*s.MAP_SAFETY_ZONE)+2*s.MAP_SAFETY_ZONE,p.pos.y=Math.random()*(a-4*s.MAP_SAFETY_ZONE)+2*s.MAP_SAFETY_ZONE,_=0;_<f;_++){var I=S.segments[S.segments.length-8],M=JSON.parse(JSON.stringify(I));M.guid=i.getGuid(),M.pos=new A.Vector(M.pos.x,M.pos.y),M.vel=new A.Vector(M.vel.x,M.vel.y),M.offsetFront=new A.Vector(I.offsetFront.x,I.offsetFront.y),M.offsetRear=new A.Vector(I.offsetRear.x,I.offsetRear.y),S.segments.splice(S.segments.length-8,0,M)}f<10&&f++,h<10&&(h+=.1)}return!1}v(e)},init:function(e){var t=e.game;y=-.5*Math.PI,f=1,h=.1,g=0,p=t.menuSettings.noise,t.menuSettings.noise=!1;var o=a.createShip(e);o.shields=0,o.type=1,o.availableRockets=0,o.pos.x=2e3,o.pos.y=2e3,t.player[0]=o,t.drones=a.createDrones(e,o.pos,1,o.guid),t.asteroids=r.default(e,20),t.anomalyPairs=[],t.spaceFog=[],t.spaceSnake=n.default(e,1,2e3,3e3,30),t.settings_no_darkness=!0,t.settings_be_the_snake_mode=!0},mapSize:function(e){return{WW:4e3,WH:4e3}},camera:function(e){var t=e.game;if(t.spaceSnake.length>0){var r=t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1].pos.clone();r.x-=.5*t.SW,r.y-=.5*t.SH,e.SX=S=r.x,e.SY=E=r.y}else e.SX=S,e.SY=E}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(308)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,gui:function(e){return r.default.gui(e)},assert:function(e){return r.default.assert(e)},init:function(e){return r.default.init(e)},mapSize:function(){return{WW:2e4,WH:2e4}},camera:function(e){return r.default.camera(e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(10),r(8),r(309),r(310),r(311),r(95),r(312),r(58),r(313),r(58),r(58),r(95),r(9),r(3),r(0),r(0),r(58),r(5)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.addEditorMenuEvents();var S=function(e){var t=e.game,r=t.zoomTX,a=(t.SX,t.SY,i.getEditorEventData()),n=A.GetEditorCameraPos(),o=n.cameraSX,s=n.cameraSY,u=a.mouseDownXY,l=a.mouseIsDown,c=a.mousePosXY,d=a.mouseUpXY,p={x:o+u.x*r,y:s+u.y*r},f=l||!d?c:d;return{ux:{x:o+f.x*r,y:s+f.y*r},dx:p}};t.default={splash:null,gui:function(e){if(!s.default.play.selected){var t=e.game,r=t.zoomTXinverted,a=t.SX,o=t.SY,d=A.GetEditorCameraPos(),y=(d.cameraSX,d.cameraSY,i.getEditorEventData()),m=y.mouseDownXY;if(y.mouseIsDown,y.mousePosXY,y.mouseUpXY,l.drawSelections(e,u.getEditorSelections()),s.default.select.children.rect.selected&&m){var E=S(e),x=E.dx,T=E.ux;l.drawSelectionRect(e,x,T)}if(n.drawtoolbar(e,200,100,s.default,!0),s.default.edit.selected){var _=c.getEditorSingleSelection();if(_){var I=(_.pos.x-a+30)*r,M=(_.pos.y-o+30)*r;n.drawtoolbar(e,I,M,p.getSubmenuTree(_.type),!1)}}if(e.game.asteroids.length>400){var L=e.game.asteroids.length,b="g";L>=800?b="r":L>=600&&(b="y"),f.default.addGL(e.gl,g.default(v.GLctx.Texture,e.gl),f.default.create("Asteroids: "+e.game.asteroids.length+"/"+h.MAX_NUM_ASTEROIDS,20,b),30,30,e)}}},assert:function(e){if(s.default.play.selected)return e.game.settings_no_darkness=!1,e.game.levelEditor=!1,e.game.menuSettings.transformFeedback=!0,void(e.game.menuSettings.noise=!0);var t=e.game,a=(e.SX,e.SY,t.zoomTX);u.getEditorTimeFreeze()&&(e.step=0,e.stepMS=0);var n=[m.getQuadTreesObj().Player,m.getQuadTreesObj().Asteroids,m.getQuadTreesObj().Enemies,m.getQuadTreesObj().SpaceSquid,m.getQuadTreesObj().SpaceSnakes,m.getQuadTreesObj().SpacePorts,m.getQuadTreesObj().Drones],f=[{tree:m.getQuadTreesObj().Asteroids,list:t.asteroids},{tree:m.getQuadTreesObj().Enemies,list:t.enemies},{tree:m.getQuadTreesObj().SpaceSquid,list:t.spaceSquids}],h=i.getEditorEventData(),v=A.EditorCamera(e,h),g=v.cameraSX,E=v.cameraSY,x=h.mouseClickXY,T=h.mousePosXY,_=h.mouseDownXY,I=(h.mouseUpXY,h.mouseIsDown,T?{x:T.x+g,y:T.y+E}:null),M=T?{x:g+T.x*a,y:E+T.y*a}:null;t.menuSettings.transformFeedback=!1;var L=r.default(e);L.damageTaken=!1,L.life=100;var b=c.getEditorSingleSelection();if(s.default.edit.selected&&b){var w=p.getSubmenuTree(b.type);if(o.updateToolbar(h,w))return!1;if(T&&o.isMouseInMenu(h,w))return!1}if(o.updateToolbar(h,s.default))return!1;if(T&&o.isMouseInMenu(h,s.default))return!1;if(x)if(s.default.delete.selected)d.deleteSelected(I,f);else if(s.default.create.children.enemyShip.selected)d.editorCreateEnemy(e,M,t.enemies);else if(s.default.select.children.point.selected)u.editorSelectItems(u.getAllItemsFromTreesPoint(n,M));else if(s.default.edit.selected){c.editorClearSelection();var R=u.getAllItemsFromTreesPoint(n,M);u.editorSelectItems(R)}else s.default.create.children.spaceSquid.selected?y.editorCreateSpacesquid(e,M,t.spaceSquids):s.default.create.children.spaceSnake.selected?y.editorCreateSpaceSnake(e,M,t.spaceSnake):s.default.create.children.spacePort.selected?y.editorCreateSpacePort(e,M,t.spacePorts):s.default.create.children.drone.selected&&u.editorCreateDrone(e,M,t.drones);if((s.default.create.children.asteroid.children.flood.selected&&_||s.default.create.children.asteroid.children.single.selected&&x)&&d.editorCreateAsteroid(M,t.asteroids),T&&s.default.select.children.rect.selected&&_){c.editorClearSelection();var P=S(e),O=P.dx,C=P.ux,G=l.createSelectionRect(0,0,O,C),N=[],B=s.default.select.children.rect.children;B.all.selected?N=c.getAllItemsFromTreesRect(n,G):B.asteroids.selected?N=c.getAllItemsFromTreesRect([m.getQuadTreesObj().Asteroids],G):B.enemies.selected&&(N=c.getAllItemsFromTreesRect([m.getQuadTreesObj().Enemies],G)),u.editorSelectItems(N)}return!1},init:function(e){var t=e.game;t.levelEditor=!0,t.player[0]=a.createShip(e),t.settings_no_darkness=!0,t.menuSettings.noise=!1,s.default.play.selected=!1},mapSize:function(){return{WW:2e4,WH:2e4}},camera:function(e){if(!s.default.play.selected){var t=A.GetEditorCameraPos(),a=t.cameraSX,n=t.cameraSY;e.SX=a,e.game.SX=a,e.SY=n,e.game.SY=n,r.default(e).damageTaken=!1}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(0),r(4),r(9),r(7)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawtoolbar=void 0,t.drawtoolbar=function(e,t,o,i,A){void 0===t&&(t=0),void 0===o&&(o=0),void 0===A&&(A=!1);var u=e.gl,l=(e.SW,e.game),c=[];u.blendFunc(u.DST_COLOR,u.ZERO),s(22,t,o,i,e,c,A),r.default(a.GLctx.Vertices,u);for(var d=0;d<c.length;d++)c[d]*=l.zoomTX;n.drawColor(c,u,0,0,0,1),u.blendFunc(u.ONE,u.ONE),s(22,t,o,i,e,null,A)};var s=function(e,t,n,A,u,l,c){var d=u.gl;u.game,u.SW;for(var p in A){var f=A[p],h=o.default.create(f.name.toUpperCase(),e,f.selected?"r":"w",!0);l?l.push(t,n,t+h.w,n,t,n+e,t+h.w,n,t,n+e,t+h.w,n+e):o.default.addGL(d,r.default(a.GLctx.Texture,d),h,t,n,u),A[p].rect=new i.Rectangle(t,n,h.w,e),f.children&&f.selected&&s(e,c?t:t+h.w+.2*e,c?n+1.2*e:n,f.children,u,l,!0),c?t+=h.w+5:n+=1.2*e}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseInMenu=t.updateToolbar=void 0;var r=function(e,t,a,n){for(var o in a){var i=a[o];if(i.rect){if(i.populate&&i.populate(i,a),i.rect.intersectsPoint({x:e,y:t}))return n&&n(i,a),!0;if(i.children&&i.selected){var s=r(e,t,i.children,n);if(s)return s}}}},a=function(e,t,r){for(var n in e){var o=e[n];r&&r===o||(o.selected=t,o.children&&a(o.children,t,r))}};t.updateToolbar=function(e,t){var n=e.mouseClickXY;return!(!n||!r(n.x,n.y,t,function(e,t){e.action&&e.action(e,t),a(t,!1,e),e.selected=!e.selected,console.log(e,t)}))},t.isMouseInMenu=function(e,t){var a=e.mousePosXY;return r(a.x,a.y,t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEditorMenuEvents=t.getEditorEventData=void 0;var r=null,a=null,o=null,i=0,s=null,A=null,u=function(e){return e?n({},e):null},l={mouseClickXY:null,mousePosXY:null,oldMouseClickXY:null,wheelDelta:0,mouseDownXY:null,mouseUpXY:null,mouseIsDown:!1};t.getEditorEventData=function(){var e=u(r),t=u(o),c=u(a);return l.mouseClickXY=e,l.mousePosXY=c,l.oldMouseClickXY=t,l.wheelDelta=i,l.mouseDownXY=s,l.mouseUpXY=A,o=r?n({},r):null,r=null,i=0,l},t.addEditorMenuEvents=function(){window.addEventListener("click",function(e){return r={x:e.x,y:e.y}}),window.addEventListener("mousedown",function(e){s={x:e.x,y:e.y},A=null,!0}),window.addEventListener("mouseup",function(e){r=null,A={x:e.x,y:e.y},!1,s=null}),window.addEventListener("mousemove",function(e){a={x:e.x,y:e.y},r&&(r=n({},a))}),window.addEventListener("wheel",function(e){return i=e.deltaY>0?1:-1})}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(15)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetEditorCameraPos=t.EditorCamera=void 0;var a=0,n=0;t.EditorCamera=function(e,t){return function(e,t){var r=t.mousePosXY,o=e.WW,i=e.WH,s=e.game,A=s.SW,u=s.SH,l=s.zoomTX;if(r){var c=.2*l;r.x>.9*window.innerWidth?a+=(r.x-.9*window.innerWidth)*c:r.x<.1*window.innerWidth&&(a+=(r.x-.1*window.innerWidth)*c),r.y>.9*window.innerHeight?n+=(r.y-.9*window.innerHeight)*c:r.y<.1*window.innerHeight&&(n+=(r.y-.1*window.innerHeight)*c),a>o-A?a=o-A:a<0&&(a=0),n>i-u?n=i-u:n<0&&(n=0),e.SX=a,e.SY=n}}(e,t),function(e,t){var o=t.wheelDelta;r.default().gui;if(o>0){if(e.game.SW>.7*e.WW)return;e.game.SW*=1.05,e.game.SH*=1.05;var i=e.game.SW,s=e.game.SH,A=.5*(1.05*e.game.SW-i),u=.5*(1.05*e.game.SH-s);a-=A,n-=u,e.SX=a,e.SY=n}else o<0&&(e.game.SW*=.95,e.game.SH*=.95,i=e.game.SW,s=e.game.SH,A=.5*(.95*e.game.SW-i),u=.5*(.95*e.game.SH-s),a-=A,n-=u,e.SX=a,e.SY=n)}(e,t),{cameraSX:a,cameraSY:n}},t.GetEditorCameraPos=function(){return{cameraSX:a,cameraSY:n}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(12),r(7)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawSelectionRect=t.createSelectionRect=t.drawSelections=void 0,t.drawSelections=function(e,t){var n=e.SX,i=e.SY,s=e.gl,A=[];for(var u in t){var l=t[u],c=new o.Rectangle(l.pos.x-l.radius,l.pos.y-l.radius,2*l.radius,2*l.radius);c&&r.drawRectPoly(c,n,i,A,1*e.game.zoomTX)}a.default(a.GLctx.Vertices,s),r.drawColor(A,s,0,1,0,1)},t.createSelectionRect=function(e,t,r,a){var n=r.x,i=r.y,s=a.x-r.x,A=a.y-r.y;return s<0&&(n+=s,s*=-1),A<0&&(i+=A,A*=-1),new o.Rectangle(n-e,i-t,s-e,A-t)},t.drawSelectionRect=function(e,o,i){var s=e.SX,A=e.SY,u=e.gl,l=[],c=t.createSelectionRect(0,0,o,i);n.LOG_GL_FIXED_ARRAY([0|o.x,0|o.y,0|i.x,0|i.y],"gui p2"),n.LOG_GL_FIXED_ARRAY([0|c.x,0|c.y,0|c.width,0|c.height],"gui rect"),r.drawRectPoly(c,s,A,l,2*e.game.zoomTX),a.default(a.GLctx.Vertices,u),r.drawColor(l,u,0,1,0,3)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(17)],void 0===(n=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){return!1},init:function(e){var t=e.game,n=(e.WH,e.WW,e.SW),o=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=n+.5*n,t.player[0].pos.y=o+.5*o,t.player[0].availableRockets=20,t.settings_no_darkness=!0,t.SX=n,t.SY=o,t.spaceFog=[],t.anomlies=[],a.test_createAsteroid(t.asteroids,n+.5*n,o+.8*o,0,0,30),a.test_createAsteroid(t.asteroids,n+.5*n,o+.8*o,0,0,30),a.test_createAsteroid(t.asteroids,n+.1*n,o+.15*o,2,0,40),a.test_createAsteroid(t.asteroids,n+.9*n,o+.1*o,-2,0,20),a.test_createAsteroid(t.asteroids,n+.1*n,o+.3*o,2,0,60),a.test_createAsteroid(t.asteroids,n+.9*n,o+.35*o,-2,0,10),a.test_createAsteroid(t.asteroids,n+.52*n,o+.82*o,0,0,30),a.test_createAsteroid(t.asteroids,n+.9*n,o+.48*o,-4,0,5),a.test_createAsteroid(t.asteroids,n+.9*n,o+.5*o,-8,0,5),a.test_createAsteroid(t.asteroids,n+.9*n,o+.53*o,-12,0,5),a.test_createAsteroid(t.asteroids,n+.9*n,o+.55*o,-16,0,5),a.test_createAsteroid(t.asteroids,n+.2*n,o+.48*o,4,0,5),a.test_createAsteroid(t.asteroids,n+.2*n,o+.5*o,8,0,5),a.test_createAsteroid(t.asteroids,n+.2*n,o+.53*o,12,0,5),a.test_createAsteroid(t.asteroids,n+.2*n,o+.55*o,16,0,5),a.test_createAsteroid(t.asteroids,n+0*n,o+.55*o,16,0,50),a.test_createAsteroid(t.asteroids,n+.9*n,o+.8*o,-12,0,30),a.test_createAsteroid(t.asteroids,n+.9*n,o+.9*o,-8,0,30),a.test_createAsteroid(t.asteroids,n+.1*n,o+.9*o,0,0,90);for(var i=0;i<.05*o;i++)a.test_createAsteroid(t.asteroids,n+1*n+i,o+50*i,-5,0,5);for(i=0;i<.1*o;i++)a.test_createAsteroid(t.asteroids,n+1*n+i+600,o+10*i,-4,0,5);a.test_createAsteroid(t.asteroids,n+n+n,o+.5*o,-4,0,400),t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=199,t.settings_wormhole=!1},mapSize:function(e){return{WW:5e3,WH:5e3}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(71),r(17),r(11)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a.default(1,["STATIC COLLISION TEST 1"]);t.default={splash:null,assert:function(e){for(var t=e.SW,r=e.SH,a=(e.WW,e.WH,e.game.asteroids),i=a.length,s=0;s<i;s++){var A=a[s];A.vel.y+=.1,A.pos.x<200+t&&A.pos.y+A.radius+20>2*r&&(A.remove=!0,n.test_createAsteroid(e.game.asteroids,t+.8*t,r+100,0,0,20+(Math.random()>.999?200*Math.random():0))),o.bounce(A,2*t,2*r,t,r),Math.abs(A.angleVel)>1e-5?A.angleVel*=.8:A.angleVel=0}return a.length<180&&n.test_createAsteroid(e.game.asteroids,t+.8*t,r+100,0,0,20+(Math.random()>.999?200*Math.random():0)),!1},init:function(e){var t=e.game,a=(e.WH,e.WW,e.SW),o=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=a+.5*a,t.player[0].pos.y=o+.5*o,t.player[0].availableRockets=20;for(var i=0;i<180;i++)n.test_createAsteroid(e.game.asteroids,a+a*Math.random(),o+o*Math.random(),10*(Math.random()-.5),10*(Math.random()-.5),5+40*Math.random());n.test_createAsteroid(e.game.asteroids,a+.5*a,o+.4*o,0,0,120),t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=199,t.settings_wormhole=!1,t.anomlies=[],t.spaceFog=[],t.settings_no_darkness=!0},mapSize:function(e){return{WW:5e3,WH:5e3}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(71),r(31)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a.default(1,["SPACE SNAKES"]);t.default={splash:o,assert:function(){return!1},init:function(e){var t=e.game,a=e.SW,o=e.SH;t.player[0]=r.createShip(e),t.spaceBats=[],t.anomlies=[],t.anomalyPairs=[],t.spaceFog=[],t.spaceSquids=[],t.spaceSnake=n.default(e,1,a,o),t.player[0].pos.x=2*a,t.player[0].pos.y=o,t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=1,t.settings_wormhole=!1},mapSize:function(e){return{WW:5*e.SW,WH:5*e.SH}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(71),r(32),r(17)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a.default(1,["SPACE SQUIDS"]);t.default={splash:i,assert:function(){return!1},init:function(e){var t=e.game,a=e.SW,i=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=2*a,t.player[0].availableElectroBastardRays=3e5,t.player[0].boost=5e5,t.spaceSquids=n.default(e,1,a,i),t.asteroids=o.default(e,30,180,220,{},!0),t.anomlies=[],t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=1,t.settings_wormhole=!1},mapSize:function(e){return{WW:5*e.SW,WH:5*e.SH}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(30)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="./assets/sound/",n=new Audio(a+"Iwan Gabovitch - Dark Ambience Loop.mp3"),o=new Audio(a+"Menu_Select_00.mp3"),i=new Audio(a+"voice/en/Attention.wav"),s=new Audio(a+"voice/en/CeaseFire.wav"),A=(new Audio(a+"voice/en/EngineMalfunction.wav"),new Audio(a+"voice/en/MissileDetected.wav"),new Audio(a+"voice/en/PowerSupplyReestablished.wav")),u=new Audio(a+"voice/en/PrepareForAction.wav"),l=new Audio(a+"voice/en/ReactorMalfunction.wav"),c=(new Audio(a+"voice/en/Warning.wav"),new Audio(a+"voice/en/WeaponDamaged.wav"),new Audio(a+"voice/en/WeaponDestroyed.wav")),d=(new Audio(a+"voice/en/WeaponMalfunction.wav"),new Audio(a+"bad.wav"));n.loop=!0,n.play();for(var p=function(e,t,r,a,n){var o=t[r];o&&(a||(a=n(o)),a.volume=e,a.play())},f=[],h=0;h<10;h++)f.push({audio:new Audio,finished:-1});var v=function(e,t){for(var r=0;r<f.length;r++){var a=new Date,n=f[r];if(n.finished<a.getTime()){n.finished=a.getTime()+1e3*e.duration,n.audio.src=e.src,n.audio.volume=t,n.audio.play();break}}},g=!0;t.default=function(e){var t,a,f,h,y,m,S=e.eventMap;if(e.menuSettings.music?g||(n.volume=1,g=!0):g&&(n.volume=0,g=!1),S[r.GAME_EVENT.TIME_SCALE_CHANGED]){var E=2*S[r.GAME_EVENT.TIME_SCALE_CHANGED].intensity;n.playbackRate=E<=1?E:1}e.menuSettings.sfx&&(t=.8,a=S,f=r.GAME_EVENT.MENU_SELECT,h=o,(m=a[f])&&v(h||y(m),t),p(1,S,r.GAME_EVENT.RESUME_GAME,i),p(1,S,r.GAME_EVENT.START_GAME,u),e.currentLevel<=14||(p(1,S,r.GAME_EVENT.PLAYER_DEAD,c),p(1,S,r.GAME_EVENT.PLAYER_DAMAGE,d),p(1,S,r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_CRITICAL,l),p(1,S,r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_OK,A),p(1,S,r.GAME_EVENT.NPC_FRIENDLY_FIRE,s)))}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(38),r(37),r(7)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{screen:{rect:new n.Rectangle(0,0,0,0),rectSS_200:new n.Rectangle(0,0,0,0),rectSS_400:new n.Rectangle(0,0,0,0),rectSS_600:new n.Rectangle(0,0,0,0),rectSS_800:new n.Rectangle(0,0,0,0),rectSS_1000:new n.Rectangle(0,0,0,0),rectSS_1500:new n.Rectangle(0,0,0,0),rectSS_2000:new n.Rectangle(0,0,0,0)},IS_PROCEDURAL:!1,procedural:{map:{SX:1,SY:1,SX_END:1,SY_END:1,HEIGHT:1,WIDTH:1,WIDTH_RES:1,HEIGHT_RES:1,GEN_RES:100,GEN_RES_REVERSE_M:.01,GEN_SIZE_PIXELS:4e3,FULL_REFRESH:!1,MOVED_X:0,MOVED_X_RES:0,MOVED_Y:0,MOVED_Y_RES:0,MOVED_XY_ABS_DIST_CELLS:0},boundsSS:new n.Rectangle(0,0,1,1)},proceduralBounds:null,proceduralRemovalData:[],proceduralDestroyedData:[],destroyers:[],rockFormationsArcs:[],rockFormationSystemRadius:[],loadscreen:!1,spaceSpiders:[],sparks:[],spacePorts:[],spaceDust:[],scoreboard:[],playerGuidHash:{},rockets:[],proximityMines:[],spaceMines:[],spaceTurrets:[],charges:[],spaceBats:[],drones:[],bullets:[],flames:[],networkMessages:[],playerPositions:[],playerGuid:-1,spaceSquids:[],parasites:[],eventMap:{},wayPoints:[],npcs:[],anomlies:[],anomalyPairs:[],ancientBlocks:[],ancients:[],force2:[],starMap:[],particles:[],customParticles:[],player:null,enemies:[],asteroids:[],asteroidBelts:[],rockFormations:[],spaceFog:[],SX:0,SY:0,SW:e,SH:t,resW:e,resH:t,currentResW:e,currentResH:t,asteroidParts:[],spaceSnake:[],notifications:[],settings_asteroid_spawns_new:!0,settings_minimap_asteroid_min_radius:100,settings_wormhole:!0,settings_be_the_snake_mode:!1,settings_no_darkness:!1,level_completed:!1,performance:{engine:[],engineClient:[],gui:[],particles:0,asteroids:0,totalEngine:0,totalEngineClient:0,totalGui:0},testMode:!1,isPaused:!1,clock:0,fromClock:0,currentLevel:0,levelEditor:!1,menuSettings:{networkLocaations:!1,heap:!1,commanderHelp:!0,mouseControl:!1,objectData:!0,motionBlur:!1,onScreenLogging:!1,gameClock:!0,extensiveUI:!1,raycasting:!0,losShadows:!0,glowParticles:!0,glow:!0,reflections:!0,antialiasing:!1,fps:!1,fpsOnly:!1,fps3dBars:!1,fps3dGrid:!1,minimap:!0,instruments:!0,lazerSight:!0,showCloseItems:!0,showSightLines:!1,music:!0,sfx:!1,shipStatus:!0,keybindingHint:!0,noise:!0,spacedust:!0,woodenPC:!1,transformFeedback:!0,particles:!0,debugItems:{aabb:!1,forces:!1}},state:r.defaultGameState(),allKeyCodes:a.default(r.defaultGameState()),removedAsteroids:[],removedShips:[],traceLine:[],zoomTX:1,zoomTXinverted:1}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(0),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(52),r(328),r(329),r(4),r(330),r(331),r(332)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGL=void 0,t.createGL=function(e,t){void 0===t&&(t=!1);var y=e.getContext("webgl2",{antialias:t});window.webglUtils;y||(console.error("unable to get GL CTX, trying one more time"),(y=e.getContext("webgl2",{antialias:t}))||setTimeout(function(){window.location=window.location},2e3)),r.compileProgram(r.GLctx.Vertices3d,y,a.default,e.width,e.height,!0),r.compileProgram(r.GLctx.VerticesMultiColor,y,c.default,e.width,e.height),r.compileProgram(r.GLctx.VerticesFastAlpha,y,d.default,e.width,e.height),r.compileProgram(r.GLctx.Vertices,y,n.default),r.compileProgram(r.GLctx.VerticesOverlay,y,n.default),r.compileProgram(r.GLctx.TextureDist,y,o.default),r.compileProgram(r.GLctx.Texture,y,i.default),r.compileProgram(r.GLctx.GameBufferDist,y,s.default),r.compileProgram(r.GLctx.GameBufferNoise,y,A.default),r.compileProgram(r.GLctx.VerticesGradient,y,u.default,e.width,e.height),r.compileProgram(r.GLctx.VerticesGradientBLACK,y,f.default,e.width,e.height),r.compileProgram(r.GLctx.VerticesGradientLinear,y,h.default,e.width,e.height),r.compileProgram(r.GLctx.EdgeGradient,y,v.default,e.width,e.height);var m=r.default(r.GLctx.VerticesOverlay,y);y.useProgram(m),g(y,m,e);var S=r.default(r.GLctx.Vertices,y);return y.useProgram(S),g(y,S,e),y.enable(y.BLEND),y.blendFunc(y.ONE,y.ONE),l.setGlobalGL(y),p.setupBuffers(y),y};var g=function(e,t,r){var a=e.getAttribLocation(t,"a_position"),n=e.getUniformLocation(t,"u_resolution");e.getUniformLocation(t,"u_color");e.uniform2f(n,r.width,r.height);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    uniform vec4 u_color;\n\n    \n\n    varying vec4 pos;\n\n    void main() {\n\n        float z = 1.0 - pos.z*-0.5;\n\n        float y = pos.y *4.0;\n        \n        vec4 color = vec4((u_color.r ) - z*0.1   ,  u_color.g  -z ,u_color.b  -z, 1);\n\n        gl_FragColor = color * 0.5;\n    }\n    ",vertex:"\n \n attribute vec4 a_position;\n attribute vec4 aVertexColor;\n uniform mat4 uModelViewMatrix;\n uniform mat4 uProjectionMatrix;\n varying lowp vec4 vColor;\n uniform vec2 u_resolution;\n\n varying vec4 pos;\n\n void main(void) {\n  // gl_Position = uProjectionMatrix * uModelViewMatrix * a_position;\n  // vColor = aVertexColor;\n\n   vec2 normSpace = vec2(a_position.x, a_position.y);\n\n   // convert the rectangle from pixels to 0.0 to 1.0\n   vec2 zeroToOne = normSpace / u_resolution;\n\n   // convert from 0->1 to 0->2\n   vec2 zeroToTwo = zeroToOne * 2.0;\n\n   // convert from 0->2 to -1->+1 (clipspace)\n   vec2 clipSpace = zeroToTwo - 1.0;\n\n   vec2 res = clipSpace * vec2(1, -1);\n\n   gl_Position =uProjectionMatrix  * vec4(res, a_position.z, 1);\n   pos = gl_Position;\n }\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    uniform vec4 u_color;\n\n    void main() {\n        \n        gl_FragColor = u_color;\n        // gl_FragColor = vec4(1,1,1,1);  // ALL WHITE\n        // gl_FragColor = vec4(0.5,0.5,0.5,1);  // ALL GREY\n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nuniform float u_pointSize;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = u_pointSize; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp; \n                vec4 temp2;\n                \n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453) * (distortionStart+distortionEnd);\n                }\n                \n                void main() {\n                    temp = texture(u_texture, v_texcoord).rgba;\n        \n                    \n                    temp2 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.1 * distortionEnd , v_texcoord.y)).rgba;\n        \n                    if( v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd){\n                        //inside distortionspace\n        \n                        if(distortionStart > 0.9 && distortionEnd > 0.9){\n                            outColor =  texture(u_texture, vec2(rand(v_texcoord),rand(v_texcoord))).rgba;\n                        }else if(int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01){\n                            outColor = vec4(1,distortionStart,distortionEnd,1);\n                        }else{\n                            outColor = vec4(0,0,0,0);\n                        }\n                    }else{\n                        if(distortionStart > 0.5){\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }else  if(int(v_texcoord.y * 100.0) % 1 == 0){\n                            outColor = vec4(0,0,0,0);\n                        }else{\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }\n                    }\n        \n                    //outColor.a = 0.0;\n                        /*\n                    if(  v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd &&  int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01    ){\n                        outColor = vec4(1,0,0,1);\n                    }else{\n        \n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        \n                        if(int(v_texcoord.y * 100.0) % 1 == 0){\n                            outColor = vec4(0,0,0,1);\n                        }else{\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }\n                        \n                       // outColor = v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                    }*/\n                  \n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"#version 300 es\n    precision mediump float;\n\n    \n    in vec2 v_texcoord;\n\n    uniform sampler2D u_texture;\n    out vec4 outColor;\n    void main() {\n        outColor = texture(u_texture, v_texcoord);\n    }\n",vertex:"#version 300 es\n    precision mediump float;\n    \n    in vec4 a_position;\n    in vec2 a_texcoord;\n    \n    uniform mat4 u_matrix;\n    \n    out vec2 v_texcoord;\n    \n    void main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = a_texcoord;\n    }\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp; \n                vec4 temp2;\n\n                vec4 boost1;\n                vec4 boost2;\n                vec4 boostVec4;\n                float threshold;\n                \n                float randNoise(vec2 co){\n                    return fract(sin(dot(co.xy *distortionStart  ,vec2(12.9898,78.233))) * 43758.5453) * 0.3 ;\n                }\n\n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453) * (distortionStart+distortionEnd);\n                }\n                \n                void main() {\n                    temp = texture(u_texture, v_texcoord).rgba;\n        \n                    \n                    temp2 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.1 * distortionEnd , v_texcoord.y)).rgba;\n                    /*if(  v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd &&  int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01    ){\n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x  , v_texcoord.y+    rand(v_texcoord))  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                    }else{\n        */\n                    if(temp.r > 0.1 || temp.g > 0.1 || temp.b > 0.1 ){\n                        outColor =  temp.rgba;\n                    }else if(temp2.r > 0.1 || temp2.g > 0.1 || temp2.b > 0.1 ){\n                        if(distortionStart > 0.5){\n                            outColor =  temp2.brga;\n                        }else{\n                        outColor =  temp2.rgba ; \n                        }\n                    }else{\n                        \n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        \n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x+    rand(v_texcoord)  , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       /*   \n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.01 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.02 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.03 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.05 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       */\n                    }\n                    //noise\n                      outColor += vec4(randNoise(v_texcoord),randNoise(v_texcoord),randNoise(v_texcoord),randNoise(v_texcoord));\n\n\n                      //colorboost\n                      threshold = 0.5;\n                    boostVec4 = vec4(0.2,0.2,0.2,1.0);\n                      boost1 = texture(u_texture, vec2(v_texcoord.x + randNoise(v_texcoord) * 0.001 *distortionStart   , v_texcoord.y)).rgba;\n                      boost2 = texture(u_texture, vec2(v_texcoord.x - randNoise(v_texcoord) * 0.001 *distortionEnd , v_texcoord.y)).rgba;\n                      if (boost1.r > threshold || boost1.g > threshold || boost1.b > threshold) { \t\n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }                   \n                    }\n                    if (boost2.r > threshold || boost2.g > threshold || boost2.b > threshold) { \t                   \n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }\n                    }\n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp1; \n                vec4 temp2;\n\n                vec4 boost1;\n                vec4 boost2;\n                vec4 boostVec4;\n\n                float threshold;\n                \n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy *distortionStart  ,vec2(12.9898,78.233))) * 43758.5453) * 0.3 ;\n                }\n                \n                void main() {   \n                    threshold = 0.5;\n                    boostVec4 = vec4(0.2,0.2,0.2,1.0);\n\n                    temp1 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.01 *distortionStart   , v_texcoord.y)).rgba;\n                    temp2 = texture(u_texture, vec2(v_texcoord.x - rand(v_texcoord) * 0.01 *distortionEnd , v_texcoord.y)).rgba;\n                    outColor =  texture(u_texture, v_texcoord).rgba;\n                    \n                    boost1 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.001 *distortionStart   , v_texcoord.y)).rgba;\n                    boost2 = texture(u_texture, vec2(v_texcoord.x - rand(v_texcoord) * 0.001 *distortionEnd , v_texcoord.y)).rgba;\n\n                    \n\n                    if(temp1.r > threshold || temp1.g > threshold || temp1.b > threshold){\n                        outColor += temp1;\n                    }\n                    if(temp2.r > threshold || temp2.g > threshold || temp2.b > threshold){\n                        outColor += temp2;\n                    }                    \n\n\n                    if (boost1.r > threshold || boost1.g > threshold || boost1.b > threshold) { \t\n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }                   \n                    }\n                    if (boost2.r > threshold || boost2.g > threshold || boost2.b > threshold) { \t                   \n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }\n                    }\n\n                    outColor += vec4(rand(v_texcoord) * v_texcoord.y,rand(v_texcoord),rand(v_texcoord),rand(v_texcoord));\n\n                    \n                    if(int(v_texcoord.y * 100.0) % 2 == 0 ){                       \n                        outColor.b -= 0.1;\n                        if(v_texcoord.y < distortionEnd && v_texcoord.y > distortionStart && rand(v_texcoord) >  0.29){\n                            outColor.r += 0.3;\n                        }\n                    }\n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n    \n    uniform vec4 u_color;    \n    varying vec2 vPos;\n    varying vec2 vPos2;\n\n    uniform float u_pos_x;\n    uniform float u_pos_y;   \n\n    uniform float u_perimiter;\n\n    float dist(vec2 p0, vec2 pf){\n        return sqrt((pf.x-p0.x)*(pf.x-p0.x)+(pf.y-p0.y)*(pf.y-p0.y));\n    }\n    float d;\n    vec4 res;\n\n    void main() {       \n        d = (dist(vec2(u_pos_x,u_pos_y), vPos2 )) / u_perimiter * 2. ;\n      \n        gl_FragColor += mix(u_color, vec4(0.0, 0.0, 0.0, 1.0), d);\n       //gl_FragColor = u_color;     \n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 vPos;\nvarying vec2 vPos2;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    //gl_Position = vec4(a_position, 0, 1);\n    vPos = gl_Position.xy;\n    vPos2 = a_position;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    varying vec4 v_vertex_color;\n\n    void main() {\n        gl_FragColor = v_vertex_color;\n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nattribute vec4 a_color;\n\nvarying vec4 v_vertex_color;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = 1.0; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    v_vertex_color = a_color;\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;    \n\n    uniform vec4 u_color;\n\n    varying float v_fast_color_alpha;\n\n    void main() {\n        gl_FragColor = vec4(u_color.r,u_color.g,u_color.b, v_fast_color_alpha);     \n    }\n    ",vertex:"\nattribute vec3 a_position;\n\nuniform vec2 u_resolution;\n\nvarying float v_fast_color_alpha;\n\nvoid main() {\n\n    vec2 pos2d = vec2(a_position.x, a_position.y);\n    v_fast_color_alpha = a_position.z;\n\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = pos2d / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = 1.0; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n    \n    uniform vec4 u_color;    \n    varying vec2 vPos;\n    varying vec2 vPos2;\n\n    uniform float u_pos_x;\n    uniform float u_pos_y; \n    \n    \n\n    uniform float u_perimiter;\n\n    float dist(vec2 p0, vec2 pf){\n        return sqrt((pf.x-p0.x)*(pf.x-p0.x)+(pf.y-p0.y)*(pf.y-p0.y));\n    }\n    float d;\n\n    void main() {       \n       d = ((dist(vec2(u_pos_x,u_pos_y), vPos2 )) / u_perimiter );\n       d = d * d * d * d * d;\n       gl_FragColor += mix(u_color, vec4(0.0, 0.0, 0.0, 1), d);\n       // gl_FragColor = u_color;\n           \n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 vPos;\nvarying vec2 vPos2;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n    vPos = gl_Position.xy;\n    vPos2 = a_position;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n    \n    uniform vec4 u_color;    \n    varying vec2 vPos;\n    varying vec2 vPos2;\n   \n    \n    uniform float u_pos_from_x;\n    uniform float u_pos_from_y;   \n    uniform float u_pos_to_x;\n    uniform float u_pos_to_y;   \n    \n\n\n    uniform float u_perimiter;\n\n    float dist(vec2 p0, vec2 pf){\n        return sqrt((pf.x-p0.x)*(pf.x-p0.x)+(pf.y-p0.y)*(pf.y-p0.y));\n    }\n    float d;\n    vec4 res;\n\n    void main() {       \n        vec2 from = vec2(u_pos_from_x, u_pos_from_y);\n        vec2 to = vec2(u_pos_to_x, u_pos_to_y);\n        vec2 gradVec;\n        float value;\n    \n        gradVec = to - from;\n        value = dot(vPos2 - from, gradVec)/dot(gradVec, gradVec);\n        value = clamp(value, 0.0, 1.0);\n    \n        gl_FragColor += mix(u_color, vec4(0.0, 0.0, 0.0, 1), value);\n       // gl_FragColor = vec4(value,0.0,0.0,0);  \n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 vPos;\nvarying vec2 vPos2;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    //gl_Position = vec4(a_position, 0, 1);\n    vPos = gl_Position.xy;\n    vPos2 = a_position;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n    \n    uniform vec4 u_color;    \n    varying vec2 vPos;\n    varying vec2 vPos2;\n   \n    uniform vec2 fromA;\n    uniform vec2 toA;\n    uniform vec2 fromB;\n    uniform vec2 toB;\n    uniform vec2 fromC;\n    uniform vec2 toC;\n\n\n   \n\n    void main() {\n\n        vec4 color0 = vec4(0.0,0.0,0.0,1.0);\n        vec4 color1 = vec4(1.0,1.0,1.0,1.0);\n\n        \n        vec2 gradVec;\n        float value;\n        float valueT;\n        \n        gradVec = toA - fromA;\n        value = dot(vPos2 - fromA, gradVec)/dot(gradVec, gradVec);\n        valueT = clamp(value, 0.0, 1.0);\n       \n        gradVec = toB - fromB;\n        value = dot(vPos2 - fromB, gradVec)/dot(gradVec, gradVec);\n        valueT = clamp( max(valueT, value),0.0,1.0);\n        \n        gradVec = toC - fromC;\n        value = dot(vPos2 - fromC, gradVec)/dot(gradVec, gradVec);\n        valueT = clamp( max(valueT, value),0.0,1.0);\n       \n        gl_FragColor = mix(color0, color1, valueT);\n          \n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 vPos;\nvarying vec2 vPos2;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    //gl_Position = vec4(a_position, 0, 1);\n    vPos = gl_Position.xy;\n    vPos2 = a_position;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(37)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultEngineCTX=t.createDefaultGuiCTX=void 0,t.createDefaultGuiCTX=function(e,t,a,n,o,i,s,A){var u=r.default(e.state);return{IS_MULTIPLAYER:A,step:0,stepMS:0,stepREQframe:0,stepMStotal:0,frameCnt:0,ctx:o,frame:s,imageData:i,game:e,SW:e.SW,SH:e.SH,WW:t,WH:a,SX:5e3,SY:2e3,gl:n,keyCodes:u.game.keys}},t.createDefaultEngineCTX=function(e,t,a,n,o){var i=r.default(e.state);return{IS_MULTIPLAYER:n,IS_SERVER:o,SW:e.SW,SH:e.SH,WW:t,WH:a,SX:0,SY:0,game:e,step:0,stepMS:0,stepMStotal:0,frameCnt:0,stepREQframe:0,keyCodes:i.game.keys}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(4),r(0),r(9),r(3),r(26),r(142),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(6),r(49),r(350),r(351),r(352),r(353),r(12)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h,v,g,y,m,S,E,x,T,_,I,M,L,b,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=null,P=null,O=null,C=null,G=null,N=["DON'T FOLLOW US","DEATH IS NEAR","IT'S NOT WHAT YOU THINK IT IS","THIS IS NOT A DISTRESS CALL, IT'S A WARNING","THERE BE SPACE SNAKES","LET'S GET THE FUCK OUT OF HERE","SPACE WAS NEVER MEAN'T FOR US","LEAVE THIS PLACE","REST IN PIECES","STAY IN THE LIGHT"],B=[g.default,v.default,f.default,p.default,d.default,c.default,s.default,A.default,u.default,l.default,h.default,y.default,m.default,S.default,E.default,x.default,I.default,M.default,L.default,b.default],F=!1,D=!1,V=null,X=!0;t.default=function(e,t,s,A){void 0===A&&(A=!1);var u=e.SW,l=e.SH,c=e.gl;if(c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),!X){if(D||(e.step=t.step=1,e.stepMS=t.stepMS=1e3/60,e.SW=t.SW=window.innerWidth,e.SH=t.SH=window.innerHeight,D=!0),!V)return void(V=B[Math.round(Math.random()*B.length)]);if(e.game.currentLevel=13,!F)return V.init(t),F=!0,void(e.game.player[0]&&(e.SX=t.SX=e.game.player[0].pos.x-500,e.SY=t.SY=e.game.player[0].pos.y-300));1!==s?(V.camera&&V.camera(e),i.default(e),V.assert(t),V.gui(e)):(_.default(t,e),w.LOG_GL_CLEAR())}A||(X=!1);var d=[],p=[];R||(R=n.default.create("FAR FROM GRACE".split("").join("  "),o.TEXT_SIZE_MEDIUM,"w",!1,!0),P=n.default.create("Klimtachakka @ gmail.com",26,"w",!1,!0),O=n.default.create("DORITO ENGINE |>",20,"w",!1,!0),C=n.default.create("VERSION "+o.VERSION_STR,16,"w",!1,!0),G=n.default.create(N[Math.floor(Math.random()*N.length)],32,"r",!1,!0));var f=.5*R.w,h=.5*u-.5*f,v=.9*l;r.line2Poly(h,v-4,h,v+4,d,1),r.line2Poly(h+f,v-4,h+f,v+4,d,1),r.line2Poly(h,v-4,h+f,v-4,d,1),r.line2Poly(h,v+4,h+f,v+4,d,1),r.line2Poly(h+2,v,h+f*s-2,v,d,2),r.addToColorMap(p,d,1,1,1,1),r.drawColorMap(p,d,a.default(a.GLctx.Vertices,c),c);var g=s>.95?a.default(a.GLctx.TextureDist,c):a.default(a.GLctx.Texture,c);n.default.addGL(c,g,P,.05*u,.95*l,e),n.default.addGL(c,g,O,.95*u-O.w,.95*l,e),n.default.addGL(c,g,C,.5*u-.5*C.w,.95*l,e),d=[],p=[],c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA),r.fillPoly(u,0,0,u,l,d);var y=s<.5?T.map(s,0,.1,0,1,!0,!0):T.map(s,.8,1,0,1,!0,!1);r.addToColorMap(p,d,0,0,0,y),r.drawColorMap(p,d,a.default(a.GLctx.Vertices,c),c),c.blendFunc(c.ONE,c.ONE),g=s>.9||s<.03?a.default(a.GLctx.TextureDist,c):a.default(a.GLctx.Texture,c);var m=s>.94;n.default.addGL(c,g,s>.94?G:R,.5*u-.5*(m?G.w:R.w),l*(m?.45:.06),e)}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(3),r(0),r(31),r(2),r(19),r(22),r(15)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.66*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSnake[0]&&A.distanceBetween(t.player[0],t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,n=e.SW,o=e.SH,i=r.createShip(e);i.life=2e3,t.player.push(i),i.availableElectroBastardRays=3e6,i.angle+=.9*Math.PI,i.shields=0,a.default(t.player,n+250,o,.3*n,.3*o),t.spaceSnake=s.default(e,1,i.pos.x+.4*n,i.pos.y+200,Math.round(14+6*Math.random())),t.spaceSnake[0].restPos=i.pos.clone();for(var d=0;d<220;d++)u.default(e),l.default(e),i.keyCodes.DOWN=10===d,t.player[0]&&t.spaceSnake[0]&&A.distanceBetween(t.player[0],t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0);i.keyCodes.UP=!0,c.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=n.default.create("USE ",a,"w"),A=n.default.create("ELECTROBASTARD RAY ",a,"r"),u=n.default.create("TO STUN",a,"w"),l=n.default.create("BIOLOGIAL ENEMIES [SPACE SNAKES]",a,"w"),c=i.default(i.GLctx.Texture,t);n.default.addListGL(t,c,[s,A,u],100,r-400,e),n.default.addGL(t,c,l,100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(32),r(3),r(0),r(31),r(43),r(8),r(10),r(19),r(22),r(15),r(39)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.5*t,e.SY=e.game.player[0].pos.y-.7*r},splash:null,assert:function(e){var t,r=e.game;if(r.clock>100&&(e.step=0),r.enemies.length<8){var n=c.default(e);if(n){var o=l.createEnemies(e,1);a.default(o,n.pos.x-900,n.pos.y-900,1800,1800),(t=r.enemies).push.apply(t,o)}}return!1},init:function(e){var t=e.game,n=(e.SW,e.SH,e.WW),i=e.WH,s=r.createShip(e);s.life=2e3,t.player.push(s),s.availableElectroBastardRays=3e6,s.angle+=.9*Math.PI,s.shields=0,s.pos.x=.7*n,s.pos.y=.7*i,s.homingBullets=200;var c=u.default(e,380,s.pos.clone(),"GENESIS",{boost:0,life:0,missiles:0,rockets:0,electrobastardray:0,homingBullets:0,proximityMines:0,bullets:0});c.cannons.forEach(function(e){return e.life=150+150*Math.random()}),c.centerNoneCannon.life=320,t.spacePorts.push(c),t.enemies=l.createEnemies(e,8),t.spaceSnake=A.default(e,1,s.pos.x+700,s.pos.y+200),t.spaceSpiders=h.default(e,1),a.default(t.spaceSpiders,s.pos.x-900,s.pos.y-900,1800,1800),t.spaceSquids=o.default(e,2),t.spaceSquids[0].pos.x=s.pos.x-800,t.spaceSquids[1].pos.x=s.pos.x+800,t.spaceSquids[0].pos.y=s.pos.y-600,t.spaceSquids[1].pos.y=s.pos.y+600,a.default(t.enemies,s.pos.x-900,s.pos.y-900,1800,1800);for(var v=0;v<120;v++)d.default(e),p.default(e),s.keyCodes.DOWN=10===v||90===v,v>80&&(Math.random()>.8?s.keyCodes.FIRE=!0:s.keyCodes.FIRE=!1);s.keyCodes.STRAFELEFT=!0,f.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*i.TEXT_SIZE_MEDIUM),o=n.default.create("SPACEPORTS ",a,"g"),A=n.default.create("CAN BE A SAFE HAVEN",a,"w"),u=n.default.create("BUT DONT STAY TOO LONG",a,"w"),l=s.default(s.GLctx.Texture,t);n.default.addListGL(t,l,[o,A],100,r-400,e),n.default.addGL(t,l,u,100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(3),r(0),r(10),r(94),r(15),r(17),r(19),r(22)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=u.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,n=e.SW,o=e.SH,i=e.WW,p=e.WH,f=r.createShip(e);f.life=2e3,t.player.push(f),f.availableElectroBastardRays=3e6,f.angle+=.9*Math.PI,f.shields=0,f.pos.x=.7*i,f.pos.y=.7*p,t.asteroids=l.default(e,12,10,20),a.default(t.asteroids,f.pos.x-1e3,f.pos.y-1e3,2e3,2e3),t.spaceBats=A.default(e,400),a.default(t.spaceBats,f.pos.x-500,f.pos.y-500,500,500),u.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*n,u.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*o;for(var h=0;h<220;h++){c.default(e),d.default(e);var v=s.default(e);v.keyCodes.MISSILE=150===h,v&&(t.clock>5e3?v.keyCodes.UP=Math.random()>.4:t.clock>3e3?v.keyCodes.UP=Math.random()>.85:v.keyCodes.UP=Math.random()>.8)}f.keyCodes.UP=!0,u.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=n.default.create("IF YOU GET CAUGHT BY ",a,"w"),A=n.default.create("SPACEBATS",a,"r"),u=n.default.create("GET THE FUCK OUT OF THERE",a,"w"),l=i.default(i.GLctx.Texture,t);n.default.addListGL(t,l,[s,A],100,r-400,e),n.default.addGL(t,l,u,100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(19),r(22),r(26)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=i.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.SW,n=e.SH,o=(e.WW,e.WH,r.createShip(e));o.angle=1.1*Math.PI,o.life=2e3,o.shields=0,t.player.push(o);var l=t.spaceFog.filter(function(e){return!e.fire})[0];o.pos.x=l.x+500,o.pos.y=l.y,i.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*a,i.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*n,i.default().gui.step=1;for(var c=0;c<35;c++)c>30&&(s.default(e),A.default(e)),u.default(i.default().gui);o.keyCodes.UP=!0,i.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),i=(e.game,1.3*n.TEXT_SIZE_MEDIUM),s=a.default.create("THE DARK ",i,"w"),A=a.default.create("SPACEFOG",i,"r"),u=a.default.create("IS NOT DANGEREOUS, BUT ENEMIES MIGHT HIDE",i,"w"),l=o.default(o.GLctx.Texture,t);a.default.addListGL(t,l,[s,A],100,r-400,e),a.default.addGL(t,l,u,100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(19),r(22),r(26)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=i.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.SW,n=e.SH,o=(e.WW,e.WH,r.createShip(e));o.angle=.1*Math.PI,o.life=2e3,o.shields=0,t.player.push(o);var l=t.spaceFog.filter(function(e){return e.fire})[0];o.pos.x=l.x-400,o.pos.y=l.y-200,i.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*a,i.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*n,i.default().gui.step=1;for(var c=0;c<35;c++)c>30&&(s.default(e),A.default(e)),u.default(i.default().gui);o.keyCodes.UP=!0,i.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),i=(e.game,1.3*n.TEXT_SIZE_MEDIUM),s=a.default.create("THE ",i,"w"),A=a.default.create("SPACE FIRE",i,"b"),u=a.default.create("WILL DAMAGE YOUR SHIP",i,"w"),l=o.default(o.GLctx.Texture,t);a.default.addListGL(t,l,[s,A],100,r-400,e),a.default.addGL(t,l,u,100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(3),r(0),r(15),r(17),r(19),r(22),r(26),r(56),r(36)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=s.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,n=e.SW,o=e.SH,i=(e.WW,e.WH,r.createShip(e));i.angle=1.1*Math.PI,i.life=2e3,i.shields=0,t.player.push(i),i.pos.x=6e3,i.pos.y=6e3,p.createProximityMineFromShip(i,e),t.asteroids=A.default(e,30,100,150),a.default(t.asteroids,i.pos.x-1e3,i.pos.y-1e3,2e3,2e3),t.asteroids.forEach(function(t){return Math.random()>.5&&d.removeAsteroid(t,e,i)}),s.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*n,s.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*o,s.default().gui.step=1;for(var f=0;f<165;f++)f%2==0?(i.electroBastardRay=!0,i.keyCodes.DOWN=!0):i.keyCodes.DOWN=!1,u.default(e),l.default(e);c.default(s.default().gui),i.keyCodes.UP=!0,s.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=n.default.create("BLOW UP ASTEROIDS TO GET ",a,"w"),A=n.default.create("POWERUPS",a,"g"),u=n.default.create("BUT BEWARE OF THE ",a,"w"),l=n.default.create("SPACE PARASITES ",a,"r"),c=i.default(i.GLctx.Texture,t);n.default.addListGL(t,c,[s,A],100,r-400,e),n.default.addListGL(t,c,[u,l],100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(61),r(4),r(105)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=null;t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){(l=r.createShip(e)).angle=-.17*Math.PI,l.pos.x=.7*e.SW+1e3,l.pos.y=.5*e.SH+1e3,l.keyCodes.BOOST=!0;var t=i.default().gui;e.step=t.step=0,e.SX=t.SX=1e3,e.SY=t.SY=1e3},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,i=[],c=[];l.keyCodes.BOOST=!0,l.keyCodes.UP=!0;u.drawPlayerShipThrust(l,e,14),s.default(e.game.zoomTXinverted,l,e.SX,e.SY,i,c,null,14),A.drawColorMap(c,i,o.default(o.GLctx.Vertices,t),t);var d=1.3*n.TEXT_SIZE_MEDIUM,p=a.default.create("TAKE CARE OF YOUR ",d,"w"),f=a.default.create("SHIP",d,"g"),h=a.default.create("AND IT WILL TAKE CARE OF YOU",d,"w"),v=o.default(o.GLctx.Texture,t);a.default.addListGL(t,v,[p,f],100,r-400,e),a.default.addGL(t,v,h,100,r-400+d,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(9),r(3),r(0),r(15),r(26),r(121),r(90),r(66),r(28)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=null,d=function(e){for(var t=e.SX+.4*e.SW,r=e.SY+.3*e.SH,a=0;a<26;a+=2)u.default(e,8*a,700-a,t+a*a*.8+20,r+.5*a+50,1,.1,.1,1-.01*a,"Enable",16+4*a,0,300)};t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){var t=e.SW,r=e.SH,a=o.default().gui;e.SX=a.SX=1e3,e.SY=a.SY=1e3,e.game.spaceFog=[],c=s.createRagdoll(e.SX+.4*t,e.SY+.5*r,6);var n=e.SX+.4*t,A=e.SY+.3*r;i.default(a);for(var u=0;u<50;u++){var l=c.links.filter(function(e){return 0===e.type})[0];l.p0.x=n,l.p0.y=A,l.p1.x=n+10,l.p1.y=A+100,c.anim(1)}d(a),e.step=a.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,o=e.SH;d(e);var i=c.links.filter(function(e){return 0===e.type})[0];l.Glow(i.p0,.3,[],e,.1,0,0,1),A.drawRagdoll(e,c,36,1,.15,.15,.15);var s=1.3*a.TEXT_SIZE_MEDIUM,u=r.default.create("SPACE CAN BE A CRUEL ",s,"w"),p=r.default.create("MISTRESS",s,"r"),f=r.default.create("LIVE TO FIGHT ANOTHER DAY",s,"w"),h=n.default(n.GLctx.Texture,t);r.default.addListGL(t,h,[u,p],100,o-400,e),r.default.addGL(t,h,f,100,o-400+s,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(3),r(0),r(2),r(19),r(22),r(15),r(39)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.66*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSpiders[0]&&s.distanceBetween(t.player[0],t.spaceSpiders[0])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,n=e.SW,o=e.SH,i=r.createShip(e);i.life=2e3,t.player.push(i),i.availableElectroBastardRays=3e6,i.angle+=.9*Math.PI,i.shields=0,a.default(t.player,n+250,o,.3*n,.3*o),t.spaceSpiders=c.default(e,1,i.pos.x+.4*n,i.pos.y+200),t.spaceSpiders[0].restPos=i.pos.clone();for(var d=0;d<220;d++)i.closestItem=t.spaceSpiders[0],A.default(e),u.default(e),t.player[0]&&t.spaceSpiders[0]&&(t.spaceSpiders[0].life=50,s.distanceBetween(t.player[0],t.spaceSpiders[0])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0));i.keyCodes.UP=!0,l.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=n.default.create("USE ",a,"w"),A=n.default.create("ELECTROBASTARD RAY ",a,"r"),u=n.default.create("TO STUN",a,"w"),l=n.default.create("BIOLOGIAL ENEMIES [SPACE SPIDERS]",a,"w"),c=i.default(i.GLctx.Texture,t);n.default.addListGL(t,c,[s,A,u],100,r-400,e),n.default.addGL(t,c,l,100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(17),r(29),r(26),r(19),r(43),r(1),r(39)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){e.SX,e.SY;var t=e.SW,a=e.SH,n=r.createShip(e);e.game.player[0]=n,n.angle=-.17*Math.PI,n.shields=0,e.game.anomalyPairs=[],e.game.spaceFog=[],e.game.anomlies=[],n.pos.x=.55*e.SW+1e3,n.pos.y=.45*e.SH+1e3,n.ultrabright=5e5,n.keyCodes.UP=!0,n.life=1,e.game.asteroids=s.default(e,40,8,20),A.default(e.game.asteroids,1e3,1e3,t,a),e.game.spaceSpiders=p.default(e,1,n.pos.x+200,n.pos.y+500);var o=c.default(e,400,new d.Vector(n.pos.x+.8*t,n.pos.y+200),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:2,bullets:2e3});e.game.spacePorts=[o];var f=i.default().gui;n.SX=e.SX=f.SX=1e3,n.SY=e.SY=f.SY=1e3;for(var h=0;h<10;h++)n.life=13,l.default(e),n.life=7,n.remove=!1;u.default(f),e.step=f.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,i=1.3*n.TEXT_SIZE_MEDIUM,s=a.default.create("IF YOUR SHIP POWER IS ",i,"w"),A=a.default.create("LOW",i,"r"),u=a.default.create("FIND A SPACEPORT TO REPAIR YOUR SHIP",i,"w"),l=o.default(o.GLctx.Texture,t);a.default.addListGL(t,l,[s,A],100,r-400,e),a.default.addGL(t,l,u,100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(1),r(8),r(15),r(19),r(22),r(26),r(91)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=A.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.3*t,a.SY=e.SY=e.game.player[0].pos.y-.3*r},splash:null,assert:function(e){return!1},init:function(e){var t,a=e.game,n=(e.SW,e.SH,e.WW,e.WH,r.createShip(e));n.angle=Math.PI,n.life=2e3,n.shields=0,a.player.push(n),n.pos.x=6e3,n.pos.y=6e3,n.ultrabright=1e3;for(var o=new i.Vector(200,0),p=new i.Vector(450,0),f=0;f<8;f++)o.setAngle(1.3*-Math.PI+.3*f),p.setAngle(1.3*-Math.PI+.3*f),n.angle=Math.PI+.3*f,n.pos.x=6e3-o.x,n.pos.y=6e3-o.y,p.addXY(6e3,6e3),d.createSpaceTurret(n,e),a.spaceTurrets[a.spaceTurrets.length-1].bullets-=Math.ceil(100*Math.random()+f);for(f=0;f<12;f++)(t=a.enemies).push.apply(t,s.createEnemies(e,1,{pos:new i.Vector(7200-100*f,5400+100*f)}));n.pos.x=6100,n.pos.y=6100,n.angle=.4*Math.PI,A.default().gui.step=1;for(f=0;f<110;f++)u.default(e),l.default(e);c.default(A.default().gui),A.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),i=(e.game,1.3*n.TEXT_SIZE_MEDIUM),s=a.default.create("SET UP SPACE TURRETS TO ",i,"w"),A=a.default.create("DEFEND",i,"g"),u=a.default.create("PARTS OF ",i,"w"),l=a.default.create("SPACE",i,"r"),c=o.default(o.GLctx.Texture,t);a.default.addListGL(t,c,[s,A],100,r-400,e),a.default.addListGL(t,c,[u,l],100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(29),r(9),r(3),r(0),r(1),r(8),r(15),r(17),r(19),r(22),r(26),r(36)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=u.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.3*t,a.SY=e.SY=e.game.player[0].pos.y-.3*r},splash:null,assert:function(e){return!1},init:function(e){var t,n=e.game,o=(e.SW,e.SH,e.WW,e.WH,r.createShip(e));o.angle=Math.PI,o.life=2e3,o.shields=0,n.player.push(o),o.pos.x=6e3,o.pos.y=6e3,o.ultrabright=1e3,e.game.asteroids=l.default(e,30),a.default(e.game.asteroids,4e3,4e3,4e3,4e3);for(var i=new s.Vector(200,0),h=new s.Vector(450,0),v=0;v<8;v++)i.setAngle(1.3*-Math.PI+.3*v),h.setAngle(1.3*-Math.PI+.3*v),o.angle=Math.PI+.3*v,o.pos.x=6e3-i.x,o.pos.y=6e3-i.y,h.addXY(6e3,6e3),f.createProximityMineFromShip(o,e);for(v=0;v<12;v++)(t=n.enemies).push.apply(t,A.createEnemies(e,1,{pos:new s.Vector(7500-100*v,5400+100*v)}));o.pos.x=6100,o.pos.y=6100,o.angle=.4*Math.PI,u.default().gui.step=1;for(v=0;v<50;v++)c.default(e),d.default(e);p.default(u.default().gui),u.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=n.default.create("PROXIMITYMINES WILL ENGAGE WHEN IN ",a,"w"),A=n.default.create("RANGE",a,"g"),u=n.default.create("THE BLAST WILL DAMAGE ANYTHING ",a,"w"),l=n.default.create("IN CLOSE PROXIMITY ",a,"r"),c=i.default(i.GLctx.Texture,t);n.default.addListGL(t,c,[s,A],100,r-400,e),n.default.addListGL(t,c,[u,l],100,r-400+a,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(9),r(3),r(0),r(43),r(1),r(8),r(15),r(19),r(22),r(26),r(55)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=u.default().engine;a.SX=e.SX=e.game.npcs[0].pos.x-.3*t,a.SY=e.SY=e.game.npcs[0].pos.y-.3*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,r=(e.SW,e.SH,e.WW),a=e.WH,n=i.default(e,400,new s.Vector(.27*e.WW,.1*e.WH),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:6,bullets:2e3}),f=i.default(e,380,new s.Vector(.7*e.WW,.1*e.WH),"GENESIS",{boost:200,life:150,missiles:8,rockets:2,electrobastardray:300,homingBullets:300,proximityMines:2,bullets:2400}),h=i.default(e,440,new s.Vector(.2*e.WW,.85*e.WH),"NEW HORIZON",{boost:240,life:170,missiles:6,rockets:9,electrobastardray:320,homingBullets:100,proximityMines:2,bullets:2800});t.spacePorts=[n,f,h];var v=p.default(Math.random,.6*r,.5*a,250);t.rockFormations=v.rockFormations,t.rockFormationSystemRadius=[v.rfSystem],t.npcs=o(A.createNPCs(e,1,{},0)),t.npcs.map(function(e){return e.miningRig.target=t.rockFormations[t.rockFormations.length-1]}),t.npcs.map(function(e){return e.pos.setFromVec(e.miningRig.target.pos)});var g=0;for(u.default().gui.step=1;4!==t.npcs[0].miningRig.armState&&g<500;)g++,l.default(e),c.default(e);t.npcs[0].miningRig.armState=4,d.default(u.default().gui),u.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,o=(e.SW,e.SH),i=(e.game,1.3*a.TEXT_SIZE_MEDIUM),s=r.default.create("PROTECT THE ",i,"w"),A=r.default.create("WORKERS.",i,"g"),u=r.default.create("AND THEY WILL PROTECT THE ",i,"w"),l=r.default.create("SPACEPORTS.",i,"g"),c=n.default(n.GLctx.Texture,t);r.default.addListGL(t,c,[s,A],100,o-400,e),r.default.addListGL(t,c,[u,l],100,o-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(32),r(3),r(0),r(15),r(19),r(22),r(26)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=s.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.3*t,a.SY=e.SY=e.game.player[0].pos.y-.3*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=(e.SW,e.SH,e.WW,e.WH,r.createShip(e));a.angle=Math.PI,a.life=2e3,a.shields=0,t.player.push(a),a.pos.x=6e3,a.pos.y=6e3,a.ultrabright=1e3,a.angle+=Math.PI;var o=n.default(e,1,6500,6e3,390,{x:6e3,y:6e3})[0];o.infected=!0,o.life=1,t.spaceSquids=[o],a.homingBullets=100,s.default().gui.step=1,s.default().engine.step=1;for(var i=0;i<60;i++)Math.random()>.9?a.keyCodes.FIRE=!0:a.keyCodes.FIRE=!1,A.default(e),u.default(e);l.default(s.default().gui),s.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),n=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=a.default.create("WATCH OUT FOR",n,"w"),A=a.default.create("SPACE PARASITES",n,"r"),u=a.default.create("THEY MIGHT HIDE IN ",n,"w"),l=a.default.create("SPACE BEASTS",n,"r"),c=i.default(i.GLctx.Texture,t);a.default.addListGL(t,c,[s,A],100,r-400,e),a.default.addListGL(t,c,[u,l],100,r-400+n,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(32),r(3),r(0),r(19),r(22),r(15),r(8),r(36),r(17),r(1)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){e.SW,e.SH},splash:null,assert:function(e){e.game;return!1},init:function(e){var t=e.game,a=(e.SW,e.SH,e.WW,e.WH,r.createShip(e));a.life=2e3,t.player.push(a),a.angle+=.2*Math.PI,a.pos.set(5400,5e3);var o=l.createDestroyer(e);t.destroyers.push(o),o.angle-=.33*Math.PI,t.anomlies=[{type:29,pos:new p.Vector(7e3,6e3),positive:!1,effect:8,radius:510,spawnParticles:!1,seedKey:0}],o.pos.set(5400,5430),o.radarAngle=Math.random()*Math.PI;var i=d.default(e,1)[0];i.radius=30,i.type=54,i.pos.setFromVec(o.pos),i.pos.x-=210,i.pos.y-=180,e.game.asteroids.push(i);var f=n.default(e,1,6300,5300,140)[0];f.restPos.setFromVec(a.pos.clone()),t.spaceSquids.push(f);for(var h=0;h<92;h++)s.default(e),A.default(e),a.shields=0,a.keyCodes.DOWN=22===h,h>89&&(c.createProximityMineFromShip(a,e),t.proximityMines[t.proximityMines.length-1].pos.x+=400*(Math.random()-.5),t.proximityMines[t.proximityMines.length-1].pos.y+=400*(Math.random()-.5)),f&&f.pos.set(6600,5300);a.keyCodes.UP=!0,u.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),n=(e.game,1.3*o.TEXT_SIZE_MEDIUM),s=a.default.create("DESTROYERS ",n,"g"),A=a.default.create("HUNT ",n,"w"),u=a.default.create("",n,"r"),l=a.default.create("SPACEBEASTS",n,"r"),c=i.default(i.GLctx.Texture,t);a.default.addListGL(t,c,[s,A,u],100,r-400,e),a.default.addGL(t,c,l,100,r-400+n,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(17),r(19),r(22),r(26)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=i.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t,a=e.game,n=e.SW,o=e.SH,c=(e.WW,e.WH,r.createShip(e));c.ultrabright=2e8,c.angle=1.1*Math.PI,c.life=2e3,c.shields=0,a.player.push(c),c.pos.x=6e3,c.pos.y=6e3,a.asteroids=[],(t=a.asteroids).push.apply(t,s.createAsteroidBelt(Math.random,6e3,6250,3e3,.1*Math.PI,.01*Math.PI,10,90,216).asteroids),i.default().gui.SX=e.SX=e.game.player[0].pos.x-.8*n,i.default().gui.SY=e.SY=e.game.player[0].pos.y-.8*o,i.default().gui.step=1;for(var d=0;d<165;d++)A.default(e),u.default(e);l.default(i.default().gui),i.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),i=(e.game,1.3*n.TEXT_SIZE_MEDIUM),s=a.default.create("A CHARGE ",i,"g"),A=a.default.create("IS A GOOD WAY TO",i,"w"),u=a.default.create("GET OUT OF ",i,"w"),l=a.default.create("ASTEROID BELTS ",i,"r"),c=o.default(o.GLctx.Texture,t);a.default.addListGL(t,c,[s,A],100,r-400,e),a.default.addListGL(t,c,[u,l],100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(15),r(19),r(22),r(26),r(17)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=i.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.SW,n=e.SH,o=(e.WW,e.WH,r.createShip(e));o.angle=1.1*Math.PI,o.life=2e3,o.shields=0,o.cloaked=!0,t.player.push(o),o.pos.x=6e3,o.pos.y=6e3,t.asteroids.push(l.createSingleAsteroid(240,{x:o.pos.x-600,y:o.pos.y-500},{x:0,y:0},{life:4e3})),i.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*a,i.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*n,i.default().gui.step=1;for(var c=0;c<65;c++)o.keyCodes.FLAMETHROWER=!0,s.default(e),A.default(e);u.default(i.default().gui),o.cloaked=!0,i.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),i=(e.game,1.3*n.TEXT_SIZE_MEDIUM),s=a.default.create("THE FLAMETHROWER ",i,"g"),A=a.default.create("CAN BE HANDY WHEN ",i,"w"),u=a.default.create("IT'S ",i,"w"),l=a.default.create("DARK ",i,"r"),c=o.default(o.GLctx.Texture,t);a.default.addListGL(t,c,[s,A],100,r-400,e),a.default.addListGL(t,c,[u,l],100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(17),r(19),r(1),r(87)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){e.SX,e.SY,e.SW,e.SH;var t,a,n=r.createShip(e);e.game.player[0]=n,n.angle=.3,n.keyCodes.UP=!0,n.keyCodes.FLAMETHROWER=!0,n.shields=0;var o=u.CreateAncient(Math.random,12,0,n.pos.x,n.pos.y,0);e.game.ancients.push(o.ancient),(t=e.game.ancientBlocks).push.apply(t,o.blocks),n.pos.x+=2100;var l=i.default(e,4,10,14,{pos:new A.Vector(n.pos.x+300+100*Math.random(),n.pos.y+50+50*Math.random()),life:3e3});(a=e.game.asteroids).push.apply(a,l),e.game.anomalyPairs=[],e.game.anomlies=[],e.game.spaceFog=[];for(var c=0;c<30;c++)s.default(e)},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,i=1.3*n.TEXT_SIZE_MEDIUM,s=a.default.create("THE ANCIENTS OF OUTER SPACE CAN BOTH ",i,"w"),A=a.default.create("GIVE",i,"g"),u=a.default.create("AND TAKE",i,"r"),l=o.default(o.GLctx.Texture,t);a.default.addListGL(t,l,[s,A],100,r-400,e),a.default.addGL(t,l,u,100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(9),r(3),r(0),r(19),r(87)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){e.SX,e.SY,e.SW,e.SH;var t,a=r.createShip(e);e.game.player[0]=a,a.angle=.3,a.pos.x=2001,a.pos.y=2e3,a.shields=0;var n=s.CreateAncient(Math.random,12,0,a.pos.x,a.pos.y+300,0);e.game.ancients.push(n.ancient),(t=e.game.ancientBlocks).push.apply(t,n.blocks),a.pos.x,e.game.anomalyPairs=[],e.game.anomlies=[],e.game.spaceFog=[];for(var o=0;o<30;o++)i.default(e)},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,i=1.3*n.TEXT_SIZE_MEDIUM,s=a.default.create("CHOOSE YOUR PATH ",i,"w"),A=a.default.create("CAREFULLY",i,"g"),u=o.default(o.GLctx.Texture,t);a.default.addListGL(t,u,[s,A],100,r-400+i,e)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(31),r(143)],void 0===(n=function(e,t,r,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=e.game,r=t.spaceSnake[0],a=t.player[0];return a.stunned=!1,a.damageTaken=!1,a.life=100,a.keyCodes.FIRE&&(r.spasm?r.spasm=null:r.segments[0].stunned=!0),r.spasm||(r.restPos=a.pos.clone()),n.menuGamePlayerAI(e),a.keyCodes.FIRE=!1,!1},init:function(e){var t=e.game;e.WH,e.WW;t.player[0]=r.createShip(e),t.spaceBats=[],t.anomlies=[],t.anomalyPairs=[],t.spaceFog=[],t.spaceSquids=[],t.player[0].angle=Math.PI*(Math.random()>.5?-.66:-.34),t.player[0].availableElectroBastardRays=6e5,t.spaceSnake=a.default(e,1,void 0,void 0,20)},mapSize:function(e){return{WW:5e3,WH:5e3}},camera:function(e){}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(94),r(17),r(12)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=e.game.spaceBats[0],r=e.game.spaceBats[1];return o.LOG_GL_FIXED(!!t.target+"","attack"),o.LOG_GL_FIXED(t.attackTimer,"timer"),o.LOG_GL_FIXED(r.attackTimer,"__timer"),!1},init:function(e){var t=e.game;t.player[0]=r.createShip(e),t.spaceBats=a.default(e,150),t.asteroids=n.default(e,12),t.npcs=r.createNPCs(e,8,{},-1),t.anomalyPairs=[],t.spaceFog=[],t.anomlies=[]},mapSize:function(){return{WW:5e3,WH:5e3}},camera:function(){}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(12),r(39),r(29),r(10)],void 0===(n=function(e,t,r,a,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=i.default(e);return t&&a.LOG_GL_FIXED(t.life,"life"),!1},init:function(e){var t=e.game,a=r.createShip(e);t.player[0]=a,a.shields=0,a.ultrabright=5e6,a.availableElectroBastardRays=1e5,t.spaceSpiders=n.default(e,1),o.default(t.spaceSpiders,a.pos.x+400,a.pos.y,3,3),t.anomalyPairs=[],t.spaceFog=[],t.anomlies=[],t.asteroids=[],t.parasites=[]},mapSize:function(){return{WW:5e3,WH:5e3}},camera:function(){}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(17),r(55),r(12)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){return!1},init:function(e){var t=e.game,i=e.WW,s=e.WH,A=(e.SW,e.SH,r.createShip(e));A.pos.x=.6*i,A.pos.y=.6*s,t.player[0]=A,t.drones=r.createDrones(e,t.player[0].pos,2,t.player[0].guid),t.npcs=r.createNPCs(e,30,{},-1),t.player[0].availableRockets=10,t.player[0].availableElectroBastardRays=600,t.asteroids=a.default(e,300);var u=n.default(Math.random,.6*i,.5*s,250);t.rockFormations=u.rockFormations,t.rockFormationSystemRadius=[u.rfSystem];var l=0;t.rockFormationsArcs.map(function(e){return l+=e.arc.length}),o.LOG_GL("RF LEN: "+t.rockFormations.length),o.LOG_GL("Arc LEN: "+l),o.LOG_GL("RF POS: "+(.6*i|0)+" | "+(.5*s|0))},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,n++)a[n]=o[i];return a};a=[r,t,r(8),r(17),r(12),r(144),r(5),r(10),r(2),r(6),r(4),r(0),r(9),r(3),r(3),r(6),r(1)],void 0===(n=function(e,t,r,a,n,i,s,A,u,l,c,d,p,f,h,v,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y,m,S,E=200,x=0,T=[],_=0,I=function(e){return e<0?0:e>1?1:e},M=[],L=[],b=function(e){var t=[],r={x:.9*Math.random(),y:.9*Math.random(),vx:.1*Math.random(),VY:.1*Math.random(),r:.01+.1*Math.random(),type:Math.random()>.5?12:45},a={x:.45+.1*Math.random(),y:.45+.1*Math.random(),a:Math.random()*Math.PI*2,fireOverheated:Math.random(),vel:Math.random()},o=u.distanceBetweenXYXY(r.x,r.y,a.x,a.y);t[0]=r.x,t[1]=r.y,t[2]=r.r,t[6]=a.x,t[7]=a.y,t[9]=a.a/(2*Math.PI),t[10]=a.fireOverheated,t[3]=12===r.type?.5:1;var i=Math.atan2(r.y-a.y,r.x-a.x),s=l.wrapRadianAngle(u.angleDifference(i,a.a+Math.PI)),A=s/(2*Math.PI);t[11]=A;var c=s>Math.PI?0:1;e&&(n.LOG_GL_FIXED(t[6].toFixed(2),"INP ship x"),n.LOG_GL_FIXED(t[7].toFixed(2),"INP ship y"),n.LOG_GL_FIXED(t[9].toFixed(2),"INP ship angle"),n.LOG_GL_FIXED(t[11].toFixed(2),"INP t angle"),n.LOG_GL_FIXED(t[0].toFixed(2),"INP ast x"),n.LOG_GL_FIXED(t[1].toFixed(2),"INP ast y"),n.LOG_GL_FIXED(t[2].toFixed(2),"INP ast r"),n.LOG_GL_FIXED(t[5].toFixed(2),"INP dist to target"),n.LOG_GL_FIXED(t[8].toFixed(2),"INP ship vel"));var d=12!==r.type?0:a.fireOverheated<.1?0:A>.4&&A<.6?1:0,p=A<.525&&A>.4775?12!==r.type?1:o-r.r>5*r.r?1:0:.25;t[4]=1;var f=!1;t[5]=o,t[8]=a.vel,Math.random()>.5&&(f=!0,t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[11]=0,t[4]=0,t[5]=1),t=t.map(function(e){return I(e)});var h=[];h[0]=f?.5:c,h[1]=f?1:a.vel>.2?0:p,h[2]=f?0:d,h=h.map(function(e){return I(e)});for(var v=S.train(t,h,e),g=0;g<v.length;g++)T[g]+=v[g]},w=function(e,t){var r=t.SX,a=t.SY,n=t.SW,o=t.SH,i=e.x,s=e.y;return{x:i=(i-r)/n,y:s=(s-a)/o}},R=function(e){for(var t=e.stepMS,r=e.SW,a=(e.SH,[]),n=0;n<7;n++)a[n]=0;var o=A.default(e),i=w(o.pos,e),c=[],d=200;if(y&&y.life>-1&&!y.remove&&_<5e3)c=[y],m=y,_+=t;else{for(;0===c.length&&d<.5*r;)c=(c=s.getQuadTreesObj().Enemies.queryCircle(o.pos,d)).filter(function(e){return e.radius>10}),d+=d;if(d=200,0===c.length)for(_=0,y=null;0===c.length&&d<r;)c=(c=s.getQuadTreesObj().Asteroids.queryCircle(o.pos,d)).filter(function(e){return e.radius>10}),d+=d}if(c.length>0){var p=0,f=c[0];for(n=0;n<c.length;n++){var h=c[n];h.radius>p&&12===h.type&&(p=h.radius,f=h)}m=f,y=f;var v=w(f.pos,e);a[0]=v.x,a[1]=v.y,a[2]=f.radius/200,a[3]=12===f.type||1===f.type?.5:1,a[5]=u.distanceBetweenXYXY(v.x,v.y,i.x,i.y);var g=Math.atan2(f.pos.y-o.pos.y,f.pos.x-o.pos.x),S=l.wrapRadianAngle(u.angleDifference(g,o.angle+Math.PI))/(2*Math.PI);a[11]=S,a[4]=1}else m=null,a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[11]=0,a[4]=0,a[5]=1;return a[8]=o.vel.getLength()/o.maxVel,a[6]=i.x,a[7]=i.y,a[9]=o.angle/(2*Math.PI),a[10]=Math.max(0,1-o.bulletsFired/o.maxBullets),a=a.map(function(e){return I(e)})},P=new g.Vector(0,0);t.default={gui:function(e){var t=e.SX,r=e.SY,a=e.SW,n=(e.SH,e.gl),o=[],i=100,s=100,u=d.default(d.GLctx.Texture,n),l=0;T.map(function(e){return l+=e});var g=Math.abs(l/E);if(x<25e4){var y=p.default.create("TRAINING",f.TEXT_SIZE_LARGE,"g"),S=p.default.createSplitted((x/25e4*100).toFixed(2)+"",f.TEXT_SIZE_HUGE,"g","%");if(p.default.addGL(n,u,y,s,i,e,!1),i+=f.TEXT_SIZE_LARGE,p.default.addListGL(n,u,S,s,i,e,!1),!isNaN(g)){var _=p.default.createSplitted("Err rate: "+v.normalize(g,"NN err rate",60,4).avg,h.TEXT_SIZE_MEDIUM-1,g>.01?"r":g>.005?"y":"g","");i+=f.TEXT_SIZE_HUGE,p.default.addListGL(n,u,_,s,i,e)}i+=h.TEXT_SIZE_MEDIUM+10}if(M.length>0){p.default.addGL(n,u,p.default.create("[48 NODES] ["+g.toFixed(4)+" Err rate]:",f.TEXT_SIZE_SMALL,"w"),s,i,e),i+=f.TEXT_SIZE_SMALL+10,p.default.addGL(n,u,p.default.create("INPUT ("+M.length+"):",f.TEXT_SIZE_SMALL,"w"),s,i,e),i+=f.TEXT_SIZE_SMALL+10;for(var I=0;I<M.length;I++){var b=v.normalize(300*M[I],"NN_inp_bar"+I,45,0);c.line2Poly(s+b.low,i,s+b.avg-3,i,o,3),c.line2Poly(s+b.avg+3,i,s+b.high,i,o,3),i+=8}for(i+=10,p.default.addGL(n,u,p.default.create("OUTPUT ("+L.length+"):",f.TEXT_SIZE_SMALL,"w"),s,i,e),i+=f.TEXT_SIZE_SMALL+10,I=0;I<L.length;I++)b=v.normalize(300*L[I],"NN_outp_bar"+I,45,0),c.line2Poly(s+b.low,i,s+b.avg-3,i,o,3),c.line2Poly(s+b.avg+3,i,s+b.high,i,o,3),i+=14}else for(I=0;I<T.length;I++)b=v.normalize(Math.abs(Math.max(2,T[I]/E*1e4)),"NN_bar"+I,45,0),c.line2Poly(s+Math.min(200,b.low),i,Math.round(s+Math.min(b.avg,350)),i,o,4),c.line2Poly(s+Math.min(355,b.high),i,s+Math.min(358,b.high+3),i,o,4),i+=10;if(i+=10,x<25e4&&(p.default.addGL(n,u,p.default.create("samples:"+25e4,f.TEXT_SIZE_SMALL,"g"),s,i,e),i+=f.TEXT_SIZE_SMALL,p.default.addGL(n,u,p.default.create("neurons:48",f.TEXT_SIZE_SMALL,"g"),s,i,e)),i+=f.TEXT_SIZE_SMALL+10,x>25e4){var w=d.default(d.GLctx.Texture,n);y=p.default.create("SKYNET ACTIVATED",h.TEXT_SIZE_MEDIUM,"r"),p.default.addGL(n,w,y,.5*a-.5*y.w,2*h.TEXT_SIZE_MEDIUM,e,!1)}var R=A.default(e);if(m&&R&&(c.line2Poly(R.pos.x-t,R.pos.y-r,m.pos.x-t,m.pos.y-r,o,1),P.set(100,0),P.setAngle(R.angle),c.line2Poly(R.pos.x-t,R.pos.y-r,R.pos.x-t+P.x,R.pos.y-r+P.y,o,1)),x>25e4&&(p.default.addGL(n,u,p.default.create("Neural network model",f.TEXT_SIZE_SMALL,"w"),s,i,e),i+=f.TEXT_SIZE_SMALL+10),d.default(d.GLctx.Vertices,n),c.drawColor(o,n,0,1,0,1),x>25e4){o=[],i+=60;var O=Math.max(12,3)*Math.max(20,40)*1.25/48*.5;for(I=0;I<48;I++){for(var C=i+I*O,G=0;G<12;G++){var N=i+20*G+24*O-120,B=s;o.push(250,C,B,N)}for(var F=0;F<3;F++)N=i+40*F+24*O-40*Math.floor(1.5),B=400,o.push(250,C,B,N)}c.drawColor(o,n,0,.1,0,1,n.LINES)}},splash:null,assert:function(e){var t=A.default(e);if(!t)return!0;if(t.availableElectroBastardRays=50,t.availableMissiles=1,t.availableRockets=1,t.life=98,t.ultrabright=98,t.boost=40,n.LOG_GL_FIXED(t.score,"FITNESS"),x>25e4){var r=R(e);M=o(r),n.LOG_GL_FIXED(r[6].toFixed(2),"INP ship x"),n.LOG_GL_FIXED(r[7].toFixed(2),"INP ship y"),n.LOG_GL_FIXED(r[9].toFixed(2),"INP ship angle"),n.LOG_GL_FIXED(r[11].toFixed(2),"INP t angle"),n.LOG_GL_FIXED(r[0].toFixed(2),"INP ast x"),n.LOG_GL_FIXED(r[1].toFixed(2),"INP ast y"),n.LOG_GL_FIXED(r[2].toFixed(2),"INP ast r"),n.LOG_GL_FIXED(r[4],"INP has target"),n.LOG_GL_FIXED(r[3],"INP closest type"),n.LOG_GL_FIXED(r[10].toFixed(2),"INP fire ovh"),n.LOG_GL_FIXED(r[5].toFixed(2),"INP dist to target"),n.LOG_GL_FIXED(r[8].toFixed(2),"INP ship vel");var a=performance.now(),i=S.feedForward(r).data[0],s=performance.now()-a;L=o(i),n.LOG_GL_FIXED(.01*Math.round(100*s),"TIME MS");var u=t.keyCodes;u.LEFT=!1,u.RIGHT=!1,u.STRAFELEFT=!1,u.STRAFERIGHT=!1,u.UP=!1,u.FIRE=!1;var l=i[0];l>.55?u.LEFT=!(l<.75)||Math.random()>.6:l<.45?u.RIGHT=!(l>.25)||Math.random()>.6:l>.505?u.STRAFELEFT=!0:l<.495&&(u.STRAFERIGHT=!0);var c=i[2];c>.55&&(u.FIRE=!0);var d=i[1];d>.3?u.UP=!0:d>.1&&(u.UP=Math.random()>.4),n.LOG_GL_FIXED(i[0].toFixed(2)+" n:"+v.normalize(i[0],"l out st n",30,4).avg,"-o steering"),n.LOG_GL_FIXED(i[1].toFixed(2)+" n:"+v.normalize(i[1],"l out fw n",30,4).avg,"-o forward"),n.LOG_GL_FIXED(i[2].toFixed(2)+" n:"+v.normalize(i[2],"l out fi n",30,4).avg,"-o fire")}else{t.shields=100,T=T.map(function(e){return 0});for(var p=0;p<E;p++)x++,b(!1)}return!1},init:function(e){var t=e.game,o=e.WW,s=e.WH;e.SW,e.SH;x=0,y=null,_=0,E=200;var A=r.createShip(e);A.pos.x=.6*o,A.pos.y=.6*s,t.player[0]=A,S=new i.NeuralNetwork(12,48,3),n.LOG_GL("NN inputs 12"),n.LOG_GL("NN Neruons 48"),n.LOG_GL("NN outputs 3"),n.LOG_GL("brainsize: (48)n "+JSON.stringify(S).length),t.asteroids=a.default(e,800,100,200)},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(17),r(12),r(144),r(10),r(360),r(361),r(362),r(74),r(2),r(363)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=0,f=[],h=0,v=0,g=0,y=16e3,m=[],S=[],E=0,x=0,T=[1],_=[1],I=function(){return f[p]},M=function(e){var t=e.game,r=e.WW,n=e.WH,o=i.default(e);o.score=0,o.vel.mult(0),o.bulletsFired=0,o.shields=100,o.turnAcc=0,o.unableToComply=!1,o.damageTaken=!1,o.homingBullets=0,t.parasites=[],t.bullets=[],t.spaceDust=[],t.asteroidParts=[],o.pos.x=.6*r,o.pos.y=.6*n,e.game.asteroids=a.default(e,800,100,300)};t.default={gui:function(e){var t=I(),r=0;f.map(function(e){return r+=e.trainingSamples}),r/=135e4,h>0&&(r=1),s.graphGuiNN(e,m,S,32,3,12,void 0,!1,{time:l.msToTime(y-t.time),totalTime:l.msToTime(E),fitness:t.fitness,bestFitness:v,bestGeneration:g,gen:h,item:p+1+"/6",simIndex:x+1+"/2",fitnessOvertime:T,currentGenFitness:_},{loadpercent:r})},splash:null,assert:function(e){var t=e.stepMS,r=I();if(0===h){for(var s=[],l=0;l<500;l++)d.trainerNN(r.nn,s,!1);var L=0;s.map(function(e){return L+=e});var b=Math.abs(L/500);return r.errRate=b,r.trainingSamples+=500,r.trainingSamples>=225e3&&(p<5?p++:(e.game.asteroids=a.default(e,800,100,300),h++,p=0)),!1}r.fitness>v&&(v=r.fitness,g=h);var w=i.default(e);if(!w)return n.LOG_GL("asserted true...?"),!0;if(m=u.createInputNN(e,!1,300,!0),r.time+=t,E+=t,r.fitness=Math.round(w.score/y*1e4),S=A.run(e,m,r.nn,!1),r.time>y)if(M(e),p<5)_.push(r.fitness),_.push(r.fitness),x++,r.time=0,x>=2&&(x=0,p++);else{for(_.push(.1),_.push(.1),h++,y<12e4&&(y+=1e3);_.length>280;)_.shift();f=function(){var e=f.sort(function(e,t){return e.fitness>t.fitness?-1:1});p=0;var t=[];t.push(e[0]),t.push(e[1]);var r=e[0].fitness;if(T.push(r),T.push(r),T.length>300&&T.shift(),e[0].fitness<=0&&e[1].fitness<=0){t=[];for(var a=0;a<6;a++)t.push({nn:new o.NeuralNetwork(12,32,3),time:0,fitness:0,guid:c.getGuid(),trainingSamples:0,errRate:0});return n.LOG_GL("All failed. creating new"),t}n.LOG_GL("Kept top "+t.length);var i=0;for(a=0;a<3;a++)t.push({nn:o.NeuralNetwork.Mutate(e[0].nn,e[a+1].nn,1),time:0,fitness:0,guid:c.getGuid(),trainingSamples:0,errRate:0}),i++;n.LOG_GL("mutatations "+i);var s=0;for(a=t.length;a<6;a++){var A=new o.NeuralNetwork(12,32,3);t.push({nn:A,time:0,fitness:0,guid:c.getGuid(),trainingSamples:0,errRate:0}),s++;for(var u=[],l=0;l<5e3;l++)d.trainerNN(A,u,!1)}for(n.LOG_GL("creating "+s+" new randomized"),a=0;a<6;a++)t[a].time=0,t[a].fitness=0;return t}()}return!1},init:function(e){var t=e.game,a=e.WW,i=e.WH,s=r.createShip(e);if(s.pos.x=.6*a,s.pos.y=.6*i,t.player[0]=s,t.spaceFog=[],0===f.length)for(var A=0;A<6;A++)f.push({nn:new o.NeuralNetwork(12,32,3),fitness:0,time:0,guid:c.getGuid(),trainingSamples:0,errRate:0});else n.LOG_GL("continuing evolution...")},mapSize:function(){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(1),r(0),r(3),r(4),r(9),r(10),r(6)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphGuiNN=void 0;var u=new r.Vector(0,0),l=function(e,t,r,a){void 0===a&&(a=100);for(var n=Math.max.apply(Math,e),o=[],i=0;i<e.length;i++){var s=e[i],A=s<0?0:s;o.push(t+i,r),o.push(t+i,r-A/n*a)}return o},c=function(e,t,r){return i.default.create(e,t,r,!1,!1,null,!0)};t.graphGuiNN=function(e,t,r,d,p,f,h,v,g,y){var m=e.SX,S=e.SY,E=e.SW,x=(e.SH,e.gl),T=[],_=100,I=100,M=a.default(a.GLctx.Texture,x);if(y&&y.loadpercent<1)return i.default.addGL(x,M,c("Pretraining population...",n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,M,c((100*y.loadpercent).toFixed(2)+" %",n.TEXT_SIZE_HUGE,"g"),I,_,e),void(_+=n.TEXT_SIZE_SMALL+10);i.default.addGL(x,M,c("INPUT ("+t.length+"):",n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10;for(var L=0;L<t.length;L++){var b=A.normalize(300*t[L],"NN_inp_bar"+L,45,0);o.line2Poly(I+b.low,_,I+b.avg-3,_,T,3),o.line2Poly(I+b.avg+3,_,I+b.high,_,T,3),_+=8}_+=10,i.default.addGL(x,M,c("OUTPUT ("+r.length+"):",n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10;for(L=0;L<r.length;L++){b=A.normalize(300*r[L],"NN_outp_bar"+L,45,0);o.line2Poly(I+b.low,_,I+b.avg-3,_,T,3),o.line2Poly(I+b.avg+3,_,I+b.high,_,T,3),_+=14}_+=10,_+=n.TEXT_SIZE_SMALL,i.default.addGL(x,M,c("neurons:"+d,n.TEXT_SIZE_SMALL,"g"),I,_,e),_+=n.TEXT_SIZE_SMALL+10;var w=c("SKYNET EVOLUTION",n.TEXT_SIZE_MEDIUM,"r");i.default.addGL(x,M,w,.5*E-.5*w.w,2*n.TEXT_SIZE_MEDIUM,e,!1);var R=s.default(e);if(h&&R&&(o.line2Poly(R.pos.x-m,R.pos.y-S,h.pos.x-m,h.pos.y-S,T,1),u.set(100,0),u.setAngle(R.angle),o.line2Poly(R.pos.x-m,R.pos.y-S,R.pos.x-m+u.x,R.pos.y-S+u.y,T,1)),v&&(i.default.addGL(x,M,c("Neural network model",n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10),a.default(a.GLctx.Vertices,x),o.drawColor(T,x,0,1,0,1),v){T=[],_+=60;var P=Math.max(f,p)*Math.max(20,40)*1.25/d*.5;for(L=0;L<d;L++){for(var O=_+L*P,C=0;C<f;C++){var G=_+20*C+.5*d*P-.5*f*20,N=I;T.push(250,O,N,G)}for(var B=0;B<p;B++){G=_+40*B+.5*d*P-40*Math.floor(.5*p),N=400;T.push(250,O,N,G)}}o.drawColor(T,x,0,.1,0,1,x.LINES),_+=d*P}if(g){var F=a.default(a.GLctx.Texture,x);i.default.addGL(x,F,c("Top GEN: "+g.bestGeneration,n.TEXT_SIZE_SMALL,g.bestGeneration<g.gen-2?"r":g.bestGeneration<g.gen-1?"y":"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("Top Fitness: "+g.bestFitness,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("Fitness: "+g.fitness,n.TEXT_SIZE_SMALL,g.fitness>=g.bestFitness?"g":g.fitness<1?"y":g.fitness<0?"r":"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("GEN: "+g.gen,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("item: "+g.item,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("sim: "+g.simIndex,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("Time: "+g.time,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,i.default.addGL(x,F,c("Total time: "+g.totalTime,n.TEXT_SIZE_SMALL,"w"),I,_,e),_+=n.TEXT_SIZE_SMALL+10,_+=100;var D=l(g.fitnessOvertime,I,_,100);_+=120;var V=l(g.currentGenFitness,I,_,100);a.default(a.GLctx.Vertices,x),o.drawColor(D,x,0,1,0,1,x.LINES),o.drawColor(V,x,0,.8,0,1,x.LINES)}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(10),r(12),r(96),r(6)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run=void 0;t.run=function(e,t,n,i){var s=r.default(e);e.game.parasites=[],s.availableElectroBastardRays=50,s.availableMissiles=1,s.availableRockets=1,s.life=98,s.ultrabright=98,s.boost=40,s.bulletWeaponLevel=1,s.homingBullets=0,s.shields=0,s.unableToComply&&s.score--,i&&(a.LOG_GL_FIXED(t[6].toFixed(2),"INP ship x"),a.LOG_GL_FIXED(t[7].toFixed(2),"INP ship y"),a.LOG_GL_FIXED(t[9].toFixed(2),"INP ship angle"),a.LOG_GL_FIXED(t[11].toFixed(2),"INP t angle"),a.LOG_GL_FIXED(t[0].toFixed(2),"INP ast x"),a.LOG_GL_FIXED(t[1].toFixed(2),"INP ast y"),a.LOG_GL_FIXED(t[2].toFixed(2),"INP ast r"),a.LOG_GL_FIXED(t[4],"INP has target"),a.LOG_GL_FIXED(t[3],"INP closest type"),a.LOG_GL_FIXED(t[10].toFixed(2),"INP fire ovh"),a.LOG_GL_FIXED(t[5].toFixed(2),"INP dist to target"),a.LOG_GL_FIXED(t[8].toFixed(2),"INP ship vel"));var A=performance.now(),u=n.feedForward(t).data[0],l=performance.now()-A;i&&a.LOG_GL_FIXED(.01*Math.round(100*l),"TIME MS");var c=s.keyCodes;c.LEFT=!1,c.RIGHT=!1,c.STRAFELEFT=!1,c.STRAFERIGHT=!1,c.UP=!1,c.FIRE=!1;var d=u[0];d>.55?c.LEFT=!(d<.75)||Math.random()>.6:d<.45?c.RIGHT=!(d>.25)||Math.random()>.6:d>.505?c.STRAFELEFT=!0:d<.495&&(c.STRAFERIGHT=!0);var p=u[2];p>.55&&(c.FIRE=!0);var f=u[1];return f>.3?c.UP=!0:f>.1&&(c.UP=Math.random()>.4),i&&(a.LOG_GL_FIXED(u[0].toFixed(2)+" n:"+o.normalize(u[0],"l out st n",30,4).avg,"-o steering"),a.LOG_GL_FIXED(u[1].toFixed(2)+" n:"+o.normalize(u[1],"l out fw n",30,4).avg,"-o forward"),a.LOG_GL_FIXED(u[2].toFixed(2)+" n:"+o.normalize(u[2],"l out fi n",30,4).avg,"-o fire")),u}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(10),r(96),r(5),r(2),r(6),r(12)],void 0===(n=function(e,t,r,a,n,o,i,s){"use strict";var A;Object.defineProperty(t,"__esModule",{value:!0}),t.createInputNN=void 0;var u=0;t.createInputNN=function(e,t,l,c){void 0===l&&(l=300);for(var d=e.stepMS,p=e.SW,f=(e.SH,[]),h=0;h<7;h++)f[h]=0;var v=r.default(e),g=a.normalizePos(v.pos,e),y=[];if(t)y=v.closestItem?[v.closestItem]:[];else{var m=200;if(A&&A.life>-1&&!A.remove&&u<5e3)y=[A],A,u+=d;else{for(;0===y.length&&m<.5*p;)y=(y=n.getQuadTreesObj().Enemies.queryCircle(v.pos,m)).filter(function(e){return e.radius>10}),m+=m;if(m=200,0===y.length)for(u=0,A=null;0===y.length&&m<p;)y=(y=n.getQuadTreesObj().Asteroids.queryCircle(v.pos,m)).filter(function(e){return e.radius>10}),m+=m}}if(y.length>0){var S=0,E=y[0];for(h=0;h<y.length;h++){var x=y[h];x.radius>S&&12===x.type&&(S=x.radius,E=x)}E,A=E;var T=a.normalizePos(E.pos,e);f[0]=T.x,f[1]=T.y,f[2]=E.radius/l,f[3]=12===E.type||1===E.type?.5:1,f[5]=o.distanceBetweenXYXY(T.x,T.y,g.x,g.y);var _=Math.atan2(E.pos.y-v.pos.y,E.pos.x-v.pos.x),I=i.wrapRadianAngle(o.angleDifference(_,v.angle+Math.PI))/(2*Math.PI);f[11]=I,f[4]=1}else null,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[11]=0,f[4]=0,f[5]=1;if(f[8]=v.vel.getLength()/v.maxVel,f[6]=g.x,f[7]=g.y,f[9]=v.angle/(2*Math.PI),f[10]=Math.max(0,1-v.bulletsFired/v.maxBullets),f=f.map(function(e){return a.clamp(e)}),c)for(h=0;h<f.length;h++)s.LOG_GL_FIXED(f[h].toFixed(2),a.InputTypesReversed[h]);return f}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(2),r(96),r(6),r(12)],void 0===(n=function(e,t,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trainerNN=void 0;t.trainerNN=function(e,t,i){var s=[],A={x:.9*Math.random(),y:.9*Math.random(),vx:.1*Math.random(),VY:.1*Math.random(),r:.01+.1*Math.random(),type:Math.random()>.5?12:45},u={x:.45+.1*Math.random(),y:.45+.1*Math.random(),a:Math.random()*Math.PI*2,fireOverheated:Math.random(),vel:Math.random()},l=r.distanceBetweenXYXY(A.x,A.y,u.x,u.y);s[0]=A.x,s[1]=A.y,s[2]=A.r,s[6]=u.x,s[7]=u.y,s[9]=u.a/(2*Math.PI),s[10]=u.fireOverheated,s[3]=12===A.type?.5:1;var c=Math.atan2(A.y-u.y,A.x-u.x),d=n.wrapRadianAngle(r.angleDifference(c,u.a+Math.PI)),p=d/(2*Math.PI);s[11]=p;var f=d>Math.PI?0:1;i&&(o.LOG_GL_FIXED(s[6].toFixed(2),"INP ship x"),o.LOG_GL_FIXED(s[7].toFixed(2),"INP ship y"),o.LOG_GL_FIXED(s[9].toFixed(2),"INP ship angle"),o.LOG_GL_FIXED(s[11].toFixed(2),"INP t angle"),o.LOG_GL_FIXED(s[0].toFixed(2),"INP ast x"),o.LOG_GL_FIXED(s[1].toFixed(2),"INP ast y"),o.LOG_GL_FIXED(s[2].toFixed(2),"INP ast r"),o.LOG_GL_FIXED(s[5].toFixed(2),"INP dist to target"),o.LOG_GL_FIXED(s[8].toFixed(2),"INP ship vel"));var h=12!==A.type?0:u.fireOverheated<.1?0:p>.4&&p<.6?1:0,v=p<.525&&p>.4775?12!==A.type?1:l-A.r>5*A.r?1:0:.25;s[4]=1;var g=!1;s[5]=l,s[8]=u.vel,Math.random()>.5&&(g=!0,s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[11]=0,s[4]=0,s[5]=1),s=s.map(function(e){return a.clamp(e)});var y=[];y[0]=g?.5:f,y[1]=g?1:u.vel>.2?0:v,y[2]=g?0:h,y=y.map(function(e){return a.clamp(e)});for(var m=e.train(s,y,i),S=0;S<m.length;S++)void 0===t[S]&&(t[S]=0),t[S]+=m[S]}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(17),r(137),r(4),r(0),r(0),r(7)],void 0===(n=function(e,t,r,a,n,o,i,s,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=e.game.destroyers[0];return t&&t.vel.set(1,0),!1},init:function(e){var t=e.game;e.WH,e.WW;t.player[0]=r.createShip(e);var n=r.createDestroyer(e,{pos:t.player[0].pos.clone()});t.destroyers.push(n),t.destroyers[0].pos.x-=500;for(var o=0;o<300;o++){var i=a.default(e,1,30,100)[0];i.pos.x=n.pos.x+300+30*o,i.pos.y=n.pos.y+120*(Math.random()-.5),t.asteroids.push(i)}},gui:null,mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n;a=[r,t,r(8),r(11),r(5),r(49),r(15),r(1),r(12),r(366)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,gui:null,assert:function(e){if(e.game.proximityMines.length>0){var t=e.game.proximityMines[0];A.LOG_GL_FIXED(u.ProximityMineAquireStateToString(t.aquireMode),"PM")}return!1},init:function(e){var t,A;o.default(e,i.default().gui),e.game.IS_PROCEDURAL=!0,n.SetupQuadTreeRangeType(1),e.game.spaceFog=[],e.game.anomlies=[],e.game.anomalyPairs=[],a.disableMapShift(!0);var u=r.createShip(e);u.shields=0,u.angle=2*Math.PI*Math.random(),u.pos.x=-4e3,u.pos.y=100,u.SX=u.pos.x+.5*e.game.SW,u.SY=u.pos.y+.5*e.game.SH,e.SX=e.game.SX=u.SX,e.SY=e.game.SY=u.SY,e.game.player.push(u),(t=e.game.drones).push.apply(t,r.createDrones(e,u.pos.clone().addXY(100,0),2,u.guid));var l=r.createNPCs(e,1,{pos:new s.Vector(-4100,100)},-1);(A=e.game.npcs).push.apply(A,l)},mapSize:function(){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProximityMineAquireStateToString=void 0,t.ProximityMineAquireStateToString=function(e){switch(e){case 0:return"search";case 1:return"scan";case 2:return"friendly target";default:return"unknown state"}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,n;a=[r,t,r(8),r(11),r(5),r(49),r(15),r(10),r(21),r(17),r(29),r(12),r(88)],void 0===(n=function(e,t,r,a,n,o,i,s,A,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=!1;t.default={splash:null,gui:null,assert:function(e){var t=s.default(e);if(c.LOG_GL_FIXED(e.game.force2.length,"Force2 len"),e.game.spaceDust.length<3e4&&!p)for(var r=0;r<700;r++)A.createDust(t.pos,1,r,e);else p=!0;return!1},init:function(e){var t;o.default(e,i.default().gui),n.SetupQuadTreeRangeType(1),e.game.spaceFog=[],e.game.anomlies=[],e.game.anomalyPairs=[],a.disableMapShift(!0);var s=r.createShip(e);s.shields=0,s.angle=2*Math.PI*Math.random(),s.pos.x=2e3,s.pos.y=2e3,s.SX=s.pos.x+.5*e.game.SW,s.SY=s.pos.y+.5*e.game.SH,e.SX=e.game.SX=s.SX,e.SY=e.game.SY=s.SY,e.game.player.push(s),(t=e.game.asteroids).push.apply(t,u.default(e,10,10,80)),l.default(e.game.asteroids,s.pos.x-500,s.pos.y-500,1e3,1e3),d.createAnomaly(e,2900,2200,!1,2,1010,!0)},mapSize:function(){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=n)},function(e,t,r){var a,n,o;n=[],void 0===(o="function"==typeof(a=function(){"use strict";function e(e,t,r){return(r=r||new Float32Array(3))[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function t(e,t){t=t||new Float32Array(3);var r=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return r>1e-5&&(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r),t}function r(e,t,r){return(r=r||new Float32Array(3))[0]=e[1]*t[2]-e[2]*t[1],r[1]=e[2]*t[0]-e[0]*t[2],r[2]=e[0]*t[1]-e[1]*t[0],r}function a(e,t){const r=e[0]-t[0],a=e[1]-t[1],n=e[2]-t[2];return r*r+a*a+n*n}function n(e,t){t=t||new Float32Array(16);var r=e[0],a=e[1],n=e[2],o=e[3],i=e[4],s=e[5],A=e[6],u=e[7],l=e[8],c=e[9],d=e[10],p=e[11],f=e[12],h=e[13],v=e[14],g=e[15],y=d*g,m=v*p,S=A*g,E=v*u,x=A*p,T=d*u,_=n*g,I=v*o,M=n*p,L=d*o,b=n*u,w=A*o,R=l*h,P=f*c,O=i*h,C=f*s,G=i*c,N=l*s,B=r*h,F=f*a,D=r*c,V=l*a,X=r*s,H=i*a,k=y*s+E*c+x*h-(m*s+S*c+T*h),W=m*a+_*c+L*h-(y*a+I*c+M*h),U=S*a+I*s+b*h-(E*a+_*s+w*h),Y=T*a+M*s+w*c-(x*a+L*s+b*c),z=1/(r*k+i*W+l*U+f*Y);return t[0]=z*k,t[1]=z*W,t[2]=z*U,t[3]=z*Y,t[4]=z*(m*i+S*l+T*f-(y*i+E*l+x*f)),t[5]=z*(y*r+I*l+M*f-(m*r+_*l+L*f)),t[6]=z*(E*r+_*i+w*f-(S*r+I*i+b*f)),t[7]=z*(x*r+L*i+b*l-(T*r+M*i+w*l)),t[8]=z*(R*u+C*p+G*g-(P*u+O*p+N*g)),t[9]=z*(P*o+B*p+V*g-(R*o+F*p+D*g)),t[10]=z*(O*o+F*u+X*g-(C*o+B*u+H*g)),t[11]=z*(N*o+D*u+H*p-(G*o+V*u+X*p)),t[12]=z*(O*d+N*v+P*A-(G*v+R*A+C*d)),t[13]=z*(D*v+R*n+F*d-(B*d+V*v+P*n)),t[14]=z*(B*A+H*v+C*n-(X*v+O*n+F*A)),t[15]=z*(X*d+G*n+V*A-(D*A+H*d+N*n)),t}return{copy:function(e,t){return(t=t||new Float32Array(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},lookAt:function(a,n,o,i){i=i||new Float32Array(16);var s=t(e(a,n)),A=t(r(o,s)),u=t(r(s,A));return i[0]=A[0],i[1]=A[1],i[2]=A[2],i[3]=0,i[4]=u[0],i[5]=u[1],i[6]=u[2],i[7]=0,i[8]=s[0],i[9]=s[1],i[10]=s[2],i[11]=0,i[12]=a[0],i[13]=a[1],i[14]=a[2],i[15]=1,i},addVectors:function(e,t,r){return(r=r||new Float32Array(3))[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r},subtractVectors:e,distance:function(e,t){return Math.sqrt(a(e,t))},distanceSq:a,normalize:t,cross:r,dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},identity:function(e){return(e=e||new Float32Array(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){return(t=t||new Float32Array(16))[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t},orthographic:function(e,t,r,a,n,o,i){return(i=i||new Float32Array(16))[0]=2/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(a-r),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(n-o),i[11]=0,i[12]=(e+t)/(e-t),i[13]=(r+a)/(r-a),i[14]=(n+o)/(n-o),i[15]=1,i},frustum:function(e,t,r,a,n,o){var i=t-e,s=a-r,A=o-n;return dst[0]=2*n/i,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*n/s,dst[6]=0,dst[7]=0,dst[8]=(e+t)/i,dst[9]=(a+r)/s,dst[10]=-(o+n)/A,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=-2*n*o/A,dst[15]=0,dst},perspective:function(e,t,r,a,n){n=n||new Float32Array(16);var o=Math.tan(.5*Math.PI-.5*e),i=1/(r-a);return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+a)*i,n[11]=-1,n[12]=0,n[13]=0,n[14]=r*a*i*2,n[15]=0,n},translation:function(e,t,r,a){return(a=a||new Float32Array(16))[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=e,a[13]=t,a[14]=r,a[15]=1,a},translate:function(e,t,r,a,n){n=n||new Float32Array(16);var o=e[0],i=e[1],s=e[2],A=e[3],u=e[4],l=e[5],c=e[6],d=e[7],p=e[8],f=e[9],h=e[10],v=e[11],g=e[12],y=e[13],m=e[14],S=e[15];return e!==n&&(n[0]=o,n[1]=i,n[2]=s,n[3]=A,n[4]=u,n[5]=l,n[6]=c,n[7]=d,n[8]=p,n[9]=f,n[10]=h,n[11]=v),n[12]=o*t+u*r+p*a+g,n[13]=i*t+l*r+f*a+y,n[14]=s*t+c*r+h*a+m,n[15]=A*t+d*r+v*a+S,n},xRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},yRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},zRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},xRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[4],n=e[5],o=e[6],i=e[7],s=e[8],A=e[9],u=e[10],l=e[11],c=Math.cos(t),d=Math.sin(t);return r[4]=c*a+d*s,r[5]=c*n+d*A,r[6]=c*o+d*u,r[7]=c*i+d*l,r[8]=c*s-d*a,r[9]=c*A-d*n,r[10]=c*u-d*o,r[11]=c*l-d*i,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},yRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[0],n=e[1],o=e[2],i=e[3],s=e[8],A=e[9],u=e[10],l=e[11],c=Math.cos(t),d=Math.sin(t);return r[0]=c*a-d*s,r[1]=c*n-d*A,r[2]=c*o-d*u,r[3]=c*i-d*l,r[8]=c*s+d*a,r[9]=c*A+d*n,r[10]=c*u+d*o,r[11]=c*l+d*i,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},zRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[0],n=e[1],o=e[2],i=e[3],s=e[4],A=e[5],u=e[6],l=e[7],c=Math.cos(t),d=Math.sin(t);return r[0]=c*a+d*s,r[1]=c*n+d*A,r[2]=c*o+d*u,r[3]=c*i+d*l,r[4]=c*s-d*a,r[5]=c*A-d*n,r[6]=c*u-d*o,r[7]=c*l-d*i,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},axisRotation:function(e,t,r){r=r||new Float32Array(16);var a=e[0],n=e[1],o=e[2],i=Math.sqrt(a*a+n*n+o*o),s=(a/=i)*a,A=(n/=i)*n,u=(o/=i)*o,l=Math.cos(t),c=Math.sin(t),d=1-l;return r[0]=s+(1-s)*l,r[1]=a*n*d+o*c,r[2]=a*o*d-n*c,r[3]=0,r[4]=a*n*d-o*c,r[5]=A+(1-A)*l,r[6]=n*o*d+a*c,r[7]=0,r[8]=a*o*d+n*c,r[9]=n*o*d-a*c,r[10]=u+(1-u)*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},axisRotate:function(e,t,r,a){a=a||new Float32Array(16);var n=t[0],o=t[1],i=t[2],s=Math.sqrt(n*n+o*o+i*i),A=(n/=s)*n,u=(o/=s)*o,l=(i/=s)*i,c=Math.cos(r),d=Math.sin(r),p=1-c,f=A+(1-A)*c,h=n*o*p+i*d,v=n*i*p-o*d,g=n*o*p-i*d,y=u+(1-u)*c,m=o*i*p+n*d,S=n*i*p+o*d,E=o*i*p-n*d,x=l+(1-l)*c,T=e[0],_=e[1],I=e[2],M=e[3],L=e[4],b=e[5],w=e[6],R=e[7],P=e[8],O=e[9],C=e[10],G=e[11];return a[0]=f*T+h*L+v*P,a[1]=f*_+h*b+v*O,a[2]=f*I+h*w+v*C,a[3]=f*M+h*R+v*G,a[4]=g*T+y*L+m*P,a[5]=g*_+y*b+m*O,a[6]=g*I+y*w+m*C,a[7]=g*M+y*R+m*G,a[8]=S*T+E*L+x*P,a[9]=S*_+E*b+x*O,a[10]=S*I+E*w+x*C,a[11]=S*M+E*R+x*G,e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]),a},scaling:function(e,t,r,a){return(a=a||new Float32Array(16))[0]=e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=t,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=r,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},scale:function(e,t,r,a,n){return(n=n||new Float32Array(16))[0]=t*e[0],n[1]=t*e[1],n[2]=t*e[2],n[3]=t*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=r*e[6],n[7]=r*e[7],n[8]=a*e[8],n[9]=a*e[9],n[10]=a*e[10],n[11]=a*e[11],e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},multiply:function(e,t,r){r=r||new Float32Array(16);var a=t[0],n=t[1],o=t[2],i=t[3],s=t[4],A=t[5],u=t[6],l=t[7],c=t[8],d=t[9],p=t[10],f=t[11],h=t[12],v=t[13],g=t[14],y=t[15],m=e[0],S=e[1],E=e[2],x=e[3],T=e[4],_=e[5],I=e[6],M=e[7],L=e[8],b=e[9],w=e[10],R=e[11],P=e[12],O=e[13],C=e[14],G=e[15];return r[0]=a*m+n*T+o*L+i*P,r[1]=a*S+n*_+o*b+i*O,r[2]=a*E+n*I+o*w+i*C,r[3]=a*x+n*M+o*R+i*G,r[4]=s*m+A*T+u*L+l*P,r[5]=s*S+A*_+u*b+l*O,r[6]=s*E+A*I+u*w+l*C,r[7]=s*x+A*M+u*R+l*G,r[8]=c*m+d*T+p*L+f*P,r[9]=c*S+d*_+p*b+f*O,r[10]=c*E+d*I+p*w+f*C,r[11]=c*x+d*M+p*R+f*G,r[12]=h*m+v*T+g*L+y*P,r[13]=h*S+v*_+g*b+y*O,r[14]=h*E+v*I+g*w+y*C,r[15]=h*x+v*M+g*R+y*G,r},inverse:n,transformVector:function(e,t,r){r=r||new Float32Array(4);for(var a=0;a<4;++a){r[a]=0;for(var n=0;n<4;++n)r[a]+=t[n]*e[4*n+a]}return r},transformPoint:function(e,t,r){r=r||new Float32Array(3);var a=t[0],n=t[1],o=t[2],i=a*e[3]+n*e[7]+o*e[11]+e[15];return r[0]=(a*e[0]+n*e[4]+o*e[8]+e[12])/i,r[1]=(a*e[1]+n*e[5]+o*e[9]+e[13])/i,r[2]=(a*e[2]+n*e[6]+o*e[10]+e[14])/i,r},transformDirection:function(e,t,r){r=r||new Float32Array(3);var a=t[0],n=t[1],o=t[2];return r[0]=a*e[0]+n*e[4]+o*e[8],r[1]=a*e[1]+n*e[5]+o*e[9],r[2]=a*e[2]+n*e[6]+o*e[10],r},transformNormal:function(e,t,r){r=r||new Float32Array(3);var a=n(e),o=t[0],i=t[1],s=t[2];return r[0]=o*a[0]+i*a[1]+s*a[2],r[1]=o*a[4]+i*a[5]+s*a[6],r[2]=o*a[8]+i*a[9]+s*a[10],r}}})?a.apply(t,n):a)||(e.exports=o)},function(e,t,r){var a,n;n=this,void 0===(a=function(){return function(){"use strict";var e,t=this;function r(e){t.console&&(t.console.error?t.console.error(e):t.console.log&&t.console.log(e))}function a(e,t,a,n){var o=n||r,i=e.createShader(a);e.shaderSource(i,t),e.compileShader(i);var s=e.getShaderParameter(i,e.COMPILE_STATUS);if(!s){var A=e.getShaderInfoLog(i);return o("*** Error compiling shader '"+i+"':"+A),e.deleteShader(i),null}return i}function n(e,t,a,n,o){var i=o||r,s=e.createProgram();t.forEach(function(t){e.attachShader(s,t)}),a&&a.forEach(function(t,r){e.bindAttribLocation(s,n?n[r]:r,t)}),e.linkProgram(s);var A=e.getProgramParameter(s,e.LINK_STATUS);if(!A){var u=e.getProgramInfoLog(s);return i("Error in program linking:"+u),e.deleteProgram(s),null}return s}function o(e,t,r,n){var o,i="",s=document.getElementById(t);if(!s)throw"*** Error: unknown script element"+t;if(i=s.text,!r)if("x-shader/x-vertex"===s.type)o=e.VERTEX_SHADER;else if("x-shader/x-fragment"===s.type)o=e.FRAGMENT_SHADER;else if(o!==e.VERTEX_SHADER&&o!==e.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return a(e,i,r||o,n)}(e=e||t)===e.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html"));var i=["VERTEX_SHADER","FRAGMENT_SHADER"];return{createProgram:n,createProgramFromScripts:function(e,t,r,a,s){for(var A=[],u=0;u<t.length;++u)A.push(o(e,t[u],e[i[u]],s));return n(e,A,r,a,s)},createProgramFromSources:function(e,t,r,o,s){for(var A=[],u=0;u<t.length;++u)A.push(a(e,t[u],e[i[u]],s));return n(e,A,r,o,s)},resizeCanvasToDisplaySize:function(e,t){t=t||1;var r=e.clientWidth*t|0,a=e.clientHeight*t|0;return(e.width!==r||e.height!==a)&&(e.width=r,e.height=a,!0)}}}.call(n)}.apply(t,[]))||(e.exports=a)},function(e,t,r){
/*!
 * @license twgl.js 4.5.2 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
"undefined"!=typeof self&&self,e.exports=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,r){"use strict";t.__esModule=!0,t.copyExistingProperties=function(e,t){Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(t[r]=e[r])})},t.copyNamedProperties=function(e,t,r){e.forEach(function(e){var a=t[e];void 0!==a&&(r[e]=a)})},t.isBuffer=function(e,t){return o||(o=e.createBuffer()),t instanceof o.constructor},t.isRenderbuffer=function(e,t){return i||(i=e.createRenderbuffer()),t instanceof i.constructor},t.isShader=function(e,t){return s||(s=e.createShader(e.VERTEX_SHADER)),t instanceof s.constructor},t.isTexture=function(e,t){return A||(A=e.createTexture()),t instanceof A.constructor},t.isSampler=function(e,t){if(!u){if(!e.createSampler)return!1;u=e.createSampler()}return t instanceof u.constructor},t.warn=t.error=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),n=a.default.console&&a.default.console.error&&"function"==typeof a.default.console.error?a.default.console.error.bind(a.default.console):function(){};t.error=n;var o,i,s,A,u,l=a.default.console&&a.default.console.warn&&"function"==typeof a.default.console.warn?a.default.console.warn.bind(a.default.console):function(){};t.warn=l},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var a=void 0!==a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return i;if(e instanceof Uint16Array)return s;if(e instanceof Int32Array)return A;if(e instanceof Uint32Array)return u;if(e instanceof Float32Array)return l;throw"unsupported typed array type"},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return o;if(e===Uint8ClampedArray)return o;if(e===Int16Array)return i;if(e===Uint16Array)return s;if(e===Int32Array)return A;if(e===Uint32Array)return u;if(e===Float32Array)return l;throw"unsupported typed array type"},t.getTypedArrayTypeForGLType=function(e){var t=c[e];if(!t)throw"unknown gl type";return t},t.isArrayBuffer=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),n=5120,o=5121,i=5122,s=5123,A=5124,u=5125,l=5126,c={},d=c;d[n]=Int8Array,d[o]=Uint8Array,d[i]=Int16Array,d[s]=Uint16Array,d[A]=Int32Array,d[u]=Uint32Array,d[l]=Float32Array,d[32819]=Uint16Array,d[32820]=Uint16Array,d[33635]=Uint16Array,d[5131]=Uint16Array,d[33640]=Uint32Array,d[35899]=Uint32Array,d[35902]=Uint32Array,d[36269]=Uint32Array,d[34042]=Uint32Array;var p=a.default.SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof a.default.SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=p},function(e,t,r){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var a=function(){function e(e){var a=e.constructor.name;if(!t[a]){for(var n in e)if("number"==typeof e[n]){var o=r[e[n]];r[e[n]]=o?"".concat(o," | ").concat(n):n}t[a]=!0}}var t={},r={};return function(t,a){return e(t),r[a]||"0x"+a.toString(16)}}();t.glEnumToString=a},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function n(e,t){return V[t].bindPoint}function o(e,t){return function(r){e.uniform1i(t,r)}}function i(e,t){return function(r){e.uniform1iv(t,r)}}function s(e,t){return function(r){e.uniform2iv(t,r)}}function A(e,t){return function(r){e.uniform3iv(t,r)}}function u(e,t){return function(r){e.uniform4iv(t,r)}}function l(e,t,r,a){var o=n(0,t);return C.isWebGL2(e)?function(t){var n,i;G.isTexture(e,t)?(n=t,i=null):(n=t.texture,i=t.sampler),e.uniform1i(a,r),e.activeTexture(e.TEXTURE0+r),e.bindTexture(o,n),e.bindSampler(r,i)}:function(t){e.uniform1i(a,r),e.activeTexture(e.TEXTURE0+r),e.bindTexture(o,t)}}function c(e,t,r,a,o){for(var i=n(0,t),s=new Int32Array(o),A=0;A<o;++A)s[A]=r+A;return C.isWebGL2(e)?function(t){e.uniform1iv(a,s),t.forEach(function(t,a){var n,o;e.activeTexture(e.TEXTURE0+s[a]),G.isTexture(e,t)?(n=t,o=null):(n=t.texture,o=t.sampler),e.bindSampler(r,o),e.bindTexture(i,n)})}:function(t){e.uniform1iv(a,s),t.forEach(function(t,r){e.activeTexture(e.TEXTURE0+s[r]),e.bindTexture(i,t)})}}function d(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4fv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||e.FLOAT,r.normalize||!1,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function p(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4iv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||e.INT,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function f(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4uiv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||e.UNSIGNED_INT,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function h(e,t,r){var a=r.size,n=r.count;return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer);for(var o=r.size||r.numComponents||a,i=o/n,s=r.type||e.FLOAT,A=V[s],u=A.size*o,l=r.normalize||!1,c=r.offset||0,d=u/n,p=0;p<n;++p)e.enableVertexAttribArray(t+p),e.vertexAttribPointer(t+p,i,s,l,u,c+d*p),void 0!==r.divisor&&e.vertexAttribDivisor(t+p,r.divisor)}}function v(e,t,r,a){var n=a||B,o=e.createShader(r),i=0;if(k.test(t)&&(i=1,t=t.replace(k,"")),e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(o);return n(function(e,t){return t=t||0,++t,e.split("\n").map(function(e,r){return r+t+": "+e}).join("\n")}(t,i)+"\n*** Error compiling shader: "+s),e.deleteShader(o),null}return o}function g(e,t,r){var a;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var n=e;r=n.errorCallback,e=n.attribLocations,a=n.transformFeedbackVaryings}var o={errorCallback:r||B,transformFeedbackVaryings:a};if(e){var i={};Array.isArray(e)?e.forEach(function(e,r){i[e]=t?t[r]:r}):i=e,o.attribLocations=i}return o}function y(e){return e.indexOf("frag")>=0?H.FRAGMENT_SHADER:e.indexOf("vert")>=0?H.VERTEX_SHADER:void 0}function m(e,t){t.forEach(function(t){e.deleteShader(t)})}function S(e,t,r,a,n){for(var o=g(r,a,n),i=[],s=[],A=0;A<t.length;++A){var u=t[A];if("string"==typeof u){var l=D(u),c=l?l.text:u,d=e[W[A]];l&&l.type&&(d=y(l.type)||d),u=v(e,c,d,o.errorCallback),s.push(u)}G.isShader(e,u)&&i.push(u)}if(i.length!==t.length)return o.errorCallback("not enough shaders for program"),m(e,s),null;var p=e.createProgram();i.forEach(function(t){e.attachShader(p,t)}),o.attribLocations&&Object.keys(o.attribLocations).forEach(function(t){e.bindAttribLocation(p,o.attribLocations[t],t)});var f=o.transformFeedbackVaryings;if(f&&(f.attribs&&(f=f.attribs),Array.isArray(f)||(f=Object.keys(f)),e.transformFeedbackVaryings(p,f,o.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(p),!e.getProgramParameter(p,e.LINK_STATUS)){var h=e.getProgramInfoLog(p);return o.errorCallback("Error in program linking:"+h),e.deleteProgram(p),m(e,s),null}return p}function E(e,t,r,a){var n="",o=D(t);if(!o)throw"*** Error: unknown script element"+t;n=o.text;var i=r||y(o.type);if(!i)throw"*** Error: unknown shader type";return v(e,n,i,a)}function x(e,t,r,a,n){for(var o=g(r,a,n),i=[],s=0;s<t.length;++s){var A=v(e,t[s],e[W[s]],o.errorCallback);if(!A)return null;i.push(A)}return S(e,i,o)}function T(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function _(e,t){for(var r=0,a={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<n;++o){var i=e.getActiveUniform(t,o);if(!T(i)){var s=i.name;"[0]"===s.substr(-3)&&(s=s.substr(0,s.length-3));var A=function(t,a){var n,o=e.getUniformLocation(t,a.name),i=a.size>1&&"[0]"===a.name.substr(-3),s=a.type,A=V[s];if(!A)throw"unknown type: 0x"+s.toString(16);if(A.bindPoint){var u=r;r+=a.size,n=i?A.arraySetter(e,s,u,o,a.size):A.setter(e,s,u,o,a.size)}else n=A.arraySetter&&i?A.arraySetter(e,o):A.setter(e,o);return n.location=o,n}(t,i);a[s]=A}}return a}function I(e,t){for(var r={},a=e.getProgramParameter(t,e.TRANSFORM_FEEDBACK_VARYINGS),n=0;n<a;++n){var o=e.getTransformFeedbackVarying(t,n);r[o.name]={index:n,type:o.type,size:o.size}}return r}function M(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var n=t[a];if(n){var o=r[a];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,n.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n.index,o.buffer)}}}function L(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=[],n=[],o=0;o<r;++o){n.push(o),a.push({});var i=e.getActiveUniform(t,o);if(T(i))break;a[o].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(r){var o=r[0],i=r[1];e.getActiveUniforms(t,n,e[o]).forEach(function(e,t){a[t][i]=e})});for(var s={},A=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS),u=0;u<A;++u){var l=e.getActiveUniformBlockName(t,u),c={index:u,usedByVertexShader:e.getActiveUniformBlockParameter(t,u,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(t,u,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(t,u,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(t,u,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};c.used=c.usedByVertexSahder||c.usedByFragmentShader,s[l]=c}return{blockSpecs:s,uniformData:a}}function b(e,t,r,a){var n=r.blockSpecs,o=r.uniformData,i=n[a];if(!i)return F("no uniform block object named:",a),{name:a,uniforms:{}};var s=new ArrayBuffer(i.size),A=e.createBuffer(),u=i.index;e.bindBuffer(e.UNIFORM_BUFFER,A),e.uniformBlockBinding(t,i.index,u);var l=a+".";U.test(l)&&(l=l.replace(U,"."));var c={};return i.uniformIndices.forEach(function(e){var t=o[e],r=V[t.type],a=r.Type,n=t.size*r.size,i=t.name;i.substr(0,l.length)===l&&(i=i.substr(l.length)),c[i]=new a(s,t.offset,n/a.BYTES_PER_ELEMENT)}),{name:a,array:s,asFloat:new Float32Array(s),buffer:A,uniforms:c}}function w(e,t,r){var a=t.uniformBlockSpec||t,n=a.blockSpecs[r.name];if(n){var o=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function R(e,t){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<a;++n){var o=e.getActiveAttrib(t,n);if(!T(o)){var i=e.getAttribLocation(t,o.name),s=X[o.type],A=s.setter(e,i,s);A.location=i,r[o.name]=A}}return r}function P(e,t){for(var r in t){var a=e[r];a&&a(t[r])}}function O(e,t){var r=_(e,t),a=R(e,t),n={program:t,uniformSetters:r,attribSetters:a};return C.isWebGL2(e)&&(n.uniformBlockSpec=L(e,t),n.transformFeedbackInfo=I(e,t)),n}t.__esModule=!0,t.createAttributeSetters=R,t.createProgram=S,t.createProgramFromScripts=function(e,t,r,a,n){for(var o=g(r,a,n),i=[],s=0;s<t.length;++s){var A=E(e,t[s],e[W[s]],o.errorCallback);if(!A)return null;i.push(A)}return S(e,i,o)},t.createProgramFromSources=x,t.createProgramInfo=function(e,t,r,a,n){var o=g(r,a,n),i=!0;if(t=t.map(function(e){if(e.indexOf("\n")<0){var t=D(e);t?e=t.text:(o.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var s=x(e,t,o);return s?O(e,s):null},t.createProgramInfoFromProgram=O,t.createUniformSetters=_,t.createUniformBlockSpecFromProgram=L,t.createUniformBlockInfoFromProgram=b,t.createUniformBlockInfo=function(e,t,r){return b(e,t.program,t.uniformBlockSpec,r)},t.createTransformFeedback=function(e,t,r){var a=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,a),e.useProgram(t.program),M(e,t,r),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),function(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var n=t[a];n&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n.index,null)}}(e,t,r),a},t.createTransformFeedbackInfo=I,t.bindTransformFeedbackInfo=M,t.setAttributes=P,t.setBuffersAndAttributes=function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(P(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices))},t.setUniforms=function e(t,r){for(var a=t.uniformSetters||t,n=arguments.length,o=1;o<n;++o){var i=arguments[o];if(Array.isArray(i))for(var s=i.length,A=0;A<s;++A)e(a,i[A]);else for(var u in i){var l=a[u];l&&l(i[u])}}},t.setUniformBlock=function(e,t,r){w(e,t,r)&&e.bufferData(e.UNIFORM_BUFFER,r.array,e.DYNAMIC_DRAW)},t.setBlockUniforms=function(e,t){var r=e.uniforms;for(var a in t){var n=r[a];if(n){var o=t[a];o.length?n.set(o):n[0]=o}}},t.bindUniformBlock=w;var C=a(r(3)),G=a(r(0)),N=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),B=G.error,F=G.warn,D=N.default&&N.default.document&&N.default.document.getElementById?N.default.document.getElementById.bind(N.default.document):function(){return null},V={};V[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},V[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}}},V[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}}},V[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}}},V[5124]={Type:Int32Array,size:4,setter:o,arraySetter:i},V[35667]={Type:Int32Array,size:8,setter:s},V[35668]={Type:Int32Array,size:12,setter:A},V[35669]={Type:Int32Array,size:16,setter:u},V[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},V[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}}},V[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}}},V[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}}},V[35670]={Type:Uint32Array,size:4,setter:o,arraySetter:i},V[35671]={Type:Uint32Array,size:8,setter:s},V[35672]={Type:Uint32Array,size:12,setter:A},V[35673]={Type:Uint32Array,size:16,setter:u},V[35674]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}}},V[35675]={Type:Float32Array,size:36,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}}},V[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}}},V[35685]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}}},V[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}}},V[35687]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}}},V[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}}},V[35689]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}}},V[35690]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}}},V[35678]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:3553},V[35680]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:34067},V[35679]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:32879},V[35682]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:3553},V[36289]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:35866},V[36292]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:35866},V[36293]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:34067},V[36298]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:3553},V[36299]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:32879},V[36300]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:34067},V[36303]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:35866},V[36306]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:3553},V[36307]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:32879},V[36308]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:34067},V[36311]={Type:null,size:0,setter:l,arraySetter:c,bindPoint:35866};var X={};X[5126]={size:4,setter:d},X[35664]={size:8,setter:d},X[35665]={size:12,setter:d},X[35666]={size:16,setter:d},X[5124]={size:4,setter:p},X[35667]={size:8,setter:p},X[35668]={size:12,setter:p},X[35669]={size:16,setter:p},X[5125]={size:4,setter:f},X[36294]={size:8,setter:f},X[36295]={size:12,setter:f},X[36296]={size:16,setter:f},X[35670]={size:4,setter:p},X[35671]={size:8,setter:p},X[35672]={size:12,setter:p},X[35673]={size:16,setter:p},X[35674]={size:4,setter:h,count:2},X[35675]={size:9,setter:h,count:3},X[35676]={size:16,setter:h,count:4};var H=void 0,k=/^[ \t]*\n/,W=["VERTEX_SHADER","FRAGMENT_SHADER"],U=/\[\d+\]\.$/},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function n(e,t){var r=W[e];if(!r)throw"unknown internal format";var a=r.bytesPerElementMap[t];if(void 0===a)throw"unknown internal format";return a}function o(e){var t=W[e];if(!t)throw"unknown internal format";return{format:t.e,type:Array.isArray(t.type)?t.type[0]:t.type}}function i(e){return 0==(e&e-1)}function s(e,t,r,a){if(!O.isWebGL2(e))return i(t)&&i(r);var n=W[a];if(!n)throw"unknown internal format";return n.t&&n.r}function A(e,t,r){return F(t)?C.getGLTypeForTypedArray(t):r||e.UNSIGNED_BYTE}function u(e,t,r,a,n){if(n%1!=0)throw"can't guess dimensions";if(r||a){if(a){if(!r&&(r=n/a)%1)throw"can't guess dimensions"}else if((a=n/r)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(n/(t===e.TEXTURE_CUBE_MAP?6:1));o%1==0?(r=o,a=o):(r=n,a=1)}return{width:r,height:a}}function l(e){B.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function c(e,t){void 0!==t.colorspaceConversion&&(Y.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(Y.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha)),void 0!==t.flipY&&(Y.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY))}function d(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,Y.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,Y.flipY)}function p(e){Y.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),O.isWebGL2(e)&&(Y.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),Y.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),Y.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),Y.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),Y.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function f(e){e.pixelStorei(e.UNPACK_ALIGNMENT,Y.unpackAlignment),O.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,Y.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,Y.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,Y.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,Y.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,Y.unpackSkipImages))}function h(e,t,r,a){a.minMag&&(r.call(e,t,e.TEXTURE_MIN_FILTER,a.minMag),r.call(e,t,e.TEXTURE_MAG_FILTER,a.minMag)),a.min&&r.call(e,t,e.TEXTURE_MIN_FILTER,a.min),a.mag&&r.call(e,t,e.TEXTURE_MAG_FILTER,a.mag),a.wrap&&(r.call(e,t,e.TEXTURE_WRAP_S,a.wrap),r.call(e,t,e.TEXTURE_WRAP_T,a.wrap),(t===e.TEXTURE_3D||G.isSampler(e,t))&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrap)),a.wrapR&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrapR),a.wrapS&&r.call(e,t,e.TEXTURE_WRAP_S,a.wrapS),a.wrapT&&r.call(e,t,e.TEXTURE_WRAP_T,a.wrapT),a.minLod&&r.call(e,t,e.TEXTURE_MIN_LOD,a.minLod),a.maxLod&&r.call(e,t,e.TEXTURE_MAX_LOD,a.maxLod),a.baseLevel&&r.call(e,t,e.TEXTURE_BASE_LEVEL,a.baseLevel),a.maxLevel&&r.call(e,t,e.TEXTURE_MAX_LEVEL,a.maxLevel)}function v(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t),h(e,a,e.texParameteri,r)}function g(e,t,r){h(e,t,e.samplerParameteri,r)}function y(e,t){var r=e.createSampler();return g(e,r,t),r}function m(e,t,r,a,n,o,i){r=r||B.textureOptions,o=o||e.RGBA,i=i||e.UNSIGNED_BYTE;var A=r.target||e.TEXTURE_2D;if(a=a||r.width,n=n||r.height,e.bindTexture(A,t),s(e,a,n,o))e.generateMipmap(A);else{var u=function(e){var t=W[e];if(!t)throw"unknown internal format";return t.r}(o)?e.LINEAR:e.NEAREST;e.texParameteri(A,e.TEXTURE_MIN_FILTER,u),e.texParameteri(A,e.TEXTURE_MAG_FILTER,u),e.texParameteri(A,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(A,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function S(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function E(e,t){return(t=t||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function x(e,t){var r=E(e,t),a=r.map(function(e,t){return{face:e,ndx:t}});return a.sort(function(e,t){return e.face-t.face}),a}function T(e,t,r,a){var n=(a=a||B.textureOptions).target||e.TEXTURE_2D,i=a.level||0,s=r.width,A=r.height,u=a.internalFormat||a.format||e.RGBA,l=o(u),h=a.format||l.format,g=a.type||l.type;if(c(e,a),e.bindTexture(n,t),n===e.TEXTURE_CUBE_MAP){var y,E,T=r.width,_=r.height;if(T/6===_)y=_,E=[0,0,1,0,2,0,3,0,4,0,5,0];else if(_/6===T)y=T,E=[0,0,0,1,0,2,0,3,0,4,0,5];else if(T/3==_/2)y=T/3,E=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(T/2!=_/3)throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);y=T/2,E=[0,0,1,0,0,1,1,1,0,2,1,2]}D?(D.canvas.width=y,D.canvas.height=y,s=y,A=y,x(e,a).forEach(function(t){var a=E[2*t.ndx+0]*y,n=E[2*t.ndx+1]*y;D.drawImage(r,a,n,y,y,0,0,y,y),e.texImage2D(t.face,i,u,h,g,D.canvas)}),D.canvas.width=1,D.canvas.height=1):N.default.createImageBitmap&&(s=y,A=y,x(e,a).forEach(function(o){var l=E[2*o.ndx+0]*y,p=E[2*o.ndx+1]*y;e.texImage2D(o.face,i,u,y,y,0,h,g,null),N.default.createImageBitmap(r,l,p,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(r){c(e,a),e.bindTexture(n,t),e.texImage2D(o.face,i,u,h,g,r),d(e,a),S(a)&&m(e,t,a,s,A,u,g)})}))}else if(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY){var I=Math.min(r.width,r.height),M=Math.max(r.width,r.height),L=M/I;if(L%1!=0)throw"can not compute 3D dimensions of element";var b=r.width===M?1:0,w=r.height===M?1:0;p(e),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.texImage3D(n,i,u,I,I,I,0,h,g,null);for(var R=0;R<L;++R){var P=R*I*b,O=R*I*w;e.pixelStorei(e.UNPACK_SKIP_PIXELS,P),e.pixelStorei(e.UNPACK_SKIP_ROWS,O),e.texSubImage3D(n,i,0,0,R,I,I,1,h,g,r)}f(e)}else e.texImage2D(n,i,u,h,g,r);d(e,a),S(a)&&m(e,t,a,s,A,u,g),v(e,t,a)}function _(){}function I(e){return N.default.ImageBitmap&&e instanceof N.default.ImageBitmap||N.default.ImageData&&e instanceof N.default.ImageData||N.default.HTMLElement&&e instanceof N.default.HTMLElement}function M(e,t,r){return I(e)?(setTimeout(function(){r(null,e)}),e):function(e,t,r){var a;if(r=r||_,N.default.Image){a=new N.default.Image,void 0!==(t=void 0!==t?t:B.crossOrigin)&&(a.crossOrigin=t);var n=function(){a.removeEventListener("error",o),a.removeEventListener("load",i),a=null},o=function(){var t="couldn't load image: "+e;G.error(t),r(t,a),n()},i=function(){r(null,a),n()};return a.addEventListener("error",o),a.addEventListener("load",i),a.src=e,a}if(N.default.ImageBitmap){var s,A,u=function(){r(s,A)},l={};t&&(l.mode="cors"),fetch(e,l).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return N.default.createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){A=e,setTimeout(u)}).catch(function(e){s=e,setTimeout(u)}),a=null}return a}(e,t,r)}function L(e,t,r){var a=(r=r||B.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(a,t),!1!==r.color){var n=function(e){return e=e||B.textureColor,F(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(a===e.TEXTURE_CUBE_MAP)for(var o=0;o<6;++o)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n);else a===e.TEXTURE_3D||a===e.TEXTURE_2D_ARRAY?e.texImage3D(a,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n):e.texImage2D(a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n)}}function b(e,t,r,a){return a=a||_,r=r||B.textureOptions,L(e,t,r),M((r=Object.assign({},r)).src,r.crossOrigin,function(n,o){n?a(n,t,o):(T(e,t,o,r),a(null,t,o))})}function w(e,t,r,a){var i=(a=a||B.textureOptions).target||e.TEXTURE_2D;e.bindTexture(i,t);var s=a.width,l=a.height,h=a.depth,v=a.level||0,g=a.internalFormat||a.format||e.RGBA,y=o(g),m=a.format||y.format,S=a.type||A(e,r,y.type);if(F(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{var E=C.getTypedArrayTypeForGLType(S);r=new E(r)}var T,_=n(g,S),I=r.byteLength/_;if(I%1)throw"length wrong size for format: "+O.glEnumToString(e,m);if(i===e.TEXTURE_3D)if(s||l||h)!s||l&&h?!l||s&&h?(T=u(e,i,s,l,I/h),s=T.width,l=T.height):(T=u(e,i,s,h,I/l),s=T.width,h=T.height):(T=u(e,i,l,h,I/s),l=T.width,h=T.height);else{var M=Math.cbrt(I);if(M%1!=0)throw"can't guess cube size of array of numElements: "+I;s=M,l=M,h=M}else T=u(e,i,s,l,I),s=T.width,l=T.height;if(p(e),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment||1),c(e,a),i===e.TEXTURE_CUBE_MAP){var L=_/r.BYTES_PER_ELEMENT,b=I/6*L;x(e,a).forEach(function(t){var a=b*t.ndx,n=r.subarray(a,a+b);e.texImage2D(t.face,v,g,s,l,0,m,S,n)})}else i===e.TEXTURE_3D?e.texImage3D(i,v,g,s,l,h,0,m,S,r):e.texImage2D(i,v,g,s,l,0,m,S,r);return d(e,a),f(e),{width:s,height:l,depth:h,type:S}}function R(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t);var n=r.level||0,i=r.internalFormat||r.format||e.RGBA,s=o(i),A=r.format||s.format,u=r.type||s.type;if(c(e,r),a===e.TEXTURE_CUBE_MAP)for(var l=0;l<6;++l)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+l,n,i,r.width,r.height,0,A,u,null);else a===e.TEXTURE_3D?e.texImage3D(a,n,i,r.width,r.height,r.depth,0,A,u,null):e.texImage2D(a,n,i,r.width,r.height,0,A,u,null);d(e,r)}function P(e,t,r){r=r||_,t=t||B.textureOptions;var a=e.createTexture(),n=t.target||e.TEXTURE_2D,i=t.width||1,s=t.height||1,A=t.internalFormat||e.RGBA,u=o(A),l=t.type||u.type;e.bindTexture(n,a),n===e.TEXTURE_CUBE_MAP&&(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var p=t.src;if(p)if("function"==typeof p&&(p=p(e,t)),"string"==typeof p)b(e,a,t,r);else if(F(p)||Array.isArray(p)&&("number"==typeof p[0]||Array.isArray(p[0])||F(p[0]))){var f=w(e,a,p,t);i=f.width,s=f.height,l=f.type}else if(Array.isArray(p)&&("string"==typeof p[0]||I(p[0])))n===e.TEXTURE_CUBE_MAP?function(e,t,r,a){function n(n){return function(o,i){--v,o?g.push(o):i.width!==i.height?g.push("cubemap face img is not a square: "+i.src):(c(e,r),e.bindTexture(f,t),5===v?E(e).forEach(function(t){e.texImage2D(t,s,A,l,p,i)}):e.texImage2D(n,s,A,l,p,i),d(e,r),S(r)&&e.generateMipmap(f)),0===v&&a(g.length?g:void 0,t,h)}}a=a||_;var i=r.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";var s=r.level||0,A=r.internalFormat||r.format||e.RGBA,u=o(A),l=r.format||u.format,p=r.type||e.UNSIGNED_BYTE,f=r.target||e.TEXTURE_2D;if(f!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";L(e,t,r),r=Object.assign({},r);var h,v=6,g=[],y=E(e,r);h=i.map(function(e,t){return M(e,r.crossOrigin,n(y[t]))})}(e,a,t,r):function(e,t,r,a){function n(n){return function(o,i){if(--h,o)v.push(o);else{if(c(e,r),e.bindTexture(p,t),x){x=!1,y=r.width||i.width,m=r.height||i.height,e.texImage3D(p,g,s,y,m,E,0,u,l,null);for(var A=0;A<E;++A)e.texSubImage3D(p,g,0,0,A,y,m,1,u,l,i)}else{var T=i;i.width===y&&i.height===m||(T=D.canvas,D.canvas.width=y,D.canvas.height=m,D.drawImage(i,0,0,y,m)),e.texSubImage3D(p,g,0,0,n,y,m,1,u,l,T),T===D.canvas&&(D.canvas.width=0,D.canvas.height=0)}d(e,r),S(r)&&e.generateMipmap(p)}0===h&&a(v.length?v:void 0,t,f)}}a=a||_;var i=r.src,s=r.internalFormat||r.format||e.RGBA,A=o(s),u=r.format||A.format,l=r.type||e.UNSIGNED_BYTE,p=r.target||e.TEXTURE_2D_ARRAY;if(p!==e.TEXTURE_3D&&p!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";L(e,t,r),r=Object.assign({},r);var f,h=i.length,v=[],g=r.level||0,y=r.width,m=r.height,E=i.length,x=!0;f=i.map(function(e,t){return M(e,r.crossOrigin,n(t))})}(e,a,t,r);else{if(!I(p))throw"unsupported src type";T(e,a,p,t),i=p.width,s=p.height}else R(e,a,t);return S(t)&&m(e,a,t,i,s,A,l),v(e,a,t),a}t.__esModule=!0,t.setTextureDefaults_=function(e){G.copyExistingProperties(e,B),e.textureColor&&l(e.textureColor)},t.createSampler=y,t.createSamplers=function(e,t){var r={};return Object.keys(t).forEach(function(a){r[a]=y(e,t[a])}),r},t.setSamplerParameters=g,t.createTexture=P,t.setEmptyTexture=R,t.setTextureFromArray=w,t.loadTextureFromUrl=b,t.setTextureFromElement=T,t.setTextureFilteringForSize=m,t.setTextureParameters=v,t.setDefaultTextureColor=l,t.createTextures=function(e,t,r){function a(){0===n&&setTimeout(function(){r(o.length?o:void 0,i,s)},0)}r=r||_;var n=0,o=[],i={},s={};return Object.keys(t).forEach(function(r){var A,u=t[r];(function(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]})(u.src)&&(A=function(e,t,i){s[r]=i,--n,e&&o.push(e),a()},++n),i[r]=P(e,u,A)}),a(),i},t.resizeTexture=function(e,t,r,a,n){a=a||r.width,n=n||r.height;var i=r.target||e.TEXTURE_2D;e.bindTexture(i,t);var s,u=r.level||0,l=r.internalFormat||r.format||e.RGBA,c=o(l),d=r.format||c.format,p=r.src;if(s=p&&(F(p)||Array.isArray(p)&&"number"==typeof p[0])?r.type||A(e,p,c.type):r.type||c.type,i===e.TEXTURE_CUBE_MAP)for(var f=0;f<6;++f)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+f,u,l,a,n,0,d,s,null);else e.texImage2D(i,u,l,a,n,0,d,s,null)},t.getNumComponentsForFormat=function(e){var t=H[e];if(!t)throw"unknown format: "+e;return t.a},t.getBytesPerElementForInternalFormat=n;var O=a(r(3)),C=a(r(2)),G=a(r(0)),N=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),B={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},F=C.isArrayBuffer,D=N.default.document&&N.default.document.createElement?N.default.document.createElement("canvas").getContext("2d"):null,V=6407,X=33319,H={},k=H;k[6406]={a:1},k[6409]={a:1},k[6410]={a:2},k[V]={a:3},k[6408]={a:4},k[6403]={a:1},k[36244]={a:1},k[X]={a:2},k[33320]={a:2},k[V]={a:3},k[36248]={a:3},k[6408]={a:4},k[36249]={a:4},k[6402]={a:1},k[34041]={a:2};var W={},U=W;U[6406]={e:6406,t:!0,r:!0,u:[1,2,2,4],type:[5121,5131,36193,5126]},U[6409]={e:6409,t:!0,r:!0,u:[1,2,2,4],type:[5121,5131,36193,5126]},U[6410]={e:6410,t:!0,r:!0,u:[2,4,4,8],type:[5121,5131,36193,5126]},U[V]={e:V,t:!0,r:!0,u:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},U[6408]={e:6408,t:!0,r:!0,u:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},U[33321]={e:6403,t:!0,r:!0,u:1,type:5121},U[36756]={e:6403,t:!1,r:!0,u:1,type:5120},U[33325]={e:6403,t:!1,r:!0,u:[4,2],type:[5126,5131]},U[33326]={e:6403,t:!1,r:!1,u:4,type:5126},U[33330]={e:36244,t:!0,r:!1,u:1,type:5121},U[33329]={e:36244,t:!0,r:!1,u:1,type:5120},U[33332]={e:36244,t:!0,r:!1,u:2,type:5123},U[33331]={e:36244,t:!0,r:!1,u:2,type:5122},U[33334]={e:36244,t:!0,r:!1,u:4,type:5125},U[33333]={e:36244,t:!0,r:!1,u:4,type:5124},U[33323]={e:X,t:!0,r:!0,u:2,type:5121},U[36757]={e:X,t:!1,r:!0,u:2,type:5120},U[33327]={e:X,t:!1,r:!0,u:[8,4],type:[5126,5131]},U[33328]={e:X,t:!1,r:!1,u:8,type:5126},U[33336]={e:33320,t:!0,r:!1,u:2,type:5121},U[33335]={e:33320,t:!0,r:!1,u:2,type:5120},U[33338]={e:33320,t:!0,r:!1,u:4,type:5123},U[33337]={e:33320,t:!0,r:!1,u:4,type:5122},U[33340]={e:33320,t:!0,r:!1,u:8,type:5125},U[33339]={e:33320,t:!0,r:!1,u:8,type:5124},U[32849]={e:V,t:!0,r:!0,u:3,type:5121},U[35905]={e:V,t:!1,r:!0,u:3,type:5121},U[36194]={e:V,t:!0,r:!0,u:[3,2],type:[5121,33635]},U[36758]={e:V,t:!1,r:!0,u:3,type:5120},U[35898]={e:V,t:!1,r:!0,u:[12,6,4],type:[5126,5131,35899]},U[35901]={e:V,t:!1,r:!0,u:[12,6,4],type:[5126,5131,35902]},U[34843]={e:V,t:!1,r:!0,u:[12,6],type:[5126,5131]},U[34837]={e:V,t:!1,r:!1,u:12,type:5126},U[36221]={e:36248,t:!1,r:!1,u:3,type:5121},U[36239]={e:36248,t:!1,r:!1,u:3,type:5120},U[36215]={e:36248,t:!1,r:!1,u:6,type:5123},U[36233]={e:36248,t:!1,r:!1,u:6,type:5122},U[36209]={e:36248,t:!1,r:!1,u:12,type:5125},U[36227]={e:36248,t:!1,r:!1,u:12,type:5124},U[32856]={e:6408,t:!0,r:!0,u:4,type:5121},U[35907]={e:6408,t:!0,r:!0,u:4,type:5121},U[36759]={e:6408,t:!1,r:!0,u:4,type:5120},U[32855]={e:6408,t:!0,r:!0,u:[4,2,4],type:[5121,32820,33640]},U[32854]={e:6408,t:!0,r:!0,u:[4,2],type:[5121,32819]},U[32857]={e:6408,t:!0,r:!0,u:4,type:33640},U[34842]={e:6408,t:!1,r:!0,u:[16,8],type:[5126,5131]},U[34836]={e:6408,t:!1,r:!1,u:16,type:5126},U[36220]={e:36249,t:!0,r:!1,u:4,type:5121},U[36238]={e:36249,t:!0,r:!1,u:4,type:5120},U[36975]={e:36249,t:!0,r:!1,u:4,type:33640},U[36214]={e:36249,t:!0,r:!1,u:8,type:5123},U[36232]={e:36249,t:!0,r:!1,u:8,type:5122},U[36226]={e:36249,t:!0,r:!1,u:16,type:5124},U[36208]={e:36249,t:!0,r:!1,u:16,type:5125},U[33189]={e:6402,t:!0,r:!1,u:[2,4],type:[5123,5125]},U[33190]={e:6402,t:!0,r:!1,u:4,type:5125},U[36012]={e:6402,t:!0,r:!1,u:4,type:5126},U[35056]={e:34041,t:!0,r:!1,u:4,type:34042},U[36013]={e:34041,t:!0,r:!1,u:4,type:36269},Object.keys(U).forEach(function(e){var t=U[e];if(t.bytesPerElementMap={},Array.isArray(t.u))t.u.forEach(function(e,r){var a=t.type[r];t.bytesPerElementMap[a]=e});else{var r=t.type;t.bytesPerElementMap[r]=t.u}});var Y={}},function(e,t,r){"use strict";t.__esModule=!0;var a=r(7);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(t[e]=a[e])})},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function n(e,t){l.glEnumToString(e,0);var r=e.getExtension(t);if(r){var a={},n=g.exec(t)[1],o="_"+n;for(var i in r){var s=r[i],A="function"==typeof s,c=A?n:o,d=i;i.endsWith(c)&&(d=i.substring(0,i.length-c.length)),void 0!==e[d]?A||e[d]===s||u.warn(d,e[d],s,i):A?e[d]=function(e){return function(){return e.apply(r,arguments)}}(s):(e[d]=s,a[d]=s)}a.constructor={name:r.constructor.name},l.glEnumToString(a,0)}return r}function o(e){for(var t=0;t<y.length;++t)n(e,y[t])}t.__esModule=!0;var i={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};t.addExtensionsToContext=o,t.getContext=function(e,t){return function(e,t){for(var r=["webgl2","webgl","experimental-webgl"],a=null,n=0;n<r.length;++n)if(a=e.getContext(r[n],t)){v.addExtensionsToContext&&o(a);break}return a}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var r=["webgl","experimental-webgl"],a=null,n=0;n<r.length;++n)if(a=e.getContext(r[n],t)){v.addExtensionsToContext&&o(a);break}return a}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var r=e.clientWidth*t|0,a=e.clientHeight*t|0;return(e.width!==r||e.height!==a)&&(e.width=r,e.height=a,!0)},t.setDefaults=function(e){u.copyExistingProperties(e,v),s.setAttributeDefaults_(e),A.setTextureDefaults_(e)};var s=a(r(8));Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=s[e]))});var A=a(r(5));Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=A[e]))});var u=a(r(0)),l=a(r(3));Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=l[e]))});var c=r(9);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=c[e]))});var d=r(10);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=d[e]))});var p=r(4);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=p[e]))});var f=r(2);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=f[e]))});var h=r(11);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(t[e]=h[e]))});var v={addExtensionsToContext:!0},g=/^(.*?)_/,y=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"]},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function n(e,t,r,a,n){e.bindBuffer(t,r),e.bufferData(t,a,n||e.STATIC_DRAW)}function o(e,t,r,a){if(f.isBuffer(e,t))return t;r=r||e.ARRAY_BUFFER;var o=e.createBuffer();return n(e,r,o,t,a),o}function i(e){return"indices"===e}function s(e){return e.length?e:e.data}function A(e,t){var r;if(r=v.test(e)?2:g.test(e)?4:3,t%r>0)throw"Can not guess numComponents for attribute '"+e+"'. Tried "+r+" but "+t+" values is not evenly divisible by "+r+". You should specify it.";return r}function u(e,t){return e.numComponents||e.size||A(t,s(e).length)}function l(e,t){if(p.isArrayBuffer(e))return e;if(p.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var r=e.type;return r||(r=i(t)?Uint16Array:Float32Array),new r(e.data)}function c(e,t){var r={};return Object.keys(t).forEach(function(a){if(!i(a)){var n=t[a],s=n.attrib||n.name||n.attribName||h.attribPrefix+a;if(n.value){if(!Array.isArray(n.value)&&!p.isArrayBuffer(n.value))throw new Error("array.value is not array or typedarray");r[s]={value:n.value}}else{var c,d,f,v;if(n.buffer&&n.buffer instanceof WebGLBuffer)c=n.buffer,v=n.numComponents||n.size,d=n.type,f=n.normalize;else if("number"==typeof n||"number"==typeof n.data){var g=n.data||n,y=n.type||Float32Array,m=g*y.BYTES_PER_ELEMENT;d=p.getGLTypeForTypedArrayType(y),f=void 0!==n.normalize?n.normalize:function(e){return e===Int8Array||e===Uint8Array}(y),v=n.numComponents||n.size||A(a,g),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,m,n.drawType||e.STATIC_DRAW)}else{var S=l(n,a);c=o(e,S,void 0,n.drawType),d=p.getGLTypeForTypedArray(S),f=void 0!==n.normalize?n.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(S),v=u(n,a)}r[s]={buffer:c,numComponents:v,type:d,normalize:f,stride:n.stride||0,offset:n.offset||0,divisor:void 0===n.divisor?void 0:n.divisor,drawType:n.drawType}}}}),e.bindBuffer(e.ARRAY_BUFFER,null),r}function d(e,t,r){var a="indices"===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return o(e,l(t,r),a)}t.__esModule=!0,t.createAttribsFromArrays=c,t.createBuffersFromArrays=function(e,t){var r={};return Object.keys(t).forEach(function(a){r[a]=d(e,t[a],a)}),t.indices?(r.numElements=t.indices.length,r.elementType=p.getGLTypeForTypedArray(l(t.indices),"indices")):r.numElements=function(e){var t,r;for(r=0;r<y.length&&!((t=y[r])in e);++r);r===y.length&&(t=Object.keys(e)[0]);var a=e[t],n=s(a).length,o=u(a,t),i=n/o;if(n%o>0)throw"numComponents "+o+" not correct for length "+n;return i}(t),r},t.createBufferFromArray=d,t.createBufferFromTypedArray=o,t.createBufferInfoFromArrays=function(e,t,r){var a=c(e,t),n=Object.assign({},r||{});n.attribs=Object.assign({},r?r.attribs:{},a);var i=t.indices;if(i){var s=l(i,"indices");n.indices=o(e,s,e.ELEMENT_ARRAY_BUFFER),n.numElements=s.length,n.elementType=p.getGLTypeForTypedArray(s)}else n.numElements||(n.numElements=function(e,t){var r,a;for(a=0;a<y.length&&!((r=y[a])in t)&&!((r=h.attribPrefix+r)in t);++a);a===y.length&&(r=Object.keys(t)[0]);var n=t[r];e.bindBuffer(e.ARRAY_BUFFER,n.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var i=function(e,t){return t===e.BYTE?1:t===e.UNSIGNED_BYTE?1:t===e.SHORT?2:t===e.UNSIGNED_SHORT?2:t===e.INT?4:t===e.UNSIGNED_INT?4:t===e.FLOAT?4:0}(e,n.type),s=o/i,A=n.numComponents||n.size,u=s/A;if(u%1!=0)throw"numComponents "+A+" not correct for length "+length;return u}(e,n.attribs));return n},t.setAttribInfoBufferFromArray=function(e,t,r,a){r=l(r),void 0!==a?(e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferSubData(e.ARRAY_BUFFER,a,r)):n(e,e.ARRAY_BUFFER,t.buffer,r,t.drawType)},t.setAttributePrefix=function(e){h.attribPrefix=e},t.setAttributeDefaults_=function(e){f.copyExistingProperties(e,h)},t.getNumComponents_=u,t.getArray_=s;var p=a(r(2)),f=a(r(0)),h={attribPrefix:""},v=/coord|texture/i,g=/color|colour/i,y=["position","positions","a_position"]},function(e,t,r){"use strict";function a(e,t,r,a,n,o){r=void 0===r?e.TRIANGLES:r;var i=t.indices,s=t.elementType,A=void 0===a?t.numElements:a;n=void 0===n?0:n,s||i?void 0!==o?e.drawElementsInstanced(r,A,void 0===s?e.UNSIGNED_SHORT:t.elementType,n,o):e.drawElements(r,A,void 0===s?e.UNSIGNED_SHORT:t.elementType,n):void 0!==o?e.drawArraysInstanced(r,n,A,o):e.drawArrays(r,n,A)}t.__esModule=!0,t.drawBufferInfo=a,t.drawObjectList=function(e,t){var r=null,o=null;t.forEach(function(t){if(!1!==t.active){var i=t.programInfo,s=t.vertexArrayInfo||t.bufferInfo,A=!1,u=void 0===t.type?e.TRIANGLES:t.type;i!==r&&(r=i,e.useProgram(i.program),A=!0),(A||s!==o)&&(o&&o.vertexArrayObject&&!s.vertexArrayObject&&e.bindVertexArray(null),o=s,n.setBuffersAndAttributes(e,i,s)),n.setUniforms(i,t.uniforms),a(e,s,u,t.count,t.offset,t.instanceCount)}}),o.vertexArrayObject&&e.bindVertexArray(null)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(4))},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function n(e){return l[e]}function o(e){return c[e]}t.__esModule=!0,t.bindFramebufferInfo=function(e,t,r){r=r||e.FRAMEBUFFER,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(e,t,r,a){var l=e.FRAMEBUFFER,c=e.createFramebuffer();e.bindFramebuffer(l,c),r=r||e.drawingBufferWidth,a=a||e.drawingBufferHeight;var d=0,p={framebuffer:c,attachments:[],width:r,height:a};return(t=t||u).forEach(function(t){var u=t.attachment,c=t.format,f=n(c);if(f||(f=A+d++),!u)if(o(c))u=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,c,r,a);else{var h=Object.assign({},t);h.width=r,h.height=a,void 0===h.auto&&(h.auto=!1,h.min=h.min||h.minMag||e.LINEAR,h.mag=h.mag||h.minMag||e.LINEAR,h.wrapS=h.wrapS||h.wrap||e.CLAMP_TO_EDGE,h.wrapT=h.wrapT||h.wrap||e.CLAMP_TO_EDGE),u=i.createTexture(e,h)}if(s.isRenderbuffer(e,u))e.framebufferRenderbuffer(l,f,e.RENDERBUFFER,u);else{if(!s.isTexture(e,u))throw"unknown attachment type";e.framebufferTexture2D(l,f,t.texTarget||e.TEXTURE_2D,u,t.level||0)}p.attachments.push(u)}),p},t.resizeFramebufferInfo=function(e,t,r,a,n){a=a||e.drawingBufferWidth,n=n||e.drawingBufferHeight,t.width=a,t.height=n,(r=r||u).forEach(function(r,o){var A=t.attachments[o],u=r.format;if(s.isRenderbuffer(e,A))e.bindRenderbuffer(e.RENDERBUFFER,A),e.renderbufferStorage(e.RENDERBUFFER,u,a,n);else{if(!s.isTexture(e,A))throw"unknown attachment type";i.resizeTexture(e,A,r,a,n)}})};var i=a(r(5)),s=a(r(0)),A=36064,u=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],l={34041:33306,6401:36128,36168:36128,6402:36096,33189:36096},c={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0}},function(e,t,r){"use strict";function a(e,t,r,a){var o=e.createVertexArray();return e.bindVertexArray(o),n.setAttributes(t,r),a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bindVertexArray(null),o}t.__esModule=!0,t.createVertexArrayInfo=function(e,t,r){var a=e.createVertexArray();return e.bindVertexArray(a),t.length||(t=[t]),t.forEach(function(t){n.setBuffersAndAttributes(e,t,r)}),e.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:a}},t.createVAOAndSetAttributes=a,t.createVAOFromBufferInfo=function(e,t,r){return a(e,t.attribSetters||t,r.attribs,r.indices)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(4))}])}]);