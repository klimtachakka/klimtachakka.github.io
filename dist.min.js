!function(e){var t={};function r(a){if(t[a])return t[a].exports;var A=t[a]={i:a,l:!1,exports:{}};return e[a].call(A.exports,A,A.exports,r),A.l=!0,A.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var A in e)r.d(a,A,function(t){return e[t]}.bind(null,A));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=137)}([function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(5)],void 0===(A=function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Vertices=0]="Vertices",e[e.VerticesOverlay=1]="VerticesOverlay",e[e.VerticesMultiColor=2]="VerticesMultiColor",e[e.VerticesFastAlpha=3]="VerticesFastAlpha",e[e.Vertices3d=4]="Vertices3d",e[e.Texture=5]="Texture",e[e.TextureDist=6]="TextureDist",e[e.GameBufferDist=7]="GameBufferDist",e[e.GameBufferNoise=8]="GameBufferNoise",e[e.VerticesGradient=9]="VerticesGradient",e[e.particleUpdate=10]="particleUpdate",e[e.particleRender=11]="particleRender"}(a=t.GLctx||(t.GLctx={}));var A=a.Vertices,o={},i=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),s=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]);t.debugGetProgram=function(e){return o[e]},t.zoom=function(e,A){void 0===A&&(A=!1);var n=e.game,o=e.gl;if(n.SW!==n.currentResW||n.SH!==n.currentResH||A){f(a.Vertices,o);var i=t.GLUniformLocation(o,"u_resolution"),s=t.GLUniformLocation(o,"u_pointSize"),l=e;l.game.zoomTXinverted&&o.uniform1f(s,r.map(l.game.zoomTXinverted,1,4,1,2,!0)),o.uniform2f(i,n.SW,n.SH),n.currentResW=n.SW,n.currentResH=n.SH;f(a.VerticesGradient,o);var u=t.GLUniformLocation(o,"u_resolution");o.uniform2f(u,n.SW,n.SH),n.currentResW=n.SW,n.currentResH=n.SH}},t.compileProgram=function(e,t,r,a,A,n,i){var s=window.webglUtils.createProgramFromSources(t,[r.vertex,r.fragment]);if(o[e]=s,t.useProgram(s),null!=i&&t.transformFeedbackVaryings(s,i,t.INTERLEAVED_ATTRIBS),t.linkProgram(s),a&&A){var l=t.getAttribLocation(s,"a_position"),u=t.getUniformLocation(s,"u_resolution");t.getUniformLocation(s,"u_color");t.uniform2f(u,a,A);var d=t.createBuffer();if(t.bindBuffer(t.ARRAY_BUFFER,d),t.enableVertexAttribArray(l),n){var c=window.m4,f=45*Math.PI/180,p=a/A,g=c.perspective(f,p,.1,100),h=t.getUniformLocation(s,"uProjectionMatrix");t.uniformMatrix4fv(h,!1,g),t.vertexAttribPointer(l,3,t.FLOAT,!1,0,0)}else t.vertexAttribPointer(l,2,t.FLOAT,!1,0,0);t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}return s};var l={},u={};t.GLUniformLocation=function(e,t){var r=l[A];if(r){var a=r[t];if(a)return a}else l[A]={};var n=o[A],i=e.getUniformLocation(n,t);if(-1===i)throw" unable to get uniform "+t+" @ "+A;return l[A][t]=i,i},t.GLAttribNameLookup=function(e,t){void 0===t&&(t=A);var r=u[t];if(r)for(var a in r)if(r[a]===e)return a},t.GLAttribBatchSwitch=function(e,t,r){void 0===r&&(r=!1),console.log("Attrib switch: enable?"+r,"program:* "+t);var a=u[t];if(a)for(var A in a)r?(console.log("SHADER*:"+t+" enables: "+A),e.enableVertexAttribArray(a[A])):(console.log("SHADER*:"+t+" disables: "+A),e.disableVertexAttribArray(a[A]))},t.GLAttribLocations=function(e,t){var r=u[A];if(r){var a=r[t];if(a)return a}else u[A]={};var n=o[A],i=e.getAttribLocation(n,t);if(-1===i)throw" unable to get attrib "+t+" @ program type:"+A;return u[A][t]=i,i};var d={switchedProgram:0,switchedCacheHit:0};t.GLCTXreadPerformance=function(e){void 0===e&&(e=!0);var t=n({},d);return d.switchedCacheHit=0,d.switchedProgram=0,t};var c={};t.GLBufferCached=function(e,t){var r=c[t];return r||(c[t]=e.createBuffer(),c[t])},t.getCurrentProgramGLctx=function(){return A};var f=function(e,r){if(A===e)return d.switchedCacheHit++,o[e];var n=o[e];r.useProgram(n),A=e,d.switchedProgram++;var l=r.getAttribLocation(n,"a_position");switch(e){case a.VerticesFastAlpha:case a.Vertices3d:r.enableVertexAttribArray(l),r.vertexAttribPointer(l,3,r.FLOAT,!1,0,0);break;case a.VerticesMultiColor:case a.Vertices:var c=t.GLBufferCached(r,"GLCTX_vertex");r.bindBuffer(r.ARRAY_BUFFER,c),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,2,r.FLOAT,!1,0,0);break;case a.particleUpdate:break;case a.GameBufferDist:case a.GameBufferNoise:var f=t.GLBufferCached(r,"GLCTX_frambuffer");r.bindBuffer(r.ARRAY_BUFFER,f),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW);break;case a.Texture:case a.TextureDist:var p=t.GLBufferCached(r,"GLCTX_texture");r.bindBuffer(r.ARRAY_BUFFER,p),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,i,r.STATIC_DRAW)}return window.lah=function(){return console.log(u)},n};t.default=f}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtractVector=function(e,t,a){return void 0===a&&(a=new r(0,0)),a.x=e.x-t.x,a.y=e.y-t.y,a};var r=function(){function e(e,t,r){this.x=0,this.y=0,this.id=0,this.isVector=!0,this.x=e,this.y=t,this.id=r,this.isVector=!0}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.add=function(e){this.x+=e.x,this.y+=e.y},e.prototype.addXY=function(e,t){this.x+=e,this.y+=t},e.prototype.set=function(e,t){this.x=e,this.y=t},e.prototype.setFromVec=function(e){this.x=e.x,this.y=e.y},e.prototype.mult=function(e){this.x*=e,this.y*=e},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.normalize=function(){var e=this.norm();this.x=this.x/e||0,this.y=this.y/e||0},e.prototype.subtractXY=function(t,r){return new e(this.x-t,this.y-r)},e.prototype.subtract=function(e){this.x-=e.x,this.y-=e.y},e.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.setLength=function(e){var t=this.getAngle();this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},e.prototype.getAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.setAngle=function(e){var t=this.getLength();this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},e.prototype.rotate=function(e,t){t=t*Math.PI/180;var r=e.x,a=e.y,A=this.x,n=this.y;return{x:Math.cos(t)*(A-r)-Math.sin(t)*(n-a)+r,y:Math.sin(t)*(A-r)+Math.cos(t)*(n-a)+a}},e.prototype.div=function(e){this.x/=e,this.y/=e},e.prototype.magSq=function(){var e=this.x,t=this.y;return e*e+t*t},e.prototype.limit=function(e){var t=this.magSq();t>e*e&&(this.div(Math.sqrt(t)),this.mult(e))},e.prototype.toVertices=function(){return[this.x,this.y]},e.prototype.toPoint=function(){return{x:this.x,y:this.y}},e.prototype.toPointINT=function(){return{x:0|this.x,y:0|this.y}},e}();t.Vector=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLAYER_LIFE_LOW_THRESHOLD=30,t.PARTICLE_MAX_SPEED=30,t.PARTICLE_SPEED_TO_COLOR=255/t.PARTICLE_MAX_SPEED,t.doublePI=2*Math.PI,t.SHIP_LENGTH_RADIUS=20,t.SHIP_WIDTH_RADIUS=13,t.MAP_SAFETY_ZONE=400,t.MAX_NUM_ASTEROIDS=800,t.WORM_HOLE_IN_X=.3,t.WORM_HOLE_IN_Y=.15,t.WORM_HOLE_OUT_X=.5,t.WORM_HOLE_OUT_Y=.5,t.WHITE_HOLE_X=.8,t.WHITE_HOLE_Y=.8,t.FORCE_FIELD_RESOLUTION=.01,t.GAME_INTRO_TIMER=300,t.ASTEROID_RADIUS_LIFE_MULTIP=5,t.ROCKFORMATION_RADIUS_LIFE_MULTIP=22,t.TEXT_SIZE_MEDIUM=30,t.TEXT_SIZE_LARGE=60,t.NOTIFICATION_LIFE=220,t.STEP_MULTIP=.065;t.VERSION_STR="0.24.1 velocity based AABBs (alpha)  31/01/2020",t.BULLET_START_LIFE=400,t.BULLET_OWNER_IMMUNE_THRESHOLD=t.BULLET_START_LIFE-100,t.LEVEL_COMPLETION_TIMEOUT=16e3,t.TEXT_SIZE_SMALL=16,t.TEXT_SIZE_HUGE=40,t.ROCKET_START_LIFE=9e3,t.SPACEPORT_START_LIFE=1e3,t.SHIP_MAX_VEL=10,t.SHIP_MAX_BOOST=400,t.SHIP_MAX_ROCKETS=20,t.SHIP_MAX_MISSILES=30,t.SHIP_MAX_LIFE=200,t.SHIP_MAX_PROXIMITYMINES=40,t.SHIP_MAX_ELECTROBASTARDRAYS=300,t.SHIP_MAX_SHIELD=1600,t.SHIP_MAX_HOMING_BULLETS=380,t.SHIP_MAX_ULTRABRIGHT=3800,t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_SHIP=1,t.PLAYER_SCORE_STRUCK_BY_BULLET=2,t.PLAYER_SCORE_BULLET_HIT_OTHER_SHIP=6,t.PLAYER_SCORE_KILLED_OTHER_SHIP=180,t.PLAYER_SCORE_BULLET_HIT_ASTEROID=2,t.PLAYER_SCORE_REMOVED_ASTEROID=function(e){return e<40?10:50+Math.round(.25*e)},t.PLAYER_SCORE_PLAYER_COLLIDED_WITH_ASTEROID=function(e){return e<40?0:Math.round(2+.01*e)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1),r(2),r(5)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0,o=0,i=0,s=0,l=0,u=0,d=0;t.getMathSqrtUsage=function(){var e={distanceBetweenXYXYUse:d,fineUse:o,coarseUse:i,coarseVectorUse:s,distanceBetweenUse:l,distanceBetweenVectorsUse:u};return o=0,i=0,s=0,l=0,u=0,d=0,e};var c=1;t.SetGuidToNegative=function(){c=-1},t.getGuid=function(){return n+=c},t.fine=function(e,t,r){o++;var a,A=0,n=0;for(A=0,n=e-1;A<e;n=A++)t[A].y>r.y!=t[n].y>r.y&&r.x<(t[n].x-t[A].x)*(r.y-t[A].y)/(t[n].y-t[A].y)+t[A].x&&(a=!a);return a},t.coarse=function(e,t){i++;var r=e.radius+t.radius,a=e.pos.x-t.pos.x,A=e.pos.y-t.pos.y;return r>Math.sqrt(a*a+A*A)},t.coarseVecotr=function(e,t,r,a){s++;var A=t+a,n=e.x-r.x,o=e.y-r.y;return A>Math.sqrt(n*n+o*o)},t.distanceBetween=function(e,t){l++;var r=e.pos.x-t.pos.x,a=e.pos.y-t.pos.y;return Math.sqrt(r*r+a*a)},t.midpoint=function(e,t,a,A){return void 0===a&&(a=.5),void 0===A&&(A=new r.Vector(0,0)),A.set(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a),A},t.radiusIntersect=function(e,t){return(e.pos.x-t.pos.x)*(e.pos.x-t.pos.x)+(e.pos.y-t.pos.y)*(e.pos.y-t.pos.y)<(e.radius+t.radius)*(e.radius+t.radius)},t.radiusIntersectXYXY=function(e,t,r,a,A,n){return(e-a)*(e-a)+(t-A)*(t-A)<(r+n)*(r+n)},t.radiusIntersectPoint=function(e,t,r,a,A){return(e-a)*(e-a)+(t-A)*(t-A)<r*r},t.distanceBetweenXYXY=function(e,t,r,a){d++;var A=e-r,n=t-a;return Math.sqrt(A*A+n*n)},t.distanceBetweenVectors=function(e,t){u++;var r=e.x-t.x,a=e.y-t.y;return Math.sqrt(r*r+a*a)},t.angleDifference=function(e,t){var r=(e-t)%a.doublePI,A=(e-t)%a.doublePI;return r<A?-r:A};t.resolve=function(e,t,r,a){void 0===r&&(r=e.radius),void 0===a&&(a=t.radius);var n=t.pos.x-e.pos.x,o=t.pos.y-e.pos.y,i=Math.sqrt(n*n+o*o);if(0===i)return e.pos.x+=a,e.pos.y+=a,!0;if(r+a>=i){var s=n/i,l=o/i,u=i*(r/(r+a)),d=e.pos.x+s*u,c=e.pos.y+l*u;if(e.pos.x=d-s*r,e.pos.y=c-l*r,t.pos.x=d+s*a,t.pos.y=c+l*a,r+a>=i){var f=n/i,p=o/i;t.pos.x=e.pos.x+f*(r+a),t.pos.y=e.pos.y+p*(r+a)}return function(e,t,r,a,n,o,i,s,l){var u=s-l,d=s+l,c=r*Math.sin(n-i),f=Math.cos(i),p=Math.sin(i),g=r*Math.cos(n-i),h=a*Math.cos(o-i),v=Math.cos(i+Math.PI/2),y=Math.sin(i+Math.PI/2),m=(g*u+2*l*h)/d,S=m*f+c*v,E=m*p+c*y,x=e.vel.getAngle();e.vel.x=S,e.vel.y=E;var T=e.vel.getAngle(),_=A.angleDelta(x,T);i+=Math.PI;var I=a*Math.sin(o-i);g=r*Math.cos(n-i);var M=(m=((h=a*Math.cos(o-i))*-u+2*s*g)/d)*-f+I*-v,L=m*-p+I*-y,w=t.vel.getAngle();t.vel.x=M,t.vel.y=L;var P=t.vel.getAngle(),R=A.angleDelta(w,P);e.vel.mult(.98-A.map(Math.abs(_),0,Math.PI,0,.08)),t.vel.mult(.98-A.map(Math.abs(R),0,Math.PI,0,.08))}(e,t,Math.sqrt(e.vel.x*e.vel.x+e.vel.y*e.vel.y),Math.sqrt(t.vel.x*t.vel.x+t.vel.y*t.vel.y),Math.atan2(e.vel.y,e.vel.x),Math.atan2(t.vel.y,t.vel.x),Math.atan2(l,s),Math.pow(r,3),Math.pow(a,3)),e.pos.x+=e.vel.x,e.pos.y+=e.vel.y,t.pos.x+=t.vel.x,t.pos.y+=t.vel.y,!0}return!1}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(0),r(0),r(16)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=2*Math.PI;t.setPoly=function(e,t,r,a){var A=t,n=r,o=A+1,i=n+1;return a.push(A,n,o,n,A,i,A,i,o,n,o,i),6};var i={addToColorMap:0,drawColorMap:0,drawColor:0,drawColorMapSingle:0,drawColorMapCalls:0,drawColorMapSingleTimings:0,vertices:0},s={addToColorMap:0,drawColorMap:0,drawColor:0,drawColorMapSingle:0,drawColorMapCalls:0,drawColorMapSingleTimings:0,vertices:0};t.readPerformance=function(e){return void 0===e&&(e=!0),s.drawColor=i.drawColor,s.drawColorMap=i.drawColorMap,s.drawColorMapCalls=i.drawColorMapCalls,s.drawColorMapSingle=i.drawColorMapSingle,s.addToColorMap=i.addToColorMap,s.vertices=i.vertices,s.drawColorMapSingleTimings=i.drawColorMapSingleTimings,e&&(i.drawColor=0,i.drawColorMap=0,i.drawColorMapCalls=0,i.drawColorMapSingle=0,i.addToColorMap=0,i.drawColorMapSingleTimings=0,i.vertices=0),s},t.rectanglePoly=function(e,t,r,a,A){A.push(e,t,e+r,t,e,t+a,e+r,t,e+r,t+a,e,t+a)},t.rectangleRotated45Poly=function(e,t,r,a){a.push(e-r,t,e,t-r,e+r,t,e-r,t,e,t+r,e+r,t)},t.rectangleBorderPoly=function(e,r,a,A,n,o){var i=n[0];t.line2Poly(e,r+.5*i,e+a,r+.5*i,o,i),i=n[1],t.line2Poly(e,r+A-.5*i,e+a,r+A-.5*i,o,i),i=n[2],t.line2Poly(e+.5*i,r,e+.5*i,r+A,o,i),i=n[3],t.line2Poly(e+a-.5*i,r,e+a-.5*i,r+A,o,i)},t.setTriangle=function(e,t,r,a){void 0===a&&(a=1),r.push(e-a,t-a,e+a,t-a,e,t)},t.fillPolyForFan=function(e,t,r,a,A,n,o,i){void 0===o&&(o=0),void 0===i&&(i=0);var s=t+o,l=r+i,u=s+a,d=l+A;n.push(s,l,u,l,s,d,s,d,u,l,u,d)},t.fillPoly=function(e,t,r,a,A,n,o,i){void 0===o&&(o=0),void 0===i&&(i=0);var s=t+o,l=r+i,u=s+a,d=l+A;return n.push(s,l,u,l,s,d,s,d,u,l,u,d),6};var l;!function(e){e[e.Center=0]="Center",e[e.Left=1]="Left",e[e.Right=2]="Right"}(l=t.LineThicknessWeight||(t.LineThicknessWeight={}));var u=new r.Vector(0,0),d=.5*Math.PI;t.line2Poly=function(e,t,r,a,A,n,o){void 0===n&&(n=2),void 0===o&&(o=l.Center);var i=Math.atan2(t-a,e-r);o!==l.Center&&(n*=2),u.x=.5*n,u.y=.5*n,u.setAngle(i+(o===l.Left?-d:d));var s=e+u.x,c=t+u.y,f=r+u.x,p=a+u.y;return o===l.Center&&(e-=u.x,t-=u.y,r-=u.x,a-=u.y),A.push(e,t,r,a,s,c,r,a,s,c,f,p),6},t.line2PolyCone=function(e,t,r,a,A,n,o){var i=Math.atan2(t-a,e-r);u.x=.5*n,u.y=.5*n,u.setAngle(i+d);var s=e+u.x,l=t+u.y;e-=u.x,t-=u.y,u.x=.5*o,u.y=.5*o,u.setAngle(i+d);var c=r+u.x,f=a+u.y;return r-=u.x,a-=u.y,A.push(e,t,r,a,s,l,r,a,s,l,c,f),6},t.line2PolyTriangle=function(e,t,r,a,A,n){void 0===n&&(n=2);var o=Math.atan2(t-a,e-r);u.x=.5*n,u.y=.5*n,u.setAngle(o+d);var i=e+u.x,s=t+u.y;return A.push(e,t,r,a,i,s),6},function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(t.MiterType||(t.MiterType={}));var c=.25*Math.PI,f=new r.Vector(0,0);t.line2PolyMiteredAuto=function(e,t,r,a,A,n){var o=Math.atan2(t-a,e-r);u.x=.5*n,u.y=.5*n,f.x=.5*n,f.y=.5*n,u.setAngle(o+d),f.setAngle(o+c);var i=e+f.x,s=t+f.y;f.setAngle(o+c+d);var l=r+f.x,p=a+f.y;return e-=u.x,t-=u.y,r-=u.x,a-=u.y,A.push(e,t,r,a,i,s,r,a,i,s,l,p),6},t.line2PolyHalf=function(e,t,r,a,A,n){void 0===n&&(n=2);var o=Math.atan2(t-a,e-r);u.x=.5*n,u.y=.5*n,u.setAngle(o+d);var i=e+u.x,s=t+u.y;return e-=u.x,t-=u.y,r-=u.x,a-=u.y,A.push(e,t,r,a,i,s),6},t.lineHorizontalRGBADash=function(e,r,a,A,n,o,i,s,l){void 0===o&&(o=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0);for(var u=0,d=r-i;d<A-l;d++)++u<=i?d+l>r&&t.line2Poly(d+l,a,d+l,a+o,n):u>i+s&&(u=0)},t.lineVerticalRGBADash=function(e,r,a,A,n,o,i,s,l){void 0===o&&(o=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0);for(var u=0,d=a-i;d<A-l;d++)++u<i?d+l>a&&t.line2Poly(r,d+l,r+o,d+l,n):u>i+s&&(u=0)},t.drawRectPoly=function(e,r,a,A,n){t.line2Poly(e.x-r,e.y-a,e.x+e.width-r,e.y-a,A,n),t.line2Poly(e.x-r,e.y-a,e.x-r,e.y+e.height-a,A,n),t.line2Poly(e.x+e.width-r,e.y-a,e.x+e.width-r,e.y+e.height-a,A,n),t.line2Poly(e.x+e.width-r,e.y+e.height-a,e.x-r,e.y+e.height-a,A,n)},t.createBlockCirclePolySingleWall=function(e,t,r,a,A,n){for(var i=a,s=e+Math.cos(o*(i/a)+A)*n>>0,l=t+Math.sin(o*(i/a)+A)*n>>0;i>-1;--i){var u=e+Math.cos(o*(i/a)+A)*n>>0,d=t+Math.sin(o*(i/a)+A)*n>>0;r.push(s,l,u,d),s=u,l=d}},t.blockCirclePoly=function(e,t,r,a,A,n,i,s,l,u,d,c,f,p,g){var h,v,y,m,S,E,x,T;void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=1),void 0===c&&(c=0),void 0===f&&(f=e),void 0===p&&(p=0),void 0===g&&(g=e);var _=e;h=r+Math.cos(o*(_/e)+A)*t>>0,v=a+Math.sin(o*(_/e)+A)*t>>0,S=r+Math.cos(o*(_/e)+A)*(t-u)>>0,E=a+Math.sin(o*(_/e)+A)*(t-u)>>0,y=0,m=0;for(;_>-1;--_){if(y=r+Math.cos(o*(_/e)+A)*t>>0,m=a+Math.sin(o*(_/e)+A)*t>>0,x=r+Math.cos(o*(_/e)+A)*(t-u)>>0,T=a+Math.sin(o*(_/e)+A)*(t-u)>>0,(!d||_%2==1)&&(_>=c&&_<=f||_>=p&&_<=g)){var I=h-s,M=v-l,L=y-s,w=m-l,P=x-s,R=T-l,b=S-s,O=E-l;n.push(I,M,L,w,P,R,I,M,P,R,b,O)}h=y,v=m,S=x,E=T}return 0},t.onStage=function(e,t,r,a){void 0===a&&(a=0);var A=e.SX,n=e.SY,o=e.SW,i=e.SH;return t>A-a&&t<A+o+a&&r>n-a&&r<n+i+a},t.inPerimiter=function(e,t,r,a,A){void 0===A&&(A=0);var n=t.x-.5*r,o=t.x+.5*r,i=t.y-.5*a,s=t.y+.5*a;return e.x+A>n&&e.x-A<o&&e.y+A>i&&e.y-A<s},t.addToColorMap=function(e,t,r,a,A,n,o){void 0===o&&(o=!1);var s=e.length,l=0===s?s:e[s-1].stop+e[s-1].start,u=t.length-l;(u>0||o)&&(i.addToColorMap++,e.push({start:l,stop:u,r:r,g:a,b:A,a:n}))},t.crossHair=function(e,r,a,A,n,o,i){void 0===A&&(A=6),void 0===n&&(n=1),void 0===o&&(o=0),void 0===i&&(i=0);var s=.5*A;t.line2Poly(e-s-o,r-i,e+s-o,r-i,a,n),t.line2Poly(e-o,r-s-i,e-o,r+s-i,a,n)},t.crossHair45deg=function(e,r,a,A,n,o,i){void 0===A&&(A=6),void 0===n&&(n=1),void 0===o&&(o=0),void 0===i&&(i=0);var s=.5*A;t.line2Poly(e-s-o,r-s-i,e+s-o,r+s-i,a,n),t.line2Poly(e+s-o,r+s-i,e-s-o,r-s-i,a,n)},t.getColorMapColorKey=function(e,t,r,a){return e+"_"+t+"_"+r+"_"+a},t.unitePolyColorMaps=function(e,r){for(var a=e.length,A=[],n=[],o=e[0].length,i=0;i<o;i++){for(var s=0;s<a;s++){var l=e[s][i],u=r[s].slice(l.start,l.start+l.stop);n.push.apply(n,u)}var d=e[0][i];t.addToColorMap(A,n,d.r,d.g,d.b,d.a)}return{colorMap:A,polys:n}};var p=null,g=null;t.setupBuffers=function(e){p=e.createBuffer(),g=e.createBuffer()},t.drawColorMap=function(e,t,r,A,n){if(void 0===n&&(n=A.TRIANGLES),0!==t.length){i.drawColorMap++,i.vertices+=t.length;var o=a.GLUniformLocation(A,"u_color");A.bufferData(A.ARRAY_BUFFER,v(t),A.STREAM_DRAW);for(var s=e.length,l=0;l<s;l++){var u=e[l];u.stop>0&&(i.drawColorMapCalls++,A.uniform4f(o,u.r,u.g,u.b,u.a),A.drawArrays(n,.5*u.start,.5*u.stop))}}},t.drawColorMapSingle=function(e,t,r,n){if(void 0===n&&(n=r.TRIANGLES),0!==t.length){var o=performance.now();i.vertices+=t.length,i.drawColorMapSingle++;for(var s=v(t,.5*t.length*4),l=0,u=e.length,d=0;d<u;d++){var c=e[d];if(c.stop>0)for(var f=.5*c.stop,h=0;h<f;h++)s[l]=c.r,s[l+1]=c.g,s[l+2]=c.b,s[l+3]=c.a,l+=4}A.default(a.GLctx.VerticesMultiColor,r);var y=a.GLAttribLocations(r,"a_color");r.bindBuffer(r.ARRAY_BUFFER,p),r.bufferData(r.ARRAY_BUFFER,s,r.STREAM_DRAW),r.enableVertexAttribArray(y),r.vertexAttribPointer(y,4,r.FLOAT,!1,0,0);var m=a.GLAttribLocations(r,"a_position");if(r.bindBuffer(r.ARRAY_BUFFER,g),r.bufferData(r.ARRAY_BUFFER,v(t),r.STREAM_DRAW),r.enableVertexAttribArray(m),r.vertexAttribPointer(m,2,r.FLOAT,!1,0,0),r.drawArrays(n,0,.5*t.length),t.length%2!=0)throw"Err uneven count";var S=performance.now()-o;i.drawColorMapSingleTimings+=S}},t.drawColor=function(e,t,r,A,n,o,s){if(void 0===s&&(s=t.TRIANGLES),e.length>0){i.drawColor++,i.vertices+=e.length;var l=a.GLUniformLocation(t,"u_color"),u=v(e);if(t.bufferData(t.ARRAY_BUFFER,u,t.STREAM_DRAW),t.uniform4f(l,r,A,n,o),t.drawArrays(s,0,e.length/2),e.length%2!=0)throw"Err uneven count"}};var h={};!function(e){for(var t=10;t<e;t+=10)h[t]=new Float32Array(t)}(4e3);var v=function(e,t){void 0===t&&(t=e.length);var r=10*Math.ceil(.1*t),a=h[r];if(a)return a.set(e),a;var A=new Float32Array(r);return h[r]=A,A.set(e),A};t.toClipSpaceX=function(e,t){return 2*(e/t)-1},t.toClipSpaceY=function(e,t){return-1*(2*(e/t)-1)},t.drawDebug=function(e){e(n.default().gui)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(2)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=function(e,t,r,a,A,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var i=(e-t)*(A-a)/(r-t)+a;return o&&(i=A-i),n?Math.max(a,Math.min(A,i)):i};var A=new r.Vector(0,0);t.wrapTargetPos=function(e,t,r,a,n){var o=Math.abs(r.x-a.x),i=Math.abs(r.y-a.y),s=r.x-a.x,l=r.y-a.y,u=a.x,d=a.y;return o>.5*e&&(u+=s>0?s+e:s-e),i>.5*t&&(d+=l>0?l+t:l-t),(n=n||A).x=u,n.y=d,n},t.eqNumberInArr=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},t.wrapRadianAngle=function(e){return e<0&&(e+=a.doublePI),e%=a.doublePI},t.normalizeRadianPositive=function(e){var t=2*Math.PI;return e<0?e=e%t+t:e>t&&(e%=t),e},t.diffRadianPositive=function(e,t){var r=Math.abs(e-t)>Math.PI,a=e>Math.PI,A=t>Math.PI,n=2*Math.PI;return a?A?t-e:r?n-e+t:t-e:A&&r?-(n-t+e):t-e},t.normalizeRadianAngle=function(e){return e-a.doublePI*Math.floor((e+Math.PI)/a.doublePI)},t.angleDelta=function(e,t){return Math.abs(t-e)<Math.PI?t-e:t>e?t-e-a.doublePI:t-e+a.doublePI};var n={};t.RandomStepBased=function(e,t){if(0===e){var r=n[t];return r||(n[t]=Math.random())}return Math.random()},t.rotateVector=function(e,t,a){void 0===a&&(a=new r.Vector(0,0));var A=e.x*Math.cos(t)-e.y*Math.sin(t),n=e.y*Math.cos(t)+e.x*Math.sin(t);return a.set(A,n),a},t.pad09=function(e){return e<10?"0"+e:e},t.pad_9=function(e){return e<10?" "+e:e};var o={};t.normalize=function(e,t,r,a){void 0===r&&(r=100),void 0===a&&(a=0);var A=0,n=Number.MIN_VALUE,i=Number.MAX_VALUE,s=o[t]=o[t]||[];s.push(e);var l=s.length;l>r&&(s.shift(),l--);for(var u=0;u<l;u++){var d=s[u];A+=d,d<i&&(i=d),d>n&&(n=d)}return a>0?{avg:parseFloat((A/l).toFixed(a)),high:parseFloat(n.toFixed(a)),low:parseFloat(i.toFixed(a))}:{avg:Math.round(A/l),high:Math.round(n),low:Math.round(i)}},t.createBlockcircleArray=function(e,t,A,n){for(var o=n.x,i=n.y,s=0,l=0,u=e,d=[];u>-1;--u)s=o+Math.cos(a.doublePI*(u/e)+t)*A>>0,l=i+Math.sin(a.doublePI*(u/e)+t)*A>>0,d.push(new r.Vector(s,l));return d}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={},A={};t.resetRectHash=function(){a={}},t.getRectHash=function(){return a};var n=function(){function e(e,t,r,a){this.x=e,this.y=t,this.height=a,this.width=r}return e.prototype.intersects=function(e){return!(e.x>this.x+this.width||e.x+e.width<this.x||e.y>this.y+this.height||e.y+e.height<this.y)},e.prototype.containsRect=function(e){return e.x>this.x&&e.y>this.y&&e.x+e.width<this.x+this.width&&e.y+e.height<this.y+this.height},e.prototype.intersectsPoint=function(e){return e.x>this.x&&e.y>this.y&&e.x<this.x+this.width&&e.y<this.y+this.height},e.prototype.intersectsXY=function(e,t){return e>this.x&&t>this.y&&e<this.x+this.width&&t<this.y+this.height},e.prototype.toString=function(){return"x:"+this.x+", y:"+this.y+", w:"+this.width+", h:"+this.height},e}();t.Rectangle=n;var o=function(){function e(e,t,A){var n=this;this.divide=!1,this.debugBounds=function(e,t){return t=t||[],e.intersects(n.boundry)&&t.push(n.boundry),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.destroy=function(){n.items=[],a={},n.divide&&(n.northeast.destroy(),n.northwest.destroy(),n.southeast.destroy(),n.southwest.destroy())},this.boundry=e,this.capacity=t,this.itemType=A,this.items=[],this.queryCache={},this.guid=r.getGuid()}return e.prototype.reset=function(){a={}},e.prototype.rectToCacheKey=function(e){return(0|e.x)+"_"+(0|e.y)+"_"+(0|e.width)+"_"+(0|e.height)},e.prototype.getCache=function(e){return this.queryCache[this.rectToCacheKey(e)]},e.prototype.putCache=function(e,t){this.queryCache[this.rectToCacheKey(e)]=t},e.prototype.getRect=function(e){var t=e.pos,r=e.radius;return new n(t.x-r,t.y-r,2*r,2*r)},e.prototype.shrink=function(){},e.prototype.iterateBranchAgainstTree=function(e){},e.prototype.queryRay=function(e,t){return[]},e.prototype.insert=function(e,t){return t||(t=this.getRect(e)),a[e.guid]=t,!!this.boundry.intersects(t)&&(this.items.length<this.capacity?(this.items.push(e),!!this.boundry.containsRect(t)||void 0):(this.divide||this.subDivide(),!!this.northeast.insert(e,t)||(!!this.northwest.insert(e,t)||(!!this.southeast.insert(e,t)||!!this.southwest.insert(e,t)))))},e.prototype.subDivide=function(){var t=this.boundry.x,r=this.boundry.y,a=this.boundry.width,A=this.boundry.height;this.northeast=new e(new n(t+.5*a,r,.5*a,.5*A),this.capacity,this.itemType),this.northwest=new e(new n(t,r,.5*a,.5*A),this.capacity,this.itemType),this.southeast=new e(new n(t+.5*a,r+.5*A,.5*a,.5*A),this.capacity,this.itemType),this.southwest=new e(new n(t,r+.5*A,.5*a,.5*A),this.capacity,this.itemType),this.divide=!0},e.prototype.query=function(e,t){void 0===t&&(t=!1),A={};var r=e.guid,n=a[r]||this.getRect(e),o=[];if(n.intersects(this.boundry)){for(var i=this.items.length,s=0;s<i;s++){var l=this.items[s],u=l.guid;if(!A[u]&&(!t||u!==r)){var d=a[u]||this.getRect(l);n.intersects(d)&&(A[u]=!0,o.push(l))}}this.divide&&(this.northeast.___query(n,o),this.northwest.___query(n,o),this.southeast.___query(n,o),this.southwest.___query(n,o))}return o},e.prototype.___query=function(e,t,r){if(void 0===r&&(r=-1),t=t||[],e.intersects(this.boundry)){for(var n=0;n<this.items.length;n++){var o=this.items[n],i=o.guid;if(i!==r&&!A[i]){var s=a[o.guid]||this.getRect(o);e.intersects(s)&&(A[i]=!0,t.push(o))}}this.divide&&(this.northeast.___query(e,t),this.northwest.___query(e,t),this.southeast.___query(e,t),this.southwest.___query(e,t))}return t},e.prototype.queryCircle=function(e,t){var A=new n(e.x-t,e.y-t,2*t,2*t),o=this.queryInt(A);if(0===o.length)return o;for(var i=.7*t,s=new n(e.x-i,e.y-i,2*i,2*i),l=o.length,u=[],d=0;d<l;d++){var c=o[d],f=a[c.guid]||this.getRect(c);s.intersects(f)?u.push(c):r.distanceBetweenVectors(e,c.pos)<=t+c.radius&&u.push(c)}return u},e.prototype.queryInt=function(e,t){if(void 0===t&&(t=!1),A={},t){var r=this.getCache(e);return r||(r=this.___query(e),this.putCache(e,r),r)}return this.___query(e)},e.prototype.queryVec=function(e,t,r){A={};var a=new n(e.x-t,e.y-r,2*t,2*r),o=[];return this.___query(a,o),o},e.prototype.setup=function(e,t,r,a,A){void 0===a&&(a=8),void 0===A&&(A=!1)},e}();t.QuadTree=o}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6),r(45)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0),new a.QuadTreeUint8(new r.Rectangle(0,0,0,0),0,0)];t.___getQtreeList=function(){return A};var n=function(e,t,r,a){for(var n=e.length,o=[],i=0;i<n;i++)o.push.apply(o,A[e[i]].queryVec(t,r,a));return o},o=function(e,t,r,a,n){for(var o=[],i=A[e].queryVec(t,r,a),s=i.length,l=0;l<s;l++){var u=i[l];u.guid!==n&&o.push(u)}return o},i=function(e,t){for(var r=e.length,a=[],n=0;n<r;n++)a.push.apply(a,A[e[n]].queryInt(t));return a};t.getQuadTreesObj=function(){return{Asteroids:A[0],RockFormations:A[1],RockFormationSystems:A[2],Enemies:A[3],Player:A[4],SpaceSnakes:A[5],Npcs:A[6],SpaceSquid:A[7],Drones:A[8],Bullets:A[9],Rockets:A[10],Charges:A[11],SpacePorts:A[12],SpacePortCannons:A[13],SpaceSpiders:A[14],ProximityMines:A[15],SpaceMines:A[16],queryTreesVec:n,queryTreeVecIgnoreGuid:o,queryTreesRect:i}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(46),r(0),r(2)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.createUnitializedTextBuffers=function(e,t){window.textBuffers=this.buffer,this.INITIALIZATION=!1;var r=[];for(var a in this.initializationBuffer)r.push(a);this.initalizer(r,r.length,e,t)},e.initalizer=function(e,t,r,a){var A=this;setTimeout(function(){setTimeout(function(){var n=e.pop(),o=n.split(A.CACHE_SPLIT_KEY),i=A.create(o[0],parseInt(o[1],10),o[2],1===parseInt(o[3],10),!1,a),s=A.buffer[n];s.frame=i.frame,s.rgbIndex=i.rgbIndex,s.w=i.w,s.h=i.h,s.length=i.length,s.texture=i.texture,e.length>0?(r(Math.abs(e.length/t-1),!1,e.length),A.initalizer(e,t,r,a)):setTimeout(function(){A.IGNORE_CACHE=!1,r(1,!0,t)},2)},0)},0)},e.createSplitted=function(e,t,r,a,A,n,o){void 0===a&&(a="_"),void 0===A&&(A=!1),void 0===n&&(n=!1);var i=[],s=e.split("");a&&s.push(a);for(var l=0;l<s.length;l++)i.push(this.create(s[l],t,r,A,n,o));return i},e.create=function(e,t,a,n,o,i,s){if(void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),e.indexOf(this.CACHE_SPLIT_KEY)>-1)throw new Error("illeagal charS "+this.CACHE_SPLIT_KEY+" at text create");var l=e+this.CACHE_SPLIT_KEY+t+this.CACHE_SPLIT_KEY+a+this.CACHE_SPLIT_KEY+(n?"1":"0");if(this.INITIALIZATION&&!o){this.initializationBuffer[l]=l;var u={frame:null,rgbIndex:0,w:0,h:0,length:0,imageData:null,texture:{width:0,height:0,texture:null,index:0},str:e};return this.buffer[l]?this.buffer[l]:(s||(this.buffer[l]=u),u)}var d=this.buffer[l];if(d&&!this.IGNORE_CACHE)return d;this.INITIALIZATION||this.IGNORE_CACHE||o||this.NumErrTypeWarns<this.MaxErrTypeWarns&&(console.warn("text created runtime:",e),this.NumErrTypeWarns++,this.NumErrTypeWarns===this.MaxErrTypeWarns&&console.warn("max text errors reported. Ignoring rest"));var c,f=0,p=0,g=0;switch(a){case"r":f=255,c=0;break;case"g":p=255,c=1;break;case"b":g=255,c=2;break;case"z":c=0;break;case"w":f=255,p=255,g=255,c=0;break;case"y":f=255,p=255,g=0,c=0}var h=document.createElement("canvas");h.height=t;var v=h.getContext("2d"),y=t<A.TEXT_SIZE_MEDIUM?"monospace":"dorito",m="rgba("+f+","+p+","+g+",255)";v.font="100 "+t+"px "+y,v.fillStyle=m;var S=v.measureText(e);h.width=S.width+10,v=h.getContext("2d"),n&&(v.fillStyle=m,v.fillRect(0,0,h.width,h.height),v.fillStyle="black",v.fillRect(2,2,h.width-4,h.height-4)),v.font="100 "+t+"px "+y,v.fillStyle=m,v.fillText(e,5,.8*t);var E=v.getImageData(0,0,h.width,h.height),x=r.default().global_gl,T={imageData:E,frame:E.data,rgbIndex:c,w:h.width,h:h.height,length:E.data.length,texture:x?this.imageDataToTexture(x,E):null,str:e};return this.IGNORE_CACHE&&!o||s||(this.buffer[l]=T),T},e.addList=function(t,r,a,A,n,o,i,s){void 0===o&&(o=!1),void 0===i&&(i=1),void 0===s&&(s=.8);var l=a.length,u=A;if(o)for(var d=0;d<l;d++){var c=a[d];e.addDistorted(t,r,c,u,n,i,s),u+=c.w}else for(d=0;d<l;d++){c=a[d];e.add(t,r,c,u,n),u+=c.w}},e.addListGL=function(t,r,a,A,n,o,i){void 0===i&&(i=!1);for(var s=a.length,l=A,u=0;u<s;u++){var d=a[u];e.addGL(t,r,d,l,n,o,i),l+=d.w}},e.printListGL=function(e,t,r,a,A,n,o,i,s,l){void 0===s&&(s=!1),void 0===l&&(l=1);for(var u=Math.min(n,r.length-1),d=[],c=0;c<u;c++)d.push(r[c]);o&&d.push(r[r.length-1]),this.addListGL(e,t,d,a,A,i)},e.printList=function(e,t,r,a,A,n,o,i,s){void 0===i&&(i=!1),void 0===s&&(s=1);for(var l=Math.min(n,r.length-1),u=[],d=0;d<l;d++)u.push(r[d]);o&&u.push(r[r.length-1]),this.addList(e,t,u,a,A,i,s)},e.measureBuffers=function(e){for(var t=e.length,r=0,a=0;a<t;a++){var A=e[a];!A||A.w,r+=A.w}return r},e.addDistorted=function(t,r,a,A,n,o,i){void 0===o&&(o=1),void 0===i&&(i=.8),e.add(t,r,a,A+Math.random()*o*6,n+Math.random()*o*6,Math.random()>i?Math.floor(a.w*(.5*Math.random()+.5)):Math.random()>i?Math.floor(a.w*(.0025*Math.random()+.9975)):a.w,Math.random()>i?Math.floor(a.length*Math.random()):a.length,Math.random()>i?Math.floor(a.length*Math.random()*.4):0)},e.add=function(e,t,r,a,A,n,o,i){void 0===n&&(n=r.w),void 0===o&&(o=r.length),void 0===i&&(i=0);for(var s=r.frame,l=r.rgbIndex,u=n,d=0,c=0,f=i;f<o;f+=4){var p=Math.floor(a+c);if(p<e&&p>0){var g=Math.floor(A+d)*e*4+4*p,h=s[f+l];h&&(t[g+l]=h)}c>=u&&(d++,c=0),c++}},e.getTextsBatched=function(){return null},e.addGLBatched=function(e,t,r,a,A){void 0===A&&(A=1),this.textBatch[e]||(this.textBatch[e]=[]),this.textBatch[e].push({program:e,buffer:t,dstX:r,dstY:a,tx:A})},e.addGL=function(e,t,r,A,n,o,i){void 0===i&&(i=!1);var s=r.texture.texture,l=r.texture.width,u=r.texture.height;e.bindTexture(e.TEXTURE_2D,s);var d=a.GLAttribLocations(e,"a_texcoord"),c=a.GLUniformLocation(e,"u_matrix"),f=a.GLUniformLocation(e,"u_texture"),p=a.GLUniformLocation(e,"distortionStart"),g=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(p,Math.random()),e.uniform1f(g,Math.random());var h=window.m4;e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0);var v=h.orthographic(0,i?o.SW:e.canvas.width,i?o.SH:e.canvas.height,0,-1,1);v=h.translate(v,A,n,0),v=h.scale(v,l,u,1),e.uniformMatrix4fv(c,!1,v),e.uniform1i(f,0),e.drawArrays(e.TRIANGLES,0,6)},e.imageDataToTexture=function(e,t){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);var a={width:t.width,height:t.height,texture:r,index:this.textureIndex};return this.textureIndex++,e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a},e.textBatch={},e.textureIndex=0,e.MaxErrTypeWarns=4,e.NumErrTypeWarns=0,e.positionBuffer=null,e.positions=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.texcoords=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.INITIALIZATION=!0,e.IGNORE_CACHE=!0,e.initializationBuffer={},e.buffer={},e.CACHE_SPLIT_KEY="[-_-]",e.addNumberCacheable=function(t,r,a){for(var A=(t+"").split(""),n=A.length,o=[],i=0;i<n;i++)o.push(e.create(A[i],r,a));return o},e}();t.default=n}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(3),r(2),r(1)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=Math.max(a.SHIP_LENGTH_RADIUS,a.SHIP_WIDTH_RADIUS);t.applyNetworkPropertiesToNewShip=function(e,t){e.guid=t.guid,e.kills=t.kills,e.deaths=t.deaths,e.SW=t.SW,e.SH=t.SH,e.name=t.name},t.createShip=function(e,t){return void 0===t&&(t={}),n({netpos:new A.Vector(0,0),netvel:new A.Vector(0,0),netangle:0,netSX:0,netSY:0,selectedPrimaryWeapon:0,ultrabright:0,inSafeZone:!1,cloaked:!1,unableToComply:!1,bulletsFired:0,ownerGuid:-1,killedByGuid:-1,kills:0,deaths:0,rocketFired:!1,avoidance:null,homingBullets:0,turnAcc:0,SX:0,SY:0,SW:e.game.SW,SH:e.game.SH,keyCodes:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,MISSILE:!1,FIRE:!1,CHARGE:!1,PROXIMITYMINE:!1,SPACEMINE:!1,TIMEFREEZE:!1,ELECTROBASTARDRAY:!1,BOOST:!1,STRAFELEFT:!1,STRAFERIGHT:!1,CLOAK:!1},colorIndex:s,boost:80,availableMissiles:5,availableRockets:5,availableElectroBastardRays:0,type:0,guid:r.getGuid(),chargeTimer:200,chargeTimerValue:0,shields:600,enemyDetection:[],asterodDetection:[],anomalyDetection:[],score:0,maxBullets:150,maxVel:10,life:100,radius:i,originalRadius:i,shieldRadius:4*i,damageTaken:!1,angle:0,pos:new A.Vector(.9*e.game.resW,.9*e.game.resH),thrust:new A.Vector(0,0),vel:new A.Vector(0,0),layout:[new A.Vector(-a.SHIP_LENGTH_RADIUS,0),new A.Vector(a.SHIP_LENGTH_RADIUS,-a.SHIP_WIDTH_RADIUS),new A.Vector(a.SHIP_LENGTH_RADIUS,a.SHIP_WIDTH_RADIUS)],rotatedLayout:[new A.Vector(-a.SHIP_LENGTH_RADIUS,0),new A.Vector(a.SHIP_LENGTH_RADIUS,-a.SHIP_WIDTH_RADIUS),new A.Vector(a.SHIP_LENGTH_RADIUS,a.SHIP_WIDTH_RADIUS)],rotatedLayoutPositioned:[new A.Vector(-a.SHIP_LENGTH_RADIUS,0),new A.Vector(a.SHIP_LENGTH_RADIUS,-a.SHIP_WIDTH_RADIUS),new A.Vector(a.SHIP_LENGTH_RADIUS,a.SHIP_WIDTH_RADIUS)],bulletWeaponLevel:1,name:"",camera:{chaseX:0,chaseY:0,velChaseX:0,velChaseY:0},autoPilot:0,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0,availableMines:8,mineDeployed:!1},t)},t.createEnemies=function(e,r,a){void 0===a&&(a={});for(var o=e.WW,i=e.WH,s=[],l=0;l<r;l++){var u=n(n(n({},t.createShip(e)),{pos:new A.Vector(o*Math.random(),i*Math.random()),life:30,type:8,maxBullets:10,maxVel:3,shields:0,name:"BANDIT"}),a);s.push(u)}return s},t.createDrones=function(e,r,n,o){for(var i=[],s=0;s<n;s++){var l=t.createShip(e);l.type=13,l.ownerGuid=o,l.pos=r.clone();var u=new A.Vector(150,0);u.setAngle(360*Math.random()),l.pos.add(u),l.layout=[new A.Vector(.55*-a.SHIP_LENGTH_RADIUS,0),new A.Vector(.55*a.SHIP_LENGTH_RADIUS,.55*-a.SHIP_WIDTH_RADIUS),new A.Vector(.55*a.SHIP_LENGTH_RADIUS,.55*a.SHIP_WIDTH_RADIUS)],l.radius*=.55,l.originalRadius*=.55,l.shieldRadius*=.55,l.maxBullets=10,l.life*=.55,l.shields=0,l.name="DRONE",i.push(l)}return i},t.createNPCs=function(e,r,a,o){void 0===a&&(a={});for(var i=e.WW,s=e.WH,l=[],u=0;u<r;u++){var d=n(n(n({},t.createShip(e)),{pos:new A.Vector(i*Math.random(),s*Math.random()),life:30,type:12,maxBullets:0,angle:Math.random()*Math.PI*2,maxVel:3,currentWayPointIndex:o,shields:0}),a);l.push(d)}return l},function(e){e[e.CYAN=0]="CYAN",e[e.WHITE=1]="WHITE",e[e.BLUE=2]="BLUE",e[e.YELLOW=3]="YELLOW",e[e.PINK=4]="PINK",e[e.LIME=5]="LIME"}(o||(o={}));var s=1;t.getCurrentColorIndex=function(){return s},t.setColorIndex=function(e){(function(e){return 0})&&(s=e)},t.increaseColorIndex=function(){s<t.ShipColors.length-1?s++:s=0},t.ShipColorStrings=[],t.ShipColorStrings[o.WHITE]="WHITE",t.ShipColorStrings[o.BLUE]="BLUE",t.ShipColorStrings[o.YELLOW]="YELLOW",t.ShipColorStrings[o.CYAN]="CYAN",t.ShipColorStrings[o.PINK]="PINK",t.ShipColorStrings[o.LIME]="LIME",t.ShipColors=[],t.ShipColors[o.WHITE]={r:.9,g:.9,b:.9},t.ShipColors[o.YELLOW]={r:.9,g:.9,b:.1},t.ShipColors[o.BLUE]={r:.1,g:.1,b:.9},t.ShipColors[o.PINK]={r:.9,g:.1,b:.9},t.ShipColors[o.CYAN]={r:.1,g:.9,b:.9},t.ShipColors[o.LIME]={r:.1,g:.9,b:.1}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game.player,r=t.length;if(e.game.playerGuid<0)return t[0];for(var a=e.game.playerGuid,A=0;A<r;A++){var n=t[A];if(n.guid===a)return n}},t.getOtherShips=function(e,t){for(var r=e.game.player,a=[],A=r.length,n=t||e.game.playerGuid,o=0;o<A;o++){var i=r[o];i.guid!==n&&a.push(i)}return a},t.getOtherShipsForThisGuid=function(e,t){for(var r=e.game.player,a=[],A=r.length,n=0;n<A;n++){var o=r[n];o.guid!==t&&a.push(o)}return a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shift=function(e,t,r,a,A){return void 0===a&&(a=1),void 0===A&&(A=1),e.pos.x>=t?(e.pos.x=a,!0):e.pos.x<=a?(e.pos.x=t-A-1,!0):e.pos.y>=r?(e.pos.y=A,!0):e.pos.y<=A&&(e.pos.y=r-A-1,!0)},t.bounce=function(e,t,r,a,A){void 0===a&&(a=0),void 0===A&&(A=0);var n=e.radius+1,o=!1;return e.pos.x+n>=t?(e.pos.x=t-n,e.vel.x*=-.5,o=!0):e.pos.x-n<=a&&(e.pos.x=n,e.vel.x*=-.5,o=!0),e.pos.y+n+0>=r?(e.pos.y=r-(n+0),e.vel.y*=-.5,e.vel.x*=.5,o=!0):e.pos.y-n<=A&&(e.pos.y=n,e.vel.y*=-.5,o=!0),o},t.contain=function(e,t,r,a){void 0===a&&(a=100);var A=e.radius+1+a;e.pos.x+A>=t?(e.pos.x=t-A,e.vel.x=0):e.pos.x-A<=0&&(e.pos.x=A,e.vel.x=0),e.pos.y+A>=r?(e.pos.y=r-A,e.vel.y=0):e.pos.y-A<=0&&(e.pos.y=A,e.vel.y=0)},t.check=function(e,t,r,a,A){return void 0===a&&(a=1),void 0===A&&(A=1),e.pos.x>=t||(e.pos.x<=a||(e.pos.y>=r||e.pos.y<=A))},t.onStage=function(e,t,r){void 0===r&&(r=0);var a=t.pos.x,A=t.pos.y,n=e.SX,o=e.SY,i=e.SW,s=e.SH;return a>n-r&&a<n+i+r&&A>o-r&&A<o+s+r},t.onStageXY=function(e,t,r,a){void 0===a&&(a=0);var A=e.SX,n=e.SY,o=e.SW,i=e.SH;return t>A-a&&t<A+o+a&&r>n-a&&r<n+i+a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(8),r(0)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[],n={},o={},i=!1,s=!0;t.LOG_GL=function(e){if(s)if(A[0]&&0===A[0].indexOf(e+"")){var t=A[0],r=t.length;if(")"===t[r-1]){for(var a=0,n=0;n<6;n++)if("("===t[r-(3+n)]){a=n+3;break}var o=t.substr(r-a+1,a-2),i=parseInt(o,10),l=t.substr(0,r-a)+"("+(i+1)+")";A[0]=l}else A[0]=e+" (1)"}else A.unshift(e+""),A.length>32&&A.pop()},t.LOG_GL_FIXED_FORCED=function(e,t){i=!0,o[t]=t+": "+e},t.LOG_GL_FIXED=function(e,t){n[t]=t+": "+e},t.LOG_GL_FIXED_ARRAY=function(e,t){n[t]=t+": "+e.join(",")},t.default=function(e){var t=e.gl,l=e.game,u=l.resW,d=0;if(s=l.menuSettings.onScreenLogging,i||s){var c=a.default(a.GLctx.Texture,t);for(var f in o){var p=r.default.create(o[f],18,"r");r.default.addGL(t,c,p,u-880,150+20*d,e),d++}if(l.menuSettings.onScreenLogging){l.zoomTX;for(var g=0;g<A.length;g++){p=r.default.create(A[g],18,"w",!1,!1,null,!1);r.default.addGL(t,c,p,u-480,150+20*g,e)}for(var f in n){p=r.default.create(n[f],18,"y",!1,!1,null,!1);r.default.addGL(t,c,p,u-880,150+20*d,e),d++}return"Log"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=new r.Vector(0,0);t.default=function(e,t){a.set(e.vel.x,e.vel.y),a.mult(t),e.pos.add(a)},t.PositionUpdaterPoint=function(e,t){a.set(e.vel.x,e.vel.y),a.mult(t),e.pos.x+=a.x,e.pos.y+=a.y}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(2),r(3),r(48)],void 0===(A=function(e,t,r,a,A,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATIC=0]="STATIC",e[e.DYNAMIC=1]="DYNAMIC"}(o=t.ForceType||(t.ForceType={})),t.forces=function(e,t,r,A,n,i,s,l){void 0===A&&(A=10),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===s&&(s=o.DYNAMIC),void 0===l&&(l=1);for(var u=e.forceField,d=e.forceFieldDirtyMapYX,c=u.length,f=u[0].length,p=Math.floor(r*a.FORCE_FIELD_RESOLUTION),g=Math.floor(t*a.FORCE_FIELD_RESOLUTION),h=Math.max(g-A,0),v=Math.max(p-A,0),y=Math.min(c,p+A),m=Math.min(f,g+A),S=g-g-A,E=p-p-A,x=Math.sqrt(S*S+E*E),T=v;T<y;T++)for(var _=h;_<m;_++){var I=u[T][_],M=I.pos;s===o.DYNAMIC&&(d.push(T,_),I.epiCenter=!0,I.center.x=t,I.center.y=r);var L=Math.atan2(p-T,g-_);S=g-_,E=p-T;var w=Math.sqrt(S*S+E*E),P=Math.abs(T-p)+Math.abs(_-g),R=(x-w)*(.025*P);M.getLength()<R&&P>=1&&(M.setLength(R*l),i?M.setAngle(L+Math.PI):n?M.setAngle(L+.9*Math.PI):M.setAngle(L+(P>2?.1*Math.PI:0)))}},t.explosion=function(e,r,a,A,n,i,s){void 0===i&&(i=6),void 0===s&&(s=1),(r>5||s>1)&&t.forces(e,a,A,Math.ceil(i),!1,!0,o.DYNAMIC,s),e.explosions.length<12&&e.explosions.push({x:a,y:A,life:3,radius:i,intensity:s,amount:r})},t.particleForExplosion=function(e,t,r,a){if(!(a.length>6e3)){for(var A=0;A<e;A++){(l=n.createParticle(t,r,Math.random()-.5,Math.random()-.5,100*Math.random())).vel.setLength(Math.random()+1),a.push(l)}for(A=0;A<e;A++){(l=n.createParticle(t,r,15*(Math.random()-.5),15*(Math.random()-.5),50*Math.random())).vel.setLength(.1*Math.random()),a.push(l)}if(e>10)for(var o=0;o<4;o++)for(var i=[10*Math.random()-5,10*Math.random()-5,10*Math.random()-5,10*Math.random()-5],s=0;s<i.length;s+=2)for(A=0;A<80;A++){var l;(l=n.createParticle(t,r,i[s]+.1*Math.random(),-i[s+1]+.1*Math.random(),130*Math.random())).vel.setLength(.1*A),a.push(l)}}},t.customExplosion=function(e,t,a,n,o,i,s,l){if(!(l.length>5e3)){for(var u=0;u<e;u++){(p={type:34,guid:A.getGuid(),color:{r:n,g:o,b:i,a:s},life:100*Math.random(),radius:1,pos:new r.Vector(t,a),vel:new r.Vector(Math.random()-.5,Math.random()-.5),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}).vel.setLength(Math.random()+1),l.push(p)}for(u=0;u<e;u++){(p={type:34,guid:A.getGuid(),color:{r:n,g:o,b:i,a:s},radius:1,life:50*Math.random(),pos:new r.Vector(t,a),vel:new r.Vector(15*(Math.random()-.5),15*(Math.random()-.5)),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}).vel.setLength(.1*Math.random()),l.push(p)}if(e>10)for(var d=0;d<4;d++)for(var c=[10*Math.random()-5,10*Math.random()-5,10*Math.random()-5,10*Math.random()-5],f=0;f<c.length;f+=2)for(u=0;u<80;u++){var p;(p={type:34,guid:A.getGuid(),color:{r:n,g:o,b:i,a:s},radius:1,life:130*Math.random(),pos:new r.Vector(t,a),vel:new r.Vector(c[f]+.1*Math.random(),-c[f+1]+.1*Math.random()),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}).vel.setLength(.1*u),l.push(p)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(2),r(26),r(12),r(41),r(19)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=new r.Vector(0,0),l=new r.Vector(0,0),u=function(e,t){var r=Math.abs(t.x),a=Math.abs(t.y);if(r>5||a>5){var s=Math.max(r,a);if(i.DamageItem(e,.3*s,.01*s),e.stunned=!0,37===e.type){var l=A.getSpacesnakeFromSegment(e.guid);n.LOG_GL(o.TypesToString(e.type)+" >FORCE DAMAGE< ~"+Math.round(s)+Math.round(l.life))}else n.LOG_GL(o.TypesToString(e.type)+" >FORCE DAMAGE< ~"+Math.round(s)+" :"+Math.round(e.life))}};t.ForceDamageOnly=function(e,t,r){void 0===r&&(r=1);var A=t.pos.x*a.FORCE_FIELD_RESOLUTION,n=t.pos.y*a.FORCE_FIELD_RESOLUTION,o=Math.floor(n),i=Math.floor(A),l=e[o];if(l){var d=l[i].pos;d&&(0===d.x&&0===d.y||(s.x=d.x,s.y=d.y,s.mult(10/t.radius*r),u(t,s)))}},t.default=function(e,t,r,A,n){void 0===A&&(A=1),void 0===n&&(n=1);var o=t.pos.x*a.FORCE_FIELD_RESOLUTION,i=t.pos.y*a.FORCE_FIELD_RESOLUTION,d=Math.floor(i),c=Math.floor(o),f=e[d];if(1===A){if(f){var p=f[c];if(p){var g=p.pos;if(0!==g.x||0!==g.y){if(s.x=g.x,s.y=g.y,s.mult(10/t.radius*n),p.epiCenter){var h=t.pos.x-p.center.x,v=t.pos.y-p.center.y;l.set(h,v),s.setAngle(l.getAngle())}t.vel.add(s),t.forceX=s.x,t.forceY=s.y,r&&u(t,s)}else t.forceX=0,t.forceY=0}}}else!function(e,t,r,a,A,n,o,i){for(var d=0,c=0,f=a-Math.round(a),p=A-Math.round(A),g=-1;g<2;g++){var h=e[r+g];if(h)if(0===g){for(var v=-1;v<2;v++)if(I=h[t+v]){var y=I.pos,m=(E=Math.abs(p-g))>1?0:1-E,S=((x=Math.abs(f-v))>1?0:1-x)*m;d+=y.x*S,c+=y.y*S}}else if(I=h[t]){var E,x,T=I.pos,_=(m=(E=Math.abs(p-g))>1?0:1-E,((x=Math.abs(f-0))>1?0:1-x)*m);d+=T.x*_,c+=T.y*_}}s.x=d,s.y=c,s.mult(10/n.radius*o),i&&u(n,s);var I,M=e[r];if(M&&(I=M[t])&&I.epiCenter){var L=n.pos.x-I.center.x,w=n.pos.y-I.center.y;l.set(L,w),s.setAngle(l.getAngle())}n.vel.add(s),n.forceX=s.x,n.forceY=s.y}(e,c,d,o,i,t,n,r)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={engine:null,gui:null};t.default=function(){return r},t.setGlobalContexts=function(e,t){r.engine=e,r.gui=t}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(3),r(1),r(2)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r,A,n,o,i){void 0===A&&(A=5),void 0===n&&(n=400),void 0===o&&(o={}),void 0===i&&(i=!1);for(var s=e.WW,l=e.WH,u=[],d=0;d<r;d++){var c=i?new a.Vector(0,0):new a.Vector(10*(Math.random()-.5),10*(Math.random()-.5));i||(c.setLength(1*Math.random()),c.setAngle((Math.random()-.5)*(2*Math.PI)));var f=Math.floor((n-A)*Math.random()*Math.random()*Math.random()+A),p=t.createSingleAsteroid(f,new a.Vector(s*Math.random(),l*Math.random()),c,o);u.push(p)}return u},t.createSingleAsteroid=function(e,t,o,i){return void 0===i&&(i={}),n({netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:30,guid:r.getGuid(),pos:new a.Vector(t.x,t.y),radius:e,vel:new a.Vector(o.x,o.y),sides:Math.max(7,Math.floor(e/20)),angle:0,angleVel:.01*(1-2*Math.random()),life:e*A.ASTEROID_RADIUS_LIFE_MULTIP,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0},i)},t.test_createAsteroid=function(e,t,n,o,i,s){var l={netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:30,guid:r.getGuid(),pos:new a.Vector(t,n),radius:s,vel:new a.Vector(o,i),sides:Math.max(7,s/20),angle:0,angleVel:.01*(1-2*Math.random()),life:s*A.ASTEROID_RADIUS_LIFE_MULTIP,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};e.push(l)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(14),r(1),r(3),r(2)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wormhole=function(e,t,r){void 0===r&&(r=!1);var a=t.WW,A=t.WH,n=t.game;if(n.wormhole){var o=n.wormhole.xin,i=n.wormhole.yin,s=n.wormhole.xout,l=n.wormhole.yout,u=a*o,d=A*i,c=n.wormhole.safetyzone;if(r||e.pos.x<u+c&&e.pos.x>u-c&&e.pos.y<d+c&&e.pos.y>d-c)return e.vel.setAngle(Math.random()-.5),e.pos.x=a*s+(Math.random()-.5)*c,e.pos.y=A*l+(Math.random()-.5)*c,!0}return!1},t.default=function(e){var t=e.game,o=e.WW,i=e.WH,s=(e.step,t.forceField),l=t.anomlies,u=l.length;if(t.settings_wormhole)for(var d=0;d<u;d++){var c=l[d];if(r.forces(t,o*c.x,i*c.y,c.effect,c.positive,!1,r.ForceType.STATIC,1.2),c.spawnParticles){var f={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,type:34,guid:A.getGuid(),life:160*Math.random(),radius:1,pos:new a.Vector(o*c.x+(Math.random()-.5)*(o*n.FORCE_FIELD_RESOLUTION*c.effect),i*c.y+(Math.random()-.5)*(o*n.FORCE_FIELD_RESOLUTION*c.effect)),vel:new a.Vector(Math.random()-.5,Math.random()-.5),color:{r:1,g:1,b:1,a:1}};t.customParticles.push(f)}}var p=t.explosions,g=[];u=p.length;for(d=0;d<u;d++){var h=p[d];h.remove||g.push(h)}var v=(e.IS_MULTIPLAYER&&e.IS_SERVER,.3);u=g.length;for(d=0;d<u;d++){var y=g[d];y.life-=v,y.life<0&&(y.remove=!0)}t.explosions=g;var m=t.forceFieldDirtyMapYX,S=m.length;for(d=0;d<S;d+=2){var E=m[d],x=m[d+1],T=s[E][x],_=T.pos;_.mult(.3),Math.abs(_.x)<.1&&Math.abs(_.y)<.1&&(_.x=_.y=0,T.epiCenter=!1,m.splice(d,2),S-=2)}return"forcefield"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(26)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DamageItem=function(e,t,a){if(void 0===a&&(a=0),37===e.type){var A=r.getSpacesnakeFromSegment(e.guid);A.life-=A.life*a,A.life-=t,A.life<1&&A.segments.forEach(function(e){return e.remove=!0})}else e.life-=e.life*a,e.life-=t,e.life<1&&(e.remove=!0)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1),r(3),r(5),r(11),r(6),r(12),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function u(e,t){var r,a,A,n,o,i,s,l=[],u={x:0,y:0},d={x:0,y:0};return u.x=t.p2.x-t.p1.x,u.y=t.p2.y-t.p1.y,d.x=t.p1.x-e.pos.x,d.y=t.p1.y-e.pos.y,r=u.x*d.x+u.y*d.y,a=2*(u.x*u.x+u.y*u.y),r*=-2,A=Math.sqrt(r*r-2*a*(d.x*d.x+d.y*d.y-e.radius*e.radius)),isNaN(A)?l:(o=(r+A)/a,i={},s={},(n=(r-A)/a)<=1&&n>=0&&(i.x=t.p1.x+u.x*n,i.y=t.p1.y+u.y*n,l[0]=i),o<=1&&o>=0&&(s.x=t.p1.x+u.x*o,s.y=t.p1.y+u.y*o,l[l.length]=s),l)}var d=function(e,t,r){for(var A=null,n=0,o=0,i=Number.MAX_VALUE,s=0;s<t.length;s++){var l=t[s],d=u(l,{p1:e.pos,p2:r});if(d.length)if(d.length>1){var c=a.distanceBetweenXYXY(e.pos.x,e.pos.y,d[0].x,d[0].y),f=a.distanceBetweenXYXY(e.pos.x,e.pos.y,d[1].x,d[1].y);c<i&&(i=c,A=l,n=d[0].x,o=d[0].y),f<i&&(i=f,A=l,n=d[0].x,o=d[0].y)}else{var p=a.distanceBetweenXYXY(e.pos.x,e.pos.y,d[0].x,d[0].y);p<i&&(i=p,A=l,n=d[0].x,o=d[0].y)}}return{item:A,x:n,y:o}},c=[{angle:0,dist:1},{angle:.01,dist:.7},{angle:-.01,dist:.7},{angle:.15,dist:.5},{angle:-.15,dist:.5}],f=new r.Vector(0,0),p=new r.Vector(0,0),g=new r.Vector(0,0);t.getGenericAvoidance=function(e,t,r,a){t.SX,t.SY,t.SW,t.SH;if(o.onStage(t,e,3*e.radius)){var A=l.getQuadTreesObj();if(!A.Asteroids)return[];for(var s=new i.Rectangle(e.pos.x-400,e.pos.y-400,800,800),u=n(A.Asteroids.queryInt(s,!1)),d=0;d<r.length;d++)u.push.apply(u,r[d].queryInt(s,!1));return u.push.apply(u,a),u}return[]},t.default=function(e,t,r,n){if(void 0===n&&(n=1),f.x=0,f.y=0,0===r.length||e.vel.getLength()<n)return{avoidance:f,avoidanceAngle:0};p.x=0,p.y=0;for(var o=null,i=-1,l=0,u=0;u<c.length;u++){p.x=0,p.y=0,p.setLength(500*c[u].dist),A.rotateVector(p,t+Math.PI*c[u].angle,p),p.add(e.pos);var h=d(e,r,p);if(h.item&&33===h.item.type&&s.LOG_GL("RF SYSTEM avoid:"+e.guid),o){i<0&&(i=a.distanceBetweenXYXY(e.pos.x,e.pos.y,o.x,o.y)/c[u].dist);var v=a.distanceBetweenXYXY(e.pos.x,e.pos.y,h.x,h.y)/c[u].dist;v<i&&(i=v,o=h,l=c[u].angle)}else o=h,l=c[u].angle}var y=o.item,m=o.x,S=o.y;if(g.x=0,g.y=0,null==y)return{avoidance:f,avoidanceAngle:0};var E=Math.atan2(y.pos.y-e.pos.y,y.pos.x-e.pos.x),x=Math.atan2(S-e.pos.y,m-e.pos.x);g.setLength(y.radius+1.5*e.radius);var T=0;return l<0||0===l&&E<x?T=x+.5*Math.PI-Math.PI*l:(T=x-.5*Math.PI-Math.PI*l,1),(g=A.rotateVector(g,T)).add(y.pos),f.setLength(.1),(f=A.rotateVector(f,T)).getLength()>2&&f.setLength(2),{avoidance:f,avoidanceAngle:l,data:{force:{x:e.pos.x+50*f.x,y:e.pos.y+50*f.y},radius:{x:g.x,y:g.y},threat:y,closest:{x:m,y:S}}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(26),r(1),r(3),r(80)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,i,s,l){void 0===s&&(s=-1);for(var u=e.WW,d=e.WH,c=[],f=0;f<t;f++){for(var p=[],g=o&&i?new a.Vector(o,i):new a.Vector(u*Math.random(),d*Math.random()),h=8,v=s>0?s:Math.round(6+26*Math.random()),y=0,m={infected:n.InfectionRate(),size:v,guid:A.getGuid(),segments:p,attackMode:!1,life:20*v,restPos:new a.Vector(l?l.x:.8*u*Math.random()+.1*u,l?l.y:.8*d*Math.random()+.1*d)},S=0;S<v;S++){var E=g.clone();E.x+=y,y+=h;var x={sides:16,angle:0,offsetFront:new a.Vector(0,-h),offsetRear:new a.Vector(0,h),radius:h,type:37,guid:A.getGuid(),pos:E,vel:new a.Vector(1.6,1.6),life:5*h,legAngle:.12*S,legAngleDirectionForward:!1,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};p.push(x),h++}r.populateSpaceSnakeSegmentHash(m),c.push(m)}return c}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(38),r(14),r(1),r(13),r(2),r(12),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(6)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v,y){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.GUIDHASH=((m={})[30]={},m[39]={},m[36]={},m[42]={},m[28]={},m[32]={},m[41]={},m[5]={},m[6]={},m[0]={},m[8]={},m[13]={},m[29]={},m);var S={};for(var E in t.GUIDHASH)S[E]={};t.readFromGH=function(e,r){return S[e][r]=100,t.GUIDHASH[e][r]},t.writeGH=function(e,r,a){S[e][r]=100,t.GUIDHASH[e][r]=a};t.resetGuidHashNetwork=function(){for(var e in t.GUIDHASH)t.GUIDHASH[e]={}};t.default=function(e,r,o,m){i.STEP_MULTIP,r.game.playerGuidHash[r.game.playerGuid];r.WW=o.WW=e.WW,r.WH=o.WH=e.WH,o.game.asteroids=d.clientCreateAsteroids(e),o.game.parasites=c.clientCreateParasites(e),o.game.spaceSnake=f.clientCreateSnakes(e,r),o.game.rockFormations=p.clientCreateRocks(e),o.game.spaceSquids=g.clientCreateSquids(e,r),o.game.spacePorts=h.clientCreateSpaceports(e,r),o.game.spaceSpiders=u.clientCreateSpiders(e,r);var S=function(e,t){for(var r=0;r<e.length;r++){var a=e[r];if(a.guid===t)return a}}(o.game.player,o.game.playerGuid);if(S&&S.closestItem){var E=S.closestItem.guid;for(var x in t.GUIDHASH)if(t.GUIDHASH[x][E]){S.closestItem=t.GUIDHASH[x][E],r.keyCodes.ELECTROBASTARDRAY&&S.availableElectroBastardRays?S.closestItem.stunned=!0:S.closestItem.stunned=!1;break}}o.game.player=v.clientCreateShips(e,r,0),s.LOG_GL_FIXED(o.game.player.length,"NTGC len"),o.game.enemies=v.clientCreateShips(e,r,8),o.game.drones=v.clientCreateShips(e,r,13),o.game.bullets=e.game.bullets,o.game.rockets=n(l.clientCreateRockets(e));for(var T=e.game.explosions.length,_=0;_<T;_++){var I=e.game.explosions[_];a.explosion(o.game,I.amount,I.x,I.y,o.game.particles,I.radius,2*I.intensity)}o.game.anomlies=e.game.anomalies,o.game.playerPositions=e.game.playerPositions,o.game.charges=e.game.charges,function(e){for(var t=0;t<e.length;t++){var r=e[t];r.pos=new A.Vector(r.pos.x,r.pos.y),r.vel=new A.Vector(r.vel.x,r.vel.y)}}(o.game.charges),o.game.networkDebugRect=new y.Rectangle(e.game.rd_x,e.game.rd_y,e.game.rd_w,e.game.rd_h),s.LOG_GL_FIXED((0|e.game.rd_x)+","+(0|e.game.rd_y)+","+(0|e.game.rd_w)+","+(0|e.game.rd_h),"RDB"),s.LOG_GL_FIXED((0|e.SX)+", "+(0|e.SY),"RDSXSY")}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(205),r(206),r(207),r(50),r(213),r(18),r(30),r(26),r(92),r(69),r(124),r(214),r(30),r(42),r(127),r(215),r(81),r(128),r(216),r(58),r(129),r(83),r(51),r(126)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E,x,T,_,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){r.init(e)},t.resize=function(e){r.resize(e)},t.default=function(e){var t=e.game,M=e.game.performance.engine=[];t.performance.totalEngine=p.MeasureTimeFn(function(){s.default(g.default,e,M,"engine"),s.default(c.default,e,M,"engine"),s.default(i.default,e,M,"engine"),s.default(A.default,e,M,"engine"),s.default(v.default,e,M,"engine"),s.default(h.default,e,M,"engine"),s.default(_.default,e,M,"engine"),s.default(I.default,e,M,"engine"),s.default(r.default,e,M,"engine"),s.default(a.default,e,M,"engine"),s.default(o.default,e,M,"engine"),s.default(n.default,e,M,"engine"),s.default(m.default,e,M,"engine"),s.default(y.default,e,M,"engine"),s.default(E.SpaceSpiders,e,M,"engine"),s.default(l.default,e,M,"engine"),s.default(u.default,e,M,"engine"),s.default(d.default,e,M,"engine"),s.default(T.default,e,M,"engine"),s.default(x.default,e,M,"engine"),s.default(S.default,e,M,"engine"),s.default(f.default,e,M,"engine"),t.performance.asteroids=t.asteroids.length,t.performance.particles=0,t.clock+=e.stepMS})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a,A){for(var n=e.length,o=0;o<n;o++){var i=e[o];i.pos.x=Math.random()*a+t,i.pos.y=Math.random()*A+r}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.EXPLOSION=0]="EXPLOSION",e[e.SPACE_BULLET=1]="SPACE_BULLET",e[e.SPACE_BULLET_IMPACT=2]="SPACE_BULLET_IMPACT",e[e.MENU_SELECT=3]="MENU_SELECT",e[e.START_GAME=4]="START_GAME",e[e.RESUME_GAME=5]="RESUME_GAME",e[e.PAUSE_GAME=6]="PAUSE_GAME",e[e.NPC_FRIENDLY_FIRE=7]="NPC_FRIENDLY_FIRE",e[e.PLAYER_DAMAGE=8]="PLAYER_DAMAGE",e[e.PLAYER_DAMAGE_LEVEL_CRITICAL=9]="PLAYER_DAMAGE_LEVEL_CRITICAL",e[e.PLAYER_DAMAGE_LEVEL_OK=10]="PLAYER_DAMAGE_LEVEL_OK",e[e.PLAYER_DEAD=11]="PLAYER_DEAD",e[e.ENEMIES_NEARBY=12]="ENEMIES_NEARBY",e[e.TIME_SCALE_CHANGED=13]="TIME_SCALE_CHANGED"}(t.GAME_EVENT||(t.GAME_EVENT={}))}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1),r(3),r(5),r(15),r(11),r(13),r(18),r(36),r(3),r(49),r(41),r(36),r(37),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=0,y=new r.Vector(.04,.04),m={};t.getSpacesnakeFromSegment=function(e){return m[e]},t.resetSpaceSnakeSegmentHash=function(){m={}},t.populateSpaceSnakeSegmentHash=function(e){for(var t=0;t<e.segments.length;t++){var r=e.segments[t];m[r.guid]=e}},t.default=function(e){var i=e.game,d=e.WW,c=e.WH,g=e.SW,m=(e.SH,e.SX,e.SY,e.step),E=e.stepMS;if(h.getQuadTreesObj().Asteroids&&!i.settings_be_the_snake_mode){for(var x=p.getBaseTargetArrays(e),T=e.game.spaceSnake,_=T.length,I=0;I<_;I++){var M=T[I];if(M.remove)M.segments.forEach(function(e){return e.remove=!0});else{for(var L=M.segments[M.attackMode?0:M.segments.length-1],w=!1,P=0;P<M.segments.length;P++){var R=M.segments[P];R.stunned&&(w=!0,R.stunned=!1)}if(w||M.spasm){var b=Math.floor(.5*M.segments.length),O=M.segments.length-1,C=M.segments[b],G=M.segments[0],N=M.segments[O];if(!M.spasm){G.vel.set(0,0),N.vel.set(0,0);var F=new r.Vector(0,C.radius*b);F.setAngle(G.angle+.83*Math.PI),F.add(G.pos);var B=new r.Vector(0,C.radius*b);B.setAngle(N.angle+.83*Math.PI),B.add(N.pos),M.spasm={firstPos:F,lastPos:B,firstDone:!1,lastDone:!1,firstMS:0,lastMS:0};var D=Math.atan2(M.spasm.lastPos.y-G.pos.y,M.spasm.lastPos.x-G.pos.x);G.vel.addXY(25,25),G.vel.setAngle(D)}var V=new r.Vector(.5,.5);if(M.spasm.firstDone){M.spasm.lastMS+=E;H=Math.atan2(M.spasm.firstPos.y-N.pos.y,M.spasm.firstPos.x-N.pos.x);V.setAngle(H),N.vel.subtract(V),N.vel.getLength()<3&&N.vel.setLength(3),N.angle=H,t.snakeIK(M.segments,m,!0,0),s.default(N,m),M.spasm.lastMS>100&&(M.spasm=null)}else{M.spasm.firstMS+=E;D=Math.atan2(M.spasm.lastPos.y-G.pos.y,M.spasm.lastPos.x-G.pos.x);V.setAngle(D),G.vel.subtract(V),G.vel.getLength()<3&&G.vel.setLength(3);var X=n(M.segments).reverse();if(t.snakeIK(X,m,!0,0),s.default(G,m),M.spasm.firstMS>100){M.spasm.firstDone=!0;var H=Math.atan2(M.spasm.firstPos.y-N.pos.y,M.spasm.firstPos.x-N.pos.x);N.vel.set(25,25),N.vel.setAngle(H)}}}else{var k=u.default(M,M.segments[M.segments.length-1].pos,3e3,x),W=k.targetPos,U=a.distanceBetweenVectors(L.pos,k.targetPos),Y=Math.atan2(k.targetPos.y-L.pos.y,k.targetPos.x-L.pos.x);if(U>.1*g){var K=k.targetPos.clone(),q=new r.Vector(U,0),Z=A.rotateVector(q,Y+v);Z.setLength(.3*U),v+=.1,K.add(Z),W=K}if(U>350&&((W=W.clone()).x+=150*(Math.random()-.5),W.y+=150*(Math.random()-.5)),k.targetIsIM){var z=k.target;U<2*z.radius&&!M.attackMode&&(M.attackMode=!0,M.segments=M.segments.reverse()),U>3*z.radius&&M.attackMode&&(M.attackMode=!1,M.segments=M.segments.reverse()),U<2*z.radius&&M.attackMode&&(z.life--,f.ShipLike(k.target.type)&&(k.target.damageTaken=!0))}else M.attackMode&&(M.attackMode=!1,M.segments=M.segments.reverse());var j=M.segments[M.segments.length-1];Y=Math.atan2(W.y-j.pos.y,W.x-j.pos.x);L.angle=Y,j.offsetFront.setAngle(Y),j.offsetRear.setAngle(Y-Math.PI);var Q=j.vel.getLength();t.snakeIK(M.segments,m,w,Q<1?.03:.4),o.default(i.forceField,j,!0),l.wormhole(j,e),j.vel.add(y),j.vel.setAngle(Y),M.attackMode?(j.vel.mult(1.3),j.vel.getLength()>18&&j.vel.setLength(18)):(j.vel.mult(1.05),Q>4&&j.vel.setLength(4)),s.default(j,M.infected?.1*m:m),S(M,d,c)}}}return"spacesnakes"}};var S=function(e,t,r){for(var a=e.segments,A=a.length,n=0;n<A;n++){var o=a[n];if(i.shift(o,t,r,50,50)){E(o.pos,a);break}}},E=function(e,t){for(var r=t.length,a=0;a<r;a++){var A=t[a];A.pos.x=e.x,A.pos.y=e.y}};function x(e,t){var r=2*e.radius,a=e.pos.x-t.pos.x,A=e.pos.y-t.pos.y,n=Math.atan2(A,a);e.pos.x=t.pos.x+Math.cos(n)*r,e.pos.y=t.pos.y+Math.sin(n)*r,e.angle=n,e.offsetFront.setAngle(n),e.offsetRear.setAngle(n-Math.PI)}t.snakeIK=function(e,t,r,a){for(var A=e.length-1;A>0;A--){var n=e[A];r?n.legAngle=0:n.legAngleDirectionForward?(n.legAngle+=.13*t*a,n.legAngle>.6&&(n.legAngleDirectionForward=!1)):(n.legAngle-=.26*t*a,n.legAngle<-.6&&(n.legAngleDirectionForward=!0)),x(e[A-1],n)}},t.createPartsFromSpaceSnake=function(e,t){for(var a=t.segments,A=a.length,n=0;n<A;n++){var o=a[n];if(c.default(o,e,0),n>0){var i=a[n-1],s=d.midpoint(o.pos,i.pos,.5),l=o.pos.clone(),u=i.pos.clone();l.subtract(s),u.subtract(s);for(var f={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,fromType:o.type,edgeA:l,edgeB:u,rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:s,angle:0,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:38,life:100+50*Math.random(),radius:.2*o.radius,width:.1*o.radius},p={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,fromType:o.type,edgeA:l.clone(),edgeB:new r.Vector(0,0),rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:s.clone(),angle:.5*Math.PI+.1*o.legAngle,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:38,life:100+50*Math.random(),radius:.1*o.radius,width:.1*o.radius},h={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,fromType:o.type,edgeA:l.clone(),edgeB:new r.Vector(0,0),rotatedEdgeA:new r.Vector(0,0),rotatedEdgeB:new r.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:s.clone(),angle:-.5*Math.PI+.1*o.legAngle,angleVel:.005*Math.random(),vel:new r.Vector(0,0),guid:d.getGuid(),type:38,life:100+50*Math.random(),radius:.1*o.radius,width:.1*o.radius},v=0;v<5;v++){var y={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,pos:new r.Vector(s.x+5*Math.random(),s.y+5*Math.random()),vel:new r.Vector(0,0),guid:d.getGuid(),radius:2,life:2,type:61};e.game.spaceDust.push(y)}g.createDust(f.pos,4,4,e),g.createDust(p.pos,6,6,e),g.createDust(h.pos,6,6,e),e.game.asteroidParts.push(f),e.game.asteroidParts.push(p),e.game.asteroidParts.push(h)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(154),r(28),r(94)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,MISSILE:77,FIRE:32,CHARGE:17,PROXIMITYMINE:78,SPACEMINE:66,ELECTROBASTARDRAY:90,TIMEFREEZE:67,BOOST:88,STRAFELEFT:65,STRAFERIGHT:83,BACKSPACE:8,TILDE:220,DELETE:46,RETURN:13,SHIFT:16,CAPSLOCK:20,ALT:18,HOME:35,END:36,ESCAPE:27,CLOAK:68};var n={};for(var o in t.Keys)n[t.Keys[o]]&&console.error("duplicate key",t.Keys[o],o),n[t.Keys[o]]=o;var i=function(e,t,a){var o=d.keys,i=d.mode===r.KeyTypeMode.PLAYING?A.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t]:t,s=n[i],l=o[s];void 0!==l?(d.mode===r.KeyTypeMode.TYPEING&&(a?!0===l?o[s]=null:!1===l&&(o[s]=!0):o[s]=!1),d.mode===r.KeyTypeMode.PLAYING&&(o[s]=a)):d.charCodeString=a?e:null,u.currentKeyCode=a?i:-1,u.currentKeyString=a?e:null},s={keys:{TILDE:!1,BACKSPACE:!1,DELETE:!1,RETURN:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,HOME:!1,END:!1,ESCAPE:!1,SHIFT:!1,CAPSLOCK:!1,ALT:!1,ALTGR:!1},ignores:[t.Keys.SHIFT,t.Keys.CAPSLOCK,t.Keys.ALT],charCodeString:null,mode:r.KeyTypeMode.TYPEING},l={keys:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,RETURN:!1,ESCAPE:!1,BACKSPACE:!1},ignores:[],charCodeString:null,mode:r.KeyTypeMode.TYPEING};t.inGameKeyCodes={keys:{LEFT:!1,UP:!1,RIGHT:!1,DOWN:!1,MISSILE:!1,FIRE:!1,CHARGE:!1,PROXIMITYMINE:!1,SPACEMINE:!1,ELECTROBASTARDRAY:!1,TIMEFREEZE:!1,BOOST:!1,STRAFELEFT:!1,STRAFERIGHT:!1,CLOAK:!1},ignores:[],charCodeString:null,mode:r.KeyTypeMode.PLAYING};var u={game:t.inGameKeyCodes,menu:l,console:s,currentKeyCode:-1,currentKeyString:null},d=null;t.resetKeyCodes=function(e){return function(e,t,a){if(e&&(e.mode===r.KeyTypeMode.TYPEING||a)){for(var A in e.keys)e.keys[A]=t;e.charCodeString=null,u.currentKeyCode=-1,u.currentKeyString=null}}(d,e)},t.default=function(e){var r=null;switch(e.keyInput.target){case a.KeyInputType.CONSOLE:r=s;break;case a.KeyInputType.GAME:r=t.inGameKeyCodes;break;case a.KeyInputType.MENU:r=l}return r!==d&&(console.log("switched keyset to ",e.keyInput.target),d=r,i(null,u.currentKeyCode,!0)),u},t.addKeyMapperEvents=function(){window.addEventListener("keydown",function(e){i(e.key,e.keyCode,!0)}),window.addEventListener("keyup",function(e){i(e.key,e.keyCode,!1)})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.GAME=0]="GAME",e[e.MENU=1]="MENU",e[e.CONSOLE=2]="CONSOLE"}(r=t.KeyInputType||(t.KeyInputType={})),t.defaultGameState=function(){return{console:{active:!1},menu:{active:!0},keyInput:{target:r.MENU}}},t.StateMachine=function(e){return{consoleActivate:function(){e.console.active=!0,e.keyInput.target=r.CONSOLE},consoleDisable:function(){e.console.active=!1,e.menu.active?e.keyInput.target=r.MENU:e.keyInput.target=r.GAME},menuActivate:function(){console.log("state m menu activate"),e.console.active||(e.menu.active=!0,e.keyInput.target=r.MENU)},menuDisable:function(){console.log("state m menu disable"),e.console.active||(e.menu.active=!1,e.keyInput.target=r.GAME)}}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(223),r(224),r(18),r(30),r(30),r(225),r(229),r(230),r(231),r(42),r(26),r(73),r(232),r(128),r(74),r(16),r(233),r(234),r(83),r(69),r(50),r(58),r(129),r(81),r(122),r(10),r(55),r(127)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E,x,T,_,I,M,L,w,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=function(e){r.resize(e)};t.default=function(e){var t=e.game,v=L.default(e),R=e.game.performance.engineClient=[];t.performance.totalEngineClient=o.MeasureTimeFn(function(){n.default(d.default,e,R,"engineClient"),e.IS_MULTIPLAYER&&(n.default(u.default,e,R,"engineClient"),n.default(x.default,e,R,"engineClient"),n.default(c.default,e,R,"engineClient"),n.default(A.default,e,R,"engineClient"),n.default(E.default,e,R,"engineClient"),n.default(T.SpaceSpiders,e,R,"engineClient"),n.default(I.default,e,R,"engineClient"),n.default(g.default,e,R,"engineClient"),n.default(_.default,e,R,"engineClient"),n.default(P.default,e,R,"engineClient"),n.default(function(e){return w.default(e),"proximitydetection"},e,R,"engineClient"),v&&M.default(e,v)),n.default(i.default,e,R,"engineClient"),n.default(l.default,e,R,"engineClient"),n.default(r.default,e,R,"engineClient"),n.default(a.default,e,R,"engineClient"),n.default(f.default,e,R,"engineClient"),n.default(s.default,e,R,"engineClient"),n.default(p.default,e,R,"engineClient"),n.default(h.default,e,R,"engineClient"),n.default(y.default,e,R,"engineClient"),n.default(m.default,e,R,"engineClient"),e.IS_MULTIPLAYER&&(n.default(S.default,e,R,"engineClient"),t.clock+=e.stepMS)})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a,A){void 0===A&&(A=1);var n=performance.now(),o=e(t)||"unknown (yup we fucked up)",i=(performance.now()-n)*A;return r.push({name:o,time:i,type:a}),{time:i,name:o}},t.MeasureTimeFn=function(e,t){var r=performance.now();e();var a=performance.now()-r;return t&&t.push(a),a},t.MeasureTimeSingle=function(e){var t=performance.now();return e(),performance.now()-t}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=2*Math.PI;t.setRGBA=function(e,t,r,a,A,n,o,i){if(!(t>e||t<0)){var s=Math.floor(r)*e*4+4*Math.floor(t);i[s]=a,i[s+1]=A,i[s+2]=n,i[s+3]=o}},t.distort=function(e,t,r,a){for(var A=Math.floor(r),n=Math.floor(t),o=A-n,i=[],s=0;s<o;s++)i.push(4*Math.round(-4*s*s*Math.random()*.001)+4);for(var l=0,u=n;u<A;u+=2){var d=i[l];l++;var c=Math.floor(u)*e*4+400,f=Math.floor(u)*e*4+4*Math.floor(e-400);for(s=c;s<f;s+=8)a[s+d]=a[s],a[s+1+d]=a[s+1],a[s+2+d]=a[s+2],a[s+3+d]=a[s+3],Math.random()>.9&&(a[s+e]=a[s],a[s+1+e]=a[s+1],a[s+2+e]=a[s+2],a[s+3+e]=a[s+3])}},t.fillRGBA=function(e,r,a,A,n,o,i,s,l,u,d,c){void 0===d&&(d=0),void 0===c&&(c=0);for(var f=0;f<A;f++)for(var p=0;p<n;p++)t.setRGBA(e,r+f+d,a+p+c,o,i,s,l,u)},t.line2=function(e,r,a,A,n,o,i,s,l,u,d){void 0===d&&(d=1),function(r,a,A,n){for(var c=Math.abs(A-r),f=Math.abs(n-a),p=r<A?1:-1,g=a<n?1:-1,h=c-f;;){if(d>1){t.setRGBA(e,r,a,o,i,s,l,u);for(var v=0;v<d;v++)t.setRGBA(e,r+v,a,o,i,s,l,u),t.setRGBA(e,r,a+v,o,i,s,l,u)}else t.setRGBA(e,r,a,o,i,s,l,u);if(r==A&&a==n)break;var y=2*h;y>-f&&(h-=f,r+=p),y<c&&(h+=c,a+=g)}}(Math.floor(r),Math.floor(a),Math.floor(A),Math.floor(n))},t.lineHorizontalRGBADash=function(e,r,a,A,n,o,i,s,l,u,d,c,f){void 0===u&&(u=1),void 0===d&&(d=0),void 0===c&&(c=0),void 0===f&&(f=0);for(var p=0,g=r-d;g<A-f;g++)if(++p<=d){if(g+f>r)for(var h=0;h<u;h++)t.setRGBA(e,g+f,a+h,n,o,i,s,l)}else p>d+c&&(p=0)},t.lineVerticalRGBADash=function(e,r,a,A,n,o,i,s,l,u,d,c,f){void 0===u&&(u=1),void 0===d&&(d=0),void 0===c&&(c=0),void 0===f&&(f=0);for(var p=0,g=a-d;g<A-f;g++)if(++p<d){if(g+f>a)for(var h=0;h<u;h++)t.setRGBA(e,r+h,g+f,n,o,i,s,l)}else p>d+c&&(p=0)},t.blockCircleRGBA=function(e,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E){var x,T,_,I;void 0===f&&(f=0),void 0===p&&(p=0),void 0===g&&(g=0),void 0===y&&(y=0),void 0===m&&(m=e),void 0===S&&(S=0),void 0===E&&(E=e);var M=e;for(x=A+Math.cos(r*(M/e)+o)*a>>0,T=n+Math.sin(r*(M/e)+o)*a>>0,_=0,I=0;M>-1;--M)_=A+Math.cos(r*(M/e)+o)*a>>0,I=n+Math.sin(r*(M/e)+o)*a>>0,v&&M%2!=1||!(M>=y&&M<=m||M>=S&&M<=E)||t.line2(c,x-p,T-g,_-p,I-g,s,l,u,d,i,h||(a>40?6:2)),x=_,T=I},t.onStage=function(e,t,r,a){void 0===a&&(a=0);var A=e.SX,n=e.SY,o=e.SW,i=e.SH;return t>A-a&&t<A+o+a&&r>n-a&&r<n+i+a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1),r(3),r(5),r(58),r(80),r(58)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t,a,n,o){var i=new r.Vector(.5*t,0);i.setAngle(a+Math.PI);new r.Vector(.5*t,0);i.setAngle(a-Math.PI);var s=new r.Vector(.5*t,0);return s.setAngle(a),s.subtractXY(e.x,e.y),{pos:s,staticPos:s.clone(),angle:A.normalizeRadianAngle(a),staticAngle:A.normalizeRadianAngle(a),length:t,minRange:A.normalizeRadianAngle(n),maxRange:A.normalizeRadianAngle(o)}},l=function(e,t,a,n,o,i){var l=[];n=o?A.normalizeRadianAngle(.6*n+.7*Math.PI):A.normalizeRadianAngle(.6*n-.7*Math.PI+Math.PI);for(var u=0;u<t;u++){var d=o?-1:1;i&&(d*=-1);var c=1.8*Math.PI*d,f=.05*Math.PI*d,p=c/(t-1);if(1===u||u===t-2?p-=.25*d:(p+=.25*d,f+=.1*d),0===u)l.push(s(e,a,n,.1*f,.1*p));else{var g=l[l.length-1],h=new r.Vector(.5*g.length,0);h.setAngle(g.angle+Math.PI),l.push(s({x:g.pos.x+h.x,y:g.pos.y+h.y},a,A.normalizeRadianAngle(n),A.normalizeRadianAngle(f),A.normalizeRadianAngle(p))),n+=p}}return{bones:l}},u=function(e,t,a,n,o){for(var i=[],s=new r.Vector(o,0),u=0;u<t;u++){var d=2*Math.PI/t*u;s.setAngle(d);var c=d,f=l({x:e.x+s.x,y:e.y+s.y},a,A.eqNumberInArr([1,2,5,6],u)?n:.8*n,c,u>=t/2,!A.eqNumberInArr([2,3,4,5],u));i.push(f)}return i};t.default=function(e,t,A,s,l,d){for(var c=e.WW,f=e.WH,p=(e.SW,e.SH,e.game,[]),g=l||8+8*Math.random(),h=0;h<t;h++){var v=new r.Vector(A||c*Math.random(),s||f*Math.random()),y=new r.Vector(0,0),m={infected:o.InfectionRate(),netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},angle:0,legs:u(v,8,5,2*g,g),pos:v,vel:y,guid:a.getGuid(),life:10*g,restPos:d?new r.Vector(d.x,d.y):v.clone(),radius:g,type:42,swimPosInR:!0,swimPosInL:!0,swimPosL:.5,swimPosR:.5,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};m.legs.forEach(function(e){return i.minRotateSpiderLeg(e)}),m.legs.forEach(function(e){return n.updateSpiderLeg(e)}),p.push(m)}return p}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1),r(100),r(99),r(3),r(80)],void 0===(A=function(e,t,r,a,A,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t,n,o){for(var i={arm:[],target:new r.Vector(200*(Math.random()-.5),200*(Math.random()-.5)),searchTime:0,searchTimeMax:800,reach:0,angle:n,swimIn:!1,swimAngle:0,glowIndex:0},s=e,l=0;l<o;l++){var u=1.25*o-l,d=1.15*o-.5*l;i.reach+=d;var c=Math.max(0,Math.min(.1*Math.PI,.4*Math.sin(.2*l-.5))),f=.7-.02*l;i.arm.push(new a.MuscleSegment(u,new A.Muscle(d*f,d),new A.Muscle(d*f,d),s,t,n,c)),s+=d}return i},l=function(e,t,a){void 0===t&&(t=6),void 0===a&&(a=0);var A=[],n=[.5,.6,.85,1,.98,.87,.56,.52],o=(Math.PI,[1.2,-1.2,1,1.2,-1.2,1,1.2,-1.2]),i=[.7,1,1,1,1,1,1,.7],l=new r.Vector(-e,0);t=8;for(var u=0;u<t;u++){var d=o[u];l.x=.8*e*.75*d*i[u],l.y=0,u<.5*t?l.setAngle(-1.2+Math.PI+.1*(d-1.1)):l.setAngle(1.2+Math.PI+.1*(d+1));var c=l.x,f=l.y;A.push(s(c,f,Math.PI*o[u],Math.ceil(n[u]*e*.25)))}return A};t.default=function(e,t,a,A,s,u){for(var d=e.WW,c=e.WH,f=[],p=0;p<t;p++){var g=Math.PI,h=s||80*Math.random()+80,v={infected:i.InfectionRate(),netpos:{x:0,y:0},netvel:{x:0,y:0},netangle:0,restPos:new r.Vector(u?u.x:.8*d*Math.random()+.1*d,u?u.y:.8*c*Math.random()+.1*c),tentacles:n(l(h,6,Math.PI)),pos:new r.Vector(a||d*Math.random(),A||c*Math.random()),vel:new r.Vector(0,0),radius:h,life:1e3,type:39,guid:o.getGuid(),angle:g,mode:0,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};f.push(v)}return f}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(139),r(140),r(30),r(141),r(142),r(143),r(144),r(145),r(89),r(146),r(147),r(148),r(64),r(90),r(90),r(149),r(152),r(155),r(98),r(159),r(160),r(161),r(91),r(184),r(30),r(185),r(12),r(186),r(187),r(188),r(189),r(190),r(191),r(193),r(194),r(195),r(196),r(197),r(198),r(82),r(199),r(78),r(200),r(201),r(117),r(202),r(4),r(12),r(203),r(204)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E,x,T,_,I,M,L,w,P,R,b,O,C,G,N,F,B,D,V,X,H,k,W,U,Y,K,q,Z,z,j,Q){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var J=[y.default,g.default,i.default,x.default,l.default,d.default,Y.default,r.default,U.default,P.default,b.default,H.default,u.default,a.default,h.distortionBracketEnd,o.default,N.default,Q.default,j.default,E.default,m.default,O.default,S.default,X.default,s.default,k.default,_.default,B.default,V.default,F.default,W.default,K.default,G.default,v.default,R.default,n.default,L.default,f.default,c.default,C.default,D.default,w.default,p.default,T.default,q.default];t.default=function(e){var t=e.game,r=(e.gl,t.performance.gui=[]);[];t.performance.totalGui=M.MeasureTimeFn(function(){for(var t=0;t<J.length;t++)A.default(J[t],e,r,"gui")}),I.default(e)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESOLUTION=.005;t.addNewToGrid3d=function(e,r,a){void 0===a&&(a=!1);for(var A=r.length-1;A>-1;--A){var n=r[A];if(a){var o=Math.floor(n.pos.x*t.RESOLUTION);e[Math.floor(n.pos.y*t.RESOLUTION)][o].push(n)}}},t.updateGrid3dRadiusBased=function(e,r,a){for(var A=a?2:1,n=r.length-1;n>-1;--n){var o=r[n];if(a||!o.remove)for(var i=Math.floor(o.pos.x*t.RESOLUTION),s=Math.floor(o.pos.y*t.RESOLUTION),l=Math.floor(o.radius*t.RESOLUTION)+A,u=t.getSectorIndexesAsFlatListsWrapped(e,i,s,l),d=u[0],c=u[1],f=d.length,p=0;p<f;p++)for(var g=0;g<f;g++){var h=d[p],v=e[c[g]][h];if(a)for(var y=v.length,m=0;m<y;m++)v.pop();else v.push(o)}}},t.updateGrid3d=function(e){for(var r=e.length,a=e[0].length,A=0;A<r;A++)for(var n=0;n<a;n++)for(var o=e[A][n],i=o.length,s=0;s<i;s++){var l=o[s];if(l.remove)o.splice(s,1),s--,i--;else{var u=Math.floor(l.pos.x*t.RESOLUTION),d=Math.floor(l.pos.y*t.RESOLUTION);if(u!==n||d!==A)o.splice(s,1),s--,i--,e[d][u].push(l)}}},t.getSectorIndexesAsFlatListsWrapped=function(e,t,r,a){void 0===a&&(a=1);for(var A=Math.floor(t),n=Math.floor(r),o=e[0].length-1,i=e.length-1,s=[],l=[],u=[],d=a+a+1,c=0;c<d;c++){u.push(c-a);var f=A-(c-a),p=n-(c-a),g=f<0?o+1+f:f>o?f-o:f,h=p<0?i+1+p:p>i?p-i:p;s.push(g),l.push(h)}return[s,l]},t.getSectorsAsFlatListWrapped=function(e,t,r,a){void 0===a&&(a=1);for(var A=Math.floor(t),n=Math.floor(r),o=[],i=e[0].length-1,s=e.length-1,l=[],u=[],d=[],c=a+a+1,f=0;f<c;f++){d.push(f-a);var p=A-(f-a),g=n-(f-a),h=p<0?i+1+p:p>i?p-i:p,v=g<0?s+1+g:g>s?g-s:g;l.push(h),u.push(v)}for(var y=0;y<c;y++)for(var m=0;m<c;m++){var S=l[m],E=u[y];if(!(a>1&&E===n&&S===A)){var x=e[E][S],T=x.length;for(f=0;f<T;f++)o.push(x[f])}}return o},t.getSectorsAsFlatList=function(e,t,r,a){void 0===a&&(a=1);for(var A=[],n=e[0].length,o=e.length,i=Math.max(t-a,0),s=Math.max(r-a,0),l=Math.min(t+a+1,n),u=Math.min(r+a+1,o),d=s;d<u;d++)for(var c=i;c<l;c++)for(var f=e[d][c],p=f.length,g=0;g<p;g++)A.push(f[g]);return A},t.default=function(e,r,a){for(var A=function(e,t){for(var r=[],a=0;a<t;a++){for(var A=[],n=0;n<e;n++)A.push([]);r.push(A)}return r}(Math.ceil(r*t.RESOLUTION),Math.ceil(a*t.RESOLUTION)),n=e.length,o=0;o<n;o++){var i=e[o],s=Math.floor(i.pos.x*t.RESOLUTION);A[Math.floor(i.pos.y*t.RESOLUTION)][s].push(i)}return A},t.getSectors=function(e,r,a,A){void 0===A&&(A=1);var n=Math.floor(r*t.RESOLUTION),o=Math.floor(a*t.RESOLUTION),i=Math.floor(A*t.RESOLUTION);return t.getSectorsAsFlatList(e,n,o,i)},t.getSectorsVec=function(e,r,a){void 0===a&&(a=1);var A=Math.floor(r.x*t.RESOLUTION),n=Math.floor(r.y*t.RESOLUTION),o=Math.floor(a*t.RESOLUTION);return t.getSectorsAsFlatList(e,A,n,o)},t.getSectorsVecWrapped=function(e,r,a){void 0===a&&(a=1);var A=Math.floor(r.x*t.RESOLUTION),n=Math.floor(r.y*t.RESOLUTION),o=Math.floor(a*t.RESOLUTION);return t.getSectorsAsFlatListWrapped(e,A,n,o)},t.getPoistionVecXYinGrid=function(e){return{x:Math.floor(e.x*t.RESOLUTION),y:Math.floor(e.y*t.RESOLUTION)}},t.getPoistionXYinGrid=function(e,r){return{x:Math.floor(e*t.RESOLUTION),y:Math.floor(r*t.RESOLUTION)}},t.gridPosToWorld=function(e,r,a,A){var n=e/t.RESOLUTION,o=r/t.RESOLUTION;if(A){var i=t.getSectorSize(a,A);n+=.5*i.w,o+=.5*i.h}return{x:n,y:o}},t.getSectorSize=function(e,r){return{w:e/(e*t.RESOLUTION),h:r/(r*t.RESOLUTION)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(6),r(3),r(10),r(7)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseTargetArrays=function(e){var t=n.getQuadTreesObj();if(!t.Player)return[];var r=A.default(e);return r&&r.inSafeZone?[t.Player,t.SpacePortCannons,t.Drones]:[t.Player,t.Drones,t.Enemies]},t.default=function(e,t,A,o){void 0===A&&(A=2e3),void 0===o&&(o=[]);var i=n.getQuadTreesObj(),s=null;if(i.Player){var l=new r.Rectangle(t.x-.5*A,t.y-.5*A,A,A);0===o.length&&o.push(i.Player);for(var u=[],d=0;d<o.length&&(u.push.apply(u,o[d].queryInt(l)),!(u.length>10));d++);var c=Math.min(8,u.length),f=2*A;for(d=0;d<c;d++){var p=u[d];if(0!==p.type||!p.inSafeZone){if(29===p.type){var g=p,h=new r.Rectangle(g.pos.x-1e3,g.pos.y-1e3,2e3,2e3);if(0===i.Player.queryInt(h).length)continue}else if(29===p.type&&c>1&&!p.isCannon&&c>1)continue;if(p.life>0){var v=a.distanceBetweenVectors(p.pos,t);v<f&&(f=v,s=p)}}}if(s){switch(s.type){case 0:"ship";break;case 29:"(cannon:"+s.isCannon+")";break;default:"type:"+s.type}}}var y=e.restPos,m=s?s.pos.clone():y.clone();return e.infected&&Math.random()>.98&&m.addXY(500*(Math.random()-.5),500*(Math.random()-.5)),{targetPos:m,target:s,targetIsIM:!!s}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(50),r(42),r(69),r(14),r(49),r(26),r(1),r(3),r(68),r(12),r(70)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=new s.Vector(0,0);t.createDust=function(e,t,r,a){for(var A=0;A<t;A++){f.set(.5*r,0),f.setAngle(Math.random()*Math.PI*2);var n=f.x,o=f.y,i={pos:new s.Vector(e.x+n,e.y+o),vel:new s.Vector(0,0),guid:l.getGuid(),radius:2,life:2,type:61,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};a.game.spaceDust.push(i)}},t.default=function(e,s){if(!s.game.levelEditor){var l=!0,p=s.IS_MULTIPLAYER&&s.IS_SERVER;switch(e.type){case 32:case 30:var g=e;r.removeAsteroid(g,s),p&&s.game.removedAsteroids.push(g);break;case 37:for(var h=e,v=i.getSpacesnakeFromSegment(h.guid),y=0;y<v.segments.length;y++){(m=v.segments[y]).remove=!0}if(!v.remove){if(!p){d.LOG_GL("REMOVE SNAKE ITEM HANDLER"),i.createPartsFromSpaceSnake(s,v);for(y=0;y<v.segments.length;y++){var m=v.segments[y];if(t.createDust(m.pos,m.radius,m.radius,s),v.infected)for(var S=Math.ceil(4*Math.random()),E=0;E<S;E++)d.LOG_GL("CREATE PARASITE FROM SNAKE SEG"),s.game.parasites.push(u.createParasite(m.pos.x+(Math.random()-.5)*m.radius,m.pos.y+(Math.random()-.5)*m.radius,32*Math.random()+8,s.WW*Math.random(),s.WH*Math.random()))}}v.remove=!0}break;case 42:var x=e;if(!p){if(t.createDust(x.pos,x.radius,x.radius,s),x.infected)for(S=Math.ceil(Math.random()*x.radius*.5)+4,E=0;E<S;E++)s.game.parasites.push(u.createParasite(x.pos.x+(Math.random()-.5)*x.radius,x.pos.y+(Math.random()-.5)*x.radius,32*Math.random()+8,s.WW*Math.random(),s.WH*Math.random()));for(y=0;y<x.legs.length;y++)for(var T=x.legs[y],_=0;_<T.bones.length;_++){var I=T.bones[_],M=I.length;f.set(M,0),f.setAngle(I.angle);for(var L=0;L<M;L+=2){var w=L/M*7;t.createDust({x:I.pos.x+f.x*w,y:I.pos.y+f.y*w},2,2,s)}}}break;case 39:if(!p){var P=e;if(A.createPartsFromSquid(P,s),P.infected)for(S=Math.ceil(Math.random()*P.radius*.25)+9,E=0;E<S;E++)s.game.parasites.push(u.createParasite(P.pos.x+(Math.random()-.5)*P.radius,P.pos.y+(Math.random()-.5)*P.radius,32*Math.random()+8,s.WW*Math.random(),s.WH*Math.random()))}break;case 29:n.explosion(s.game,1200,e.pos.x,e.pos.y,s.game.particles,5,5),p||(o.default(e,s,0),t.createDust(e.pos,e.radius,e.radius,s)),e.remove=!0;break;case 0:case 13:case 12:case 8:var R=e;n.explosion(s.game,30,R.pos.x,R.pos.y,s.game.particles,6,2);var b=a.GetPlayerByGuidOrNull(R.killedByGuid,s);p||c.default(R,s),b?(b.kills++,p&&s.game.networkMessages.push({msg:((b.name||"UNKNOWN")+" KILLED "+(R.name||"UNKNOWN")).toUpperCase(),level:1})):p&&s.game.networkMessages.push({msg:(R.name||"UNKNOWN")+" SACRIFICED HIMSELF",level:1}),p&&s.game.removedShips.push(R),R.deaths++;break;default:l=!1}l&&p&&s.game.networkMessages.push({msg:"remove",remove:{type:e.type,guid:e.guid},level:1})}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.rotatedLayout,r=e.rotatedLayoutPositioned,a=e.layout,A=e.angle+Math.PI,n=0;n<a.length;n++){var o=a[n],i=o.x,s=o.y,l=i*Math.cos(A)-s*Math.sin(A),u=s*Math.cos(A)+i*Math.sin(A);t[n].x=l,t[n].y=u,r[n].x=l+e.pos.x,r[n].y=u+e.pos.y}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.localStorage,a=function(e){return!(null===r.getItem(e))};t.containsInt=function(e){return a(e+"_int")},t.containsBool=function(e){return a(e+"_bool")},t.containsStr=function(e){return a(e+"_str")},t.containsData=function(e){return a(e+"_data")},t.saveInt=function(e,t){r.setItem(e+"_int",t+"")},t.saveBool=function(e,t){r.setItem(e+"_bool",(t?1:0)+"")},t.saveStr=function(e,t){r.setItem(e+"_str",t)},t.saveData=function(e,t){var a=JSON.stringify(t);return r.setItem(e+"_data",a),a.length},t.loadInt=function(e){return parseInt(r.getItem(e+"_int"),10)},t.loadBool=function(e){var t=r.getItem(e+"_bool");return 1===parseInt(t)||0!==parseInt(t)&&void 0},t.loadStr=function(e){return r.getItem(e+"_str")},t.loadData=function(e){var t=r.getItem(e+"_data");if(t)return JSON.parse(t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(2)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var A=1.5*r.MAP_SAFETY_ZONE,n=e&&e.pos;return e&&(n.x>t-A||n.x<A||n.y>a-A||n.y<A)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypesToString=function(e){switch(e){case 0:return"SHIP";case 2:return"BULLET";case 11:return"ENEMY BULLET";case 3:return"SPACEPORT BULLET";case 35:return"PARTICLE";case 39:return"SPACE SQUID";case 37:return"SNAKE SEGMENT";case 36:return"SNAKE";case 42:return"SPIDER";case 30:return"ASTEROID";case 32:return"ROCKFORMATION";case 28:return"SPACEPORT";case 29:return"SPACEPORT CANNON";case 8:return"ENEMY SHIP";case 13:return"DRONE";case 12:return"NPC";case 43:return"PROXIMITY MINE";case 44:return"SPACE MINE";default:return"UNKNOWN:"+e}},t.ShipLike=function(e){switch(e){case 0:case 8:case 13:case 12:return!0}return!1}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPlayerByGuidOrEmptyArray=function(e,t){var r=t.game.playerGuidHash[e];return r?[r]:[]},t.GetPlayerByGuidOrNull=function(e,t){return t.game.playerGuidHash[e]};t.default=function(e){var t=e.game.player,r=t.length,a=e.game;a.playerGuidHash={};for(var A=0;A<r;A++){var n=t[A];a.playerGuidHash[n.guid]=n}return"playerGuidHash"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(31)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Glow=function(e,t,o,i,s,l,u,d){var c=i.game,f=i.gl,p=i.SH,g=i.SW,h=i.SX,v=i.SY,y=(t>4?t:g>p?p*t:g*t)*(c.resW/g);if(n.onStage(i,e.x,e.y,y)){o=[];var m=e.x-h,S=e.y-v;if(r.fillPolyForFan(g,m,S,y,y,o,-.5*y,-.5*y),o.length>0){a.default(A.GLctx.VerticesGradient,f);var E=A.GLUniformLocation(f,"u_pos_x"),x=A.GLUniformLocation(f,"u_pos_y");f.uniform1f(E,m),f.uniform1f(x,S);var T=A.GLUniformLocation(f,"u_perimiter");f.uniform1f(T,y),r.drawColor(o,f,s,l,u,d)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(1),r(5),r(2)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o,i,s,l){e.WW,e.WH;var u="ABCDEFGHIJK".split(""),d=A.createBlockcircleArray(6,0,.8*t,o).map(function(e,A){var s=l&&l[A]?l[A]:null,d=s?new a.Vector(s.staticPos.x,s.staticPos.y):e;return{netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},isOnline:!1,ownerName:i,name:u.pop(),damages:[],weaponsActiveTimerMS:0,pos:d.clone(),staticPos:d.clone(),vel:new a.Vector(0,0),type:29,guid:s?s.guid:r.getGuid(),radius:t/6,sides:6,angle:Math.atan2(d.y-o.y,d.x-o.x),angleVel:0,life:s?s.life:n.SPACEPORT_START_LIFE,busy:!1,isCannon:!0,fireing:!1,aggressionForGuidsHash:{},remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}});d.pop();var c=l?l.filter(function(e){return!e.isCannon})[0]:null,f={netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},isOnline:!1,ownerName:i,name:u.pop(),fireing:!1,damages:[],weaponsActiveTimerMS:0,aggressionForGuidsHash:{},pos:o.clone(),staticPos:o.clone(),vel:new a.Vector(0,0),type:29,guid:c?c.guid:r.getGuid(),radius:t/6,sides:6,angle:0,angleVel:0,life:c?c.life:n.SPACEPORT_START_LIFE,busy:!0,isCannon:!1,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};return d.push(f),{netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},reparations:s||{life:100,missiles:5,rockets:5,boost:100,electrobastardray:100,homingBullets:38,proximityMines:6},weaponsActive:!1,angle:0,angleVel:0,centerNoneCannon:f,guid:r.getGuid(),life:1e4,name:(i||"").toUpperCase(),pos:o,vel:new a.Vector(0,0),staticPos:o.clone(),radius:t,sides:6,wallThickness:40,type:28,cannons:d,shipChargeHash:{},chargeParticles:[],remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(3),r(6),r(87)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},i=function(e){return new a.Rectangle(e[0],e[1],e[2],e[3])},s=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},l=function(e,t){return!(e[0]>t[0]+t[2]||e[0]+e[2]<t[0]||e[1]>t[1]+t[3]||e[1]+e[3]<t[1])},u=function(e,t,r,a,A){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+A||e[1]+e[3]<r)};t.intersectsXYWH_XYWH=function(e,t,r,a,A,n,o,i){return!(e>A+o||e+r<A||t>n+i||t+a<n)};var d=function(e,t){return t[0]>e[0]&&t[1]>e[1]&&t[0]+t[2]<e[0]+e[2]&&t[1]+t[3]<e[1]+e[3]},c=function(){function e(e,t,r,a){var A=this;this.divide=!1,this.debugBounds=function(e,t){var r=new Uint16Array([e.x,e.y,e.width,e.height]);return s(r,A.boundry)&&t.push(i(A.boundry)),A.divide&&(A.northeast.debugBounds(e,t),A.northwest.debugBounds(e,t),A.southeast.debugBounds(e,t),A.southwest.debugBounds(e,t)),t},this.boundry=new Uint16Array(e),this.capacity=r>=a?2*t:t,this.items=new Uint16Array(this.capacity),this.itemsXYWH=new Uint16Array(4*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,A,n,o){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=A,this.currentDepth=n,this.maxDepth=o,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],A=this.boundry[3],n=this.capacity,i=this.currentDepth+1,s=this.maxDepth;if(this.northeast)this.northeast.update(t+.5*a,r,.5*a,.5*A,n,i,s),this.northwest.update(t,r,.5*a,.5*A,n,i,s),this.southeast.update(t+.5*a,r+.5*A,.5*a,.5*A,n,i,s),this.southwest.update(t,r+.5*A,.5*a,.5*A,n,i,s);else{var l=o[n];if(l&&l.length>4)return this.northeast=l.pop(),this.northwest=l.pop(),this.southeast=l.pop(),this.southwest=l.pop(),void this.subDivide();this.northeast=new e([t+.5*a,r,.5*a,.5*A],n,i,s),this.northwest=new e([t,r,.5*a,.5*A],n,i,s),this.southeast=new e([t+.5*a,r+.5*A,.5*a,.5*A],n,i,s),this.southwest=new e([t,r+.5*A,.5*a,.5*A],n,i,s)}this.divide=!0},e.prototype.___query=function(e,r,a,A,n,o,i){void 0===i&&(i=-1);var s=this.items,l=this.index,d=this.itemsXYWH;if(u(this.boundry,e,r,a,A)){for(var c=0;c<l;c++){var f=s[c];if(!o[f]&&f!==i){var p=4*c;t.intersectsXYWH_XYWH(e,r,a,A,d[p],d[p+1],d[p+2],d[p+3])&&(o[f]=!0,n.push(f))}}this.divide&&(this.northeast.___query(e,r,a,A,n,o,i),this.northwest.___query(e,r,a,A,n,o,i),this.southeast.___query(e,r,a,A,n,o,i),this.southwest.___query(e,r,a,A,n,o,i))}return n},e.prototype.insert=function(e,t){if(!l(this.boundry,t))return!1;if(!(this.index<this.capacity))return this.divide||this.subDivide(),!!this.northeast.insert(e,t)||(!!this.northwest.insert(e,t)||(!!this.southeast.insert(e,t)||!!this.southwest.insert(e,t)));this.items[this.index]=e;var r=4*this.index;return this.itemsXYWH[r]=t[0],this.itemsXYWH[r+1]=t[1],this.itemsXYWH[r+2]=t[2],this.itemsXYWH[r+3]=t[3],this.index++,!!d(this.boundry,t)||void 0},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),A=this.southwest.reset();if(t&&r&&a&&A&&(this.deleteBranchMarker++,this.deleteBranchMarker>30)){var n=o[this.northeast.capacity];n||(n=o[this.northeast.capacity]=[]),n.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),f=function(){function e(e,t,r,a,A){var n=this;void 0===a&&(a=8),void 0===A&&(A=!1),this.divide=!1,this.findIndex=function(e,t){if(void 0===t&&(t=null),t){if((r=t.items.indexOf(e))>-1)return r;t.divide&&(n.findIndex(e,t.northeast),n.findIndex(e,t.northwest),n.findIndex(e,t.southeast),n.findIndex(e,t.southwest))}else{var r;if((r=n.items.indexOf(e))>-1)return r;n.divide&&(n.findIndex(e,n.northeast),n.findIndex(e,n.northwest),n.findIndex(e,n.southeast),n.findIndex(e,n.southwest))}},this.debugBounds=function(e){var t=[],r=[e.x,e.y,e.width,e.height];return l(n.boundry,r)&&t.push(i(n.boundry)),n.divide&&(n.northeast.debugBounds(e,t),n.northwest.debugBounds(e,t),n.southeast.debugBounds(e,t),n.southwest.debugBounds(e,t)),t},this.setup(e,t,r,a,A)}return e.prototype.shrink=function(){this.boundry[0]=0|Math.max(this.minX+1,0),this.boundry[1]=0|Math.max(this.minY+1,0),this.boundry[2]=Math.ceil(this.maxW-this.minX),this.boundry[3]=Math.ceil(this.maxH-this.minY)},e.prototype.intersectTree=function(e){var t=[],r=this.itemType===e.itemType,a=this.index;if(a>0){for(var A={},o=this.items,i=this.itemsXYWH,s=0;s<a;s++){var l=o[s];if(!A[l]){var u=4*s,d=i[u],c=i[u+1],f=i[u+2],p=i[u+3];A[l]=!0;var g=e.___queryXYWH(d,c,f,p,[],[],r?l:-1);g.length>0&&t.push(n([l],g))}}this.divide&&(this.___iterateBranchAgainstTree(this.northeast,e,t,A),this.___iterateBranchAgainstTree(this.northwest,e,t,A),this.___iterateBranchAgainstTree(this.southeast,e,t,A),this.___iterateBranchAgainstTree(this.southwest,e,t,A))}return t},e.prototype.___iterateBranchAgainstTree=function(e,t,r,a){var A=e.index,o=this.itemType===t.itemType;if(A>0){for(var i=e.items,s=e.itemsXYWH,l=0;l<A;l++){var u=i[l];if(!a[u]){var d=4*l,c=s[d],f=s[d+1],p=s[d+2],g=s[d+3];a[u]=!0;var h=t.___queryXYWH(c,f,p,g,[],[],o?u:-1);h.length>0&&r.push(n([u],h))}}e.divide&&(this.___iterateBranchAgainstTree(e.northeast,t,r,a),this.___iterateBranchAgainstTree(e.northwest,t,r,a),this.___iterateBranchAgainstTree(e.southeast,t,r,a),this.___iterateBranchAgainstTree(e.southwest,t,r,a))}},e.prototype.___queryXYWH=function(e,r,a,A,n,o,i){void 0===i&&(i=-1);var s=this.items,l=this.itemsXYWH;if(u(this.boundry,e,r,a,A)){for(var d=0;d<this.index;d++){var c=s[d];if(!o[c]&&c!==i){var f=4*d;t.intersectsXYWH_XYWH(e,r,a,A,l[f],l[f+1],l[f+2],l[f+3])&&(o[c]=1,n.push(c))}}this.divide&&(this.northeast.___query(e,r,a,A,n,o,i),this.northwest.___query(e,r,a,A,n,o,i),this.southeast.___query(e,r,a,A,n,o,i),this.southwest.___query(e,r,a,A,n,o,i))}return n},e.prototype.insert=function(e){var t=e.radius,r=e.pos.x,a=e.pos.y,A=2*t,n=2*t;if(this.AABB_VEL){var o=e.vel.x,i=e.vel.y;o>0?A+=o:(r+=o,A-=o),i>0?n+=i:(a+=i,n-=i)}var s=r-t,u=a-t,c=s<0?0:s,f=u<0?0:u,p=[c,f,A,n];if(!l(this.boundry,p))return!1;if(this.references[this.totalItems]=e,this.totalItems++,!(this.index<this.capacity))return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,p)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,p)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,p)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,p)?(this.REFERENCE_INDEX++,!0):(this.REFERENCE_INDEX++,!1);this.items[this.index]=this.REFERENCE_INDEX;var g=4*this.index;return this.itemsXYWH[g]=c,this.itemsXYWH[g+1]=f,this.itemsXYWH[g+2]=A,this.itemsXYWH[g+3]=n,this.index++,this.REFERENCE_INDEX++,!!d(this.boundry,p)||void 0},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],A=this.maxDepth,n=this.capacity;this.northeast?(this.northeast.update(e+.5*r,t,.5*r,.5*a,n,0,A),this.northwest.update(e,t,.5*r,.5*a,n,0,A),this.southeast.update(e+.5*r,t+.5*a,.5*r,.5*a,n,0,A),this.southwest.update(e,t+.5*a,.5*r,.5*a,n,0,A)):(this.northeast=new c([e+.5*r,t,.5*r,.5*a],n,0,A),this.northwest=new c([e,t,.5*r,.5*a],n,0,A),this.southeast=new c([e+.5*r,t+.5*a,.5*r,.5*a],n,0,A),this.southwest=new c([e,t+.5*a,.5*r,.5*a],n,0,A)),this.divide=!0},e.prototype.___query=function(e,r,a,A){var n=[],o=[],i=this.items,s=this.itemsXYWH;if(u(this.boundry,e,r,a,A)){for(var l=0;l<this.index;l++){var d=i[l];if(!n[d]){var c=4*l;t.intersectsXYWH_XYWH(e,r,a,A,s[c],s[c+1],s[c+2],s[c+3])&&(n[d]=1,o.push(d))}}this.divide&&(this.northeast.___query(e,r,a,A,o,n),this.northwest.___query(e,r,a,A,o,n),this.southeast.___query(e,r,a,A,o,n),this.southwest.___query(e,r,a,A,o,n))}var f=o.length;if(0===f)return[];var p=new Array(f);for(l=0;l<f;l++)p[l]=this.references[o[l]];return p},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,2*t)},e.prototype.queryRay=function(e,t){for(var r,a,n,o,i,s,l=Math.min(e.x,t.x),u=Math.min(e.y,t.y),d=Math.max(e.x,t.x)-l,c=Math.max(e.y,t.y)-u,f=this.___query(l,u,d,c),p=e.x,g=e.y,h=t.x,v=t.y,y=[],m=f.length,S=0;S<m;S++){var E=f[S],x=E.pos.x,T=E.pos.y,_=E.radius;A.LineIntersects(p,g,h,v,x-_,T-_,x+_,T-_)?y.push(E):A.LineIntersects(p,g,h,v,x+_,T-_,x+_,T+_)?y.push(E):A.LineIntersects(p,g,h,v,x-_,T+_,x+_,T+_)?y.push(E):A.LineIntersects(p,g,h,v,x-_,T-_,x-_,T+_)?y.push(E):(a=T,n=_,o=_,s=g,(r=x)>(i=p)||r+n<i||a>s||a+o<s||y.push(E))}return y},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var A,n,o,i,s,l=.7*t,u=[e.x-l,e.y-l,2*l,2*l],d=a.length,c=[],f=0;f<d;f++){var p=a[f];A=u,n=p.pos.x-p.radius,o=p.pos.y-p.radius,i=2*p.radius,s=2*p.radius,A[0]>n+i||A[0]+A[2]<n||A[1]>o+s||A[1]+A[3]<o?r.radiusIntersectXYXY(e.x,e.y,t,p.pos.x,p.pos.y,p.radius)&&c.push(p):c.push(p)}return c},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.setup=function(e,t,r,a,A){void 0===a&&(a=8),void 0===A&&(A=!1);var n=e.x,o=e.y,i=e.width,s=e.height;if(this.boundry=new Uint16Array([n<0?0:n,o<0?0:o,i,s]),n>65535||o>65535||i>65535||s>65535)throw new Error("Out of range @ Quadtree constructor "+this.boundry.join(","));this.AABB_VEL=A,this.items=new Uint16Array(t),this.itemsXYWH=new Uint16Array(4*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=a},e.prototype.visualize=function(e,t,r,a){if(this.divide){var A=600/this.boundry[2],n=10;this.__visualize(A,n,e,t,r,a,r-300,a+40,this.northwest),this.__visualize(A,n,e,t,r,a,r-100,a+40,this.northeast),this.__visualize(A,n,e,t,r,a,r+100,a+40,this.southwest),this.__visualize(A,n,e,t,r,a,r+300,a+40,this.southeast)}},e.prototype.__visualize=function(e,t,r,a,A,n,o,i,s){r.push(A,n,o,i);var l=s.boundry;r.push(l[0]*e+100,l[1]*e+240,(l[0]+l[2])*e+100,l[1]*e+240,(l[0]+l[2])*e+100,l[1]*e+240,(l[0]+l[2])*e+100,(l[1]+l[3])*e+240,l[0]*e+100,l[1]*e+240,l[0]*e+100,(l[1]+l[3])*e+240,l[0]*e+100,(l[1]+l[3])*e+240,(l[0]+l[2])*e+100,(l[1]+l[3])*e+240),t*=.25,s.divide?(this.__visualize(e,t,r,a,o,i,o-30*t,i+40,s.northwest),this.__visualize(e,t,r,a,o,i,o-10*t,i+40,s.northeast),this.__visualize(e,t,r,a,o,i,o+10*t,i+40,s.southwest),this.__visualize(e,t,r,a,o,i,o+30*t,i+40,s.southeast)):s.southwest&&(this.__visualize(e,t,a,a,o,i,o-30*t,i+40,s.northwest),this.__visualize(e,t,a,a,o,i,o-10*t,i+40,s.northeast),this.__visualize(e,t,a,a,o,i,o+10*t,i+40,s.southwest),this.__visualize(e,t,a,a,o,i,o+30*t,i+40,s.southeast))},e}();t.QuadTreeUint8=f}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={global_gl:null};t.default=function(){return r},t.setGlobalGL=function(e){r.global_gl=e}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};t.hexBox=function(e,t,r,n){var i=a[e];if(i)return A(i,t,r,n);var s=o(e);return a[e]=s,A(s,t,r,n)};var A=function(e,t,r,a){for(var A=!0,n=[],o=0;o<3;o++){for(var i=[],s=0;s<12;s++){var l=e[o][s];l+=A?t.x-r:t.y-a,i.push(l),A=!A}n.push(i)}return n},n=function(e,t){var a=new r.Vector(0,0);return a.setLength(e),a.setAngle(t),a},o=function(e){var t=-.5*Math.PI,r=.5*Math.PI,a=n(e,t),A=n(e,t-60*Math.PI/180),o=n(e,t-120*Math.PI/180),i=n(e,r),s=n(e,r-60*Math.PI/180),l=n(e,r-120*Math.PI/180);return[[0,0,A.x,A.y,a.x,a.y,0,0,l.x,l.y,a.x,a.y],[0,0,A.x,A.y,o.x,o.y,0,0,o.x,o.y,i.x,i.y],[0,0,l.x,l.y,s.x,s.y,0,0,s.x,s.y,i.x,i.y]]}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(66),r(2)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBullet=function(e,t){var n=a.pool_get(11);return n.type=e,n.guid=r.getGuid(),n.ownerGuid=t.guid,n.pos.x=t.pos.x+Math.cos(t.angle)*A.SHIP_LENGTH_RADIUS,n.pos.y=t.pos.y+Math.sin(t.angle)*A.SHIP_LENGTH_RADIUS,n.vel.x=0,n.vel.y=0,n.vel.setLength(t.vel.getLength()+10),n.vel.setAngle(t.angle+.02*(Math.random()-.5)),n.life=180,n.homing=!1,n.remove=!1,n.forceX=null,n.forceY=null,n.stunned=!1,n.target=null,n.targetFlagged=!1,n},t.createParticle=function(e,t,r,A,n){var o=a.pool_get(35);return o.pos.x=e,o.pos.y=t,o.vel.x=r,o.vel.y=A,o.life=n,o.type=35,o}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(2),r(1),r(3)],void 0===(A=function(e,t,r,a,A){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=((n={})[30]=31,n[37]=38,n[39]=40,n);t.default=function(e,t,n){void 0===n&&(n=1);var i=e,s=i.sides,l=o[e.type],u=i.radius,d=i.angle,c=s;s=u<20?3:s;for(var f=Math.cos(r.doublePI*(s/c)+d)*u>>0,p=Math.sin(r.doublePI*(s/c)+d)*u>>0,g=0,h=0,v=new a.Vector(0,0),y=25+25*Math.random();s>-1;--s){g=Math.cos(r.doublePI*(s/c)+d)*u>>0,h=Math.sin(r.doublePI*(s/c)+d)*u>>0;var m=new a.Vector(g+i.pos.x,h+i.pos.y),S=new a.Vector(f+i.pos.x,p+i.pos.y),E=A.distanceBetweenVectors(m,S),x=Math.atan2(m.y-S.y,m.x-S.x),T=Math.atan2(i.pos.y-S.y,i.pos.x-S.x);v.set(0,0),v.setLength(E),v.setAngle(x);for(var _=E>y?Math.ceil(E/y):1,I=E/_*.5,M=0;M<_;M++){var L=M/_,w=new a.Vector(0,0);w.setLength(L+I),w.setAngle(x),w.add(m);var P=new a.Vector(0,0);P.setAngle(x),P.setLength(I);var R=new a.Vector(0,0);R.setAngle(x-Math.PI),R.setLength(I);var b=new a.Vector(g*Math.random()-.5*n,h*Math.random()-.5*n),O={fromType:e.type,edgeA:P,edgeB:R,rotatedEdgeA:new a.Vector(0,0),rotatedEdgeB:new a.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:w,angle:T,angleVel:.01*Math.random()-.005,vel:b.clone(),guid:A.getGuid(),type:l,life:100+50*Math.random(),radius:.05*i.radius,width:12*Math.min(30,Math.max(.01*i.radius),4),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.game.asteroidParts.push(O)}f=g,p=h}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(11),r(15),r(1),r(3),r(14),r(13),r(67),r(18),r(68)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAsteroid=function(e,t,r){if(e.remove=!0,o.explosion(t.game,.2*e.radius+20,e.pos.x,e.pos.y,t.game.particles,.04*e.radius),e.radius>5&&t.game.settings_asteroid_spawns_new&&(!t.IS_MULTIPLAYER||t.IS_SERVER)&&32!==e.type)for(var a=0;a<5;a++){var i=new A.Vector(5*Math.random(),5*Math.random());i.setLength(2*Math.random());var l=s.getRandBonusType();if((!t.IS_MULTIPLAYER||t.IS_SERVER)&&e.radius>30&&Math.random()>.96)for(var d=1+Math.random()*e.radius*.033,c=0;c<d;c++){var f=32*Math.random()+8,p=u.createParasite(e.pos.x+(Math.random()-.5)*e.radius,e.pos.y+(Math.random()-.5)*e.radius,f,t.WW*Math.random(),t.WH*Math.random());t.game.parasites.push(p)}var g={type:l,guid:n.getGuid(),netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},pos:new A.Vector(e.pos.x+(Math.random()-.5)*e.radius,e.pos.y+(Math.random()-.5)*e.radius),radius:30!==l?30:.2*e.radius,vel:i,sides:2*Math.random()+7>>0,angle:0,angleVel:.01*(1-2*Math.random()),life:20,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.game.asteroids.push(g)}},t.default=function(e){for(var t=e.game,A=e.WW,n=e.WH,o=e.step,s=t.asteroids,u=s.length,d=0;d<u;d++){var c=s[d],f=c.vel.getLength();f>3&&c.vel.setLength(3),i.default(c,o),c.angle+=c.angleVel,f>.2?c.vel.mult(.9999):c.angleVel*=.999,r.shift(c,A,n),a.default(t.forceField,c,!0),l.wormhole(c,e)}return"Asteroid"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1),r(13),r(15),r(3),r(5),r(14),r(7),r(87),r(97),r(3),r(19)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROXIMITY_MINE_RAY_LENGTH=1400;var p=new r.Vector(t.PROXIMITY_MINE_RAY_LENGTH,0),g=new r.Vector(1.5,0),h=new r.Vector(0,0),v=function(e,r,a,A){var o=l.getQuadTreesObj(),i=t.PROXIMITY_MINE_RAY_LENGTH;h.set(r.x,r.y);var s=E(n(o.Asteroids.queryRay(e,r),o.RockFormations.queryRay(e,r),o.SpacePortCannons.queryRay(e,r)),e,r,i);i=s.closestDist;var u=m(n(o.SpaceSpiders.queryRay(e,r),o.SpaceSquid.queryRay(e,r),o.SpaceSnakes.queryRay(e,r)),e,r,i,a);i=u.closestDist;var d=S(n(o.Player.queryRay(e,r),o.Drones.queryRay(e,r),o.Enemies.queryRay(e,r),o.Npcs.queryRay(e,r)),e,r,i);i=d.closestDist;var c=x(o.ProximityMines.queryRay(e,r),e,r,i,A);return i=c.closestDist,c.target?c:d.target?d:u.target?u:s},y=new r.Vector(0,0),m=function(e,t,r,a,A){for(var n=e.length,o=r.x,i=r.y,s=!1,l=null,d=0;d<n;d++){var f=e[d];if(u.LineInterceptCircle(t,r,f.pos,f.radius)){var g=c.distanceBetweenVectors(t,f.pos)-f.radius;g<a&&(a=g,s=!0,l=f,o=f.pos.x,i=f.pos.y,y.setLength(f.radius),y.setAngle(A+Math.PI),o=f.pos.x+y.x,i=f.pos.y+y.y)}}return{pos:s?{x:o,y:i}:p,target:l,closestDist:a}},S=function(e,t,r,a){for(var A=e.length,n=r.x,i=r.y,s=null,l=!1,d=0;d<A;d++)for(var c=e[d],f=c.rotatedLayoutPositioned,g=[f[0].x,f[0].y,f[1].x,f[1].y,f[0].x,f[0].y,f[2].x,f[2].y,f[1].x,f[1].y,f[2].x,f[2].y],h=g.length,v=0;v<h;v+=4){var y=u.LineIntersectsToPoint(t.x,t.y,r.x,r.y,g[v],g[v+1],g[v+2],g[v+3]);if(y){var m=o.distanceBetweenXYXY(y.x,y.y,t.x,t.y);m<a&&(a=m,n=y.x,i=y.y,l=!0,s=c)}}return{pos:l?{x:n,y:i}:p,target:s,closestDist:a}},E=function(e,t,r,a){for(var A=e.length,n=Number.MAX_VALUE,i=Number.MAX_VALUE,s=null,l=!1,c=0;c<A;c++){var f=e[c];if(30===f.type||32===f.type||29===f.type){var g=[];d.blockCirclePolyForRayCaster2(f.sides,f.radius,f.pos.x,f.pos.y,f.angle,g,-1,0,0,t.x,t.y);for(var h=g.length,v=0;v<h;v+=4){var y=u.LineIntersectsToPoint(t.x,t.y,r.x,r.y,g[v],g[v+1],g[v+2],g[v+3]);if(y){var m=o.distanceBetweenXYXY(y.x,y.y,t.x,t.y);m<a&&(a=m,n=y.x,i=y.y,l=!0,s=f)}}}}return{pos:l?{x:n,y:i}:p,target:s,closestDist:a}},x=function(e,t,r,a,A){for(var n=e.length,i=Number.MAX_VALUE,s=Number.MAX_VALUE,l=null,c=!1,f=0;f<n;f++){var g=e[f];if(g.guid!==A){var h=[];d.blockCirclePolyForRayCaster2(6,g.radius,g.pos.x,g.pos.y,0,h,-1,0,0,t.x,t.y);for(var v=h.length,y=0;y<v;y+=4){var m=u.LineIntersectsToPoint(t.x,t.y,r.x,r.y,h[y],h[y+1],h[y+2],h[y+3]);if(m){var S=o.distanceBetweenXYXY(m.x,m.y,t.x,t.y);S<a&&(a=S,i=m.x,s=m.y,c=!0,l=g)}}}}return{pos:c?{x:i,y:s}:p,target:l,closestDist:a}},T=new r.Vector(0,0),_=new r.Vector(0,0),I=!1,M={};t.default=function(e){var n=e.game,l=(e.WW,e.WH,e.step),u=e.stepMS;M={};var d=n.proximityMines.length,h=0,y=!1;if(I){var m=0;for(var S in M)M[S]>m&&(m=M[S],h=parseInt(S,10))}for(var E=0;E<d;E++){var x=n.proximityMines[E];d>80&&!y&&(I&&x.guid===h&&(x.remove=!0,y=!0),M[x.guid]?M[x.guid]++:M[x.guid]=1,I=!0,0===E&&(x.remove=!0)),x.vel.mult(.97),x.vel.getLength()>6&&x.vel.setLength(6),x.target=null,x.intersectAaquired=!1,x.intersectBaquired=!1;var L=x.pos;p.set(t.PROXIMITY_MINE_RAY_LENGTH,0),p.setAngle(x.rayAngleA),p.add(L);var w=v(L,p,x.rayAngleA,x.guid);x.intersectA.x=w.pos.x,x.intersectA.y=w.pos.y,w.target&&(x.target=w.target,x.intersectAaquired=!0),p.set(t.PROXIMITY_MINE_RAY_LENGTH,0),p.setAngle(x.rayAngleB),p.add(L);var P=v(L,p,x.rayAngleB,x.guid);if(x.intersectB.x=P.pos.x,x.intersectB.y=P.pos.y,P.target&&(x.intersectBaquired=!0),!x.target&&P.target&&(x.target=P.target),x.target)if(x.target.guid===x.ownerGuid||12===x.target.type||30===x.target.type||32===x.target.type||29===x.target.type||x.target.ownerGuid===x.ownerGuid)x.aquireMode=2,x.rayAngleA+=l*Math.PI*5e-4,x.rayAngleB+=l*Math.PI*5e-4;else{T.set(x.target.pos.x,x.target.pos.y),T.subtract(x.pos);var R=T.getAngle(),b=o.angleDifference(x.rayAngleA,R);x.rayAngleA-=.13*b,Math.abs(b)<.08&&(x.aquireTimer+=u,_.set(x.target.radius*(Math.random()-.5),0),_.setAngle(R+.5*Math.PI),_.add(T),x.rayAngleA=_.getAngle(),x.aquireMode=1);var O=o.angleDifference(x.rayAngleB,R);x.rayAngleB-=.13*O,Math.abs(O)<.08&&(x.aquireTimer+=u,_.set(x.target.radius*(Math.random()-.5),0),_.setAngle(R+.5*Math.PI),_.add(T),x.rayAngleB=_.getAngle(),x.aquireMode=1);var C=x.target;if(C&&!C.remove&&C.life>0){var G=Math.atan2(C.pos.y-x.pos.y,C.pos.x-x.pos.x),N=x.vel.getAngle();N=i.normalizeRadianAngle(N),N+=.5*i.angleDelta(N,G)*l,g.set(.4,0),g.setAngle(N),x.vel.add(g)}else x.aquireTimer=0;if(x.target&&x.aquireTimer>x.timerT&&c.distanceBetweenVectors(x.pos,x.target.pos)<x.target.radius+150&&(x.aquireTimer=x.timerT+1,x.remove=!0,s.explosion(n,20,x.pos.x,x.pos.y,n.particles,13,8),x.target&&x.target.pos)){var F=c.distanceBetweenVectors(x.pos,x.target.pos),B=(t.PROXIMITY_MINE_RAY_LENGTH-F)/t.PROXIMITY_MINE_RAY_LENGTH;f.DamageItem(x.target,8,B),x.target.stunned=!0,x.target.life<0&&(x.target.remove=!0),x.target=null}}else{x.aquireMode=0,x.aquireTimer=0;var D=o.angleDifference(x.rayAngleA,x.rayAngleB);Math.abs(D)<.9*Math.PI?(x.rayAngleA+=l*Math.PI*.009,x.rayAngleB+=l*Math.PI*.002):(x.rayAngleA+=l*Math.PI*.0033,x.rayAngleB=x.rayAngleA+Math.PI);var V=x.origin.x-x.pos.x,X=x.origin.y-x.pos.y;if(Math.abs(X)>40||Math.abs(V)>40){var H=new r.Vector(V,X);H.mult(.01),x.vel.getLength()<1&&x.vel.add(H)}}x.rayAngleA=i.normalizeRadianAngle(x.rayAngleA),x.rayAngleB=i.normalizeRadianAngle(x.rayAngleB),A.default(n.forceField,x,!0),a.default(x,l)}return"proximitymines"},t.createProximityMine=function(e,t){var a=e.vel.clone();a.mult(.85);var A=new r.Vector(e.pos.x+Math.cos(e.angle+Math.PI)*(e.radius+10),e.pos.y+Math.sin(e.angle+Math.PI)*(e.radius+10)),n=2*Math.PI*Math.random();t.game.proximityMines.push({pos:A,vel:a,guid:o.getGuid(),life:100,forceX:0,forceY:0,radius:7,rayAngleA:n,rayAngleB:Math.PI+n,ownerGuid:e.guid,ownerType:e.type,type:43,remove:!1,stunned:!1,targetFlagged:!1,target:null,aquireMode:0,aquireTimer:0,timerT:1200,intersectA:A.toPoint(),intersectB:A.toPoint(),intersectAaquired:!1,intersectBaquired:!1,origin:A.clone()})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(85),r(3),r(1),r(2),r(9),r(33),r(21),r(44),r(10)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteItemsInTree=function(e,t,r){var a=t.queryVec(e,5,5);if(a.map(function(e){e.remove=!0,e.life=0}),a.length>0)for(var A=0;A<r.length;A++){var n=r[A];0!==n.type&&n.remove&&(r.splice(A,1),A--)}},t.getAllItemsFromTreesPoint=function(e,t){var r=[];return e.map(function(e){return r.push.apply(r,e.queryVec(t,5,5))}),r},t.getAllItemsFromTreesRect=function(e,t){var r=[];return e.map(function(e){return r.push.apply(r,e.queryInt(t))}),r};var c={};t.editorSelectItems=function(e){e.map(function(e){c[e.guid]?delete c[e.guid]:c[e.guid]=e})},t.editorClearSelection=function(){c={}},t.getEditorSelections=function(){return c},t.getEditorSingleSelection=function(){for(var e in c)return c[e]},t.deleteInSelection=function(){if(c)for(var e in c){var r=c[e];0!==r.type&&(r.remove=!0)}t.editorClearSelection()},t.deleteSelected=function(e,r){r.map(function(r){return t.deleteItemsInTree(e,r.tree,r.list)})},t.editorCreateEnemy=function(e,t,r){var a=n(n({},i.createShip(e)),{pos:new A.Vector(t.x,t.y),life:30,type:8,maxBullets:10,maxVel:3,shields:0});r.push(a)},t.editorCreateSpacesquid=function(e,t,a){var A=r.default.create.children.spaceSquid.children,n=p(A),o=s.default(e,1,t.x,t.y,n||null);a.push.apply(a,o)},t.editorCreateSpaceSnake=function(e,t,a){var A=r.default.create.children.spaceSnake.children,n=p(A),o=l.default(e,1,t.x,t.y,n||null);a.push.apply(a,o)};var f=["Auriga","Genesis","Aurora","Last hope","Outpost H"];t.editorCreateSpacePort=function(e,t,a){var n=r.default.create.children.spaceSnake.children,o=p(n),i=u.default(e,o||400,new A.Vector(t.x,t.y),f[a.length]);a.push(i)};var p=function(e){for(var t in e)if(e[t].selected)return parseInt(t,10)};t.editorCreateDrone=function(e,t,r){r.push.apply(r,i.createDrones(e,new A.Vector(t.x,t.y),1,d.default(e).guid))},t.editorCreateAsteroid=function(e,t){var n=r.default.create.children.asteroid.children.single,i=r.default.create.children.asteroid.children.flood,s=n.selected?n.children:i.children,l=20+220*Math.random();for(var u in s)s[u].selected&&(l=parseInt(u,10),l+=l*(Math.random()-.5));var d={netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},type:30,guid:a.getGuid(),pos:new A.Vector(e.x,e.y),radius:l,vel:new A.Vector(0,0),sides:Math.max(7,l/20),angle:Math.random(),angleVel:0,life:l*o.ASTEROID_RADIUS_LIFE_MULTIP,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.push(d)};var g=!0;t.editorSetTimeFreeze=function(e){g=e},t.getEditorTimeFreeze=function(){return g}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(6)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A={},n=function(e,t,r,a,A){return!(e[0]>t+a||e[0]+e[2]<t||e[1]>r+A||e[1]+e[3]<r)},o=function(e,t,r,a,A,n){return!(e>A||e+r<A||t>n||t+a<n)},i=function(){function e(e,t,r,a){this.divide=!1,this.boundry=new Uint16Array(e),this.capacity=r>=a?2*t:t,this.items=new Uint16Array(this.capacity),this.itemsXY=new Uint16Array(2*this.capacity),this.index=0,this.currentDepth=r,this.maxDepth=a,this.deleteBranchMarker=0}return e.prototype.update=function(e,t,r,a,A,n,o){this.boundry[0]=e,this.boundry[1]=t,this.boundry[2]=r,this.boundry[3]=a,this.capacity=A,this.currentDepth=n,this.maxDepth=o,this.index=0},e.prototype.subDivide=function(){var t=this.boundry[0],r=this.boundry[1],a=this.boundry[2],n=this.boundry[3],o=this.capacity,i=this.currentDepth+1,s=this.maxDepth;if(this.northeast)this.northeast.update(t+.5*a,r,.5*a,.5*n,o,i,s),this.northwest.update(t,r,.5*a,.5*n,o,i,s),this.southeast.update(t+.5*a,r+.5*n,.5*a,.5*n,o,i,s),this.southwest.update(t,r+.5*n,.5*a,.5*n,o,i,s);else{var l=A[o];if(l&&l.length>4)return this.northeast=l.pop(),this.northwest=l.pop(),this.southeast=l.pop(),this.southwest=l.pop(),void this.subDivide();this.northeast=new e([t+.5*a,r,.5*a,.5*n],o,i,s),this.northwest=new e([t,r,.5*a,.5*n],o,i,s),this.southeast=new e([t+.5*a,r+.5*n,.5*a,.5*n],o,i,s),this.southwest=new e([t,r+.5*n,.5*a,.5*n],o,i,s)}this.divide=!0},e.prototype.___query=function(e,t,r,a,A,i,s){void 0===s&&(s=-1);var l=this.items,u=this.index,d=this.itemsXY;if(n(this.boundry,e,t,r,a)){for(var c=0;c<u;c++){var f=l[c];if(!i[f]&&f!==s){var p=2*c;o(e,t,r,a,d[p],d[p+1])&&(i[f]=!0,A.push(f))}}this.divide&&(this.northeast.___query(e,t,r,a,A,i,s),this.northwest.___query(e,t,r,a,A,i,s),this.southeast.___query(e,t,r,a,A,i,s),this.southwest.___query(e,t,r,a,A,i,s))}return A},e.prototype.insert=function(e,t,r){if(!function(e,t,r){return!(e[0]>t||e[0]+e[2]<t||e[1]>r||e[1]+e[3]<r)}(this.boundry,t,r))return!1;if(this.index<this.capacity){this.items[this.index]=e;var a=2*this.index;return this.itemsXY[a]=t,this.itemsXY[a+1]=r,this.index++,!0}return this.divide||this.subDivide(),!!this.northeast.insert(e,t,r)||(!!this.northwest.insert(e,t,r)||(!!this.southeast.insert(e,t,r)||!!this.southwest.insert(e,t,r)))},e.prototype.reset=function(){this.index=0;var e=!this.northwest;if(this.northwest){var t=this.northeast.reset(),r=this.northwest.reset(),a=this.southeast.reset(),n=this.southwest.reset();if(t&&r&&a&&n&&(this.deleteBranchMarker++,this.deleteBranchMarker>3)){var o=A[this.northeast.capacity];o||(o=A[this.northeast.capacity]=[]),o.push(this.northeast,this.northwest,this.southeast,this.southwest),this.northeast=null,this.northwest=null,this.southeast=null,this.southwest=null,this.deleteBranchMarker=0}this.divide=!1}return e},e}(),s=function(){function e(e,t,r,a){void 0===a&&(a=8),this.divide=!1,this.setup(e,t,r,a)}return e.prototype.___queryXYWH=function(e,t,r,a,A,i,s){void 0===s&&(s=-1);var l=this.items,u=this.itemsXY;if(n(this.boundry,e,t,r,a)){for(var d=0;d<this.index;d++){var c=l[d];if(!i[c]&&c!==s){var f=2*d;o(e,t,r,a,u[f],u[f+1])&&(i[c]=1,A.push(c))}}this.divide&&(this.northeast.___query(e,t,r,a,A,i,s),this.northwest.___query(e,t,r,a,A,i,s),this.southeast.___query(e,t,r,a,A,i,s),this.southwest.___query(e,t,r,a,A,i,s))}return A},e.prototype.insert=function(e){var t,r,a=e.pos.x,A=e.pos.y,n=[a,A];if(t=this.boundry,r=n,t[0]>r[0]+r[2]||t[0]+t[2]<r[0]||t[1]>r[1]+r[3]||t[1]+t[3]<r[1])return!1;if(this.references[this.totalItems]=e,this.totalItems++,!(this.index<this.capacity))return this.divide||this.subDivide(),this.northeast.insert(this.REFERENCE_INDEX,a,A)?(this.REFERENCE_INDEX++,!0):this.northwest.insert(this.REFERENCE_INDEX,a,A)?(this.REFERENCE_INDEX++,!0):this.southeast.insert(this.REFERENCE_INDEX,a,A)?(this.REFERENCE_INDEX++,!0):this.southwest.insert(this.REFERENCE_INDEX,a,A)?(this.REFERENCE_INDEX++,!0):(this.REFERENCE_INDEX++,!1);this.items[this.index]=this.REFERENCE_INDEX;var o,i,s=2*this.index;return this.itemsXY[s]=a,this.itemsXY[s+1]=A,this.index++,this.REFERENCE_INDEX++,o=this.boundry,(i=n)[0]>o[0]&&i[1]>o[1]&&i[0]+i[2]<o[0]+o[2]&&i[1]+i[3]<o[1]+o[3]||void 0},e.prototype.subDivide=function(){var e=this.boundry[0],t=this.boundry[1],r=this.boundry[2],a=this.boundry[3],A=this.maxDepth,n=this.capacity;this.northeast?(this.northeast.update(e+.5*r,t,.5*r,.5*a,n,0,A),this.northwest.update(e,t,.5*r,.5*a,n,0,A),this.southeast.update(e+.5*r,t+.5*a,.5*r,.5*a,n,0,A),this.southwest.update(e,t+.5*a,.5*r,.5*a,n,0,A)):(this.northeast=new i([e+.5*r,t,.5*r,.5*a],n,0,A),this.northwest=new i([e,t,.5*r,.5*a],n,0,A),this.southeast=new i([e+.5*r,t+.5*a,.5*r,.5*a],n,0,A),this.southwest=new i([e,t+.5*a,.5*r,.5*a],n,0,A)),this.divide=!0},e.prototype.___query=function(e,t,r,a){var A=[],i=[],s=this.items,l=this.itemsXY;if(n(this.boundry,e,t,r,a)){for(var u=0;u<this.index;u++){var d=s[u];if(!A[d]){var c=2*u;o(e,t,r,a,l[c],l[c+1])&&(A[d]=1,i.push(d))}}this.divide&&(this.northeast.___query(e,t,r,a,i,A),this.northwest.___query(e,t,r,a,i,A),this.southeast.___query(e,t,r,a,i,A),this.southwest.___query(e,t,r,a,i,A))}var f=i.length;if(0===f)return[];var p=new Array(f);for(u=0;u<f;u++)p[u]=this.references[i[u]];return p},e.prototype.query=function(e){var t=e.radius;return this.___query(e.pos.x-t,e.pos.y-t,2*t,t)},e.prototype.queryCircle=function(e,t){var a=this.___query(e.x-t,e.y-t,2*t,2*t);if(0===a.length)return a;for(var A,n,o,i=.7*t,s=[e.x-i,e.y-i,2*i,2*i],l=a.length,u=[],d=0;d<l;d++){var c=a[d];A=s,n=c.pos.x,o=c.pos.y,A[0]>n||A[0]+A[2]<n||A[1]>o||A[1]+A[3]<o?r.radiusIntersectPoint(e.x,e.y,t,c.pos.x,c.pos.y)&&u.push(c):u.push(c)}return u},e.prototype.queryInt=function(e){return this.___query(e.x,e.y,e.width,e.height)},e.prototype.queryVec=function(e,t,r){return this.___query(e.x-t,e.y-r,2*t,2*r)},e.prototype.destroy=function(){},e.prototype.reset=function(){this.index=0,this.totalItems=0,this.REFERENCE_INDEX=0,this.references=[],this.divide&&(this.northeast.reset(),this.northwest.reset(),this.southeast.reset(),this.southwest.reset()),this.divide=!1},e.prototype.setup=function(e,t,r,a){void 0===a&&(a=8);var A=Math.max(0,e.x),n=Math.max(0,e.y),o=e.width,i=e.height;if(this.boundry=new Uint16Array([A,n,o,i]),A>65535||n>65535||o>65535||i>65535)throw new Error("Out of range @ Quadtree constructor "+this.boundry.join(","));this.items=new Uint16Array(t),this.itemsXY=new Uint16Array(2*t),this.capacity=t,this.itemType=r,this.references=[],this.REFERENCE_INDEX=0,this.index=0,this.totalItems=0,this.minX=65535,this.minY=65535,this.maxW=0,this.maxH=0,this.maxDepth=a},e.prototype.visualize=function(e,t,r,a,A,n){if(void 0===A&&(A=100),void 0===n&&(n=240),this.divide){var o=600/this.boundry[2],i=10;this.__visualize(o,i,e,t,r,a,r-300,a+40,this.northwest,A,n),this.__visualize(o,i,e,t,r,a,r-100,a+40,this.northeast,A,n),this.__visualize(o,i,e,t,r,a,r+100,a+40,this.southwest,A,n),this.__visualize(o,i,e,t,r,a,r+300,a+40,this.southeast,A,n)}},e.prototype.__visualize=function(e,t,r,a,A,n,o,i,s,l,u){r.push(A,n,o,i);var d=s.boundry;r.push((l+d[0])*e,(u+d[1])*e,(l+(d[0]+d[2]))*e,(u+d[1])*e,(l+(d[0]+d[2]))*e,(u+d[1])*e,(l+(d[0]+d[2]))*e,(u+(d[1]+d[3]))*e,(l+d[0])*e,(u+d[1])*e,(l+d[0])*e,(u+(d[1]+d[3]))*e,(l+d[0])*e,(u+(d[1]+d[3]))*e,(l+(d[0]+d[2]))*e,(u+(d[1]+d[3]))*e),t*=.25,s.divide?(this.__visualize(e,t,r,a,o,i,o-30*t,i+40,s.northwest,l,u),this.__visualize(e,t,r,a,o,i,o-10*t,i+40,s.northeast,l,u),this.__visualize(e,t,r,a,o,i,o+10*t,i+40,s.southwest,l,u),this.__visualize(e,t,r,a,o,i,o+30*t,i+40,s.southeast,l,u)):s.southwest&&(this.__visualize(e,t,a,a,o,i,o-30*t,i+40,s.northwest,l,u),this.__visualize(e,t,a,a,o,i,o-10*t,i+40,s.northeast,l,u),this.__visualize(e,t,a,a,o,i,o+10*t,i+40,s.southwest,l,u),this.__visualize(e,t,a,a,o,i,o+30*t,i+40,s.southeast,l,u))},e}();t.QuadTreeUint8Point=s}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0,a=0;t.getOperatorUsage=function(){var e={dist97:r,dist96:a};return r=0,a=0,e},t.OperatorApproxDist97=function(e,t){var a,A,n;return r++,e<0&&(e=-e),t<0&&(t=-t),e<t?(a=e,A=t):(a=t,A=e),n=1007*A+441*a,A<a<<4&&(n-=40*A),n+512>>10},t.OperatorApproxDist96=function(e,t){var r,A;return a++,e<0&&(e=-e),t<0&&(t=-t),e<t?(r=e,A=t):(r=t,A=e),(A<<8)+(A<<3)-(A<<4)-(A<<1)+(r<<7)-(r<<5)+(r<<3)-(r<<1)>>8};var A=new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT),n=new Float32Array(A),o=new Uint32Array(A);t.OperatorSqrt99=function(e){var t=.5*e;n[0]=e,o[0]=1597463007-(o[0]>>1);var r=n[0];return r*=1.5-t*r*r},t.operatorAtan2=function(e,t){var r=(1-(e<0)|0)<<1,a=e*r+2.220446049250313e-16,A=(t<0|0)<<1,n=1-A;return(.7853981634*(A+1)+(.1821*(a=(t-n*a)/(n*t+a))*a-.9675)*a)*r*.25}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(88),r(3),r(1),r(7)],void 0===(A=function(e,t,r,a,A,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=null;t.resetProximityDetection=function(){s=null},t.addProximityDetectionToShip=function(e,t,l){var u=t.game,d=t.SW,c=t.SH,f=t.WW,p=t.WH,g=i.getQuadTreesObj();if(g.Asteroids){var h=[];h.push.apply(h,g.Enemies.queryVec(e.pos,d,c));var v=g.queryTreeVecIgnoreGuid(4,e.pos,.5*d,.5*c,e.guid);h.push.apply(h,v);for(var y=r.default(e,h,d,l,!1),m=r.default(e,g.SpaceSquid.queryVec(e.pos,d,c),d,l,!1),S=r.default(e,g.SpaceSpiders.queryVec(e.pos,d,c),d,l,!1),E=[],x=0;x<u.spaceSnake.length;x++){var T=u.spaceSnake[x];if(T.life>1){var _=T.segments;_.length>0&&E.push(_[_.length-1])}}var I=r.default(e,E,.8*d,l,!1);e.enemyDetection=o(y.vectors,m.vectors,I.vectors,S.vectors);var M=o(g.Asteroids.queryVec(e.pos,d,c),g.RockFormations.queryVec(e.pos,300,300)),L=[],w=M.length;for(x=0;x<w;x++){var P=M[x];30!==P.type&&32!==P.type||L.push(P)}var R=r.default(e,L,.4*d,l,!0);if(e.asterodDetection=R.vectors,!s){s=[];var b={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,vel:null,life:0,radius:0,guid:a.getGuid(),type:45};for(x=0;x<u.anomlies.length;x++)s.push(n({pos:new A.Vector(u.anomlies[x].x*f,u.anomlies[x].y*p)},b))}e.anomalyDetection=r.default(e,s,d,l,!1).vectors;var O=[y,m,I,S],C=Number.MAX_VALUE,G=null;for(x=0;x<O.length;x++){var N=O[x];N.closestDistance<C&&(C=N.closestDistance,G=N.closestItem)}e.closestItem=G,e.closestItem||(e.closestItem=R.closestItem)}},t.default=function(e){for(var r=e.game,a=(e.SW,e.SH,e.WW,e.WH,r.player),A=0;A<a.length;A++){var n=a[A];t.addProximityDetectionToShip(n,e,!1)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(57),r(1),r(0),r(0),r(116),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};t.resetFogSystems=function(){for(var e in s){s[e].list=[]}};var l=function(e,t,r,A,n,o,i){var s=i,l=new a.Vector(0,n*Math.random());l.setAngle(Math.random()*Math.PI*2),l.addXY(r,A),e.push({txtBuf:t,vel:new a.Vector((Math.random()-.5)*s,(Math.random()-.5)*s),pos:l,scale:(.5+.5*Math.random())*o,remove:!1})},u=new a.Vector(0,0);t.default=function(e,t,a,d,c,f,p,g,h,v,y,m){void 0===v&&(v=256),void 0===y&&(y=10),void 0===m&&(m=-1);var S=e.gl,E=e.step,x=e.SX,T=e.SY,_=(e.SW,e.SH,e.game),I=(e.stepMS,""+f+p+g+h+v);if(i.onStage(e,d,c,700+3*t)){var M=s[I];if(!M){var L=o.createRadialGradientTexture(f,p,g,h,v);M=s[I]={buffer:L,list:[]}}var w=M.buffer,P=M.list;if(E>0&&!_.isPaused){if(P.length<a)for(var R=m>0?Math.min(m,a):Math.round(3*Math.random()),b=0;b<R;b++)l(P,w,d,c,t,1,y);!function(e,t,r,a){for(var A=e.length,n=0;n<A;n++){var o=e[n];if(0===n&&o.scale>.5){for(var i=0;i<5;i++)l(e,o.txtBuf,o.pos.x,o.pos.y,t*o.scale,.2*o.scale,a);o.remove=!0,o.scale=0}o.vel.mult(.99),u.set(o.vel.x,o.vel.y),u.mult(r),o.pos.add(u),r>0&&(o.scale*=.99),o.scale<.2&&(o.scale*=.98,o.scale<.01&&(o.remove=!0))}}(P,v,1,y),M.list=function(e){for(var t=[],r=e.length,a=0;a<r;a++){var A=e[a];A.remove||t.push(A)}return t}(P)}var O=Math.min(2,_.zoomTXinverted);for(b=0;b<P.length;b++){var C=P[b];r.default.addGL(S,A.default(n.GLctx.Texture,S),w,C.pos.x-x,C.pos.y-T,e,C.scale*O,C.scale*O)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(46),r(0)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(){}return e.create=function(e,t,a,A){void 0===a&&(a=!1);var n=t.getContext("2d").getImageData(0,0,t.width,t.height),o=r.default().global_gl,i={imageData:n,w:t.width,h:t.height,length:n.data.length,texture:this.imageDataToTexture(o,n),str:e};return this.IGNORE_CACHE&&!a||(this.buffer[e]=i),i},e.addGL=function(e,t,r,A,n,o,i,s){void 0===i&&(i=1),void 0===s&&(s=1);var l=r.texture.texture,u=r.texture.width,d=r.texture.height;e.bindTexture(e.TEXTURE_2D,l);var c=a.GLAttribLocations(e,"a_texcoord"),f=a.GLUniformLocation(e,"u_matrix"),p=a.GLUniformLocation(e,"u_texture"),g=a.GLUniformLocation(e,"distortionStart"),h=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(g,Math.random()),e.uniform1f(h,Math.random());var v=window.m4;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0);var y=v.orthographic(0,o.SW,o.SH,0,-1,1);y=v.translate(y,A-r.texture.width*i*.5,n-r.texture.height*s*.5,0),y=v.scale(y,u*i,d*s,1),e.uniformMatrix4fv(f,!1,y),e.uniform1i(p,0),e.drawArrays(e.TRIANGLES,0,6)},e.imageDataToTexture=function(e,t){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);var a={width:t.width,height:t.height,texture:r,index:this.textureIndex};return this.textureIndex++,e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a},e.textBatch={},e.textureIndex=0,e.MaxErrTypeWarns=4,e.NumErrTypeWarns=0,e.positionBuffer=null,e.positions=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.texcoords=new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),e.INITIALIZATION=!0,e.IGNORE_CACHE=!0,e.initializationBuffer={},e.buffer={},e.CACHE_SPLIT_KEY="[-_-]",e}();t.default=A}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(5),r(1),r(13),r(11),r(36),r(36),r(15),r(18),r(20),r(20),r(7),r(19)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=new A.Vector(0,0);t.SpaceSpiders=function(e){var A=e.game,h=e.WW,m=e.WH,S=e.step;if(f.getQuadTreesObj().Asteroids){for(var E=s.getBaseTargetArrays(e),x=0;x<A.spaceSpiders.length;x++){var T=A.spaceSpiders[x],_=i.default(T,T.pos,2e3,E),I=Math.atan2(_.targetPos.y-T.pos.y,_.targetPos.x-T.pos.x)+Math.PI;T.angle=a.normalizeRadianAngle(T.angle);var M=.07*a.angleDelta(T.angle,I)*S;if(T.angle+=M,n.default(T,T.infected?.09*S:S),v(T),o.shift(T,h,m),l.default(A.forceField,T,!0),u.wormhole(T,e),T.stunned){T.stunned=!1;for(var L=T.legs.length,w=0;w<L;w++){var P=T.legs[w];t.updateSpiderLeg(P),t.maxRotateSpiderLeg(P,(w%2==0?(L-w)/L:w/L)+.2*Math.random(),T.angle)}}else{var R=r.distanceBetweenVectors(_.targetPos,T.pos)-2*T.radius;_.target&&R<_.target.radius+1.2*T.radius&&(_.target.vel.mult(.9),p.DamageItem(_.target,.05*S));var b=.0033*Math.min(R,300);g.set(.1*b,0),g.setAngle(T.angle+Math.PI),T.vel.add(g),T.vel.getLength()>4&&T.vel.setLength(4),T.vel.mult(.99);var O=d.default(T,T.angle,c.getGenericAvoidance(T,e,[],[]));if(T.vel.add(O.avoidance),e.IS_MULTIPLAYER){if(e.IS_SERVER)continue}else if(!o.onStage(e,T,15*T.radius))continue;for(w=0;w<T.legs.length;w++){P=T.legs[w];if(w>=2&&w<=5){var C=P.bones[P.bones.length-1];C.pos.x-=.1*(C.pos.x-_.targetPos.x),C.pos.y-=.1*(C.pos.y-_.targetPos.y);for(var G=P.bones.length-1;G>0;G--)y(P.bones[G-1],P.bones[G],!1);var N=P.bones[0];N.pos.x=T.pos.x,N.pos.y=T.pos.y;for(G=1;G<P.bones.length;G++)y(P.bones[G],P.bones[G-1],!0)}else{t.updateSpiderLeg(P);var F=.6*T.vel.getLength();T.swimPosInL?T.swimPosL+=M>.01?T.swimPosL*(1.089-1)*F*S:M<-.01?T.swimPosL*(1.019-1)*F*S:T.swimPosL*(1.089-1)*F*S:T.swimPosL+=M>.01?T.swimPosL*(.89-1)*F*S:M<-.01?T.swimPosL*(.969-1)*F*S:T.swimPosL*(.89-1)*F*S,T.swimPosInR?T.swimPosR+=M>.01?T.swimPosR*(1.019-1)*F*S:T.swimPosR*(1.089-1)*F*S:T.swimPosR+=M>.01?T.swimPosR*(.969-1)*F*S:T.swimPosR*(.89-1)*F*S,w<4?t.maxRotateSpiderLeg(P,T.swimPosL,T.angle):w>3&&t.maxRotateSpiderLeg(P,T.swimPosR,T.angle),T.swimPosL>=1?(T.swimPosL=.99,T.swimPosInL=!1):T.swimPosL<=.01&&(T.swimPosL=.01,T.swimPosInL=!0),T.swimPosR>=1?(T.swimPosR=.99,T.swimPosInR=!1):T.swimPosR<=.01&&(T.swimPosR=.01,T.swimPosInR=!0)}}}}return"Space spiders"}};var h=new A.Vector(0,0),v=function(e){for(var t=0;t<e.legs.length;t++){var r=e.legs[t].bones[0];r.angle=r.staticAngle+e.angle,h.set(.7*e.radius,0),h.setAngle(r.angle),r.pos.set(h.x+e.pos.x,h.y+e.pos.y)}};function y(e,t,A){var n,o=e.length,i=e.pos.x-t.pos.x,s=e.pos.y-t.pos.y,l=Math.atan2(s,i),u=a.normalizeRadianAngle(t.angle);A&&(l=t.maxRange<0?(n=a.normalizeRadianAngle(-r.angleDifference(u,l)))>t.minRange?a.normalizeRadianAngle(u+t.minRange):n<t.maxRange?a.normalizeRadianAngle(u+t.maxRange):a.normalizeRadianAngle(u+n):(n=a.normalizeRadianAngle(-r.angleDifference(u,l)))<t.minRange?a.normalizeRadianAngle(u+t.minRange):n>t.maxRange?a.normalizeRadianAngle(u+t.maxRange):a.normalizeRadianAngle(u+n));e.pos.x=t.pos.x+Math.cos(l)*o,e.pos.y=t.pos.y+Math.sin(l)*o,A&&(e.angle=a.normalizeRadianAngle(l))}t.updateSpiderLeg=function(e){for(var t=e.bones,r=t.length,a=1;a<r;a++){var A=t[a-1],n=t[a];h.set(n.length,0),h.setAngle(A.angle),n.pos.x=A.pos.x+h.x,n.pos.y=A.pos.y+h.y}},t.minRotateSpiderLeg=function(e){var t=e.bones,r=t.length;t[0].angle=a.normalizeRadianAngle(t[0].staticAngle+t[0].minRange);for(var A=1;A<r;A++){var n=t[A-1],o=t[A];o.angle=a.normalizeRadianAngle(o.minRange+n.angle)}},t.maxRotateSpiderLeg=function(e,t,r){void 0===t&&(t=1);var A=e.bones,n=A.length,o=A[0];o.angle=a.normalizeRadianAngle(o.maxRange*t-o.minRange+r);for(var i=1;i<n;i++){var s=A[i-1],l=A[i];l.angle=a.normalizeRadianAngle(l.maxRange*t-l.minRange+s.angle)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3),r(2),r(5)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRFsingle=function(e,t){var n=new r.Vector(e.x,e.y);return{netangle:0,netpos:{x:e.x,y:e.y},netvel:{x:0,y:0},type:32,guid:a.getGuid(),pos:n,staticPos:n.toPoint(),radius:t,vel:new r.Vector(0,0),sides:Math.max(7,Math.floor(t/20)),angle:0,angleVel:0,life:t*A.ROCKFORMATION_RADIUS_LIFE_MULTIP,remove:!1,targetFlagged:!1,forceX:0,forceY:0,stunned:!1}};var o=function(e,a,A,i,s,l,u){var d=new r.Vector(a,0);if(a>40||u&&a>4){var c=t.createRFsingle(e,a);A.push(c);for(var f=l?4:Math.random()>.9?2:1,p=0,g=0;g<f;g++){if(d.set(1.35*a,0),l)p=Math.random()*Math.PI*2;else if(f>1){if(0===g)p=n.normalizeRadianAngle(s)-Math.random()*Math.PI*.7;else if(p=n.normalizeRadianAngle(s)+Math.random()*Math.PI*.7,!u&&Math.random()>.6){var h=new r.Vector(a,0),v=p;Math.random(),d.setAngle(v);var y={x:e.x+h.x,y:e.y+h.y},m={arc:[],attachedToGuid:c.guid,under:!0,pos:{x:e.x,y:e.y}};i.push(m),o(y,f>1?.6*a:.96*a,m.arc,i,v,!1,!0)}}else p=n.normalizeRadianAngle(s)+(Math.random()-.5)*Math.PI*.75;d.setAngle(p);var S={x:e.x+d.x,y:e.y+d.y};o(S,u?f>1?.45*a:.92*a:f>1?.6*a:.96*a,A,i,p,!1,u)}}},i=function(e,t){for(var r=0,A=0;A<e.length;A++){var n=e[A],o=a.distanceBetweenXYXY(n.pos.x,n.pos.y,t.x,t.y)+n.radius;o>r&&(r=o)}return r};t.default=function(e,t,A){var n=[],s=[];return o({x:e,y:t},A,n,s,0,!0,!1),{rockFormations:n,rockFormationArcs:s,rfSystem:{type:33,guid:a.getGuid(),pos:new r.Vector(e,t),vel:new r.Vector(0,0),life:1,radius:i(n,{x:e,y:t}),remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(2),r(8)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var A=[];A.push(a.default.createSplitted("MISSION "+e,r.TEXT_SIZE_MEDIUM,"r")),A.push(a.default.createSplitted(" ",r.TEXT_SIZE_MEDIUM,"r"));for(var n=0;n<t.length;n++)A.push(a.default.createSplitted(t[n],r.TEXT_SIZE_MEDIUM,"r"));return A.push(a.default.createSplitted(" ",r.TEXT_SIZE_MEDIUM,"r")),A.push(a.default.createSplitted("PRESS ANY KEY TO CONTINUE.",r.TEXT_SIZE_MEDIUM,"r")),A}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var A=[],n=0;n<t;)for(var o=A.length,i=Math.round(40*Math.random()+20),s=.8*e.WW*Math.random()+.1*e.WW,l=.8*e.WH*Math.random()+.1*e.WH,u=(new r.Vector(5*(Math.random()-.5),5*(Math.random()-.5)),0);u<i;u++){var d={target:null,gettingBackToGroup:!1,groupLeader:0===u,leaderIndex:o,pos:new r.Vector(s+Math.random()*e.SW*.01,l+Math.random()*e.SH*.01),vel:new r.Vector(5*(Math.random()-.5),5*(Math.random()-.5)),guid:a.getGuid(),maxSpeed:8,radius:30,type:62,life:100,attackMode:!1,attackTimer:0,abortedAttackTimer:0,inAttackSwarm:!1,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};if(A.push(d),++n>t)break}return A}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(1),r(9),r(5),r(63),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=new a.Vector(0,0),l=new a.Vector(0,0);t.vectorsToVertices=function(e,t,r,a,A,o,i){void 0===o&&(o=0),void 0===i&&(i=-1);for(var u=e.length,d=[],c=0;c<u;c++){var f=t[e[c]];l.set(f.x,f.y),c===i&&l.mult(o);var p=n.rotateVector(l,A,s),g=p.x+r,h=p.y+a;d.push(g,h)}return d};t.default=function(e,a,s,l,u,d,c,f){void 0===f&&(f=0);var p=c||(a.cloaked?{r:.01,b:.1,g:.1}:A.ShipColors[a.colorIndex]),g=a.life>i.PLAYER_LIFE_LOW_THRESHOLD?0:1-n.map(a.life,0,i.PLAYER_LIFE_LOW_THRESHOLD,0,1),h=o.default((f||(13===a.type?1:2))*e,!1,g),v=h.leftWing,y=h.rightWing,m=h.hood,S=h.cockpitGlass,E=h.roof,x=h.baseWingIndexes,T=h.endWingIndexes,_=h.hoodIndexes,I=h.cockpitglassIndexes,M=h.roofIndexes,L=a.cloaked?0:-.2,w=a.cloaked?0:-.4,P=a.cloaked?0:-.7,R=a.angle+.5*Math.PI,b=(a.pos.x-s)*e,O=(a.pos.y-l)*e,C=t.vectorsToVertices(x,y,b,O,R),G=t.vectorsToVertices(T,y,b,O,R),N=t.vectorsToVertices(x,v,b,O,R),F=t.vectorsToVertices(T,v,b,O,R),B=t.vectorsToVertices(_,m,b,O,R),D=t.vectorsToVertices(M,E,b,O,R),V=t.vectorsToVertices(I,S,b,O,R);return u.push.apply(u,V),r.addToColorMap(d,u,p.r+P,p.g+P,p.b+P,1),u.push.apply(u,B),r.addToColorMap(d,u,p.r+w,p.g+w,p.b+w,1),u.push.apply(u,D),r.addToColorMap(d,u,p.r,p.g,p.b,1),u.push.apply(u,C),u.push.apply(u,N),r.addToColorMap(d,u,p.r,p.g,p.b,1),u.push.apply(u,G),u.push.apply(u,F),r.addToColorMap(d,u,p.r+L,p.g+L,p.b+L,1),"ShipShape"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};t.offsetVectorArray=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);for(var a=e.length,A=0;A<a;A++)e[A].x=e[A].x+t,e[A].y=e[A].y+r;return e};var A=function(e,t){for(var r=e.length,a=0;a<r;a++)e[a].mult(t);return e},o=function(e,t){for(var r=function(e){for(var t=e.length,r=[],a=0;a<t;a++)r.push(e[a].clone());return r}(e),a=r.length,A=0;A<a;A++){var n=r[A];"x"!==t&&"xy"!==t||(n.x=-1*n.x),"y"!==t&&"xy"!==t||(n.y=-1*n.y)}return r};t.default=function(e,i,s){void 0===e&&(e=2),void 0===i&&(i=!1),void 0===s&&(s=0);var l=function(e,t){return e+"_"+t}(e,s);if(!i&&a[l])return a[l];var u=new r.Vector(1,-13,0),d=new r.Vector(2,-12,1),c=new r.Vector(1,0,2),f=new r.Vector(4-2.5*s,2,3),p=new r.Vector(2,2,4),g=new r.Vector(2,4,5),h=new r.Vector(1,6,6),v=new r.Vector(6-2*s,6,7),y=new r.Vector(6-3*s,8,8),m=new r.Vector(4-2*s,8-1*s,9),S=new r.Vector(2,8.5-2*s,10),E=new r.Vector(2,0),x=new r.Vector(2,6);t.offsetVectorArray([E,x],0,3);var T=n([u.id,d.id,c.id],[c.id,d.id,f.id],[c.id,f.id,p.id],[p.id,f.id,g.id],[g.id,f.id,S.id],[g.id,h.id,S.id]),_=n([f.id,S.id,v.id],[S.id,v.id,m.id],[v.id,y.id,m.id]),I=A(t.offsetVectorArray([u,d,c,f,p,g,h,v,y,m,S],0,3),e),M=new r.Vector(u.x,u.y+2*e),L=n([M,c],o([M,c],"x")),w=new r.Vector(h.x+.2*e,h.y),P=new r.Vector(c.x-.2*e,c.y+1.5*e),R=n([w,P],o([w,P],"x")),b=A(n([E,x],o([E,x],"x")),e),O=o(I,"x");O[0].x+=4*e*s,O[1].x+=4.5*e*s,I[0].x+=3*e*s,I[1].x+=2*e*s,I[1].y+=1*e*s,I[0].y+=2*e*s,I[8].x-=3*e*s,O[8].x-=1.3*e*s,L[0].x+=3*e*s,L[2].x+=4*e*s;var C={leftWing:O,rightWing:I,hood:L,cockpitGlass:b,roof:R,baseWingIndexes:T,endWingIndexes:_,hoodIndexes:[0,1,2,1,2,3],cockpitglassIndexes:[0,1,2,1,2,3],roofIndexes:[0,1,2,1,2,3]};return i||(a[l]=C),C}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(0),r(2),r(10)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.default.createSplitted("1234567890:",A.TEXT_SIZE_SMALL,"g"),r.default.createSplitted("1234567890:",A.TEXT_SIZE_LARGE,"g");var o=r.default.create("You survived for",A.TEXT_SIZE_SMALL,"w"),i=r.default.create("1",A.TEXT_SIZE_MEDIUM,"g"),s=r.default.create("1",A.TEXT_SIZE_LARGE,"r");t.msToTime=function(e){var t=Math.floor(e%1e3/100),r=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60),A=Math.floor(e/36e5);return(A>0?(A<10?"0"+A:A)+":":"")+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)+":"+t};var l=-1;t.default=function(e){var u=e.game,d=e.gl,c=u.resW;u.resH;if(u.menuSettings.gameClock&&!(u.currentLevel<=14)){var f=n.default(e),p=f?u.fromClock>0?u.fromClock-u.clock:u.clock:l;l=p;var g=i,h=A.TEXT_SIZE_SMALL;u.fromClock&&(u.clock>u.fromClock&&(p=0),p<1e4&&(h=A.TEXT_SIZE_LARGE,g=s));var v=r.default.createSplitted(t.msToTime(p),h,f?"g":"r",""),y=a.default(a.GLctx.Texture,d);return r.default.addListGL(d,y,v,c-8*g.w+8,8,e),f||r.default.addGL(d,y,o,c-(8*g.w+8+o.w),8,e),"clock"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(0),r(4)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null,o=null;t.setTargetToFrameBuffer=function(e){var t=e.gl,a=e.game;if(t.bindFramebuffer(t.FRAMEBUFFER,o),t.viewport(0,0,t.canvas.width,t.canvas.height),a.menuSettings.motionBlur){t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),r.default(r.GLctx.Vertices,t);var n=[];A.fillPoly(0,0,0,t.canvas.width,t.canvas.height,n),A.drawColor(n,t,0,0,0,.3),t.blendFunc(t.ONE,t.ONE)}else t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.renderFrameBuffer=function(e,t){e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(t),e.bindTexture(e.TEXTURE_2D,n),e.viewport(0,0,e.canvas.width,e.canvas.height);var r=a.GLAttribLocations(e,"a_texcoord"),A=a.GLUniformLocation(e,"u_matrix"),o=a.GLUniformLocation(e,"u_texture"),i=a.GLUniformLocation(e,"distortionStart"),s=a.GLUniformLocation(e,"distortionEnd");e.uniform1f(i,Math.random()),e.uniform1f(s,Math.random());var l=window.m4;e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0);var u=l.orthographic(0,e.canvas.width,e.canvas.height,0,-1,1);u=l.translate(u,0,e.canvas.height,0),u=l.scale(u,e.canvas.width,-e.canvas.height,1),e.uniformMatrix4fv(A,!1,u),e.uniform1i(o,0),e.drawArrays(e.TRIANGLES,0,6)},t.setTargetToCanvas=function(e){e.bindFramebuffer(e.FRAMEBUFFER,null)},t.setupFrameBuffer=function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t);var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),n=e.createTexture(),e.bindTexture(e.TEXTURE_2D,n);var a=e.RGBA,A=e.RGBA,i=e.UNSIGNED_BYTE;e.texImage2D(e.TEXTURE_2D,0,a,e.canvas.width,e.canvas.height,0,A,i,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,o);var s=e.COLOR_ATTACHMENT0;e.framebufferTexture2D(e.FRAMEBUFFER,s,e.TEXTURE_2D,n,0)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(12),r(150),r(41)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},o={};o[2]=10,o[11]=10,o[35]=10,o[3]=10,n[2]=[],n[11]=[],n[35]=[],n[3]=[];var i=0;t.pool_put=function(e,t){n[e],n[e].push(t)},t.pool_get=function(e){var t=n[e];return t.length>0?t.pop():(function(e){i=e;for(var t=o[e],r=0;r<t;r++)n[e].push(a.struct(e));o[e]=t+10}(e),t.pop())},t.pool_log=function(){for(var e in n)r.LOG_GL_FIXED("F/R: "+o[e]+" | "+n[e].length,A.TypesToString(parseInt(e,10)));r.LOG_GL_FIXED(A.TypesToString(i),"LAST FILLED")}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(2),r(2)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return e<r?e+t>r?e+t-r:t:0};t.default=function(e,t,o){var i,s=e.type,l=!1,u=0;switch(s){case 16:u=n(t.availableMines,3,a.SHIP_MAX_PROXIMITYMINES),t.availableMines+=u;break;case 15:u=n(t.life,40,A.SHIP_MAX_LIFE),t.life+=u;break;case 21:u=n(t.availableElectroBastardRays,200,A.SHIP_MAX_ELECTROBASTARDRAYS),t.availableElectroBastardRays+=u;break;case 17:u=n(t.availableRockets,3,A.SHIP_MAX_ROCKETS),t.availableRockets+=u;break;case 18:u=n(t.availableRockets,5,A.SHIP_MAX_ROCKETS),t.availableRockets+=u;break;case 20:u=n(t.availableMissiles,3,A.SHIP_MAX_MISSILES),t.availableMissiles+=u;break;case 19:u=n(t.availableRockets,8,A.SHIP_MAX_ROCKETS),t.availableRockets+=u;break;case 14:u=n(t.shields,950,A.SHIP_MAX_SHIELD),t.shields+=u;break;case 22:u=n(t.boost,80,A.SHIP_MAX_BOOST),t.boost+=u;break;case 23:t.bulletWeaponLevel++,u=1;break;case 24:o.IS_MULTIPLAYER&&!o.IS_SERVER||(i=o.game.drones).push.apply(i,r.createDrones(o,t.pos,1,t.guid)),u=1;break;case 26:u=n(t.homingBullets,120,A.SHIP_MAX_HOMING_BULLETS),t.homingBullets+=u;break;case 27:u=n(t.ultrabright,950,a.SHIP_MAX_ULTRABRIGHT),t.ultrabright=u;break;default:l=!0}var d=!!u;if(e.remove=d,!l&&d&&(!o.IS_MULTIPLAYER||o.IS_SERVER)){var c={life:A.NOTIFICATION_LIFE,type:s,onlyForGuid:t.guid};o.game.notifications.unshift(c),t.score+=100}},t.getRandBonusType=function(e){if(void 0===e&&(e=.05),Math.random()<e)switch(Math.floor(15*Math.random())){case 0:return 14;case 1:return 15;case 2:case 3:case 4:return 17;case 5:return 21;case 6:return 22;case 7:case 8:return 15;case 9:return 23;case 10:return 24;case 11:return 20;case 12:return 26;case 13:return 27;case 14:return 16}return 30}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParasite=function(e,t,A,n,o,i){for(var s=[],l=0;l<A;l++)s.push({angle:0,offsetFront:new r.Vector(0,-2),offsetRear:new r.Vector(0,2),pos:new r.Vector(e,t),type:41,guid:a.getGuid(),vel:new r.Vector(0,0),life:2,radius:2,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0});return{infected:!1,netpos:{x:e,y:t},netvel:{x:0,y:0},netangle:0,angle:0,pos:new r.Vector(0,0),vel:new r.Vector(0,0),radius:A,guid:a.getGuid(),type:41,target:null,tsValue:1,targetShift:40*Math.random(),restPos:new r.Vector(n,o),segments:s,life:i||400+100*Math.random(),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(1),r(5),r(13),r(20),r(11),r(18),r(15),r(36),r(3),r(49),r(91),r(41),r(36),r(20),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=new a.Vector(0,0);t.default=function(e){var t=e.game,a=e.step,c=(e.SW,e.SH,e.SX,e.SY,e.WW),f=e.WH,m=e.stepMS;if(v.getQuadTreesObj().Asteroids){for(var S=g.getBaseTargetArrays(e),E=0;E<t.spaceSquids.length;E++){var x=t.spaceSquids[E],T=u.default(x,x.pos,2e3,S),_=T.targetPos,I=x.tentacles;x.angle=A.normalizeRadianAngle(x.angle),y.x=200,y.y=0,y.setAngle(x.angle),y.add(x.pos);var M=x.pos,L=r.distanceBetweenVectors(M,_),w=x.angle;if(L>30){var P=Math.atan2(_.y-M.y,_.x-M.x),R=L>x.radius?.15:.3;if(x.angle+=A.angleDelta(x.angle,P)*R*a,e.IS_MULTIPLAYER&&!e.IS_SERVER){var b=d.angleDifference(x.angle,x.netangle);b>.05*Math.PI&&(x.angle-=.05*b*a)}y.x=.1,y.y=0,y.setAngle(x.angle)}else y.setLength(0),x.vel.mult(.9);var O=o.default(x,x.angle,h.getGenericAvoidance(x,e,[],[]));x.vel.add(O.avoidance),x.vel.add(y),w=d.angleDifference(x.angle,w),x.vel.getLength()>4&&x.vel.setLength(4),n.default(x,x.infected?.8*a:a),i.shift(x,c,f),l.default(t.forceField,x,!0,1,3),s.wormhole(x,e),T.targetIsIM&&!x.stunned&&L<2*T.target.radius&&(T.target.life--,p.ShipLike(T.target.type)&&(T.target.damageTaken=!0));for(var C=x.angle,G=I.length,N=Math.floor(G/2),F=0;F<G;F++){var B=I[F];B.glowIndex--,B.glowIndex<0&&(B.glowIndex=B.arm.length),B.searchTime+=m;var D=B.arm[B.arm.length-1],V=B.arm[0];if(y.x=V.centerX,y.y=V.centerY,A.rotateVector(y,w,y),V.centerX=y.x,V.centerY=y.y,V.angle+=w,L<B.reach)B.target.x=_.x-x.pos.x,B.target.y=_.y-x.pos.y,B.searchTime=0,r.distanceBetweenXYXY(B.target.x,B.target.y,D.centerX,D.centerY)<5&&T.targetIsIM&&T.target.vel.mult(.666);else if(B.searchTime>20){y.x=2*B.reach,y.y=0;var X=.05*(x.infected?.1*a:a);B.swimIn?(B.swimAngle+=X,B.swimAngle>.5&&(B.swimIn=!1)):(B.swimAngle-=X,B.swimAngle<-.3&&(B.swimIn=!0));var H=B.swimAngle;F<N?A.rotateVector(y,C-H,y):A.rotateVector(y,C+H,y),B.target.x=y.x,B.target.y=y.y,B.searchTime=15*Math.random()}for(var k=1;k<B.arm.length;k++){var W=B.arm[k],U=B.arm[k-1];W.leftMuscle.relax(),W.rightMuscle.relax(),x.stunned?Math.random()>.5?W.leftMuscle.contract():W.rightMuscle.contract():W.moveMusclesForTarget(B.target.x,B.target.y),W.updatePosition(U)}}x.stunned=!1}return"spacesquids"}},t.createPartsFromSquid=function(e,t){var r=[];f.renderSquids(t,r,[],[],[e],0,0);for(var n=r.length,o=0;o<n;o+=2){var i=r[o],s=r[o+1],l={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,pos:new a.Vector(i,s),vel:new a.Vector(0,0),guid:d.getGuid(),radius:2,life:2,type:61};t.game.spaceDust.push(l)}var u=new a.Vector(0,0),p=new a.Vector(0,0);for(o=1;o<10;o++){var g={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},sides:8,pos:e.pos,vel:new a.Vector(0,0),life:e.life,guid:e.guid,type:e.type,radius:.5*e.radius*o*.5,angle:e.angle,angleVel:0};c.default(g,t,0)}for(var h=e.pos.x,v=e.pos.y,y=e.tentacles,m=0;m<y.length;m++)for(var S=y[m],E=0;E<S.arm.length;E++){var x=S.arm[E],T=.5*x.leftMuscle.l+.5*x.rightMuscle.l;u.x=-.5*T,u.y=0,A.rotateVector(u,x.angle,u),p.x=.8*T,p.y=0,A.rotateVector(p,x.angle,p);var _=new a.Vector(0,.08*Math.random());_.setAngle(-.5*Math.random()*(4*Math.PI));var I=new a.Vector(u.x,u.y),M=new a.Vector(p.x,p.y),L=new a.Vector(x.centerX+h,x.centerY+v),w={fromType:e.type,edgeA:I,edgeB:M,rotatedEdgeA:new a.Vector(0,0),rotatedEdgeB:new a.Vector(0,0),colorFade:255,complexPartIndices:null,complexPartVectors:null,pos:L,angle:0,angleVel:.005*Math.random(),vel:_,guid:d.getGuid(),type:40,life:100+50*Math.random(),radius:x.width,width:.3*x.width,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.game.asteroidParts.push(w)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(151)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.default(t,e)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(5),r(16)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShipWeaponLoadout=["FIRE","MISSILE","DOWN","CHARGE","ELECTROBASTARDRAY","BOOST"];var A={x:-1,y:-1},n=!1,o=!1,i=!1,s=!1;t.enableShipMousecontrol=function(){window.addEventListener("mousemove",function(e){A.x=e.x,A.y=e.y;var t=a.default().engine.game;t.currentLevel>14?t.menuSettings.mouseControl||i||(t.notifications.push({type:49,life:1e3,message:"Mouse control can be enabled in menu. ESC/OPTIONS/STEER WITH MOUSE [ON]"}),i=!0):14===t.currentLevel&&(s||(s=!0,t.notifications.push({type:49,life:1e3,message:"Use arrow UP/DOWN and ENTER/ESCAPE to navigate menu"})))}),window.addEventListener("mousedown",function(e){2===e.button?o=!0:0===e.button&&(n=!0)}),window.addEventListener("mouseup",function(e){2===e.button?o=!1:0===e.button&&(n=!1)}),window.addEventListener("wheel",function(e){l=Math.sign(e.deltaY)})};var l=0;t.default=function(e){0!==l&&(!function(e,r){var a=e.selectedPrimaryWeapon+r;a<0||a>t.ShipWeaponLoadout.length-1||(e.selectedPrimaryWeapon=a)}(e,l),l=0);var a=Math.atan2(A.y-(e.pos.y-e.SY),A.x-(e.pos.x-e.SX));e.angle=r.normalizeRadianAngle(e.angle);var i=r.angleDelta(e.angle,a);i<-.05?(e.keyCodes.LEFT=!0,e.keyCodes.RIGHT=!1):i>.05?(e.keyCodes.RIGHT=!0,e.keyCodes.LEFT=!1):(e.keyCodes.RIGHT=!1,e.keyCodes.LEFT=!1),e.keyCodes[t.ShipWeaponLoadout[e.selectedPrimaryWeapon]]=o,e.keyCodes.UP=n}}.apply(t,a))||(e.exports=A)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__(8),__webpack_require__(0),__webpack_require__(4),__webpack_require__(27),__webpack_require__(28),__webpack_require__(2)],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,CreateText_1,GLCTX_1,BufferGL_1,KeyMapper_1,GameState_1,Consts_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var TEXT_HEIGHT=30,TEXT_SIZE=18,MAX_LINES=14,ROW_SIZE=100,colors=["r","g","w"],i=0;i<colors.length;i++)CreateText_1.default.createSplitted("1234567890:-+*()[]'\"/|,.-_ <>",TEXT_SIZE,colors[i]),CreateText_1.default.createSplitted("QWERTYUIOPASDFGHJKLZXCVBNM",TEXT_SIZE,colors[i]),CreateText_1.default.createSplitted("qwertyuiopasdfghjklzxcvbnm",TEXT_SIZE,colors[i]);var measure=CreateText_1.default.create("1",TEXT_SIZE,"r"),openTarget=!1,polys=[],polyColorMap=[],isOpen=!1,isOpening=!1,isClosing=!1,topPos=window.innerHeight,OPEN_POS=.5*window.innerHeight,actualHintCode=[],hintLine=[],lines=[],currentLine="game".split(""),userInputIndexes=[],currentUserInputIndex=-1,scrollIndex=0,is_paused=!1,commands={godmode:function(e){if(1===e.player.length){var t=e.player[0];t.availableElectroBastardRays=1e6,t.availableRockets=1e3,t.life=1e6,t.boost=1e4,t.availableMissiles=1e3,t.bulletWeaponLevel=1e3,t.chargeTimer=10,t.ultrabright=2e7,e.notifications.push({type:49,message:"GOD MODE ENABLED",life:Consts_1.NOTIFICATION_LIFE})}},pause:function(){exports.Log("enabled"),is_paused=!is_paused},zoom:{in:function(e){e.SW*=.7,e.SH*=.7},out:function(e){e.SW*=1.3,e.SH*=1.3},eagleEye:function(e){e.SW<4e3?(e.SW*=10,e.SH*=10):commands.zoom.reset(e)},reset:function(e){e.SW=window.innerWidth,e.SH=window.innerHeight}},debugGui:function(e){e.debug=e.debug?null:{},e.menuSettings.extensiveUI=!!e.debug},clear:function(){lines=[],scrollIndex=0},kill:function(e){e.player[0]&&(e.player[0].life=0,e.player[0].remove=!0,openTarget=!1)},ship:function(e){currentLine=["game.","player[0]."]}},showHistory=function(e){var t=(currentUserInputIndex>-1?currentUserInputIndex:userInputIndexes.length-1)+e;t>userInputIndexes.length-1?t=userInputIndexes.length-1:t<0&&(t=0),lines[userInputIndexes[t]]&&(currentLine=lines[userInputIndexes[t]].join("").split(""))},convertStr=function(e,t){var r=[];if(e&&e.length>1){for(var a=e.split(""),A=0;A<a.length;A++){var n=a[A];if(t){if(t.indexOf(n)>-1){A++,r.push(n),lines.push(r),r=[];continue}}else if("\\"===n&&("n"===a[A+1]||"r"===a[A+1])){A++,lines.push(r),r=[];continue}r.push(a[A]),r.length>ROW_SIZE&&" "===n&&(lines.push(r),r=[])}r.length>0&&lines.push(r)}else lines.push(e+"");removeOld()},removeOld=function(){lines.length>400&&(lines=lines.splice(100,lines.length))},addToLine=function(e){if(e&&e.length>1)for(var t=e.split(""),r=0;r<t.length;r++)currentLine.push(t[r]),currentLine.length>ROW_SIZE&&(lines.push(currentLine),currentLine=[]);else currentLine.push(e+"");removeOld()},removeFromLine=function(){currentLine.pop()},executeCommand=function(e){for(var t=commands,r=e.split("."),a=0;a<r.length;a++){var A=r[a];t[A]&&(t=t[A])}return!(!t||"function"!=typeof t)&&(t(window.game),!0)},executeLine=function(){var str=currentLine.join("");if(!executeCommand(str)){userInputIndexes.push(lines.length),currentUserInputIndex=-1,lines.push(currentLine),currentLine=[];var res="";try{res=JSON.stringify(eval(str),null,1)}catch(e){res=e+""}convertStr("> "+res,",{}")}},KEYMAP={TILDE:220,BACKSPACE:8,DELETE:46,RETURN:13,SHIFT:16,CAPSLOCK:20,ALT:17,ALTGR:18,UP:38,DOWN:40,LEFT:37,RIGHT:39,HOME:35,END:36,ESCAPE:27},close=function(e){e.SH,e.stepMS;isClosing=!0,(topPos*=1.1)>e.game.resH&&(topPos=e.game.resH,isClosing=!1,isOpening=!1,isOpen=!1)},open=function(e){e.SH,e.stepMS;isOpening=!0,(topPos*=.9)<.5*e.game.resH&&(topPos=.5*e.game.resH,isClosing=!1,isOpening=!1,isOpen=!0)},generateHints=function(){var str=currentLine.join(""),matcher="",parts=[];"."===str[str.length-1]?str=str.substr(0,str.length-1):(parts=str.split("."),matcher=parts.pop(),str=parts.join(".")),actualHintCode=[],hintLine=[];var hints=[],priorityHints=[];if(str.indexOf("game")>-1)try{var res=eval(str),i=1;if("object"==typeof res)for(var key in res){var keyValue=res[key],m="["+i+" "+key+":"+typeof keyValue+"]",c=str+"."+key;if(matcher.length>0){var idxof=key.indexOf(matcher);if(-1===idxof)continue;if(0===idxof){i++,priorityHints.push(m),actualHintCode.push(c);continue}}i++,hints.push(m),actualHintCode.push(c)}}catch(e){hints.push("[no matches]")}else{var i=0,cwd=commands,cwdUpdated=!1;for(0===parts.length&&commands[str]&&(cwd=commands[str],cwdUpdated=!0),i=0;i<parts.length;i++){var currPath=parts[i];cwd[currPath]&&(cwd=cwd[currPath],cwdUpdated=!0)}for(var key in i=0,cwd){var keyType=typeof cwd[key],strType="function"===keyType?"()":">";i++;var m="["+i+" "+key+":"+strType+"]";cwdUpdated?actualHintCode.push(str+"."+key):actualHintCode.push(key),hints.push(m)}}hintLine=priorityHints.concat(hints)},scroll=function(e){var t=scrollIndex+e;t>-MAX_LINES&&t<lines.length&&(scrollIndex=t)},blinkMarker=!1,blinkMarkerCnt=0,handleKeys=function(e,t){var r=e.keys,a=e.charCodeString;if(r.BACKSPACE)return console.log("console backspace"),removeFromLine(),void generateHints();if(r.DELETE)return console.log("console delete"),removeFromLine(),void generateHints();if(r.RETURN)return console.log("console return"),void executeLine();if(r.UP)return console.log("console up"),showHistory(-1),void generateHints();if(r.DOWN)return console.log("console down"),showHistory(1),void generateHints();if(r.HOME)return console.log("console home"),scroll(-1),void(hintLine=["scroll up:"+scrollIndex]);if(r.END)return console.log("console end"),scroll(1),void(hintLine=["scroll down:"+scrollIndex]);if(r.ESCAPE){console.log("console escape");var A=currentLine.join("").split(".");return 1===A.length&&0===A[0].length&&(openTarget=!1),A.pop(),void(currentLine=A.join(".").split(""))}if(r.SHIFT||r.CAPSLOCK||r.ALT||r.ALTGR||r.LEFT||r.RIGHT)console.log("console ignored keys");else{var n=t-48-1;t>=48&&t<=57&&actualHintCode.length>0&&n<actualHintCode.length&&n>=0?currentLine=actualHintCode[n].split(""):null!==a&&addToLine(a),generateHints()}};exports.default=function(e){e.frame;var t=e.game,r=e.gl,a=e.stepMS,A=t.resW,n=t.resH;if(t.allKeyCodes.currentKeyCode===KeyMapper_1.Keys.TILDE&&(t.state.console.active?isOpen&&(openTarget=!1):isOpen||(openTarget=!0,GameState_1.StateMachine(t.state).consoleActivate())),t.state.console.active){isOpen||openTarget||GameState_1.StateMachine(t.state).consoleDisable(),handleKeys(t.allKeyCodes.console,t.allKeyCodes.currentKeyCode),t.allKeyCodes.console.keys.ESCAPE&&(openTarget=!1),polys=[],polyColorMap=[];if(openTarget?open(e):isOpen&&close(e),isOpen||isOpening||isClosing){var o=t.zoomTX;BufferGL_1.fillPoly(A*o,0,topPos*o,A*o,(topPos+.5*n)*o,polys),BufferGL_1.addToColorMap(polyColorMap,polys,0,0,0,.8),BufferGL_1.fillPoly(A*o,0,topPos*o,A*o,1*o,polys),BufferGL_1.addToColorMap(polyColorMap,polys,.5,.5,.5,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);var i=GLCTX_1.default(GLCTX_1.GLctx.Vertices,r);BufferGL_1.drawColorMap(polyColorMap,polys,i,r),r.blendFunc(r.ONE,r.ONE);var s=GLCTX_1.default(GLCTX_1.GLctx.Texture,r),l=CreateText_1.default.createSplitted(hintLine.join(" ").substr(0,ROW_SIZE),TEXT_SIZE,"g","");CreateText_1.default.addListGL(r,s,l,10,10+topPos,e);for(var u=Math.max(lines.length-MAX_LINES-scrollIndex,0),d=Math.min(u+MAX_LINES,lines.length),c=1,f=u;f<d;f++){var p=CreateText_1.default.createSplitted(lines[f].join(""),TEXT_SIZE,"r","");CreateText_1.default.addListGL(r,s,p,10,10+topPos+c*TEXT_HEIGHT*1,e),c++}var g=CreateText_1.default.createSplitted(currentLine.join(""),TEXT_SIZE,"w",blinkMarker?"_":"");return CreateText_1.default.addListGL(r,s,g,10,10+topPos+c*TEXT_HEIGHT*1,e),(blinkMarkerCnt+=a)>500&&(blinkMarker=!blinkMarker,blinkMarkerCnt=0),"Console"}}};var ErrCnt=0;exports.Err=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];is_paused||convertStr("("+ ++ErrCnt+") "+e.join(", "))},exports.Log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];is_paused||convertStr(e.join(", "))},exports.ForceOpen=function(){isOpen||is_paused||(openTarget=!0)},exports.GetConsoleOpen=function(){return isOpen}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(1),r(3),r(13),r(15),r(6),r(7),r(53)],void 0===(A=function(e,t,r,a,A,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=new r.Vector(0,0),d=0,c=new l.QuadTreeUint8Point(new i.Rectangle(0,0,10,10),5,61),f=0;t.GetSpaceDustTree=function(){return c},t.default=function(e){var t=e.game,l=e.step,p=e.SW,g=e.SH,h=e.SX,v=e.SY,y=(e.WW,e.WH,s.getQuadTreesObj());if(t.menuSettings.spacedust&&y&&y.Drones){f<2?f++:f=0;var m=new i.Rectangle(h-300,v-300,p+600,g+600),S=new i.Rectangle(h,v,p,g),E=t.spaceDust,x=t.explosions;if(E.length<9e3)for(var T=0;T<x.length;T++){var _=x[T];if(m.intersectsXY(_.x,_.y))for(var I=_.radius,M=2*I,L=0;L<M;L++)u.x=0,u.y=0,u.setLength(10*I+Math.random()*I*15),u.setAngle(9*Math.random()),E.push({type:61,pos:new r.Vector(_.x+u.x,_.y+u.y),vel:new r.Vector(Math.random()-.5,Math.random()-.5),radius:2,life:1,guid:a.getGuid(),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0})}c.reset(),c.setup(m,100,61);var w=E.length,P=[];for(T=0;T<w;T+=2){var R=E[T];c.insert(R)&&P.push(R)}var b=P,O=b.length,C=n(y.Drones.queryInt(S),y.Enemies.queryInt(S),y.Player.queryInt(S),y.Rockets.queryInt(S),y.Asteroids.queryInt(S),y.SpacePortCannons.queryInt(S),y.SpaceSpiders.queryInt(S),y.RockFormations.queryInt(S)),G=(performance.now(),C.length),N=new i.Rectangle(0,0,0,0);for(T=0;T<G;T++){var F=C[T],B=2*F.radius;0===F.type?B=2*F.originalRadius:30!==F.type&&28!==F.type||(B=F.radius),N.x=F.pos.x-B,N.y=F.pos.y-B,N.width=2*B,N.height=2*B;var D=c.queryCircle(F.pos,F.radius),V=D.length;for(L=0;L<V;L+=2){R=D[L];var X=Math.atan2(F.pos.y-R.pos.y,F.pos.x-R.pos.x);R.vel.setAngle(X+Math.PI),R.vel.setLength(1+Math.random())}}for(T=0;T<O;T++){R=b[T];o.default(t.forceField,R,!1,5),R.vel.getLength()>7&&R.vel.setLength(7),A.default(R,l),R.vel.mult(.98)}return++d>8&&w>8400&&(d=0,t.spaceDust=E.slice(100,E.length)),"spacedust"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(6),r(1),r(3),r(13),r(11),r(15),r(12),r(18),r(3),r(7),r(45)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=new r.Rectangle(0,0,0,0),g=new f.QuadTreeUint8(p,8,62),h=[],v=0;t.getSpaceBatTree=function(){return g};var y=new a.Vector(0,0),m=new a.Vector(0,0),S={},E=function(e,t){var r=e.guid+"_"+t.guid,a=S[r];return a||(a=A.distanceBetweenVectors(e.pos,t.pos),S[r]=a,S[t.guid+"_"+e.guid]=a,a)},x=function(e,t){return p.x=e.pos.x-.5*t,p.y=e.pos.y-.5*t,p.width=t,p.height=t,g.queryInt(p)},T=function(e){y.x=0,y.y=0;for(var t=0,r=1e3,a=x(e,r),A=a.length;A<5&&r<2e3;)A=(a=x(e,r*=4)).length;for(var n=0;n<A;n++){var o=a[n];if(o.guid!==e.guid){var i=E(e,o);i>0&&i<500&&(y.add(o.pos),t++)}}return t>0?(y.div(t),M(e,y)):y},_=function(e){y.x=0,y.y=0;for(var t=0,r=x(e,1e3),A=r.length,n=0;n<A;n++){var o=r[n];if(o.guid!==e.guid)E(e,o)<500&&(y.add(o.vel),t++)}if(t>0){y.div(t),y.normalize(),y.mult(e.maxSpeed);var i=a.SubtractVector(y,e.vel,m);return i.limit(.05),i}return y},I=function(e){y.x=0,y.y=0,m.x=0,m.y=0;for(var t=0,r=x(e,80),A=r.length,n=0;n<A;n++){var o=r[n];if(o.guid!==e.guid){var i=E(e,o);if(i>0&&i<40){var s=a.SubtractVector(e.pos,o.pos,m);s.normalize(),s.div(i),y.add(s),t++}}}return t>0&&y.div(t),y.magSq()>0&&(y.normalize(),y.mult(e.maxSpeed),y.subtract(e.vel),y.limit(.05)),y},M=function(e,t){var r=a.SubtractVector(t,e.pos,y);r.normalize(),r.mult(e.maxSpeed);var A=a.SubtractVector(r,e.vel,m);return A.limit(.05),A},L=function(e,t){y.x=0,y.y=0,m.x=0,m.y=0;p.x=e.pos.x-100,p.y=e.pos.y-100,p.width=200,p.height=200;for(var r=c.getQuadTreesObj().queryTreesVec(t,e.pos,200,200),a=r.length,n=0,o=0;o<a;o++){var i=r[o],s=A.distanceBetween(i,e);if(s<i.radius+e.radius+100){var l=e.guid%2==0?.5*Math.PI:-.5*Math.PI,u=Math.atan2(i.pos.y-e.pos.y,i.pos.x-e.pos.x)+l;y.x=(s-(i.radius+e.radius))/50,y.setAngle(u),m.add(y),n++}}return n>1&&m.div(n),m};t.default=function(e){var t=e.game,A=e.WW,f=e.WH,p=e.SX,y=e.SY,m=e.step,E=e.stepMS,x=e.SW,w=e.SH,P=t.spaceBats,R=P.length;S={};var b=c.getQuadTreesObj();h=[];var O=[0,7,5,12],C=n([4,3,6],O),G=n([3,6],O),N=n([4,6],O),F=n([4,3],O),B=new r.Rectangle(p-1e3,y-1e3,x+2e3,w+2e3);g.reset(),g.setup(B,8,62);for(var D=0,V=[],X=0;X<R;X++){var H=P[X];if(D<75&&B.intersectsPoint(H.pos))g.insert(H),V.push(H),D++;else{var k=P[H.leaderIndex];H.groupLeader?(H.target=null,H.targetTree=null,g.insert(H),V.push(H),D++,0):(Math.abs(H.pos.x-k.pos.x)>500||Math.abs(H.pos.y-k.pos.y)>500)&&(H.pos.x=k.pos.x+100*Math.random(),H.pos.y=k.pos.y+100*Math.random())}}new r.Rectangle(p,y,x,w);var W=V.length;v+=E,Math.random()>.99&&(v=0);var U=v<2e3;for(X=0;X<W;X++){k=P[(H=V[X]).leaderIndex];if(H.groupLeader){h=C;var Y=U&&(b.Player.queryVec(H.pos,800,800)[0]||b.Npcs.queryVec(H.pos,800,800)[0]||b.Enemies.queryVec(H.pos,800,800)[0]);if(Y&&Y.life>0&&!Y.remove){switch(H.target=Y,Y.type){case 0:H.targetTree=b.Player,h=G;break;case 12:H.targetTree=b.Npcs,h=F;break;case 8:H.targetTree=b.Enemies,h=N;break;default:H.target=null,l.LOG_GL("Bat targeting error. unknown type:"+Y.type)}(K=M(H,Y.pos)).mult(5),H.vel.add(K)}else H.target=null,H.targetTree=null,h=C;H.target&&(H.target.remove||H.target.life<1)&&(H.target=null,H.targetTree=null)}else if(k.target)if(k.target.life<1)k.target.remove=!0,k.target=null,k.targetTree=null;else{var K;(K=M(H,k.target.pos)).mult(5),H.vel.add(K);var q=k.targetTree.query(H)[0];if(q){if(0===q.type){var Z=q;Z.cloaked?q.life-=5e-4:(q.life-=.005,Z.damageTaken=!0)}else q.life-=.005;var z=H.vel.clone();z.mult(25e-5),q.vel.add(z);var j={pos:H.pos.clone(),vel:new a.Vector(0,0),guid:d.getGuid(),radius:2,life:2,type:61,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.spaceDust.push(j),q.life<1&&(q.remove=!0)}}if(!H.groupLeader&&(H.gettingBackToGroup||H.pos.x>k.pos.x+1200||H.pos.x<k.pos.x-1200||H.pos.y>k.pos.y+1200||H.pos.y<k.pos.y-1200))(K=M(H,k.pos)).mult(5),H.vel.add(K),H.gettingBackToGroup=!0,(H.pos.x<k.pos.x+200||H.pos.x>k.pos.x-200||H.pos.y<k.pos.y+200||H.pos.y>k.pos.y-200)&&(H.gettingBackToGroup=!1);else if(!k.target){var Q=I(H);Q.mult(1.75),H.vel.add(Q);var J=_(H);J.mult(1.5),H.vel.add(J);var $=T(H);$.mult(1.5),H.vel.add($)}var ee=L(H,h);H.vel.add(ee),H.vel.limit(H.gettingBackToGroup?1.75*H.maxSpeed:H.maxSpeed)}for(X=0;X<W;X++){H=V[X];s.default(t.forceField,H,!1),u.wormhole(H,e),o.default(H,m),i.shift(H,A,f)}return"spaceBats"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[],A=[];t.getAllSpaceSnakeSegmentsCached=function(e){if(a.length>0)return a;for(var t=[],r=e.length,A=0;A<r;A++)for(var n=e[A].segments,o=n.length,i=0;i<o;i++){var s=n[i];t.push(s)}return a=t,t},t.getAllSpacePortCannonsCached=function(e){if(A.length>0)return A;for(var t=[],r=e.length,a=0;a<r;a++)for(var n=e[a].cannons,o=n.length,i=0;i<o;i++){var s=n[i];t.push(s)}return A=t,t};var n=[];n[0]={type:30,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0)},n[1]={type:32,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[2]={type:33,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[3]={type:8,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[4]={type:0,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0)},n[6]={type:12,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[5]={type:37,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[7]={type:39,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[8]={type:13,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[10]={type:5,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0)},n[9]={type:2,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0)},n[11]={type:1,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[12]={type:28,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[13]={type:29,list:[],preCalculateBounds:!0,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[14]={type:42,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[15]={type:43,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!1,bounds:new r.Rectangle(0,0,0,0)},n[16]={type:44,list:[],preCalculateBounds:!1,AABB_VELOCITY_BASED:!0,bounds:new r.Rectangle(0,0,0,0)};var o=function(e,t){var r=e.length;if(r>0){for(var a=1e7,A=1e7,n=-1e7,o=-1e7,i=0;i<r;i++){var s=e[i],l=0|s.radius,u=0|s.pos.x,d=0|s.pos.y,c=u-l,f=d-l,p=c<0?0:c,g=f<0?0:f;p<a&&(a=p),g<A&&(A=g);var h=u+l;h>n&&(n=h);var v=d+l;v>o&&(o=v)}t.x=a,t.y=A,t.width=n,t.height=o}return t};t.getEntityList=function(){return n},t.updateEntityList=function(e){var r=e.game;a=[],A=[];var i=r.asteroids,s=r.rockFormations,l=r.rockFormationSystemRadius,u=r.enemies,d=r.player,c=r.npcs,f=t.getAllSpaceSnakeSegmentsCached(r.spaceSnake),p=r.bullets,g=r.rockets,h=r.drones,v=r.charges,y=r.spacePorts,m=r.spaceSpiders,S=t.getAllSpacePortCannonsCached(r.spacePorts),E=r.spaceSquids,x=r.proximityMines,T=r.spaceMines;n[0].list=i,n[1].list=s,n[2].list=l,n[3].list=u,n[4].list=d,n[6].list=c,n[5].list=f,n[7].list=E,n[8].list=h,n[10].list=g,n[9].list=p,n[11].list=v,n[12].list=y,n[13].list=S,n[14].list=m,n[15].list=x,n[16].list=T;for(var _=n.length,I=0;I<_;I++){var M=n[I];if(M.preCalculateBounds)M.bounds=o(M.list,M.bounds),M.bounds.width>5e4||M.bounds.height;else{var L=M.bounds;L.x=0,L.y=0,L.width=e.WW,L.height=e.WH}}return n}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(a=Object.getOwnPropertySymbols(e);A<a.length;A++)t.indexOf(a[A])<0&&Object.prototype.propertyIsEnumerable.call(e,a[A])&&(r[a[A]]=e[a[A]])}return r};a=[r,t,r(39),r(1),r(99),r(100),r(2),r(64),r(163),r(77),r(16)],void 0===(A=function(e,t,r,a,A,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e,t){var r={life:s.NOTIFICATION_LIFE,type:49,message:t};e.notifications.unshift(r)},p=function(e){for(var t in e){var r=e[t];if(r)if(r.isVector)e[t]=new a.Vector(r.x,r.y,r.id);else if(r.isMuscleSegment){var n=r,o=new i.MuscleSegment(n.width,new A.Muscle(n.leftMuscle.minLength,n.leftMuscle.maxLength),new A.Muscle(n.rightMuscle.minLength,n.rightMuscle.maxLength),n.centerX,n.centerY,n.angle,n.desiredAngleVsTarget);e[t]=o}else"object"==typeof e[t]&&p(e[t])}};t.saveGame=function(e,t){try{var a=t||"LVL:"+e.currentLevel+" t:"+l.msToTime(e.clock),A=r.loadData("gameSaves")||[];if(A.filter(function(e){return e===a}).length>0)return void f(e,"ALREADY SAVED AT THIS LOCATION");A.push(a);e.forceField,e.forceFieldDirtyMapYX,e.allKeyCodes,e.notifications,e.performance,e.resH,e.resW,e.currentResH,e.currentResW,e.state,e.SW,e.SH,e.playerGuidHash;var n=o(e,["forceField","forceFieldDirtyMapYX","allKeyCodes","notifications","performance","resH","resW","currentResH","currentResW","state","SW","SH","playerGuidHash"]),i=r.loadData("descriptor")||u.getDescriptor(),s=u.pack(n,i,!0),d=s.result,c=r.saveData(a,d),p=r.saveData("descriptor",s.descriptor);console.log("Game save",c,"descriptor",p);var g=(r.loadInt("saveSize")||0)+c;console.log("save int","saveSize",g),r.saveInt("saveSize",g),r.saveData("gameSaves",A),f(e,"GAME SAVED")}catch(t){console.error(t),f(e,"UNABLE TO SAVE GAME")}},t.deleteSavedGame=function(e,t){var a=r.loadData("gameSaves")||[];a.push(t);var A=a.filter(function(e){return e!==t}),n=r.loadData(t);if(n){JSON.stringify(n).length;var o=r.loadInt("saveSize");r.saveInt("saveSize",o)}r.saveData(t,{deletedGame:!0}),r.saveData("gameSaves",A),f(e,"SAVE DELETED")},t.loadGame=function(e,t){var a=t.game,A=n({},a),o=performance.now(),i=r.loadData(e),s=u.unpack(i,r.loadData("descriptor"),function(){});for(var l in console.warn("hardcoded mapsize in loadgame"),d.default(c.default().engine,t,function(e){return{WW:16e3,WH:16e3}}),p(s),s)a[l]=s[l];a.SW=A.SW,a.SH=A.SH,a.resH=A.resH,a.resW=A.resW;performance.now();f(a,"GAME LOADED")},t.getGameSaves=function(){return r.loadData("gameSaves")||[]},t.getStorageUsedKB=function(){return Math.ceil((r.loadInt("saveSize")||0+JSON.stringify(r.loadData("descriptor")||{}).length)/1e3)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(2),r(1),r(0),r(65),r(164),r(55),r(56),r(3),r(78),r(26),r(22)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupWormHoles=function(e,t){for(var r={xin:0,yin:0,xout:0,yout:0,safetyzone:200},a=!1,A=!1,n=0;n<t.length;n++){var o=t[n];60===o.type&&(r.xin=o.x,r.yin=o.y,a=!0),59===o.type&&(r.xout=o.x,r.yout=o.y,A=!0)}e.game.wormhole=a&&A?r:null,e.game.anomlies=t},t.postLeelReset=function(e){for(var t=e.game,r=0;r<t.player.length;r++)e.SX=t.player[r].pos.x-e.SW*Math.random(),e.SY=t.player[r].pos.y-e.SH*Math.random()},t.default=function(e,f,p){for(var g in e.keyCodes)e.keyCodes[g]=!1;e.game.SW=e.game.resW,e.game.SH=e.game.resH;var h=p?p(e):{WW:16e3,WH:12e3};f&&(f.gl&&(f.game.SW=f.game.resW,f.game.SH=f.game.resH,e.game.zoomTX=1,e.game.zoomTXinverted=1,A.zoom(f,!0),n.setTargetToCanvas(f.gl)),f.WW=h.WW,f.WH=h.WH),e.WW=h.WW,e.WH=h.WH;var v=e.game,y=e.WW,m=e.WH,S=y*r.FORCE_FIELD_RESOLUTION,E=m*r.FORCE_FIELD_RESOLUTION;e.game.forceField=[];for(var x=0;x<E;x++){for(var T=[],_=0;_<S;_++)T.push({pos:new a.Vector(0,0),epiCenter:!1,center:{x:0,y:0}});e.game.forceField.push(T)}o.destroyQuadTrees(),i.resetProximityDetection(),s.resetFogSystems(),u.resetSubtitles(),d.resetSpaceSnakeSegmentHash(),c.resetGuidHashNetwork(),v.forceFieldDirtyMapYX=[];t.setupWormHoles(e,[{type:58,x:.8,y:.8,positive:!1,effect:5,spawnParticles:!1},{type:60,x:.2,y:.2,positive:!1,effect:8,spawnParticles:!0},{type:59,x:.8,y:.5,positive:!0,effect:5,spawnParticles:!1}]),v.spaceFog=[{radius:450,x:.08*y,y:.09*m,fire:!1,guid:l.getGuid()},{radius:650,x:.5*y,y:.5*m,fire:!1,guid:l.getGuid()},{radius:500,x:.2*y,y:.69*m,fire:!1,guid:l.getGuid()},{radius:256,x:.6*y,y:.92*m,fire:!0,guid:l.getGuid()}],v.spacePorts=[],v.rockets=[],v.drones=[],v.bullets=[],v.charges=[],v.rockFormations=[],v.rockFormationSystemRadius=[],v.rockFormationsArcs=[],v.sparks=[],v.spaceBats=[],v.spaceSpiders=[],v.proximityMines=[],v.spaceMines=[],v.playerGuid=-1,v.spaceSquids=[],v.wayPoints=[],v.npcs=[],v.particles=[],v.customParticles=[],v.player=[],v.enemies=[],v.asteroids=[],v.SX=0,v.SY=0,v.SW=v.resW,v.SH=v.resH,v.asteroidParts=[],v.spaceSnake=[],v.notifications=[],v.spaceDust=[],v.settings_asteroid_spawns_new=!0,v.settings_be_the_snake_mode=!1,v.settings_no_darkness=!1,v.settings_minimap_asteroid_min_radius=100,v.levelEditor=!1,v.level_completed=!1,v.settings_wormhole=!0,v.clock=0,v.fromClock=0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(8),r(0),r(2),r(167),r(117)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=null,l=[],u={},d=0,c=0;t.resetSubtitles=function(){u={},d=0},t.createSubtitle=function(e){if(!s){if(u[e.text.join("")]>0)return!1;u[e.text.join("")]=e.noShowAgainMS,s=e;for(var t=0,r=0;r<e.text.length;r++)t+=e.text[r].length," "+e.text[r];return c=d=Math.max(5e3,90*t),!0}return!1};var f=0,p=0;t.default=function(e){var t=e.game,g=e.gl,h=e.SH,v=(e.SX,e.SY,e.stepMS),y=e.step;e.SW;if(t.menuSettings.commanderHelp){if(t.currentLevel<=14)return d=0,void(s=null);for(var m in u)u[m]-=v;if((d-=v)<0&&(s=null,p=0),0!==t.player.length&&s){l=[];var S=s,E=h-80,x=n.TEXT_SIZE_SMALL;p<1&&d>.5*c?p+=.05:d<300&&(p-=.05)<0&&(p=0),p>.4&&(p=.4);for(var T=[],_=S.text.length-1;_>-1;_--){var I=a.default.create(S.text[_],x,"w");T.push(I),r.fillPoly(-1,16,E-4,I.w+8,x+8,l),E-=x+16}i.showVideoFeed(e,60,E-40,S.face);var M=function(e,t,r,a,A){void 0===A&&(A=1);var n=[],i=A<.5?(.5-A)*e*.5:0;n.push(r+i,a,r+i+10,a);for(var s=e-(i+10),l=i+10;l<s;l++)n.push(r+l,a+44*o.PerlinNoise2d(f+.22*l,5)*A);return n.push(r-i+e-10,a,r+e-i,a),f+=8.9*t,n}(80,y,130,E,p);A.default(A.GLctx.Vertices,g),r.drawColor(M,g,0,.5,0,1,g.LINE_STRIP),g.disable(g.BLEND),r.drawColor(l,g,.1,.1,.1,.66),g.enable(g.BLEND);var L=A.default(d<200||d>c-200?A.GLctx.TextureDist:A.GLctx.Texture,g);for(_=S.text.length-1;_>-1;_--){I=T[_];E+=x+16,a.default.addGL(g,L,I,20,E,e,!1)}return"subtitles"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3),r(2),r(11)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRocketClient=function(e){return{ownerType:e.ownerType,ownerGuid:e.ownerGuid,target:e.target,type:e.target?5:6,guid:a.getGuid(),pos:new r.Vector(e.pos.x,e.pos.y),vel:new r.Vector(e.vel.x,e.vel.y),life:e.life,radius:5,angle:e.angle,thrust:new r.Vector(0,0),tailLayout:new r.Vector(30,0),netpos:new r.Vector(0,0),netvel:new r.Vector(0,0),netangle:0,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}},t.createRocket=function(e,t){var n=new r.Vector(0,0);return n.setLength(e.vel.getLength()+1),n.setAngle(e.angle+.02*(Math.random()-.5)),{ownerType:e.type,ownerGuid:e.guid,target:t,type:t?5:6,guid:a.getGuid(),pos:new r.Vector(e.pos.x+Math.cos(e.angle)*A.SHIP_LENGTH_RADIUS,e.pos.y+Math.sin(e.angle)*A.SHIP_LENGTH_RADIUS),vel:n,life:A.ROCKET_START_LIFE,radius:5,angle:e.angle,thrust:new r.Vector(0,0),tailLayout:new r.Vector(30,0),netpos:new r.Vector(0,0),netvel:new r.Vector(0,0),netangle:0,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}},t.default=function(e,r){var a=e.game,A=e.WW,o=e.WH,i=r.keyCodes;if(i.DOWN)if(r.closestItem&&r.availableRockets>0&&!r.rocketFired){r.availableRockets--,r.rocketFired=!0;var s=t.createRocket(r,r.closestItem);n.shift(s,A,o),a.rockets.push(s)}else r.unableToComply=!0;if(i.MISSILE)if(r.availableMissiles>0&&!r.rocketFired){r.availableMissiles--,r.rocketFired=!0;s=t.createRocket(r);n.shift(s,A,o),a.rockets.push(s)}else(r.availableMissiles<1||r.inSafeZone)&&(r.unableToComply=!0);i.DOWN||i.MISSILE||(r.rocketFired=!1)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfectionRate=function(){return Math.random()>.94}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1),r(11),r(13),r(36),r(3),r(2),r(7),r(53),r(6)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=new r.Vector(0,0);t.getShipLayoutIDX=function(){var e=Math.random();return e>.66?[0,1]:e>.33?[1,2]:[0,2]};var c=new l.QuadTreeUint8Point(new u.Rectangle(0,0,0,0),5,41);t.getParasiteTree=function(){return c},t.default=function(e){var r=e.game,l=e.WW,p=e.WH,g=e.step,h=s.getQuadTreesObj();if(h.Asteroids&&!r.settings_be_the_snake_mode){var v=e.game.parasites,y=v.length;c.reset(),c.setup(new u.Rectangle(0,0,l,p),5,41);for(var m=0;m<y;m++){var S=v[m];if(S.segments.length<2)r.parasites.splice(m,1),m--,y--;else{var E=S.segments[S.segments.length-1];E||(console.log("PARASITE ERROR"),console.log(JSON.stringify(S)),console.log(S));var x=E.pos;if(S.pos.setFromVec(x),c.insert(S),S.life-=g,S.life<100){if(S.target&&S.target.ship.guid===e.game.playerGuid&&(!e.IS_MULTIPLAYER||e.IS_SERVER)){var T={life:i.NOTIFICATION_LIFE,type:51,message:"PARASITE DETACHED FROM SHIP"};r.notifications.unshift(T)}S.target=null}S.life<-500&&S.segments.pop();var _=n.default(S,x,300,[h.Enemies,h.Player,h.Drones]);if(S.life>100&&!S.target&&_.targetIsIM&&o.distanceBetweenVectors(_.targetPos,E.pos)<20){var I=t.getShipLayoutIDX();if(S.life+=500+500*Math.random(),S.target={ship:_.target,valueBetween:Math.random(),idxA:I[0],idxB:I[1]},_.target.guid===e.game.playerGuid&&(!e.IS_MULTIPLAYER||e.IS_SERVER)){T={life:i.NOTIFICATION_LIFE,type:50,message:"PARASITE ATTACHED TO SHIP"};r.notifications.unshift(T)}}if(S.target){var M=S.target.ship;if(M.life<1){S.target=null;continue}M.life>5?M.life-=.05*g:_.targetPos=S.restPos,M.vel.x*=.98,M.vel.y*=.98,M.turnAcc*=.9;var L=M.rotatedLayoutPositioned,w=S.target.idxA,P=S.target.idxB,R=o.midpoint(L[w],L[P],S.target.valueBetween);E.pos.set(R.x,R.y)}else{S.life<100&&(_.targetPos=S.restPos),S.targetShift>100?S.tsValue=-g:S.targetShift<-100&&(S.tsValue=g),S.targetShift+=S.tsValue*g*12;var b=Math.atan2(_.targetPos.y-E.pos.y,_.targetPos.x-E.pos.x);d.set(S.targetShift,0),d.setAngle((S.targetShift>0?.5*Math.PI:-.5*Math.PI)+b);var O=Math.atan2(_.targetPos.y+d.y-E.pos.y,_.targetPos.x+d.x-E.pos.x);E.vel.addXY(.1,.1),E.vel.setAngle(_.targetIsIM?O:b),_.targetIsIM||(d.mult(.05),E.vel.add(d)),S.life<90?E.vel.getLength()>7&&E.vel.setLength(7):E.vel.getLength()>3&&E.vel.setLength(3),E.offsetFront.setAngle(b),E.offsetRear.setAngle(b-Math.PI),A.default(E,g)}f(S.segments),a.shift(E,l,p)}}return"parasite"}};var f=function(e){for(var t=e.length-1;t>0;t--){var r=e[t];p(e[t-1],r)}};function p(e,t){var r=2*e.radius,a=e.pos.x-t.pos.x,A=e.pos.y-t.pos.y,n=Math.atan2(A,a);e.pos.x=t.pos.x+Math.cos(n)*r,e.pos.y=t.pos.y+Math.sin(n)*r,e.angle=n,e.offsetFront.setAngle(n),e.offsetRear.setAngle(n-Math.PI)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(121),r(4),r(1),r(3),r(10),r(56),r(4),r(15),r(43),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=null,p=null,g={pos:new n.Vector(0,0),vel:new n.Vector(0,0),guid:o.getGuid(),radius:2,life:2,type:64,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.getRagDollPos=function(){return p};var h={x:0,y:0},v=[],y=[],m=[],S=new n.Vector(0,0),E=0,x=1,T={},_={a:[.33,.35,.32,.3,.2,.1,.05],b:[.1,.11,.12,.12,.11,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},I={a:[.05,.11,.12,.11,.08,.075,.05],b:[.05,.1,.1,.1,.1,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},M={a:[.05,.11,.12,.11,.08,.075,.05],b:[.05,.1,.1,.1,.1,.1,.05],curves:[0,.2,.3,.4,.6,.8,1]},L={a:[.1,.13,.14,.15,.15,.15,.15,.14,.125,.11,.1].map(function(e){return 2*e}),b:[.1,.13,.15,.16,.17,.16,.13,.1,.1,.1,.1].map(function(e){return 2*e}),curves:[0,.18,.22,.25,.3,.33,.37,.4,.6,.8,1]},w={a:[.1,.1,.14,.22,0,0,.16,.1,.05,0].map(function(e){return 2*e}),b:[.1,.1,.22,.22,.22,.2,.16,.1,.05,0],curves:[0,.1,.11,.4,.7,.75,.8,.85,.9,.92]};new n.Vector(0,0);t.default=function(e){e.SW,e.gl;var r=e.game,A=(e.SX,e.SY,e.stepMS);if(v=[],m=[],y=[],!r.isPaused){var n=i.default(e);n?(f=null,p=null,E=null,x=1,h.x=n.pos.x,h.y=n.pos.y):(f||(f=a.createRagdoll(h.x,h.y,.66)),(E+=A)>3e3&&x>0&&(x*=.97),f.anim(x))}if(f){var o=f.links.filter(function(e){return 0===e.type})[0];d.Glow(o.p0,.03,[],e,.1,0,0,1),t.drawRagdoll(e,f,3.96,1,.3,.3,.3),f.links.forEach(function(e){if(0===e.type){p={x:e.p0.x,y:e.p0.y};var t=f.getRect();if(c.getQuadTreesObj().Asteroids)for(var a=c.getQuadTreesObj().queryTreesRect([0,1,8,3,6,10,9,13,5],t),A=0;A<a.length;A++)f.collideIM(a[A]);g.pos.x=e.p0.x,g.pos.y=e.p0.y,u.default(r.forceField,g,!1,5),g.vel.mult(.005),e.p0.x+=g.vel.x,e.p0.y+=g.vel.y}})}return"Ragdoll"},t.drawRagdoll=function(e,t,a,n,i,u,d){var c=e.gl,f=e.SX,p=e.SY;t.links.forEach(function(e){T[e.type]=e}),t.links.forEach(function(t){var r=1;switch(t.type){case 2:case 1:case 6:case 5:r=.6}var c=t.draw(),g=null,h=null,E=null;switch(t.type){case 5:case 7:g=T[0],h=_,E=L;break;case 1:case 3:g=T[0],h=I,E=L;break;case 8:g=T[7],h=I,E=_;break;case 6:g=T[5],h=I,E=_;break;case 4:g=T[3],h=I,E=I;break;case 2:g=T[1],h=I,E=I;break;default:h=null}if(h){var x=g.draw();!function(e,t,r,a,A,n,o,i,s,u,d,c,f,p,g,h){for(var v=[e.a[e.a.length-1],t.a[0]],y=[e.b[e.b.length-1],t.b[0]],m=1,E=1/s,x=0;x<s;x++){var T=v[0]*m,_=v[1]*m,I=y[0]*m,M=y[1]*m;S.set(i,0),S.mult(T),S.setAngle(n+.5*Math.PI),S.add(a);var L=S.toPoint();S.set(i,0),S.mult(_),S.setAngle(o+.5*Math.PI),S.add(a);var w=S.toPoint();c.push(L.x-u,L.y-d,w.x-u,w.y-d),S.set(i,0),S.mult(I),S.setAngle(n-.5*Math.PI),S.add(a);var P=S.toPoint();S.set(i,0),S.mult(M),S.setAngle(o-.5*Math.PI),S.add(a);var R=S.toPoint();c.push(P.x-u,P.y-d,R.x-u,R.y-d);var b=s>1?1-m:1,O=.7*p*b+.01,C=.7*g*b+.01,G=.7*h*b+.01;l.addToColorMap(f,c,O,C,G,1),m-=E}}(E,h,0,c.a,x.end,x.angle,c.angle,a,n,f,p,v,y,i*r,u*r,d*r)}var P=t.draw();0===t.type&&s.default(e,1,600,P.a.x,P.a.y,1,.1,.1,1,8,0,20);var R=null;switch(t.type){case 7:case 5:R=_;break;case 8:case 6:R=M;break;case 3:case 4:case 1:case 2:R=I;break;case 0:R=L;break;case 9:R=w}R&&function(e,t,r,a,A,n,i,s,u,d,c,f,p,g){for(var h=null,v=null,y=e.curves,m=e.a,E=e.b,x=1,T=1/i,_=0;_<i;_++){for(var I=0;I<y.length;I++){y.length;var M=y[I],L=m[I],w=E[I];L*=x,w*=x;var P=o.midpoint(t,r,M);S.set(n,0),S.mult(L),S.setAngle(a+.5*Math.PI),S.add(P),h&&s.push(h.x-d,h.y-c,S.x-d,S.y-c),h=S.toPoint(),S.set(n,0),S.mult(w),S.setAngle(A-.5*Math.PI),S.add(P),v&&s.push(v.x-d,v.y-c,S.x-d,S.y-c),v=S.toPoint()}var R=i>1?1-x:1,b=.7*f*R+.01,O=.7*p*R+.01,C=.7*g*R+.01;l.addToColorMap(u,s,b,O,C,1),x-=T}}(R,t.p0,t.p1,P.angle,P.angle,a,n,v,y,f,p,i*r,u*r,d*r),A.line2Poly(P.a.x-f,P.a.y-p,P.a.x+1.1*P.b.x-f,P.a.y+1.1*P.b.y-p,m,1.1)});var g=r.default(r.GLctx.Vertices,c);c.disable(c.BLEND),n>2?l.drawColorMap(y,v,g,c,c.LINES):l.drawColorMap(y,v,g,c,c.TRIANGLE_STRIP),c.enable(c.BLEND)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(217),r(118),r(218),r(95),r(30),r(130)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,l=0,u=0,d=0,c=0;t.getQuadTreesConstructionTimings=function(){var e=i.getNumCollisions();return{constructionItems:l,constructionTime:s,collideTime:d,resolveTime:c,cleanupTime:u,broadphase:e.broadPhase,calls:e.collisions}};var f=[];t.default=function(e){return s=o.MeasureTimeSingle(function(){l=r.default(e)}),d=o.MeasureTimeSingle(function(){f=A.default()}),c=o.MeasureTimeSingle(function(){n.default(e,f)}),e.IS_MULTIPLAYER&&!e.IS_SERVER||(u=o.MeasureTimeSingle(function(){a.default(e)})),"intersections QuadTree"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(6),r(10),r(1),r(5),r(9),r(24),r(21),r(33),r(32),r(12),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=10,g=30,h=9,v=11,y=1e4,m=y,S=new r.Rectangle(0,0,0,0),E=0;t.DirectorSetup=function(e){g=e.enemies,h=e.spacesnakes,v=e.spacesquids,p=e.spaceSpiders,y=e.campingTimeout};var x=function(e,t,a){for(var A=a.SX,n=a.SY,o=a.SW,i=a.SH,s=new r.Rectangle(A-800,n-800,o+1600,i+1600),l=3e3,u=null;l<.5*a.WW;){for(var d=e.queryVec(t,l,l),c=0;c<d.length;c++){var f=d[c];if(!s.intersectsPoint(f.pos)){u=f;break}}if(u)break;l+=3e3}return u};t.default=function(e){var t,r,T,_,I=e.SX,M=e.SY,L=e.SW,w=e.SH,P=e.WW,R=e.game,b=e.stepMS,O=a.default(e);if(O){if(O.inSafeZone?m>100&&(m-=4):m=y,S.intersectsPoint(O.pos)?E+=b:(S.x=O.pos.x-.5*L,S.y=O.pos.y-.5*w,S.width=L,S.height=w,E=0),c.LOG_GL_FIXED(100-Math.round(E/m*100),"Camping?"),c.LOG_GL_FIXED(m,"camp timeout T"),E>m){var C,G=Math.random()>.5?1.5*L:-1.5*L;if(O.inSafeZone||Math.random()>.5)if(Math.random()>.8){if(R.spaceSnake.length>0){var N=Math.floor(Math.random()*R.spaceSnake.length);R.spaceSnake[N].restPos.setFromVec(O.pos),c.LOG_GL(N+" spacesnake restpos set to player")}}else if(Math.random()>.66){if(R.spaceSquids.length>0)(C=x(f.getQuadTreesObj().SpaceSquid,O.pos,e))&&(C.restPos.setFromVec(O.pos),c.LOG_GL("closest squid restpos set to player"))}else if(R.spaceSpiders.length>0)(C=x(f.getQuadTreesObj().SpaceSpiders,O.pos,e))&&(C.restPos.setFromVec(O.pos),c.LOG_GL("closest spider restpos set to player"));if(R.enemies.length>0){var F=new A.Vector(G,G);F.add(O.pos);var B=R.enemies[Math.floor(Math.random()*R.enemies.length)];B.pos.setFromVec(F);var D=Math.atan2(O.pos.y-B.pos.y,O.pos.x-B.pos.x);B.angle=o.normalizeRadianAngle(D)}if(E=0,R.enemies.length<g){var V=i.createEnemies(e,5);s.default(V,I+G,M+G,300,300),(t=R.enemies).push.apply(t,V)}R.spaceSnake.length<h&&(c.LOG_GL("creating new spacesnake nearby"),(r=R.spaceSnake).push.apply(r,l.default(e,1,I+G,M+2*G))),R.spaceSquids.length<v&&(c.LOG_GL("creating new spacesquid nearby"),(T=R.spaceSquids).push.apply(T,u.default(e,1,I+G,M+G))),R.spaceSpiders.length<p&&(c.LOG_GL("creating new spacespider nearby"),(_=R.spaceSpiders).push.apply(_,d.default(e,1)))}}else for(var X=n(R.spaceSquids,R.spaceSnake,R.spaceSpiders),H=0;H<X.length;H++){var k=X[H];H%2==0?k.restPos.set(0,H*w):k.restPos.set(P,H*w)}return!1}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(52),r(12),r(0),r(16),r(76)],void 0===(A=function(e,t,r,a,A,o,i){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Number=0]="Number",e[e.String=1]="String",e[e.Bool=2]="Bool"}(s=t.MenuitemType||(t.MenuitemType={}));var l=function(e,t,r){for(var a={},A=e;A<t;A+=r)a[A]={name:A+"",action:null,type:s.Bool,selected:!1},r+=1;return a},u={delete:{name:"delete",action:function(){a.LOG_GL("delete in selection menu action()"),r.deleteInSelection()}},edit:{name:"edit"},select:{name:"select",children:{rect:{name:"rect",children:{all:{name:"all"},asteroids:{name:"asteroids"},enemies:{name:"enemies"},spacesnakes:{name:"spacesnakes"},spacesquids:{name:"spacesquids"}}},point:{name:"point"}}},create:{name:"create",children:{asteroid:{name:"asteroid",children:{flood:{name:"flood",action:null,type:s.Bool,children:l(5,300,10)},single:{name:"single",action:null,type:s.Number,children:l(5,300,10)}}},drone:{name:"drone"},enemyShip:{name:"enemyShip"},spaceSquid:{name:"spaceSquid",children:l(80,220,20)},spaceSnake:{name:"spaceSnake",children:l(10,40,2)},spacePort:{name:"spacePort",children:l(300,500,50)}}},save:{name:"save",action:function(){i.saveGame(o.default().engine.game,"level editor map")}},load:{name:"load",action:function(){i.loadGame("level editor map",o.default().gui)}},time:{name:"time",children:{start:{name:"start",action:function(){return r.editorSetTimeFreeze(!1)}},stop:{name:"stop",action:function(){return r.editorSetTimeFreeze(!0)}}}},zoom:{name:"zoom",action:function(){var e=o.default().gui;e.game.SW=e.game.resW,e.game.SH=e.game.resH,A.zoom(e)}},play:{name:"play",action:function(){var e=o.default().gui;e.game.SW=e.game.resW,e.game.SH=e.game.resH,A.zoom(e)}},clear:{name:"clear",children:{all:{name:"all",action:function(){var e=o.default().engine.game;e.spaceSnake=[],e.spacePorts=[],e.asteroids=[],e.enemies=[],e.drones=[],e.spaceSquids=[]}}}}};t.default=u;var d=function(e){var t=function(t){return"posx"===e?t.pos.x:"posy"===e?t.pos.y:t[e]},a=function(t,r){"posx"===e?t.pos.x=r:"posy"===e?t.pos.y=r:t[e]=r},A={name:e,populate:function(a,A){var n=r.getEditorSingleSelection();n&&(a.name=e+"("+Math.round(t(n))+")")},children:{" - ":{name:"-",action:function(){var e=r.getEditorSingleSelection();if(e){var A=t(e);A<20?A>1&&A--:A-=10,a(e,A)}}}," + ":{name:"+",action:function(){var e=r.getEditorSingleSelection();if(e){var A=t(e);A>10?A+=10:A++,a(e,A)}}}}},n={};return n[e]=A,n},c=n(n(n(n({},d("radius")),d("life")),d("posx")),d("posy")),f=n(n(n(n({},c),d("availableRockets")),d("availableMissiles")),d("bulletWeaponLevel")),p=n({},d("life"));t.getSubmenuTree=function(e){switch(e){case 30:return c;case 0:return f;case 8:case 13:return f;case 39:return p;default:return c}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePos=function(e,t){var r=t.SX,a=t.SY,A=t.SW,n=t.SH,o=e.x,i=e.y;return{x:o=(o-r)/A,y:i=(i-a)/n}},t.InputTypesReversed=[],t.InputTypesReversed[0]="target x",t.InputTypesReversed[1]="target y",t.InputTypesReversed[2]="target radius",t.InputTypesReversed[3]="target type",t.InputTypesReversed[4]="has target",t.InputTypesReversed[5]="dist to target",t.InputTypesReversed[6]="ship X",t.InputTypesReversed[7]="ship Y",t.InputTypesReversed[8]="ship vel",t.InputTypesReversed[9]="ship angle",t.InputTypesReversed[10]="Fire overheat",t.InputTypesReversed[11]="target angle to ship",t.chance=function(e){return Math.random()<e},t.clamp=function(e){return e<0?0:e>1?1:e}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineIntersects=function(e,t,r,a,A,n,o,i){var s,l,u;return 0!==(s=(r-e)*(i-n)-(o-A)*(a-t))&&(l=((t-a)*(o-e)+(r-e)*(i-t))/s,0<(u=((i-n)*(o-e)+(A-o)*(i-t))/s)&&u<1&&0<l&&l<1)},t.LineIntersectsToPoint=function(e,t,r,a,A,n,o,i){var s;if(e===r&&t===a||A===o&&n===i)return null;if(0===(s=(i-n)*(r-e)-(o-A)*(a-t)))return null;var l=((o-A)*(t-n)-(i-n)*(e-A))/s,u=((r-e)*(t-n)-(a-t)*(e-A))/s;return l<0||l>1||u<0||u>1?null:{x:e+l*(r-e),y:t+l*(a-t)}},t.LineInterceptCircle=function(e,t,r,a){var A=t.x-e.x,n=t.y-e.y,o=((r.x-e.x)*A+(r.y-e.y)*n)/(n*n+A*A);return(o>=0&&o<=1?Math.pow(e.x+A*o-r.x,2)+Math.pow(e.y+n*o-r.y,2):o<0?Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2):Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))<a*a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(3),r(1)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=new a.Vector(0,0),n=new a.Vector(0,0),o=new a.Vector(0,0),i=[A,n,o];t.getInsightShapeProximity=function(e,t){return A.set(0,0),n.set(0,0),o.set(0,0),n.setLength(1200),n.setAngle(t-.1*Math.PI),o.setLength(1200),o.setAngle(t+.1*Math.PI),A.add(e),n.add(e),o.add(e),i},t.default=function(e,A,n,o,i){for(var s=1.3*e.originalRadius,l=Number.MAX_VALUE,u=null,d=i&&t.getInsightShapeProximity(e.pos,e.angle),c=[],f=A.length,p=0;p<f;p++){var g=A[p];if(!(i&&g.radius<200)||r.fine(3,d,g.pos)){var h=r.distanceBetween(g,e)-g.radius;if(h<n&&(h<l&&(l=h,u=g),o)){var v=Math.atan2(g.pos.y-e.pos.y,g.pos.x-e.pos.x),y=new a.Vector(s,s);y.setAngle(v);var m=new a.Vector(Math.min(s+.03*(n-h),45),Math.min(s+.03*(n-h),45));m.setAngle(v),c.push({from:y,to:m})}}}return{closestDistance:l,closestItem:u,vectors:c}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(8),r(47),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n.default.create("L",i.TEXT_SIZE_SMALL,"w"),l=n.default.create("R3",i.TEXT_SIZE_SMALL,"w"),u=n.default.create("R5",i.TEXT_SIZE_SMALL,"w"),d=n.default.create("R8",i.TEXT_SIZE_SMALL,"w"),c=n.default.create("EB",i.TEXT_SIZE_SMALL,"w"),f=n.default.create("SH",i.TEXT_SIZE_SMALL,"w"),p=n.default.create("BO",i.TEXT_SIZE_SMALL,"w"),g=n.default.create("WU",i.TEXT_SIZE_SMALL,"w"),h=n.default.create("|>",i.TEXT_SIZE_SMALL,"w"),v=n.default.create("M6",i.TEXT_SIZE_SMALL,"w"),y=n.default.create("AP",i.TEXT_SIZE_SMALL,"w"),m=n.default.create("UB",i.TEXT_SIZE_SMALL,"w"),S=n.default.create("HB",i.TEXT_SIZE_SMALL,"w"),E=n.default.create("P3",i.TEXT_SIZE_SMALL,"w"),x=n.default.create("??",i.TEXT_SIZE_SMALL,"w"),T=n.default.create("LIFE",i.TEXT_SIZE_SMALL,"g"),_=n.default.create("ROCKET X3",i.TEXT_SIZE_SMALL,"g"),I=n.default.create("ROCKET X5",i.TEXT_SIZE_SMALL,"g"),M=n.default.create("ROCKET X8",i.TEXT_SIZE_SMALL,"g"),L=n.default.create("ELECTROBASTARDRAY",i.TEXT_SIZE_SMALL,"g"),w=n.default.create("SHIELD",i.TEXT_SIZE_SMALL,"g"),P=n.default.create("BOOSTERS",i.TEXT_SIZE_SMALL,"g"),R=n.default.create("WEAPON_UPGRADE",i.TEXT_SIZE_SMALL,"g"),b=n.default.create("DRONE SHIP",i.TEXT_SIZE_SMALL,"g"),O=n.default.create("MISSILE X6",i.TEXT_SIZE_SMALL,"g"),C=n.default.create("AUTOPILOT",i.TEXT_SIZE_SMALL,"g"),G=n.default.create("HOMING BULLETS",i.TEXT_SIZE_SMALL,"g"),N=n.default.create("ULTRABRIGHT",i.TEXT_SIZE_SMALL,"g"),F=n.default.create("PROXIMITY MINES X3",i.TEXT_SIZE_SMALL,"g"),B=n.default.create("UNKNOWN ??",i.TEXT_SIZE_SMALL,"g");t.BONUS_BUFFERS={BUFFER_LIFE:T,BUFFER_ROCKET_X1:_,BUFFER_ROCKET_X2:I,BUFFER_ROCKET_X3:M,BUFFER_EB:L,BUFFER_SHIELD:w,BUFFER_BOOSTERS:P,BUFFER_WEAPON_UPGRADE:R,BUFFER_DRONE:b,BUFFER_UNKNOWN:B,BUFFER_MISSILE_X6:O,BUFFER_AUTOPILOT:C,BUFFER_HOMINGBULLETS:G,BUFFER_ULTRABRIGHT:N,BUFFER_PROXIMITY_MINES_X3:F};var D=[],V=[];t.default=function(e){var t=e.SX,i=e.SY,T=e.gl;D=[],V=[];for(var _=e.game.asteroids,I=0;I<_.length;I++){var M=_[I];if(r.onStage(e,M.pos.x,M.pos.y,M.radius)){var L=M.type;if(30!==M.type){var w=null;switch(L){case 21:w=c;break;case 15:w=s;break;case 17:w=l;break;case 18:w=u;break;case 19:w=d;break;case 14:w=f;break;case 22:w=p;break;case 23:w=g;break;case 24:w=h;break;case 20:w=v;break;case 25:w=y;break;case 27:w=m;break;case 26:w=S;break;case 16:w=E;break;default:w=x}n.default.addGL(T,a.default(A.GLctx.Texture,T),w,M.pos.x-t-.5*M.radius+5,M.pos.y-i-.5*M.radius-5,e);var P=o.hexBox(M.radius,M.pos,t,i);D.push.apply(D,P[0]),r.addToColorMap(V,D,.1,.1,.1,1),D.push.apply(D,P[1]),r.addToColorMap(V,D,.7,.7,.7,1),D.push.apply(D,P[2]),r.addToColorMap(V,D,.3,.3,.3,1)}}}if(D.length>0){var R=a.default(A.GLctx.Vertices,T);r.drawColorMap(V,D,R,T)}return"bonuses"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(0),r(2),r(65),r(10),r(40)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,l=.97*A.GAME_INTRO_TIMER,u=r.default.create("ENTERED UNCHARTERED SPACE",50,"r"),d=r.default.create("WARNING: POWER FAILURE",50,"r"),c=!1;t.default=function(e){e.ctx,e.frame;var t=e.WW,f=e.WH,p=e.game,g=e.SW,h=e.SH,v=(e.SX,e.SY,e.gl),y=e.stepMS,m=e.step,S=g/p.resW;l-=m;var E=o.default(e);n.setTargetToFrameBuffer(e);var x=i.default(E,t,f);if(x){var T=4;Math.random()>.9&&(T=64,Math.random()>.9&&(T=256)),e.SX+=(Math.random()-.5)*T,e.SY+=(Math.random()-.5)*T}return E&&E.damageTaken&&(s=500),s>0||x||!E||l>-30||p.level_completed?(s-=y,!p.level_completed&&E||(l=A.GAME_INTRO_TIMER),x&&r.default.addGL(v,a.default(a.GLctx.TextureDist,v),u,.5*g-u.w*S*.5,.8*h,e),!c,s>0&&p.currentLevel>14&&r.default.addGL(v,a.default(a.GLctx.TextureDist,v),d,.5*g-d.w*S*.5,.35*h,e),c=!0):(!!c,c=!1),"distortion begin"},t.distortionBracketEnd=function(e){var t=e.gl;if(e.game.menuSettings.noise){var r=c?a.default(a.GLctx.GameBufferDist,t):a.default(a.GLctx.GameBufferNoise,t);n.renderFrameBuffer(t,r)}else{var A=a.default(a.GLctx.Texture,t);n.renderFrameBuffer(t,A)}return"distortion end"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(1),r(11),r(5),r(4),r(6),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=new n.Vector(0,0),c=new n.Vector(0,0),f=new n.Vector(0,0),p=function(e,t,r,a){var A=e.pos.x,n=e.pos.y,o=e.angle+Math.PI;d.x=2.3*e.radius,d.y=0,i.rotateVector(d,o,d),c.x=.7*e.radius,c.y=0,i.rotateVector(c,o,c),f.x=1.05*e.radius,f.y=0,i.rotateVector(f,o+.5*Math.PI,f),t.push(d.x+A-r,d.y+n-a,c.x+A-r,c.y+n-a,f.x+A-r,f.y+n-a),f.x=1.05*e.radius,f.y=0,i.rotateVector(f,o+-.5*Math.PI,f),t.push(d.x+A-r,d.y+n-a,c.x+A-r,c.y+n-a,f.x+A-r,f.y+n-a)};t.renderSquids=function(e,t,a,A,l,u,g){new n.Vector(0,0);for(var h=0;h<l.length;h++){var v=l[h];if(o.onStage(e,v,1e3)){var y=v.pos.x,m=v.pos.y;r.blockCirclePoly(14,v.radius,y,m,i.normalizeRadianAngle(v.angle-Math.PI),t,0,u,g,.6*v.radius,!1,0,4,9,14),p(v,t,u,g),d.x=.7*v.radius,d.y=0,i.rotateVector(d,v.angle+.93*Math.PI,d),r.setTriangle(v.pos.x+d.x-u,v.pos.y+d.y-g,a,5),d.x=.7*v.radius,d.y=0,i.rotateVector(d,v.angle+-.93*Math.PI,d),r.setTriangle(v.pos.x+d.x-u,v.pos.y+d.y-g,a,5);for(var S=v.tentacles,E=0;E<S.length;E++)for(var x=S[E],T=0;T<x.arm.length;T++){var _=x.arm[T],I=.5*_.leftMuscle.l+.5*_.rightMuscle.l;d.x=-.5*I,d.y=0,i.rotateVector(d,_.angle,d),c.x=.8*I,c.y=0,i.rotateVector(c,_.angle,c),s.line2Poly(d.x+_.centerX+y-u,d.y+_.centerY+m-g,c.x+_.centerX+y-u,c.y+_.centerY+m-g,t,_.width),d.x=-.4*I,d.y=0,i.rotateVector(d,_.angle,d),c.x=.7*I,c.y=0,i.rotateVector(c,_.angle,c),f.x=.8*_.width,f.y=0,i.rotateVector(f,_.angle+.5*Math.PI,f),s.line2Poly(d.x+_.centerX+y+f.x-u,d.y+_.centerY+m+f.y-g,c.x+_.centerX+y+f.x-u,c.y+_.centerY+m+f.y-g,A,.1*_.width),T===x.glowIndex&&s.line2Poly(d.x+_.centerX+y+f.x-u,d.y+_.centerY+m+f.y-g,c.x+_.centerX+y+f.x-u,c.y+_.centerY+m+f.y-g,A,.1*_.width)}}}};var g=[],h=[],v=[];t.default=function(e){var r=e.SW,n=e.SH,o=(e.frame,e.SX),i=e.SY,d=(e.WW,e.WH,e.game,e.gl);g=[],h=[],v=[];var c=u.getQuadTreesObj().SpaceSquid;if(c){var f=Math.max(r>n?r:n,2e3),p=c.queryInt(new l.Rectangle(o-f,i-f,2*f,2*f));if(t.renderSquids(e,g,h,v,p,o,i),g.length>0){a.default(A.GLctx.Vertices,d),s.drawColor(v,d,.5,.1,.1,1);d.blendFunc(d.DST_COLOR,d.ZERO),s.drawColor(g,d,0,0,0,1),d.blendFunc(d.ONE,d.ONE),s.drawColor(h,d,.5,.1,.1,1)}return"spacesquid"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(3),r(13),r(11),r(153),r(35),r(93),r(93),r(6),r(38),r(20),r(20),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e,t,r){return r?Math.min(e.gridX,t.gridX):Math.min(e.gridY,t.gridY)},h=function(e,t,r){return r?Math.max(e.gridX,t.gridX):Math.max(e.gridY,t.gridY)};t.ASTAR_GRID_RES=4;var v=function(e,r,a,A,o){void 0===o&&(o=2);var l=g(r,a,!0)+-.5*o,d=h(r,a,!0)+.5*o,c=g(r,a,!1)+-.5*o,f=h(r,a,!1)+.5*o,p=(i.getSectorSize(e.WW,e.WH).w,(d-l)*t.ASTAR_GRID_RES),v=(f-c)*t.ASTAR_GRID_RES,y=new u.Rectangle(l/i.RESOLUTION,c/i.RESOLUTION,d/i.RESOLUTION-l/i.RESOLUTION,f/i.RESOLUTION-c/i.RESOLUTION),m=A.queryInt(y);if(e.game.player[0]){var S=n({},e.game.player[0]);S.radius=2.5*S.radius,m.push(S)}return{allPass:!1,res:s.default(t.ASTAR_GRID_RES,e,p,v,m,l,c),fromX:l,fromY:c}},y=function(e){for(var t=[],r=e.length,a=0;a<r;a++)t.push({x:e[a].y,y:e[a].x});return t},m=null,S=0,E=0,x=null,T=1,_=0,I=6,M=I;t.default=function(e){e.keyCodes;var n=e.game,s=e.WW,u=e.WH,g=(e.SX,e.SY,e.SW,e.SH,e.step),h=e.stepMS,L=p.getQuadTreesObj();if(L.Asteroids){var w=n.wayPoints;T=1,_+=h;for(var P=n.npcs,R=P.length,b=0;b<R;b++){var O=P[b],C=P[b-1];w[O.currentWayPointIndex];if(w.length>0)if(0===b){var G=i.getPoistionVecXYinGrid(O.pos);if(_>200||!x||m&&1===m.length||G.x!==x.x||G.y!==x.y){_=0;var N={gridX:G.x,gridY:G.y};I=Math.min(w.length-1-O.currentWayPointIndex,I),M>I&&(M=I);var F=w[O.currentWayPointIndex+M];if(F){var B=v(e,N,F,L.Asteroids,6),D=o.default();S=B.fromX,E=B.fromY;var V=l.transformPosToGrid(e,O.pos.x,O.pos.y,B.fromX,B.fromY,t.ASTAR_GRID_RES),X={x:(F.gridX-B.fromX)*t.ASTAR_GRID_RES,y:(F.gridY-B.fromY)*t.ASTAR_GRID_RES},H=new D.Graph(B.res,{diagonal:!0}),k=H.grid[V.y][V.x],W=H.grid[X.y][X.x];if(m=y(D.astar.search(H,k,W,null)),n.debug&&(n.debug.graphMap={graphMap:m,x:S,y:E,grid:B.res,wp:F,wpStart:G}),m&&m.length<M)if(m.length>0){M<I&&M++;for(var U=0;U<R;U++)P[U].currentWayPointIndex++}else T=.1,M>2?M--:M=I;m.length>0&&(x=G)}}var Y=m[Math.min(m.length-1,3)];if(Y){var K=i.gridPosToWorld(Y.x/t.ASTAR_GRID_RES+S,Y.y/t.ASTAR_GRID_RES+E);Math.atan2(K.y-O.pos.y,K.x-O.pos.x)}else if(x){K=i.gridPosToWorld(x.x,x.y,s,u);Math.atan2(K.y-O.pos.y,K.x-O.pos.x),T=0}}else{Math.atan2(C.pos.y-O.pos.y,C.pos.x-O.pos.x);var q=r.distanceBetweenVectors(C.pos,O.pos);q<3*O.radius?T=0:q>7*O.radius&&(T=1.3)}else{var Z=c.default(O,O.angle,f.getGenericAvoidance(O,e,[L.SpacePortCannons,L.Player],[]));O.vel.add(Z.avoidance),O.avoidance=Z}O.thrust.setLength(.1),O.thrust.setAngle(O.angle),O.vel.add(O.thrust),O.vel.getLength()>O.maxVel*T&&O.vel.setLength(O.maxVel*T),a.default(O,g),A.shift(O,s,u),d.default(O)}return"npc"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(35)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r,a,A,n){if(!(r<1))for(var o,i,s=0,l=r,u=-r;s<=l;)o=e-l,i=l+l,d(e-s,t-l,t+l,s+s),d(o,t-s,t+s,i),(u+=s+++s)>=0&&(u-=--l+l);function d(e,t,r,a){a++;for(var A=0;a--;)c(A=e+a,t),c(A,r)}function c(e,t){e<A&&t<n&&e>=0&&t>=0&&(a[t*A+e]=0)}};t.transformPosToGrid=function(e,t,a,A,n,o){var i=r.getSectorSize(e.WW,e.WH);return{x:Math.round((t-i.w*A)/i.w*o),y:Math.round((a-i.h*n)/i.h*o)}},t.default=function(e,t,A,n,o,i,s){for(var l=[],u=A*n,d=0;d<u;d++)l.push(1);var c=r.getSectorSize(t.WW,t.WH),f={},p=o.length;for(d=0;d<p;d++){var g=o[d],h=g.guid;if(!f[h]){f[h]=!0;var v=(g.pos.x-c.w*i)/c.w*e,y=(g.pos.y-c.h*s)/c.h*e,m=g.radius/c.w*e;a(Math.round(v),Math.round(y),Math.ceil(m),l,A,n)}}var S=[];for(d=0;d<n;d++)S.push(l.slice(d*A,d*A+A));return S}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS={}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(12),r(75),r(45),r(41),r(3),r(1),r(96)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e,t,r){var A=e.game;switch(t){case 30:return A.asteroids[r];case 32:return A.rockFormations[r];case 33:return A.rockFormationSystemRadius[r];case 8:return A.enemies[r];case 0:return A.player[r];case 37:return a.getAllSpaceSnakeSegmentsCached(A.spaceSnake)[r];case 12:return A.npcs[r];case 39:return A.spaceSquids[r];case 13:return A.drones[r];case 2:return A.bullets[r];case 5:return A.rockets[r];case 1:return A.charges[r];case 28:return A.spacePorts[r];case 29:return a.getAllSpacePortCannonsCached(A.spacePorts)[r];case 42:return A.spaceSpiders[r];case 43:return A.proximityMines[r];case 44:return A.spaceMines[r];default:throw"type not implemented @ collision response TYPE: "+t+"  ? > "+n.TypesToString(t)}},u=[];t.getImIntersections=function(){return u},t.default=function(e,t){var r=t.length;u=[];for(var a=0;a<r;a++)for(var A=t[a],n=A.indexes,o=n.length,i=0;i<o;i++){var s=n[i],d=s[0],c=s.length;c-1;var f=l(e,A.typeA,d),p={a:f,im:[]};u.push(p);for(var g=1;g<c;g++){var h=s[g],y=l(e,A.typeB,h);p.im.push(y),f.remove||y.remove||(A.AABB_VEL?v(f,y,e,A.handler):A.handler(f,y,e))}}};var d=[new i.Vector(0,0),new i.Vector(0,0),new i.Vector(0,0)],c=[new i.Vector(0,0),new i.Vector(0,0),new i.Vector(0,0)],f=function(e,t,r,a,A,n){var i=p(e,r,a,d),l={pos:{x:A,y:n},radius:t.radius};return!!(o.fine(i.length,i,t.pos)||s.default(i[0],i[1],l)||s.default(i[1],i[2],l)||s.default(i[2],i[0],l))},p=function(e,t,r,a){for(var A=e.rotatedLayout,n=[],o=0;o<3;o++){var i=a[o];i.set(A[o].x+t,A[o].y+r),n.push(i)}return n},g=function(e,t,r){for(var a=0;a<3;a++)e.rotatedLayoutPositioned[a].setFromVec(e.rotatedLayout[a]),e.rotatedLayoutPositioned[a].addXY(t,r)},h=function(e,t,r,a,A,o,i,s){n.ShipLike(e.type)&&g(e,r,a),n.ShipLike(t.type)&&g(t,A,o);var l=e.pos.toPoint(),u=t.pos.toPoint();e.pos.set(r,a),t.pos.set(A,o),i(e,t,s)||(e.pos.setFromVec(l),t.pos.setFromVec(u),n.ShipLike(e.type)&&g(e,l.x,l.y),n.ShipLike(t.type)&&g(t,u.x,u.y))},v=function(e,t,a,i){var s=Math.max(e.vel.getLength(),t.vel.getLength());if(s<.5*Math.min(e.radius,t.radius))return i(e,t,a);var l=Math.ceil(s/Math.min(e.radius,t.radius));if(l<2)return i(e,t,a);r.LOG_GL(n.TypesToString(e.type)+" velBased "+n.TypesToString(t.type)+" "+l);for(var u,g,v,y,m,S=n.ShipLike(e.type),E=n.ShipLike(t.type),x=e.vel.x/l,T=e.vel.y/l,_=t.vel.x/l,I=t.vel.y/l,M=e.pos.x-e.vel.x,L=e.pos.y-e.vel.y,w=2*e.radius,P=t.pos.x-t.vel.x,R=t.pos.y-t.vel.y,b=2*t.radius,O=0;O<l;O++)if(M+=x,L+=T,P+=_,R+=I,A.intersectsXYWH_XYWH(M-e.radius,L-e.radius,w,w,P-t.radius,R-t.radius,b,b))if(S&&!E){if(f(e,t,M,L,P,R))return h(e,t,M,L,P,R,i,a)}else if(E&&!S){if(f(t,e,P,R,M,L))return h(e,t,M,L,P,R,i,a)}else if(E&&S){if(u=t,g=P,v=R,y=void 0,m=void 0,y=p(e,M,L,d),m=p(u,g,v,c),o.fine(y.length,y,m[0])||o.fine(y.length,y,m[1])||o.fine(y.length,y,m[2]))return h(e,t,M,L,P,R,i,a)}else if(o.distanceBetweenXYXY(M,L,P,R)<e.radius+t.radius)return h(e,t,M,L,P,R,i,a);i(e,t,a)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var a=r.pos,A=r.radius,n=e.x-a.x,o=e.y-a.y,i=t.x-a.x,s=(t.y-a.y-o)/(i-n),l=o-s*n,u=Math.pow(A,2)*Math.pow(s,2)+Math.pow(A,2)-Math.pow(l,2);if(u<0)return!1;var d=(-s*l+Math.sqrt(u))/(Math.pow(s,2)+1),c=(-s*l-Math.sqrt(u))/(Math.pow(s,2)+1);return[{x:d+a.x,y:s*d+l+a.y},{x:c+a.x,y:s*c+l+a.y}]}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1),r(0),r(0),r(31),r(3),r(156),r(2),r(4),r(54),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockCirclePolyForRayCaster2=function(e,t,r,a,A,n,o,i,l,d,c){for(var f=e=t<10?3:e,p=r+Math.cos(s.doublePI*(f/e)+A)*t>>0,g=a+Math.sin(s.doublePI*(f/e)+A)*t>>0,h=[],v=[];f>-1;--f){var y=r+Math.cos(s.doublePI*(f/e)+A)*t>>0,m=a+Math.sin(s.doublePI*(f/e)+A)*t>>0;h.push(p-i,g-l,y-i,m-l),v.push({ax:p-i,ay:g-l,bx:y-i,by:m-l}),p=y,g=m}for(var S=v.length,E=0;E<S;E++){var x=v[E],T=(b=x.ax)-d,_=(O=x.ay)-c,I=(C=x.bx)-d,M=(G=x.by)-c,L=u.OperatorApproxDist97(T,_)+u.OperatorApproxDist97(I,M);v[E].dist=L}var w=v.sort(function(e,t){return e.dist-t.dist}),P=Math.ceil(.5*e)+1;for(E=0;E<P;E++){var R=w[E],b=R.ax,O=R.ay,C=R.bx,G=R.by;n.push(b,O,C,G)}};var c,f=function(e,t,r,a,A,n){var o=t.x-a,i=t.y-A;n.push(e[0].x+o,e[0].y+i,e[1].x+o,e[1].y+i),n.push(e[0].x+o,e[0].y+i,e[2].x+o,e[2].y+i),n.push(e[1].x+o,e[1].y+i,e[2].x+o,e[2].y+i)},p=function(e,t){return o.distanceBetweenXYXY(e.pos.x,e.pos.y,t.x,t.y)<=1.1*e.radius};t.RayCaster=function(e,o,s,u,g,h,v,y,m,S,E){void 0===y&&(y=!1),void 0===m&&(m=-1);var x=s.game,T=s.gl,_=s.SH,I=s.SW,M=s.SX,L=s.SY,w=(I>_?_*o:I*o)*(x.resW/I);if(n.onStage(s,e.x,e.y,w)){c=[];var P=d.getQuadTreesObj();if(P.Asteroids){var R=e.x-M,b=e.y-L;if(y)for(var O=x.player,C=0;C<O.length;C++){var G=O[C];G.life>0&&!p(G,e)&&f(G.rotatedLayout,G.pos,0,M,L,c)}else{var N=P.queryTreeVecIgnoreGuid(4,new r.Vector(e.x,e.y),w,w,m);for(C=0;C<N.length;C++){var F=N[C];F.life>0&&f(F.rotatedLayout,F.pos,0,M,L,c)}}var B=P.Asteroids.queryVec(e,w,w);B.push.apply(B,P.SpacePortCannons.queryVec(e,w,w)),B.push.apply(B,P.RockFormations.queryVec(e,w,w));for(C=0;C<B.length;C++){var D=B[C];l.inPerimiter(D.pos,e,w,w,D.radius)&&(32!==D.type&&p(D,e)||t.blockCirclePolyForRayCaster2(D.sides,D.radius>10?D.radius-2:D.radius,D.pos.x,D.pos.y,D.angle,c,_,M,L,R,b))}var V=P.Enemies.queryVec(e,w,w);for(C=0;C<V.length;C++){var X=V[C];l.inPerimiter(X.pos,e,w,w,X.radius)&&(p(X,e)||f(X.rotatedLayout,X.pos,0,M,L,c))}var H=P.Npcs.queryVec(e,w,w);for(C=0;C<H.length;C++){var k=H[C];l.inPerimiter(k.pos,e,w,w,k.radius)&&(p(k,e)||f(k.rotatedLayout,k.pos,0,M,L,c))}var W=P.Drones.queryVec(e,w,w);for(C=0;C<W.length;C++){var U=W[C];l.inPerimiter(U.pos,e,w,w,U.radius)&&(p(U,e)||f(U.rotatedLayout,U.pos,0,M,L,c))}var Y=x.spaceSnake,K=Y.length;for(C=0;C<K;C++)for(var q=Y[C].segments,Z=0;Z<q.length;Z++){var z=q[Z];l.inPerimiter(z.pos,e,w,w,z.radius)&&(p(z,e)||t.blockCirclePolyForRayCaster2(10,1.2*z.radius,z.pos.x,z.pos.y,z.angle,c,_,M,L,R,b))}var j=R-.5*w,Q=R+.5*w,J=b-.5*w,$=b+.5*w,ee=[{a:{x:j,y:J},b:{x:Q,y:J}},{a:{x:Q,y:J},b:{x:Q,y:$}},{a:{x:Q,y:$},b:{x:j,y:$}},{a:{x:j,y:$},b:{x:j,y:J}}];if(void 0!==S&&void 0!==E){var te=new r.Vector(e.x+Math.cos(S-.5*E)*w,e.y+Math.sin(S-.5*E)*w),re=new r.Vector(e.x+Math.cos(S+.5*E)*w,e.y+Math.sin(S+.5*E)*w),ae=new r.Vector(2*Math.cos(S),2*Math.sin(S));ee.push({a:{x:R-ae.x,y:b-ae.y},b:{x:te.x-M,y:te.y-L}},{a:{x:R-ae.x,y:b-ae.y},b:{x:re.x-M,y:re.y-L}})}ee.push.apply(ee,i.polysToPair(c));var Ae=i.getSightPolygon(e.x-M,e.y-L,ee);c=[],c=[e.x-M,e.y-L];var ne=i.pairToPolys(Ae);if(c.push.apply(c,ne),ne.length>1&&c.push(ne[0],ne[1]),c.length>0){a.default(A.GLctx.VerticesGradient,T);var oe=a.GLUniformLocation(T,"u_pos_x"),ie=a.GLUniformLocation(T,"u_pos_y"),se=a.GLUniformLocation(T,"u_perimiter");T.uniform1f(oe,R),T.uniform1f(ie,b),T.uniform1f(se,w),l.drawColor(c,T,u,g,h,v,T.TRIANGLE_FAN)}}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(43),r(157),r(2),r(158),r(6),r(10),r(9),r(4),r(5),r(7),r(51)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=[],g=(new r.Vector(0,0),new r.Vector(0,0)),h=function(e,t,a,A){return void 0===a&&(a=0),void 0===A&&(A=0),new r.Vector(e.pos.x+Math.cos(t)*-(n.SHIP_LENGTH_RADIUS+a),e.pos.y+Math.sin(t)*-(n.SHIP_LENGTH_RADIUS+A))},v=function(e,t){var r=l.ShipColors[e.colorIndex]||l.ShipColors[0],A=1;e.shields<80&&(A=.15*d.RandomStepBased(t.step,e.guid)+.85),e.shields<5&&(A=.2*d.RandomStepBased(t.step,e.guid)+.6),a.Glow(e.pos,2.5*e.radius*A,[],t,r.r,r.g,r.b,1)},y=function(e,t,r,a,n,o,i,s){void 0===s&&(s=!1),A.DirectionalGlow(e,t+a,n,Math.PI*r,o,i,i,i,1),s||(A.DirectionalGlow(e,1.25*t+a,n,Math.PI*r*.5,o,i,i,1,1),A.DirectionalGlow(e,1.5*t+a,n,Math.PI*r*.2,o,1,i,1,1),A.DirectionalGlow(e,1.65*t+a,n,Math.PI*r*.1,o,1,i,1,1))},m=new r.Vector(0,0);t.drawPlayerShipThrust=function(e,t,r){void 0===r&&(r=1);var A=.5+.2*d.RandomStepBased(t.step,e.guid),n=.1*d.RandomStepBased(t.step,e.guid)*r;m.set(e.radius*r*.4,0);var i=e.keyCodes;if(i.UP){var s=h(e,e.angle,0,0);y(s,.2,.1,n,e.angle+Math.PI,t,A)}if(i.BOOST&&e.boost>0&&!e.inSafeZone){s=h(e,e.angle,0,0);y(s,.4,.07,n,e.angle+Math.PI,t,A),d.rotateVector(m,e.angle+Math.PI,m),m.add(s),o.Flare(m,.5,t),a.Glow(m,.1,[],t,1,1,1,1)}i.LEFT&&(y(e.rotatedLayoutPositioned[2],.05,.07,n,e.angle+-.5*Math.PI,t,A),y(e.rotatedLayoutPositioned[0],.05,.07,n,e.angle+.5*Math.PI,t,A)),i.RIGHT&&(y(e.rotatedLayoutPositioned[1],.05,.07,n,e.angle+.5*Math.PI,t,A),y(e.rotatedLayoutPositioned[0],.05,.07,n,e.angle+-.5*Math.PI,t,A)),i.STRAFERIGHT&&(y(e.rotatedLayoutPositioned[2],.05,.07,n,e.angle+-.5*Math.PI,t,A),y(e.rotatedLayoutPositioned[0],.05,.07,n,e.angle+-.5*Math.PI,t,A)),i.STRAFELEFT&&(y(e.rotatedLayoutPositioned[1],.05,.07,n,e.angle+.5*Math.PI,t,A),y(e.rotatedLayoutPositioned[0],.05,.07,n,e.angle+.5*Math.PI,t,A))},t.drawGenericShipThrust=function(e,t){var r=13===e.type?.05:.3,a=.5+.2*d.RandomStepBased(t.step,e.guid),A=.05*d.RandomStepBased(t.step,e.guid),n=.05*d.RandomStepBased(t.step,e.guid),o=.05*d.RandomStepBased(t.step,e.guid),i=.05*d.RandomStepBased(t.step,e.guid),s=.05*d.RandomStepBased(t.step,e.guid);if(e.turnAcc<.01?(y(e.rotatedLayoutPositioned[2],.05*r,.07*r,A,e.angle+-.5*Math.PI,t,a,!0),y(e.rotatedLayoutPositioned[0],.05*r,.07*r,n,e.angle+.5*Math.PI,t,a,!0)):e.turnAcc>.01&&(y(e.rotatedLayoutPositioned[1],.05*r,.07*r,o,e.angle+.5*Math.PI,t,a,!0),y(e.rotatedLayoutPositioned[0],.05*r,.07*r,i,e.angle+-.5*Math.PI,t,a,!0)),!(e.vel.getLength()<2)){var l=h(e,e.angle,0,0);y(l,.2*r,.1*r,s,e.angle+Math.PI,t,a)}};var S=0,E=!0,x=0;t.default=function(e){var A=e.WW,l=e.WH,h=e.game,y=e.SW,m=e.SH,T=e.SX,_=e.SY,I=(e.gl,e.step);if(h.menuSettings.glow){p=[];var M=c.getQuadTreesObj();if(M.Asteroids){for(var L=new i.Rectangle(T,_,y,m),w=new i.Rectangle(T-f.PROXIMITY_MINE_RAY_LENGTH,_-f.PROXIMITY_MINE_RAY_LENGTH,y+2*f.PROXIMITY_MINE_RAY_LENGTH,m+2*f.PROXIMITY_MINE_RAY_LENGTH),P=M.SpaceSnakes.queryInt(L),R=P.length,b=0;b<R;b++){var O=P[b];a.Glow(O.pos,.003*O.radius*1.35,p,e,.9,.1,.1,.2)}var C=M.Asteroids.queryInt(L);R=C.length;for(b=0;b<R;b++){var G=C[b];30!==G.type&&a.Glow(G.pos,.1,p,e,.1,.9,.1,1)}var N=M.SpaceMines.queryInt(L);R=N.length;for(b=0;b<R;b++){var F=N[b];a.Glow(F.pos,.03*F.lightIntensity,p,e,.6,.1,.1,1)}var B=M.ProximityMines.queryInt(w);R=B.length;for(b=0;b<R;b++){(F=B[b]).target?2===F.aquireMode?(F.intersectAaquired&&a.Glow(F.intersectA,.003+.015*Math.random(),p,e,.1,.9,.1,1),F.intersectBaquired&&a.Glow(F.intersectB,.003+.015*Math.random(),p,e,.1,.9,.1,1),a.Glow(F.pos,.01,p,e,.1,.9,.1,1)):1===F.aquireMode&&(F.intersectAaquired&&a.Glow(F.intersectA,.003+.015*Math.random(),p,e,.9,.2,.1,1),F.intersectBaquired&&a.Glow(F.intersectB,.003+.015*Math.random(),p,e,.9,.2,.1,1),a.Glow(F.pos,.01,p,e,.9,.2,.1,1)):a.Glow(F.pos,.015,p,e,.1,.2,1,1)}var D=M.SpacePorts.queryInt(L);for(b=0;b<D.length;b++){var V=D[b],X=V.cannons[x];if(X){var H=X.pos.x,k=X.pos.y;if(X.fireing){g.set(2*V.wallThickness,0),d.rotateVector(g,X.angle,g);var W=H+g.x,U=k+g.y;a.Glow({x:W,y:U},.05,[],e,1,1,1,1)}E?(S+=.19*I)>1&&(E=!1):(S-=.36*I)<0&&(S=0,E=!0,++x>=V.cannons.length&&(x=0));var Y=V.weaponsActive?0:1,K=V.weaponsActive?1:0;a.Glow({x:H,y:k},.04*S,[],e,Y,K,.1,1)}else x=0}var q=h.anomlies;R=q.length;for(b=0;b<R;b++){var Z=q[b],z=(H=Z.x*A,k=Z.y*l,new r.Vector(H,k));a.Glow(z,.3,p,e,1,1,1,1),o.Flare(z,1,e)}var j=h.explosions;R=j.length;for(performance.now(),b=0;b<R;b++){var Q=j[b];z=new r.Vector(Q.x,Q.y);a.Glow(z,.03*Q.radius,[],e,1,1,1,1),o.Flare(z,.2*Q.radius,e)}var J=h.rockets;R=J.length;for(b=0;b<R;b++){var $=J[b],ee=!0;$.life>n.ROCKET_START_LIFE-20?ee=!1:$.life>n.ROCKET_START_LIFE-40?ee=d.RandomStepBased(e.step,$.guid)>.8:$.life>n.ROCKET_START_LIFE-60&&(ee=d.RandomStepBased(e.step,$.guid)>.4),ee&&(a.Glow($.pos,.1,[],e,.8,.8,1,1),o.Flare($.pos,.35,e))}var te=s.default(e);if(te){var re=te.keyCodes;!te.inSafeZone&&re.ELECTROBASTARDRAY&&te.availableElectroBastardRays&&te.closestItem&&(a.Glow(te.closestItem.pos,.2*d.RandomStepBased(e.step,te.guid)+.1,[],e,.9,.3,.9,1),o.Flare(te.closestItem.pos,.3,e)),te.shields>0&&v(te,e),te.life>0&&t.drawPlayerShipThrust(te,e)}var ae=M.Enemies.queryInt(L).concat(M.Drones.queryInt(L).concat(M.Player.queryInt(L)));R=ae.length;for(b=0;b<R;b++){var Ae=ae[b];te&&te.guid===Ae.guid||u.onStage(e,Ae.pos.x,Ae.pos.y,100)&&(Ae.shields>0&&v(Ae,e),t.drawGenericShipThrust(Ae,e))}return"glow"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.minLength=e,this.maxLength=t,this.l=t}return e.prototype.toJSON=function(){return{minLength:this.minLength,maxLength:this.maxLength,l:this.l}},e.prototype.relax=function(){this.l=.98*this.l+.02*this.maxLength},e.prototype.contract=function(){this.l=.95*this.l+.05*this.minLength},e}();t.Muscle=r}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(;e<0;)e+=2*Math.PI;for(;e>=2*Math.PI;)e-=2*Math.PI;return e},a=function(){function e(e,t,r,a,A,n,o){this.isMuscleSegment=!0,this.width=e,this.leftMuscle=t,this.rightMuscle=r,this.centerX=a,this.centerY=A,this.angle=n,this.desiredAngleVsTarget=o,this.isMuscleSegment=!0}return e.prototype.toJSON=function(){return{width:this.width,centerX:this.centerX,centerY:this.centerY,angle:this.angle,leftMuscle:this.leftMuscle.toJSON(),rightMuscle:this.rightMuscle.toJSON(),desiredAngleVsTarget:this.desiredAngleVsTarget,isMuscleSegment:!0}},e.prototype.getLength=function(){return.5*this.leftMuscle.l+.5*this.rightMuscle.l},e.prototype.updatePosition=function(e){var t=e.centerX+Math.cos(e.angle)*e.getLength()*.5,r=e.centerY+Math.sin(e.angle)*e.getLength()*.5,a=Math.atan2(this.leftMuscle.l-this.rightMuscle.l,this.width);this.angle=e.angle+a,this.centerX=t+Math.cos(this.angle)*this.getLength()*.5,this.centerY=r+Math.sin(this.angle)*this.getLength()*.5},e.prototype.moveMusclesForTarget=function(e,t){var a=r(Math.atan2(t-this.centerY,e-this.centerX)),A=r(a-this.angle),n=r(A-this.desiredAngleVsTarget);if(n<Math.PI){var o=Math.min(.15,n/Math.PI*.5);this.rightMuscle.l=this.rightMuscle.l*(1-o)+this.rightMuscle.minLength*o}else{o=Math.min(.15,.5*(2-n/Math.PI));this.leftMuscle.l=this.leftMuscle.l*(1-o)+this.leftMuscle.minLength*o}},e}();t.MuscleSegment=a}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(3),r(11),r(1)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new A.Vector(0,0);t.default=function(e,t,A){if(r.resolve(e,t))return a.shift(e,A.WW,A.WH),a.shift(t,A.WW,A.WH),!0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25),r(3),r(14),r(1),r(5),r(103),r(19),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=new n.Vector(0,0);t.default=function(e,t,n){if((30===t.type||29===t.type||32===t.type)&&a.coarse(t,e)){if(29===t.type&&3===e.type)return;var d=2===e.type,c=e;if(29===t.type){var f=t,p=f.aggressionForGuidsHash[c.ownerGuid]||0;f.aggressionForGuidsHash[c.ownerGuid]=p+1,p>=20&&(f.weaponsActiveTimerMS=5e3),u.setFromVec(e.pos),u.subtract(f.pos),u.mult(.8*Math.random()+.1),o.rotateVector(u,-f.angle,u),f.damages.push(u.clone()),f.damages.length>200&&f.damages.shift(),s.DamageItem(t,5)}else n.game.currentLevel<14?s.DamageItem(t,d?25:5):s.DamageItem(t,5);if(e.remove=!0,t.life<0){if(30===t.type&&d){var g=c.ownerGuid;(h=i.findPlayerWithGuid(n,g))&&(h.score+=l.PLAYER_SCORE_REMOVED_ASTEROID(t.radius))}n.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius}}else{var h;if(d)g=c.ownerGuid,(h=i.findPlayerWithGuid(n,g))&&(h.score+=l.PLAYER_SCORE_BULLET_HIT_ASTEROID);A.explosion(n.game,1,e.pos.x-e.vel.x,e.pos.y-e.vel.y,n.game.particles,1),n.game.eventMap[r.GAME_EVENT.SPACE_BULLET_IMPACT]={x:e.pos.x,y:e.pos.y}}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=e.game.player,a=r.length,A=0;A<a;A++){var n=r[A];if(t.ownerGuid===n.guid)return n}return null},t.findPlayerWithGuid=function(e,t){for(var r=e.game.player,a=r.length,A=0;A<a;A++){var n=r[A];if(t===n.guid)return n}return null}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(3),r(14),r(11),r(67),r(165),r(38),r(96),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,u){var d=e;if(d.shields>3)return o.default(e,t,u);var c=d.rotatedLayoutPositioned,f=t.type;if(r.distanceBetweenVectors(d.pos,t.pos)<1.2*d.radius+t.radius){var p=!1;if(t.radius<e.radius){if(i.default(d),s.default(d.rotatedLayoutPositioned[0],d.rotatedLayoutPositioned[1],t)||s.default(d.rotatedLayoutPositioned[1],d.rotatedLayoutPositioned[2],t)||s.default(d.rotatedLayoutPositioned[2],d.rotatedLayoutPositioned[0],t))return r.resolve(d,t,1.2*d.radius),!0}else for(var g=0;g<c.length;g++){var h=c[g];if(r.distanceBetweenXYXY(h.x,h.y,t.pos.x,t.pos.y)<t.radius){p=!0,30===f&&a.explosion(u.game,5,h.x,h.y,u.game.particles,.1,.1);break}}if(p){if(30===f)return t.life--,e.life--,d.damageTaken=!0,r.resolve(d,t),d.score-=l.PLAYER_SCORE_PLAYER_COLLIDED_WITH_ASTEROID(t.radius),A.shift(e,u.WW,u.WH),A.shift(t,u.WW,u.WH),!0;n.default(t,d,u)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(14),r(11),r(166),r(2)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){var s=e,l=t;if(s.shields>3)n.default(e,l,i);else if(l.shields>3)n.default(l,e,i);else if(r.coarse(s,l))for(var u=l.rotatedLayoutPositioned,d=0;d<u.length;d++){var c=u[d];r.fine(s.rotatedLayoutPositioned.length,s.rotatedLayoutPositioned,c)&&r.resolve(e,t)&&(A.shift(e,i.WW,i.WH),A.shift(t,i.WW,i.WH),s.life--,s.damageTaken=!0,l.life--,s.score-=o.PLAYER_SCORE_PLAYER_COLLIDED_WITH_SHIP,a.explosion(i.game,2,c.x,c.y,i.game.particles))}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(14),r(2),r(41),r(12),r(19)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,s){if(r.coarse(e,t)){var l=e,u=t;(u.guid!==l.ownerGuid||l.life<A.ROCKET_START_LIFE-100)&&(n.ShipLike(l.type)&&o.LOG_GL_FIXED_FORCED("Err rocket is not ship","Type ERROR"),l.remove=!0,i.DamageItem(u,45),u.vel.add(l.vel),u.life<1&&(u.killedByGuid=l.ownerGuid),a.explosion(s.game,10,l.pos.x,l.pos.y,s.game.particles,10))}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(14),r(19)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(r.coarse(e,t)){if(e.remove=!0,n.IS_MULTIPLAYER&&!n.IS_SERVER)return;A.DamageItem(t,90),a.explosion(n.game,5,t.pos.x,t.pos.y,n.game.particles,.3)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(14),r(37),r(19)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o){if(r.coarse(e,t)){if(e.remove=!0,o.IS_MULTIPLAYER&&!o.IS_SERVER)return;switch(e.type){case 2:case 3:n.DamageItem(t,1),t.vel.mult(.8),A.createDust(e.pos,4,20,o);break;case 6:case 5:n.DamageItem(t,50,.7),t.vel.mult(.1),A.createDust(e.pos,48,28,o)}t.stunned=!0,t.life<1||a.explosion(o.game,5,t.pos.x+t.radius,t.pos.y,o.game.particles,.05)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0,a=0;t.getNumCollisions=function(){var e=r,t=a;return r=0,a=0,{collisions:e,broadPhase:t}},t.QuadTreeCollider=function(e,t,A,n){for(var o=function(e){var t=[];for(var r in e)t.push(parseInt(r,10));return t}(A),i=o.length,s=0;s<i;s++)for(var l=o[s],u=t[l].list,d=u.length,c=A[l],f=c.length,p=0;p<f;p++)for(var g=c[p],h=g.handler,v=e[g.type],y=0;y<d;y++){var m=u[y];if(/*!listItem.markNewForColliders &&*/!m.remove){a++;for(var S=v.query(m),E=S.length,x=0;x<E;x++){var T=S[x];m.guid===T.guid||m.remove||T.remove||(r++,h(m,T,n))}}}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(25),r(3),r(14),r(2),r(103),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,s){var l=t,u=e,d=l.rotatedLayoutPositioned;if(!(l.guid===u.ownerGuid&&u.life>n.BULLET_OWNER_IMMUNE_THRESHOLD)&&a.distanceBetweenVectors(t.pos,e.pos)<t.radius+e.radius)if(l.shields>0||a.fine(d.length,d,e.pos)||a.fine(d.length,d,{x:e.pos.x+e.vel.x,y:e.pos.y+e.vel.y})){if(A.explosion(s.game,1,e.pos.x-e.vel.x,e.pos.y-e.vel.y,s.game.particles,1),l.shields<1&&(t.life--,l.score-=i.PLAYER_SCORE_STRUCK_BY_BULLET),e.remove=!0,t.life<1){l.killedByGuid=u.ownerGuid;var c=u.ownerGuid;(f=o.findPlayerWithGuid(s,c))&&(f.score+=n.PLAYER_SCORE_KILLED_OTHER_SHIP),t.remove=!0,A.explosion(s.game,10,e.pos.x-e.vel.x,e.pos.y-e.vel.y,s.game.particles,10),s.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y}}}else{var f;c=u.ownerGuid,(f=o.findPlayerWithGuid(s,c))&&(f.score+=n.PLAYER_SCORE_BULLET_HIT_OTHER_SHIP),s.game.eventMap[r.GAME_EVENT.SPACE_BULLET_IMPACT]={x:t.pos.x,y:t.pos.y},12===t.type&&(s.game.eventMap[r.GAME_EVENT.NPC_FRIENDLY_FIRE]={x:t.pos.x,y:t.pos.y})}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25),r(3),r(50),r(14),r(1),r(5),r(19)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=new o.Vector(0,0);t.default=function(e,t,o){if(30===t.type)a.coarse(t,e)&&(e.remove=!0,A.removeAsteroid(t,o,null),o.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius});else if(29===t.type){if(a.coarse(t,e)){var u=t;e.remove=!0,o.game.eventMap[r.GAME_EVENT.EXPLOSION]={x:t.pos.x,y:t.pos.y,radius:t.radius},s.DamageItem(u,290),t.vel.add(e.vel);for(var d=0;d<33;d++)l.setFromVec(e.pos),l.subtract(u.pos),l.mult(.5*Math.random()+.4),i.rotateVector(l,-u.angle,l),i.rotateVector(l,(Math.random()-.5)*Math.PI*.12,l),u.damages.push(l.clone()),u.damages.length>200&&u.damages.shift();n.explosion(o.game,10,e.pos.x,e.pos.y,o.game.particles,7,2)}}else 32===t.type&&a.coarse(t,e)&&(n.explosion(o.game,10,e.pos.x,e.pos.y,o.game.particles,7,2),e.remove=!0,s.DamageItem(t,300))}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(1),r(14),r(19)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o){if(r.coarse(e,t)){if(e.remove=!0,o.IS_MULTIPLAYER&&!o.IS_SERVER)return;for(var i=0;i<8;i++){var s={type:61,guid:r.getGuid(),life:40+100*Math.random(),radius:2,pos:e.pos.clone(),vel:new a.Vector(Math.random()-.5,Math.random()-.5),remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};o.game.spaceDust.push(s)}n.DamageItem(t,1),A.explosion(o.game,5,t.pos.x,t.pos.y,o.game.particles,.1)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(2),r(1)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return e.life>=t.life&&e.availableElectroBastardRays>=t.electrobastardray&&e.availableMissiles>=t.missiles&&e.availableRockets>=t.rockets&&e.boost>=t.boost&&e.homingBullets>=t.homingBullets&&e.availableMines>=t.proximityMines};t.default=function(e,t,A){var o=t,i=e;if(r.coarse(o,e)){var s=o.reparations,l=n(i,s);if(!i.inSafeZone){i.cloaked=!1;var u={life:a.NOTIFICATION_LIFE,type:53,onlyForGuid:i.guid};A.game.notifications.unshift(u);var d={life:a.NOTIFICATION_LIFE,type:54,onlyForGuid:i.guid};if(A.game.notifications.unshift(d),!l){var c={life:a.NOTIFICATION_LIFE,type:56,onlyForGuid:i.guid};A.game.notifications.unshift(c)}i.inSafeZone=!0}var f=Math.random()>.995,p=!1;if(i.life<s.life?(i.life++,p=!0):i.availableElectroBastardRays<s.electrobastardray?(i.availableElectroBastardRays+=.1,p=!0):i.availableMissiles<s.missiles?(f&&i.availableMissiles++,p=!0):i.availableRockets<s.rockets?(f&&i.availableRockets++,p=!0):i.boost<s.boost?(i.boost++,p=!0):i.homingBullets<s.homingBullets?(i.homingBullets++,p=!0):i.availableMines<s.proximityMines&&(i.availableMines++,p=!0),l=n(i,s),p&&!l&&(o.shipChargeHash[e.guid]=!0),l&&p){var g={life:a.NOTIFICATION_LIFE,type:57,onlyForGuid:i.guid};A.game.notifications=A.game.notifications.filter(function(e){return e.type!==g.type}),A.game.notifications.unshift(g)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(11)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){var n=e.radius,o=t.radius;if(28===e.type){var i=e;n=i.cannons.length<=1?0:n*(i.cannons.length/7)*.6}if(28===t.type){var s=t;o=s.cannons.length<=1?0:o*(s.cannons.length/7)*.6}r.resolve(e,t,n,o)&&(a.shift(e,A.WW,A.WH),a.shift(t,A.WW,A.WH))}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(11)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){if(r.resolve(e,t))return a.shift(e,A.WW,A.WH),a.shift(t,A.WW,A.WH),e.vel.mult(.1),!0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(57),r(46)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A={};t.createRadialGradientTexture=function(e,t,n,o,i,s){void 0===s&&(s=!1);var l=""+e+n+t+o+i;if(s){var u=A[l];if(u)return u}var d=document.createElement("canvas");d.height=i,d.width=i;var c=d.getContext("2d"),f=.5*i,p=c.createRadialGradient(f,f,0,f,f,f);p.addColorStop(0,"rgba("+e+", "+n+", "+t+", "+o+")"),p.addColorStop(1,"rgba(0, 0, 0, 0)"),c.fillStyle=p,c.fillRect(0,0,i,i);var g=r.default.create("texture1",d,!0,a.default().global_gl);return s&&(A[l]=g),g}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(57),r(168),r(46),r(0),r(0)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=!1,l=!1,u=function(e,t){s=!0;var a=document.createElement("canvas");a.height=90,a.width=100;var n=a.getContext("2d"),o=new Image;o.crossOrigin="Anonymous",o.setAttribute("crossOrigin",""),o.onload=function(){n.drawImage(o,0,0),n.lineWidth=1,n.beginPath();for(var s=0;s<a.height;s+=4)n.moveTo(0,s),n.lineTo(a.width,s);n.stroke(),i[t]||(i[t]=[]),i[t].push(r.default.create("texture1",a,!0,A.default().global_gl)),e.length>0?u(e,t):l=!0},o.src=e.pop()},d=0,c=0,f=0;t.showVideoFeed=function(e,t,a,A){e.game;var s=e.gl,u=(e.SH,e.SX,e.SY,e.stepMS);e.step,e.SW;(d+=u)>f&&(d=0,f=20+Math.random()*Math.random()*1088,c=Math.floor(i[A].length*Math.random())),Math.random();if(l){var p=i[A][c];p&&r.default.addGL(s,n.default(Math.random()>.26?o.GLctx.TextureDist:o.GLctx.Texture,s),p,t+0,a+0,e,1.4,1.4)}},t.default=function(e){e.game,e.gl,e.SH,e.SX,e.SY,e.stepMS,e.step,e.SW;if(!s)for(var t=0;t<a.faces.length;t++)u(a.faces[t],t);return"videofeed"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(37),r(14),r(66)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanList=function(e,t,r,a){void 0===a&&(a=!1);for(var n=[],o=e.length,i=!!r,s=0;s<o;s++){var l=e[s];!l.remove&&l.life>=1?n.push(l):(a&&A.pool_put(l.type,l),i&&r(l,t))}return n};var n=0;t.default=function(e){var A=e.game;e.WW,e.WH;n=performance.now();for(var o=0;o<A.spaceSnake.length;o++){var i=A.spaceSnake[o];i.segments=t.cleanList(i.segments,e,r.default)}A.asteroids=t.cleanList(A.asteroids,e,r.default),A.rockFormations=t.cleanList(A.rockFormations,e,r.default);for(o=0;o<A.spacePorts.length;o++){var s=A.spacePorts[o];if(s.cannons=t.cleanList(s.cannons,e,r.default),s.centerNoneCannon.remove){s.cannons.length>0?Math.random()>.75&&r.default(s.cannons.pop(),e):(A.spacePorts.splice(o,1),a.explosion(A,12,s.pos.x,s.pos.y,A.particles,8,8));break}}A.bullets=t.cleanList(A.bullets,null,null,!0),A.rockets=t.cleanList(A.rockets),A.drones=t.cleanList(A.drones,e,r.default),A.player=t.cleanList(A.player,e,r.default),A.npcs=t.cleanList(A.npcs,e,r.default),A.spaceSquids=t.cleanList(A.spaceSquids,e,r.default),A.spaceSpiders=t.cleanList(A.spaceSpiders,e,r.default),A.enemies=t.cleanList(A.enemies,e,r.default),A.charges=t.cleanList(A.charges,e),A.proximityMines=t.cleanList(A.proximityMines,e),A.spaceMines=t.cleanList(A.spaceMines,e),n=performance.now()-n}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(27),r(39),r(94)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IN_GAME_KEY_BINDING_TRANSLATIONS={};var n="in_game_keys_translation",o=!0,i=null,s=null;window.addEventListener("keydown",function(e){if(o){switch(e.keyCode){case r.Keys.ESCAPE:return o=!1,void(i=null);case r.Keys.BACKSPACE:case r.Keys.DELETE:case r.Keys.RETURN:case r.Keys.TILDE:return}p(i,e.keyCode),s=e.keyCode}});var l=[],u=function(e){switch(e){case r.Keys.CHARGE:return"CTRL";case r.Keys.PROXIMITYMINE:return"N";case r.Keys.FIRE:return"SPACE";case r.Keys.LEFT:return"ARROW LEFT";case r.Keys.UP:return"ARROW UP";case r.Keys.RIGHT:return"ARROW RIGHT";case r.Keys.DOWN:return"ARROW DOWN";default:return String.fromCharCode(e)}},d=function(e){for(var t in e)delete e[t]},c=function(){for(var e in d(A.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS),t.IN_GAME_KEY_BINDING_TRANSLATIONS)for(var a in r.Keys)if(parseInt(r.Keys[a],10)===parseInt(e,10)){if(A.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t.IN_GAME_KEY_BINDING_TRANSLATIONS[e]])return console.error("duplicate key"),!0;A.REVERSE_IN_GAME_KEY_BINDING_TRANSLATIONS[t.IN_GAME_KEY_BINDING_TRANSLATIONS[e]]=r.Keys[a]}};t.createKeyBindingLabel=function(e,t){return"DOWN"===e&&(e="ROCKET"),e+" <"+u(t)+">"};var f=function(e,t){return"INPUT "+e+" <"+u(t)+">"},p=function(e,t){for(var r=0;r<l.length;r++){var a=l[r];a.id===e&&(a.children[0].label=f(e,t))}},g=function(){var e=function(e){if(r.Keys[e]){var A=t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]];l.push({id:e,label:t.createKeyBindingLabel(e,A),action:function(t){return o=!0,i=e,{}},children:[{action:function(A){return o=!1,i=null,function(e,a){var A=!1,n=t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]];t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=a,c()&&(t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=n,c(),A=!0);for(var o=0;o<l.length;o++){var i=l[o];i.id===e&&(A?(i.label=t.createKeyBindingLabel(i.id,n),i.children[0].label="ERROR <DUPLICATE KEY>"):i.label=t.createKeyBindingLabel(i.id,a))}if(A)return!0}(e,s)?{}:(a.saveData(n,t.IN_GAME_KEY_BINDING_TRANSLATIONS),{pop:!0})},label:f(e,A)}]})}};for(var A in r.inGameKeyCodes.keys)e(A);l.push({label:"RESET KEYS TO DEFAULT",action:function(e){return v(),a.saveData(n,t.IN_GAME_KEY_BINDING_TRANSLATIONS),{}}})};setTimeout(function(){if(v(),a.containsData(n)){console.log("key bindings loaded");var e=a.loadData(n);d(t.IN_GAME_KEY_BINDING_TRANSLATIONS),function(e,t){for(var r in e)t[r]=e[r]}(e,t.IN_GAME_KEY_BINDING_TRANSLATIONS),h()}},0);var h=function(){for(;l.length>0;)l.pop();g(),c()},v=function(){!function(){for(var e in r.Keys)t.IN_GAME_KEY_BINDING_TRANSLATIONS[r.Keys[e]]=r.Keys[e]}(),h()};t.keybindingItems={label:"KEY BINDINGS",children:l}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(0),r(4)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawSparks=function(e){var t=[],r=e.game,n=e.SX,o=e.SY,i=e.gl,s=r.sparks,l=s.length;if(l>0){for(var u=0;u<l;u++){var d=s[u];t.push(d.pos.x-n,d.pos.y-o,d.pos.x+d.vel.x-n,d.pos.y+d.vel.y-o)}a.default(a.GLctx.Vertices,i),A.drawColor(t,i,.4,.4,1,1,i.LINES)}},t.default=function(e,t,a,A){if(Math.random()>.8)for(var n=Math.ceil(a*Math.random()+1),o=0;o<n;o++){var i=new r.Vector(0,-5),s=Math.random();Math.random()>.9?i.setAngle((s-.5)*Math.PI*.7+.5*Math.PI):i.setAngle((s-.5)*Math.PI*.7-.5*Math.PI);var l=new r.Vector(t.x+2*s,t.y+2*s),u={life:50+Math.random()*A,vel:i,pos:l};e.game.sparks.push(u)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(6)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e){this.x=e.x,this.y=e.y,this.xb=this.x,this.yb=this.y+2,this.w=0,this.stiffness=e.stiffness,this.mass=1}return e.prototype.anim=function(e){var t=(this.x-this.xb)*this.stiffness,r=(this.y-this.yb)*this.stiffness;this.xb=this.x,this.yb=this.y,this.x+=t+.5*(Math.random()-.5)*e,this.y+=r+.5*(Math.random()-.5)*e},e}(),n=function(){function e(e,t,r,a,A,n,o,i){this.p1=e,this.p2=t,this.p3=r,this.len1=a,this.len2=A,this.angle=n,this.range=o,this.force=i||.2}return e.prototype.solve=function(){var e,t,r,a,A,n,o,i,s,l,u,d;e=Math.atan2(this.p2.y-this.p1.y,this.p2.x-this.p1.x),t=Math.atan2(this.p3.y-this.p2.y,this.p3.x-this.p2.x),r=(r=this.angle-(t-e))>Math.PI?r-2*Math.PI:r<-Math.PI?r+2*Math.PI:r,a=Math.abs(r)>this.range?(-Math.sign(r)*this.range+r)*this.force:0,A=this.p1.mass+this.p2.mass,n=this.p1.mass/A,o=this.p2.mass/A,u=Math.cos(e-a),d=Math.sin(e-a),s=this.p1.x+(this.p2.x-this.p1.x)*o,l=this.p1.y+(this.p2.y-this.p1.y)*o,this.p1.x=s-u*this.len1*o,this.p1.y=l-d*this.len1*o,this.p2.x=s+u*this.len1*n,this.p2.y=l+d*this.len1*n,e=Math.atan2(this.p2.y-this.p3.y,this.p2.x-this.p3.x)+a,A=this.p2.mass+this.p3.mass,o=this.p2.mass/A,i=this.p3.mass/A,u=Math.cos(e),d=Math.sin(e),s=this.p3.x+(this.p2.x-this.p3.x)*o,l=this.p3.y+(this.p2.y-this.p3.y)*o,this.p3.x=s-u*this.len2*o,this.p3.y=l-d*this.len2*o,this.p2.x=s+u*this.len2*i,this.p2.y=l+d*this.len2*i},e}(),o=function(){function e(e,t){this.length=t.length*e.s,this.width=t.width*e.s,this.type=t.memberType,e.points[t.p0]=this.p0=e.points[t.p0]?e.points[t.p0]:new A(e),e.points[t.p1]=this.p1=e.points[t.p1]?e.points[t.p1]:new A(e),this.width>this.p0.w&&(this.p0.w=this.width);var r=t.mass||1;r>this.p0.mass&&(this.p0.mass=r),r>this.p1.mass&&(this.p1.mass=r)}return e.prototype.draw=function(){var e=this.p1.x-this.p0.x,t=this.p1.y-this.p0.y,a=Math.atan2(t,e),A=new r.Vector(this.length,0);A.setAngle(a);var n=A.toPoint();return{a:{x:this.p0.x,y:this.p0.y},b:n,angle:a,end:{x:this.p0.x+A.x,y:this.p0.y+A.y}}},e}();t.Link=o;var i=function(){function e(e,t,r,a,A){function i(e,t){for(var r=0;r<A.links.length;r++){var a=A.links[r];if(a.p0===e&&a.p1===t||a.p0===t&&a.p1===e)return a.length}return 1}this.points=[],this.links=[],this.angles=[],this.x=e,this.y=t,this.s=r,this.stiffness=a,this.points=[],this.links=[],this.angles=[];for(var s=0;s<A.links.length;s++){var l=A.links[s];this.links.push(new o(this,l))}for(s=0;s<A.constraints.length;s++){var u=A.constraints[s];this.angles.push(new n(this.points[u.p1],this.points[u.p2],this.points[u.p3],i(u.p1,u.p2)*r,i(u.p2,u.p3)*r,u.angle,u.range,u.force))}}return e.prototype.anim=function(e){for(var t=0,r=void 0;r=this.points[t++];r.anim(e));for(t=0,r=void 0;r=this.angles[t++];r.solve());},e.prototype.getRect=function(){for(var e=Number.MAX_VALUE,t=Number.MAX_VALUE,r=Number.MIN_VALUE,A=Number.MIN_VALUE,n=0,o=void 0;o=this.points[n++];)o.x>r&&(r=o.x),o.y>A&&(A=o.y),o.x<e&&(e=o.x),o.y<t&&(t=o.y);return new a.Rectangle(e,t,r-e,A-t)},e.prototype.collideIM=function(e){for(var t=0,r=void 0;r=this.points[t++];){var a=r.x-e.pos.x,A=r.y-e.pos.y,n=Math.sqrt(a*a+A*A),o=e.radius+r.w;if(n<o){n=Math.abs(o-n);var i=Math.atan2(A,a);r.x+=n*Math.cos(i),r.y+=n*Math.sin(i)}}},e.prototype.collide=function(e){for(var t=0,r=void 0;r=this.points[t++];)for(var a=0,A=void 0;A=e.points[a++];){var n=r.x-A.x,o=r.y-A.y,i=Math.sqrt(n*n+o*o),s=.5*(r.w+A.w);if(i<s){i=Math.abs(s-i);var l=Math.atan2(o,n),u=i*Math.cos(l)*.5,d=i*Math.sin(l)*.5;r.x+=u,r.y+=d,A.x-=u,A.y-=d}}},e}();t.RagDoll=i;var s={links:[{p0:0,p1:1,length:3,width:3,img:"rd05.png",memberType:1},{p0:1,p1:2,length:5,width:2.5,img:"rd09.png",memberType:2},{p0:3,p1:7,length:6,width:3.5,img:"rd01.png",memberType:5},{p0:7,p1:8,length:7,width:5,img:"rd06.png",memberType:6},{p0:3,p1:9,length:6,width:3.5,img:"rd01.png",memberType:7},{p0:9,p1:10,length:7,width:5,img:"rd06.png",memberType:8},{p0:0,p1:4,length:2.5,width:4.5,img:"rd04.png",memberType:9},{p0:0,p1:3,length:9,width:5,mass:10,img:"rd08.png",memberType:0},{p0:0,p1:5,length:5,width:3,img:"rd05.png",memberType:3},{p0:5,p1:6,length:5,width:2.5,img:"rd07.png",memberType:4}],constraints:[{p1:4,p2:0,p3:3,angle:0,range:.1,force:.2*.1*5},{p1:3,p2:0,p3:1,angle:Math.PI/2,range:2*Math.PI*.1,force:.2*.1},{p1:0,p2:1,p3:2,angle:-Math.PI/2,range:Math.PI/2*.1,force:.2*.1},{p1:3,p2:0,p3:5,angle:Math.PI/2,range:2*Math.PI*.1,force:.2*.1},{p1:0,p2:5,p3:6,angle:-Math.PI/2,range:Math.PI/2*.1,force:.2*.1},{p1:0,p2:3,p3:7,angle:-Math.PI/3,range:Math.PI/2*.1,force:.2*.1},{p1:0,p2:3,p3:9,angle:-Math.PI/3,range:Math.PI/2*.1,force:.2*.1},{p1:3,p2:7,p3:8,angle:Math.PI/2,range:Math.PI/3*.1,force:.2*.1},{p1:3,p2:9,p3:10,angle:Math.PI/2,range:Math.PI/3*.1,force:.2*.1}]};t.createRagdoll=function(e,t,r){return void 0===e&&(e=300),void 0===t&&(t=300),void 0===r&&(r=10),new i(e,t,r,.998,s)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(37),r(19)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.game;var A=t.keyCodes;t.electroBastardRay=!1;var n=t.closestItem;if(A.ELECTROBASTARDRAY)if(n&&t.availableElectroBastardRays>0){if(t.availableElectroBastardRays--,t.electroBastardRay=!0,0===n.type||8===n.type?a.DamageItem(n,.1):a.DamageItem(n,1),r.createDust(n.pos,4,4,e),n.vel.mult(.9),n.stunned=!0,n.life<1)switch(n.type){case 30:n.remove=!0;break;case 8:case 12:case 13:case 0:var o=n;o.remove=!0,o.killedByGuid=t.guid}}else t.unableToComply=!0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ShipCamera=function(e,t){var r=e.SW,a=e.SH;if(t.IS_SERVER)return e.SX=e.pos.x-.5*r,void(e.SY=e.pos.y-.5*a);var A=r,n=e.camera,o=e.SX,i=e.SY,s=r/A*.02+.1*e.vel.getLength();e.SX=o-(o-n.chaseX)*s,e.SY=i-(i-n.chaseY)*s,n.chaseX=Math.floor(e.pos.x-(.5*r-30*n.velChaseX)),n.chaseY=Math.floor(e.pos.y-(.5*a-30*n.velChaseY)),n.velChaseX>e.vel.x+1?n.velChaseX-=.1:n.velChaseX<e.vel.x-1&&(n.velChaseX+=.1),n.velChaseY>e.vel.y+1?n.velChaseY-=.1:n.velChaseY<e.vel.y-1&&(n.velChaseY+=.1)},t.default=function(e){for(var r=e.game,a=(e.step,e.SW),A=e.SH,n=(r.resW,r.player),o=0;o<n.length;o++){var i=n[o];e.IS_MULTIPLAYER||i.SW!==a&&(i.SW=a,i.SH=A),t.ShipCamera(i,e)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(25),r(5)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=1;t.SlowMotion=function(){A=.001},t.default=function(e){var t=e.game;e.step,e.SW;return 1!==A&&(e.step*=A,e.stepMS*=A),A<1?(A+=.009,t.eventMap[r.GAME_EVENT.TIME_SCALE_CHANGED]={intensity:a.map(A,.001,1,.1,1)}):A=1,e.keyCodes.TIMEFREEZE&&(A=.001),"timescale"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(5),r(2)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHIP_TURNING_INITIAL=.005,t.SHIP_TURNING_MAX_VAL=.1,t.default=function(e,A){var n,o=e.keyCodes;o.STRAFELEFT&&((n=e.vel.clone()).setLength(.1),n.setAngle(e.angle-.5*Math.PI),e.vel.add(n));o.STRAFERIGHT&&((n=e.vel.clone()).setLength(.1),n.setAngle(e.angle+.5*Math.PI),e.vel.add(n));if(o.UP&&e.life<a.PLAYER_LIFE_LOW_THRESHOLD){var i=1-r.map(e.life,0,a.PLAYER_LIFE_LOW_THRESHOLD,0,1);e.angle+=A*i*.01}o.LEFT&&(e.angle+=e.turnAcc*A,e.turnAcc>-t.SHIP_TURNING_MAX_VAL&&(e.turnAcc-=t.SHIP_TURNING_INITIAL*A)),o.RIGHT&&(e.angle+=e.turnAcc*A,e.turnAcc<t.SHIP_TURNING_MAX_VAL&&(e.turnAcc+=t.SHIP_TURNING_INITIAL*A)),o.LEFT||o.RIGHT||(e.turnAcc=0),e.angle=r.normalizeRadianAngle(e.angle),o.UP||o.BOOST?(o.BOOST?e.boost>0?(e.boost-=A,e.thrust.setLength(.5)):(e.unableToComply=!0,o.UP?e.thrust.setLength(.1):e.thrust.setLength(0)):e.thrust.setLength(.1),e.thrust.setAngle(e.angle)):(e.vel.mult(.99),e.thrust.setLength(0)),e.thrust.mult(A),e.vel.add(e.thrust),o.BOOST&&e.boost>0?e.vel.getLength()>2*e.maxVel&&e.vel.setLength(2*e.maxVel):e.vel.getLength()>e.maxVel&&e.vel.setLength(e.maxVel)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(15),r(13),r(18),r(11),r(1),r(3)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,o=e.WW,i=e.WH,s=e.step,l=e.stepMS,u=t.spaceMines.length,d=0;d<u;d++){var c=t.spaceMines[d];c.activationTimer>0?c.activationTimer-=l:c.lightIntensity<1?c.lightIntensity+=.03*s:c.lightIntensity=0;var f=c.vel.getLength();f>3&&c.vel.setLength(3),f>.2&&c.vel.mult(.97),a.default(c,s),n.shift(c,o,i),r.default(t.forceField,c,!0),A.wormhole(c,e)}return"SpaceMines"},t.createSpaceMine=function(e,t){var r=e.vel.clone();r.mult(.65);var a=new o.Vector(e.pos.x+Math.cos(e.angle+Math.PI)*(e.radius+10),e.pos.y+Math.sin(e.angle+Math.PI)*(e.radius+10));t.game.spaceMines.push({pos:a,vel:r,guid:i.getGuid(),life:100,forceX:0,forceY:0,radius:7,type:44,remove:!1,stunned:!1,targetFlagged:!1,activationTimer:1100,lightIntensity:0})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(42),r(5),r(2),r(13),r(14),r(11),r(15)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,l=e.WW,u=e.WH,d=e.step,c=t.rockets.length,f=0;f<c;f++){var p=t.rockets[f];if(5===p.type){var g=p.target;if(!g||g.remove){var h=r.GetPlayerByGuidOrNull(p.ownerGuid,e);h&&h.closestItem&&(g=p.target=h.closestItem)}if(g){var v=Math.atan2(g.pos.y-p.pos.y,g.pos.x-p.pos.x);p.angle=a.normalizeRadianAngle(p.angle),p.angle+=.07*a.angleDelta(p.angle,v)*d}}p.thrust.setLength(.1),p.thrust.setAngle(p.angle),p.vel.add(p.thrust);var y=6===p.type?10.5:9.5;p.vel.getLength()>y&&p.vel.setLength(y),p.angle=p.angle%A.doublePI,s.default(t.forceField,p,!1),n.default(p,d),p.life-=d,p.life<0&&(p.remove=!0,o.explosion(t,5,p.pos.x,p.pos.y,t.particles)),i.shift(p,l,u)}return"rockets/missiles"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(6),r(2),r(1),r(3),r(15),r(13),r(5),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=0,c={};t.prePopulateSpaceportCannonHash=function(e){for(var t=0;t<e.length;t++)for(var r=e[t],a=0;a<r.cannons.length;a++){var A=r.cannons[a];c[A.guid]=r}},t.getSpaceportCannonHash=function(){return c},t.default=function(e){var t=e.game,c=e.step,f=e.stepMS,p=u.getQuadTreesObj();if(p&&p.Player){d++;for(var g=t.spacePorts,h=[],v=0;v<g.length;v++){var y=g[v];y.centerNoneCannon.life<a.SPACEPORT_START_LIFE&&(y.centerNoneCannon.life+=.05*c),y.pos=y.staticPos.clone(),y.vel.x=0,y.vel.y=0;var m=1.75*y.radius,S=new r.Rectangle(y.pos.x-m,y.pos.y-m,2*m,2*m),E=new r.Rectangle(y.pos.x-y.radius,y.pos.y-y.radius,2*y.radius,2*y.radius),x=p.Player.queryInt(E);y.weaponsActive=x.length>0,h.push.apply(h,x);var T=[],_=y.cannons,I=_.length;if(y.weaponsActive)T=_;else for(var M=0;M<I;M++){var L=_[M];L.weaponsActiveTimerMS>0&&(T.push(L),L.weaponsActiveTimerMS-=f)}var w=T.length;if(w>0){for(var P=0;P<w;P++){(F=T[P]).busy=!1,F.fireing=!1,F.pos.x>F.staticPos.x+1?F.pos.x--:F.pos.x<F.staticPos.x-1&&F.pos.x++,F.pos.y>F.staticPos.y+1?F.pos.y--:F.pos.y<F.staticPos.y-1&&F.pos.y++,i.default(t.forceField,F,!0,5,.5),F.vel.getLength()>20&&F.vel.setLength(20),F.vel.mult(.7),s.default(F,c)}var R=n(p.SpaceSnakes.queryInt(S),p.SpaceSquid.queryInt(S),p.Enemies.queryInt(S),p.SpaceSpiders.queryInt(S));R.length<2&&R.push.apply(R,p.Player.queryInt(S));for(var b=R.length,O=0;O<b;O++){var C=R[O],G=0===C.type;if(d>3)for(var N=0;N<I;N++){var F,B=(F=_[N]).aggressionForGuidsHash[C.guid]||0;if(!F.busy&&F.isCannon&&!(G&&B<20)){var D=Math.atan2(C.pos.y-F.pos.y,C.pos.x-F.pos.x),V=Math.atan2(F.pos.y-y.pos.y,F.pos.x-y.pos.x);if(F.angle=l.normalizeRadianAngle(F.angle),G){if(B<40&&Math.random()>.05)continue;if(B<60&&Math.random()>.2)continue}if(!(Math.abs(D-V)>.59*Math.PI)){var X=new A.Vector(15,0);X.setAngle(D);var H=o.angleDifference(F.angle,D);if(F.angle-=.1*H*c,Math.abs(H)<.05*Math.PI){var k={ownerGuid:y.guid,type:3,guid:o.getGuid(),pos:F.pos.clone(),vel:X,life:400,radius:1,homing:!1,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.bullets.push(k),F.fireing=!0}F.busy=!0}}}}}}if(d>10){d=0;var W={},U=h.length;for(v=0;v<U;v++){W[h[v].guid]=!0}if(!e.IS_MULTIPLAYER||e.IS_SERVER){var Y=t.player,K=Y.length;for(v=0;v<K;v++){var q=Y[v];if(!W[q.guid]&&q.inSafeZone){q.inSafeZone=!1;var Z={life:a.NOTIFICATION_LIFE,type:55,onlyForGuid:q.guid};e.game.notifications.unshift(Z);var z={life:a.NOTIFICATION_LIFE,type:52,onlyForGuid:q.guid};e.game.notifications.unshift(z)}}}}return"spaceports"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(7),r(15)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new r.Vector(0,0);t.default=function(e){var t=e.game,r=t.rockFormationSystemRadius;if(0!==r.length){var o=a.getQuadTreesObj();if(o.RockFormationSystems){var i=r[0],s=[o.Enemies,o.Npcs,o.Drones];14===t.currentLevel&&s.push(o.Player,o.SpaceSnakes,o.SpaceSpiders,o.SpaceSquid),function(e,t){for(var r=t.length,a=e.pos.x,A=e.pos.y,o=0;o<r;o++)for(var i=t[o].query(e),s=i.length,l=0;l<s;l++){var u=i[l],d=Math.atan2(u.pos.y-A,u.pos.x-a);n.set(.13,0),n.setAngle(d),u.vel.add(n)}}(i,s);for(var l=t.rockFormations,u=l.length,d=0;d<u;d++){var c=l[d];A.ForceDamageOnly(t.forceField,c,5),c.pos.setFromVec(c.staticPos)}return"rockFormations"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=0,A=0;t.getNumCollisions=function(){var e=a,t=A;return a=0,A=0,{collisions:e,broadPhase:t}},t.GetQuadtreeOnTreeIntersections=function(e,t,n){var o=function(e){var t=[];for(var r in e)t.push(parseInt(r,10));return t}(n),i=o.length;r=[];for(var s=0;s<i;s++){var l=o[s],u=(t[l],e[l]);A+=u.REFERENCE_INDEX;for(var d=n[l],c=d.length,f=0;f<c;f++){var p=d[f],g=e[p.type],h=u.intersectTree(g);h.length>0&&(a+=h.length-1,r.push({indexes:h,typeA:u.itemType,typeB:g.itemType,handler:p.handler,AABB_VEL:u.AABB_VEL||g.AABB_VEL}))}}return r}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(3),r(1),r(48)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new a.Vector(0,0);t.default=function(e,t,a){if(void 0===a&&(a=!1),void 0!==t.forceX&&0!==t.forceX||void 0!==t.forceY&&0!==t.forceY){for(var o=t.rotatedLayoutPositioned,i=t.rotatedLayout,s=[0,1,0,2],l=[2,2,1,0],u=Math.abs(t.forceX)+Math.abs(t.forceY),d=0;d<o.length;d++){var c=o[d],f=i[d],p=(Math.random()-.5)*u*15,g=(Math.random()-.5)*u*15;c.x+=p,c.y+=g,f.x+=p,f.y+=g}for(var h=0;h<s.length;h++)for(d=0;d<o.length;d++){var v=r.midpoint(o[s[h]],o[l[h]],Math.random(),n),y=A.createParticle(v.x,v.y,t.forceX,t.forceY,5*Math.random()+2);e.game.particles.push(y)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.spaceFog.filter(function(e){return!e.fire});if(t)for(var a=Math.min(r.length,e.spaceSquids.length),A=0;A<a;A++){var n=r[A];e.spaceSquids[0].pos.set(n.x,n.y),e.spaceSquids[0].restPos.set(n.x,n.y)}else if(r.length>0&&e.spaceSquids.length>0){n=r[Math.floor(r.length*Math.random())];e.spaceSquids[0].pos.set(n.x,n.y+2e3),e.spaceSquids[0].restPos.set(n.x,n.y)}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(33),r(2),r(0),r(3),r(23),r(29),r(16)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.5*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSquids[0]&&s.distanceBetween(t.player[0],t.spaceSquids[0])<700&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,A=e.SW,o=e.SH,i=r.createShip(e);i.life=2e3,t.player.push(i),i.availableElectroBastardRays=3e6,i.angle+=.9*Math.PI,i.shields=0,a.default(t.player,A,o,.3*A,.3*o),t.spaceSquids=n.default(e,1,i.pos.x+.5*A,i.pos.y+200),t.spaceSquids[0].life=5e7;for(var c=0;c<220;c++)l.default(e),u.default(e),t.player[0]&&t.spaceSquids[0]&&s.distanceBetween(t.player[0],t.spaceSquids[0])<555&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0);i.keyCodes.UP=!0,d.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),n=A.default.create("USE ",a,"w"),s=A.default.create("ELECTROBASTARD RAY ",a,"r"),l=A.default.create("TO STUN",a,"w"),u=A.default.create("BIOLOGIAL ENEMIES [SPACE SQUIDS]",a,"w"),d=i.default(i.GLctx.Texture,t);A.default.addListGL(t,d,[n,s,l],100,r-400,e),A.default.addGL(t,d,u,100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(17),r(9),r(1),r(21),r(20),r(33),r(6),r(44),r(132),r(61),r(32),r(59),r(7),r(84),r(84)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=new A.Vector(0,0);t.menuGamePlayerAI=function(e){var t=e.SW,r=e.SH,a=e.SX,A=e.SY,n=e.game.player[0];for(var o in n.keyCodes)n.keyCodes[o]=!1;for(var o in n.keyCodes)"STRAFELEFT"!==o&&"STRAFERIGHT"!==o&&"LEFT"!==o&&"RIGHT"!==o&&"TIMEFREEZE"!==o&&"CLOAKED"!==o&&"BOOST"!==o&&"CHARGE"!==o&&"MISSILE"!==o&&Math.random()>.99&&(n.keyCodes[o]=!0);n.damageTaken&&(n.keyCodes.BOOST=!0,n.keyCodes.ELECTROBASTARDRAY=!0,Math.random()>.99&&(Math.random()>.5?n.keyCodes.PROXIMITYMINE=!0:n.keyCodes.SPACEMINE=!0)),Math.random()>.995&&(n.availableElectroBastardRays++,n.availableRockets<3&&n.availableRockets++,n.availableMines<2&&n.availableMines++),n.keyCodes.ELECTROBASTARDRAY=!1,n.keyCodes.DOWN=!1,n.closestItem&&30!==n.closestItem.type&&(Math.random()>.99&&(Math.random()>.5?n.keyCodes.ELECTROBASTARDRAY=!0:n.keyCodes.DOWN=!0),n.vel.getLength()<1&&(n.stunned||n.damageTaken)&&(n.keyCodes.CHARGE=!0,Math.random()>.5?n.keyCodes.PROXIMITYMINE=!0:n.keyCodes.SPACEMINE=!0));var s=g.getQuadTreesObj();if(s.Asteroids){new l.Rectangle(a,A,t,r);y.set(n.pos.x,n.pos.y);for(var u=s.queryTreesVec([0,6,12,1],y,.5*t,.5*r),d=[],c=0;c<u.length;c++){var f=u[c];30!==f.type&&12!==f.type&&28!==f.type||d.push(f)}var p=i.default(n,n.angle,d);n.keyCodes.STRAFELEFT=!1,n.keyCodes.STRAFERIGHT=!1,p.avoidanceAngle>0?n.keyCodes.STRAFELEFT=!0:p.avoidanceAngle<0&&(n.keyCodes.STRAFERIGHT=!0),n.avoidance=p,n.vel.add(p.avoidance)}n.damageTaken,n.keyCodes.UP=!0};t.default={splash:null,assert:function(e){return t.menuGamePlayerAI(e),h.default(e),!1},init:function(e){var t=e.game,i=e.WH,l=e.WW;v.DirectorSetup({campingTimeout:3e3,enemies:30,spaceSpiders:15,spacesnakes:18,spacesquids:12});var g=u.default(e,400,new A.Vector(.2*e.WW,.1*e.WH),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:8}),h=u.default(e,380,new A.Vector(.7*e.WW,.1*e.WH),"GENESIS",{boost:200,life:150,missiles:8,rockets:2,electrobastardray:300,homingBullets:300,proximityMines:8});t.spacePorts=[g,h],t.player[0]=a.createShip(e),t.player[0].rotatedLayout=[new A.Vector(0,0),new A.Vector(0,0),new A.Vector(0,0)],t.player[0].pos=new A.Vector((t.anomlies[1].x-.013)*e.WW,(t.anomlies[1].y+.027)*e.WH);var y=p.default(.6*l,.5*i,250);t.rockFormations=y.rockFormations,t.rockFormationSystemRadius=[y.rfSystem],t.drones=a.createDrones(e,t.player[0].pos,2,t.player[0].guid),t.player[0].angle=Math.PI*(Math.random()>.5?-.66:-.34),t.player[0].availableRockets=10,t.player[0].availableElectroBastardRays=600,t.spaceSpiders=f.default(e,20),t.spaceBats=c.default(e,750),t.asteroids=r.default(e,300),t.enemies=a.createEnemies(e,30),t.spaceSnake=o.default(e,16,void 0,void 0,15*Math.random()+10),t.spaceSquids=s.default(e,12),t.npcs=n(a.createNPCs(e,40,{},0)),d.default(t,!0)},mapSize:function(e){return{WW:32e3,WH:32e3}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(283),r(284)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=[r.default,a.default];t.arrayIsEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){if(e[r]!==t[r])return!1}return!0};var n=function(){var e=A.shift(),t=performance.now(),r=e(function(){var e=performance.now()-t;setTimeout(function(){console.log(r+" completed in "+e+" MS"),A.length>0&&n()},20)});console.log("running",r)};t.default=function(){n()}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(12)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,r){this._numInputs=e,this._numHidden=t,this._numOutputs=r,this._bias0=new n(1,this._numHidden),this._bias1=new n(1,this._numOutputs),this._weights0=new n(this._numInputs,this._numHidden),this._weights1=new n(this._numHidden,this._numOutputs),this._bias0.randomWeights(),this._bias1.randomWeights(),this._weights0.randomWeights(),this._weights1.randomWeights()}return e.Mutate=function(t,r,a){void 0===a&&(a=.1);var A=new e(t._numInputs,t._numHidden,t._numOutputs);return A.bias0=n.mutateFromFirst(t.bias0,r.bias0,a),A.bias1=n.mutateFromFirst(t.bias1,r.bias1,a),A.weights0=n.mutateFromFirst(t.weights0,r.weights0,a),A.weights1=n.mutateFromFirst(t.weights1,r.weights1,a),A},Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs},set:function(e){this._inputs=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bias0",{get:function(){return this._bias0},set:function(e){this._bias0=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bias1",{get:function(){return this._bias1},set:function(e){this._bias1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights0",{get:function(){return this._weights0},set:function(e){this._weights0=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights1",{get:function(){return this._weights1},set:function(e){this._weights1=e},enumerable:!0,configurable:!0}),e.prototype.feedForward=function(e){this.inputs=n.convertFromArray(e),this.hidden=n.dot(this.inputs,this.weights0),this.hidden=n.add(this.hidden,this.bias0),this.hidden=n.map(this.hidden,function(e){return A(e)});var t=n.dot(this.hidden,this.weights1);return t=n.add(t,this.bias1),t=n.map(t,function(e){return A(e)})},e.prototype.train=function(e,t,a){var o=this.feedForward(e),i=n.convertFromArray(t),s=n.subtract(i,o);a&&r.LOG_GL_FIXED(s.data[0].map(function(e){return e.toFixed(3)}).join(","),"ERR RATE");var l=n.map(o,function(e){return A(e,!0)}),u=n.multiply(s,l),d=n.transpose(this.weights1),c=n.dot(u,d),f=n.map(this.hidden,function(e){return A(e,!0)}),p=n.multiply(c,f),g=n.transpose(this.hidden);this.weights1=n.add(this.weights1,n.dot(g,u));var h=n.transpose(this.inputs);return this.weights0=n.add(this.weights0,n.dot(h,p)),this.bias1=n.add(this.bias1,u),this.bias0=n.add(this.bias0,p),s.data[0]},e}();function A(e,t){return void 0===t&&(t=!1),t?e*(1-e):1/(1+Math.exp(-e))}t.NeuralNetwork=a;var n=function(){function e(e,t,r){if(void 0===r&&(r=[]),this._rows=e,this._cols=t,this._data=r,null==r||0==r.length){this._data=[];for(var a=0;a<this._rows;a++){this._data[a]=[];for(var A=0;A<this._cols;A++)this._data[a][A]=0}}else if(r.length!=e||r[0].length!=t)throw new Error("Incorrect data dimensions!")}return Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.add=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),A=0;A<a.rows;A++)for(var n=0;n<a.cols;n++)a.data[A][n]=t.data[A][n]+r.data[A][n];return a},e.mutateFromFirst=function(t,r,a){void 0===a&&(a=.1),e.checkDimensions(t,r);for(var A=new e(t.rows,t.cols),n=0;n<A.rows;n++)for(var o=0;o<A.cols;o++){var i=(t.data[n][o]-r.data[n][o])*Math.random()*a;A.data[n][o]=t.data[n][o]+i}return A},e.checkDimensions=function(e,t){if(e.rows!=t.rows||e.cols!=t.cols)throw new Error("Matrices are of different dimensions!")},e.convertFromArray=function(t){return new e(1,t.length,[t])},e.dot=function(t,r){if(t.cols!=r.rows)throw new Error('Matrices are not "dot" compatible!');for(var a=new e(t.rows,r.cols),A=0;A<a.rows;A++)for(var n=0;n<a.cols;n++){for(var o=0,i=0;i<t.cols;i++)o+=t.data[A][i]*r.data[i][n];a.data[A][n]=o}return a},e.map=function(t,r){for(var a=new e(t.rows,t.cols),A=0;A<a.rows;A++)for(var n=0;n<a.cols;n++)a.data[A][n]=r(t.data[A][n]);return a},e.multiply=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),A=0;A<a.rows;A++)for(var n=0;n<a.cols;n++)a.data[A][n]=t.data[A][n]*r.data[A][n];return a},e.subtract=function(t,r){e.checkDimensions(t,r);for(var a=new e(t.rows,t.cols),A=0;A<a.rows;A++)for(var n=0;n<a.cols;n++)a.data[A][n]=t.data[A][n]-r.data[A][n];return a},e.transpose=function(t){for(var r=new e(t.cols,t.rows),a=0;a<t.rows;a++)for(var A=0;A<t.cols;A++)r.data[A][a]=t.data[a][A];return r},e.prototype.randomWeights=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++)this.data[e][t]=2*Math.random()-1},e}()}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(138)],void 0===(A=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.m4=r(292),window.webglUtils=r(293);r(294);var A=function(){function e(){}return e.main=function(){a.default()},e}();t.default=A,A.main()}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(34),r(23),r(29),r(2),r(8),r(27),r(77),r(235),r(237),r(238),r(240),r(242),r(243),r(250),r(251),r(252),r(253),r(77),r(65),r(0),r(72),r(30),r(72),r(28),r(27),r(254),r(39),r(255),r(256),r(266),r(10),r(2),r(12),r(267),r(278),r(279),r(133),r(16),r(134),r(82),r(12),r(280),r(281),r(282),r(135),r(285),r(286),r(291),r(71)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E,x,T,_,I,M,L,w,P,R,b,O,C,G,N,F,B,D,V,X,H,k,W,U,Y,K,q,Z,z,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var Q=[];Q[14]=X.default,Q[15]=c.default,Q[16]=d.default,Q[17]=f.default,Q[10]=q.default,Q[11]=Z.default,Q[13]=p.default,Q[1]=g.default,Q[0]=h.default,Q[2]=v.default,Q[3]=F.default,Q[4]=B.default,Q[5]=y.default,Q[6]=W.default,Q[7]=U.default,Q[8]=Y.default,Q[9]=z.default,Q[12]=D.default;var J=window.innerWidth,$=window.innerHeight,ee=10*J,te=10*$,re=P.default(J,$),ae=null,Ae=null,ne=null,oe=null,ie=null;window.onresize=function(){V.default().engine.game.loadscreen&&(window.location.href=window.location.href),G.LOG_GL_FIXED_FORCED("RESOLUTION CHANGE NOT SUPPORTED","ERROR"),setTimeout(function(){V.default().engine.game.resW=window.innerWidth,V.default().engine.game.resH=window.innerHeight,V.default().engine.game.currentResW=window.innerWidth,V.default().engine.game.currentResH=window.innerHeight,V.default().engine.game.SW=window.innerWidth,V.default().engine.game.SH=window.innerHeight,V.default().engine.SW=window.innerWidth,V.default().engine.SH=window.innerHeight,V.default().gui.SW=window.innerWidth,V.default().gui.SH=window.innerHeight;var e=O.default(V.default().engine);e.SW=window.innerWidth,e.SH=window.innerHeight;var t=document.getElementById("stage");t.width=window.innerWidth,t.height=window.innerHeight,Ae.game.zoomTX=Ae.SW/Ae.game.resW,Ae.game.zoomTXinverted=Ae.game.resW/Ae.SW,E.zoom(V.default().gui,!0),k.LOG_GL_FIXED(window.innerWidth+"|"+window.innerHeight,"env change")},50)};var se=!0;t.default=function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("level"),10)-1;if(null===e.get("console")){if(null!==e.get("test"))return console.log("console only. only static inializers."),console.log("running test suite."),void K.default();for(var A in re.menuSettings)w.containsBool(A)&&(re.menuSettings[A]=w.loadBool(A));null!=e.get("debug")?(re.debug={},re.menuSettings.extensiveUI=!0):re.menuSettings.extensiveUI=!1,e.get("dev")&&(re.debug={},re.menuSettings.fps=!0,!0),se=!e.get("soft"),!!e.get("skip"),t<Q.length&&(re.currentLevel=t),se||(ee=10*J,te=10*$),x.Log("SW:",J,"SH:",$),x.Log("WW:",ee,"WH:",te);var n=document.getElementById("stage");n.width=J,n.height=$,se?ie=R.createGL(n,re.menuSettings.antialiasing):((ne=n.getContext("2d")).fillStyle="black",ne.fillRect(0,0,J,$),oe=ne.getImageData(0,0,J,$)),window.addEventListener("resize",function(){var e=window.innerWidth/n.width;re.resW=re.SW=n.width*=e,re.resH=re.SH=n.height*=e,x.Log("resolution changed",re.resW,re.resH)}),window.game=re,ae=b.createDefaultGuiCTX(re,ee,te,ie,ne,oe,oe?oe.data:new Uint8ClampedArray(0)),Ae=b.createDefaultEngineCTX(re,ee,te,!1,!1),V.setGlobalContexts(Ae,ae),s.default(Ae,ae),a.init(Ae),M.addKeyMapperEvents(),j.enableShipMousecontrol(),r.default(ae),null===e.get("hot")?null===e.get("hotrocks")?(Ae.game.loadscreen=!0,ie.clear(ie.COLOR_BUFFER_BIT|ie.DEPTH_BUFFER_BIT),setTimeout(function(){o.default.createUnitializedTextBuffers(function(e,t,a){if(N.default(ae,Ae,t?1:e),t){s.default(Ae,ae),Ae.game.loadscreen=!1,S.setupFrameBuffer(ie),Q[14].init(Ae),r.default(ae),x.Log("created: "+a+" char textures"),le(14);var A=w.loadStr("version_info");A!==C.VERSION_STR&&(w.saveStr("version_info",C.VERSION_STR),re.notifications.push({type:49,message:"new version: "+C.VERSION_STR,life:C.NOTIFICATION_LIFE}),G.LOG_GL("new version: "+C.VERSION_STR),G.LOG_GL("UPDATE: was on "+A),re.menuSettings.fps=!1,re.menuSettings.fps3dBars=!1,re.menuSettings.fps3dGrid=!1)}},ie)},0)):le(7):le(14)}else console.log("console only. only static inializers.")};var le=function(e){var t;t=Q[e],re.currentLevel=e,s.default(Ae,ae,t.mapSize),x.Log("mapsize set to",Ae.WW,Ae.WH),x.Log("changed to level",e),t.init(Ae),m.postLeelReset(Ae),fe(),re.playerGuid=re.player[0].guid},ue=0,de=0,ce=0,fe=function(){var e=!1,t=performance.now(),o=t,s=0,l=!1,d=function(c){E.zoom(ae);var f=re.currentLevel,p=Q,g=p[f].assert;l=re.isPaused,t=o,o=performance.now(),s=o-t;var h=(s=Math.min(s,100))*C.STEP_MULTIP;Ae.stepMS=s,Ae.step=h,Ae.stepREQframe=c,ae.stepMS=s,ae.step=h,ae.stepREQframe=c;var v=re.player[0];v?(ae.SX=Ae.SX=re.SX=v.SX,ae.SY=Ae.SY=re.SY=v.SY,v.pos.toPoint()):(ae.SX=Ae.SX=re.SX,ae.SY=Ae.SY=re.SY),ae.SW=Ae.SW=re.SW,ae.SH=Ae.SH=re.SH;var y=i.default(re.state);Ae.keyCodes=ae.keyCodes=y.game.keys,re.allKeyCodes=y;var m=O.default(ae);if(m&&(m.keyCodes=y.game.keys),e||(e=re.player.length>0&&g(Ae)),!e&&re.fromClock&&re.clock>re.fromClock&&(re.player=[]),re.targetLevel)return le(re.targetLevel),void(re.targetLevel=void 0);if(e||0===re.player.length){if(ue+=s,k.LOG_GL_FIXED(ue/1e3|0,"death"),ue>500&&re.SW>.15*re.resW){var S=.99;re.SX+=re.SW*(1-S)*.5*1,re.SY+=re.SH*(1-S)*.5*1,re.SW*=.99,re.SH*=.99,E.zoom(ae)}var w=H.getRagDollPos();if(w&&(re.SX=w.x-.5*re.SW,re.SY=w.y-.5*re.SH),e&&(re.level_completed=!0),ue>n.LEVEL_COMPLETION_TIMEOUT)return ue=0,e?(x.Log("level asserted:",re.currentLevel),void le(re.currentLevel+1)):(x.Log("level failed:",re.currentLevel),le(14),void I.StateMachine(re.state).menuActivate())}if(re.debug)l||(a.default(Ae),A.default(Ae));else try{l||(a.default(Ae),A.default(Ae))}catch(e){de++,G.LOG_GL_FIXED_FORCED(de,"engine/client error"),_.Err(JSON.stringify(e.stack)),x.ForceOpen(),re.performance.engine=[],console.error(e)}if(Ae.game.zoomTX=Ae.SW/Ae.game.resW,Ae.game.zoomTXinverted=Ae.game.resW/Ae.SW,re.debug)(P=p[f].camera)&&P(ae),r.default(ae),(R=p[f].gui)&&R(ae);else try{var P,R;if(se)(P=p[f].camera)&&P(ae),r.default(ae),(R=p[f].gui)&&R(ae)}catch(e){ce++,G.LOG_GL_FIXED_FORCED(ce,"gui error"),_.Err(JSON.stringify(e.stack)),x.ForceOpen(),re.performance.gui=[],G.LOG_GL_FIXED_FORCED(de,"engine/client error"),console.error(e)}se&&(T.default(x.default,ae,re.performance.gui,"gui"),u.default(ae)),L.default(re),re.eventMap={},M.resetKeyCodes(!1),requestAnimationFrame(d)};setTimeout(function(){return d(0)},re.testMode?500:0)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(4),r(6),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[];t.default=function(e){var t=e.SW,l=e.SH,u=e.SX,d=e.SY,c=e.gl,f=i.getQuadTreesObj();if(f.Asteroids){var p=new o.Rectangle(u-100,d-100,t+200,l+200),g=f.Asteroids.queryInt(p);s=[];for(var h=0;h<g.length;h++){var v=g[h];r.blockCirclePoly(v.sides,v.radius,v.pos.x,v.pos.y,v.angle,s,l,u,d,Math.max(4,.1*v.radius))}s.length>0&&(a.default(A.GLctx.Vertices,c),n.drawColor(s,c,.9,.9,.9,1))}return"asteroids"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(1),r(5),r(0),r(0),r(10),r(8),r(47),r(3),r(88),r(62),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e,t,a,A,n,o,i){for(var s=e.length,l=0;l<s;l++){var u=e[l];r.line2Poly((t.x+u.from.x-A)*o,(t.y+u.from.y-n)*o,(t.x+u.to.x-A)*o,(t.y+u.to.y-n)*o,i,1)}},g=(new a.Vector(0,0),Number.MIN_VALUE,Number.MIN_VALUE),h=[],v=[],y=s.default.create("<AUTOPILOT>",30,"g"),m=s.default.create("<AUTOPILOT>",30,"r");t.default=function(e){var t=e.game,a=e.SX,S=e.SY,E=e.SW,x=e.SH,T=e.gl,_=e.step,I=0,M=t.player;h=[],v=[];var L=t.enemies;I=L.length;for(var w=0;w<I;w++){var P=L[w],R=(P.rotatedLayout,P.pos.x),b=P.pos.y;r.onStage(e,P.pos.x,P.pos.y)&&(c.default(t.zoomTXinverted,P,a,S,h,v,{r:1,g:0,b:0}),R>a&&R<a+E&&b>S&&b<S+x&&r.line2Poly(R-.5*P.radius-a,b-2*P.radius-S,R-.5*P.radius+.3*P.life-a,b-2*P.radius-S,h,2))}var O=t.npcs;if((I=O.length)>0)for(w=0;w<I;w++){var C=O[w];C.rotatedLayout,R=C.pos.x,b=C.pos.y;r.onStage(e,C.pos.x,C.pos.y)&&(c.default(t.zoomTXinverted,C,a,S,h,v,{r:.9,g:.9,b:.9}),R>a&&R<a+E&&b>S&&b<S+x&&r.line2Poly(R-.5*C.radius-a,b-2*C.radius-S,R-.5*C.radius+.3*C.life-a,b-2*C.radius-S,h,2))}var G=i.default(e);if(G&&!G.cloaked&&!t.levelEditor){t.menuSettings.showCloseItems&&(p(G.enemyDetection,G.pos,0,a,S,t.zoomTXinverted,h),r.addToColorMap(v,h,.7,0,0,1),p(G.asterodDetection,G.pos,0,a,S,t.zoomTXinverted,h),r.addToColorMap(v,h,.7,.7,.7,1),p(G.anomalyDetection,G.pos,0,a,S,t.zoomTXinverted,h),r.addToColorMap(v,h,.7,.7,0,1));var N=G.closestItem;N&&(e.game.isPaused||(g+=.02*_),(30===N.type||G.availableRockets>0||G.availableElectroBastardRays>0)&&(r.blockCirclePoly(16,Math.max(50,1.2*N.radius),N.pos.x,N.pos.y,g,h,x,a,S,2,!0),r.addToColorMap(v,h,.8,.2,0,1)))}for(var F=t.drones.length,B=0;B<F;B++){var D=t.drones[B];c.default(t.zoomTXinverted,D,a,S,h,v,{r:.1,g:.7,b:.1})}for(var V=0;V<M.length;V++){var X=M[V];if(X.guid!==t.playerGuid&&X.name&&X.name.length>1){if(!X.cloaked){var H=s.default.create(X.name,30,"g");s.default.addGL(T,n.default(o.GLctx.Texture,T),H,X.pos.x-.5*H.w-a,X.pos.y-70-S,e)}}else if(14!==t.currentLevel){var k=!1;if(X.autoPilot>0&&s.default.addGL(T,n.default(X.autoPilot>100?o.GLctx.Texture:o.GLctx.TextureDist,T),X.autoPilot>100?y:m,X.pos.x-.5*y.w-a,X.pos.y-70-S,e),X.unableToComply){k=!0;var W={x:X.pos.x,y:X.pos.y};W.x-=a,W.y-=S,W.y-=2*X.originalRadius;var U=.7*X.originalRadius,Y=.85*U,K=.7*U,q=W.y-U,Z=W.x,z=W.y+U,j=W.x-Y,Q=W.y+U,J=W.x+Y,$=W.y-.3*K,ee=W.x,te=W.y+K,re=W.x;r.line2Poly(Z,q,j,z,h,2),r.line2Poly(Z,q,J,Q,h,2),r.line2Poly(j,z,J,Q,h,2),r.line2Poly(ee,$,re,te,h,2)}else X.bulletsFired>0&&!X.cloaked&&(k=!0,r.blockCirclePoly(X.maxBullets,.6*X.originalRadius,X.pos.x,X.pos.y-2*X.originalRadius,0,h,0,a,S,4,!1,0,X.maxBullets-X.bulletsFired,0,X.maxBullets-X.bulletsFired));k&&r.addToColorMap(v,h,.9,.1,.1,1)}if(t.menuSettings.showSightLines){var ae=d.getInsightShapeProximity(X.pos,X.angle),Ae=ae[0],ne=ae[1],oe=ae[2],ie=u.midpoint(Ae,ne,.1),se=u.midpoint(Ae,oe,.1);r.line2Poly(ie.x-a,ie.y-S,ne.x-a,ne.y-S,h,1),r.line2Poly(se.x-a,se.y-S,oe.x-a,oe.y-S,h,1),r.addToColorMap(v,h,.8,.1,.1,1)}if(c.default(t.zoomTXinverted,X,a,S,h,v),r.addToColorMap(v,h,1,0,1,1),X.closestItem&&X.electroBastardRay){for(var le=[],ue=X.closestItem,de=ue.pos.x-ue.radius,ce=ue.pos.y,fe=0;fe<3;fe++){var pe=[(R=X.rotatedLayoutPositioned[0].x)-a],ge=[(b=X.rotatedLayoutPositioned[0].y)-S],he=(de-R)/10,ve=(ce-b)/10;for(B=1;B<9;B++)pe.push(he*(B+1)+.5*(A.RandomStepBased(_,X.guid+B)-.5)*ve+R-a),ge.push(ve*(B+1)+.5*(A.RandomStepBased(_,X.guid-B)-.5)*he+b-S);pe.push(de-a),ge.push(ce-S);var ye=pe.length-1;for(B=0;B<ye;B++){var me=pe[B],Se=pe[B+1],Ee=ge[B],xe=ge[B+1];le.push(me,Ee,Se,xe)}}var Te=le.length;for(B=0;B<Te;B+=4)r.line2Poly(le[B],le[B+1],le[B+2],le[B+3],h,2);r.addToColorMap(v,h,.1,.1,.7,1);for(B=0;B<Te;B+=4)r.line2Poly(le[B],le[B+1],le[B+2],le[B+3],h,1);r.addToColorMap(v,h,.5,.5,1,1)}}I=t.rockets.length;for(B=0;B<I;B++){var _e=t.rockets[B],Ie=A.rotateVector(_e.tailLayout,_e.angle);r.line2Poly(_e.pos.x-a,_e.pos.y-S,_e.pos.x+Ie.x-a,_e.pos.y+Ie.y-S,h,3)}r.addToColorMap(v,h,.5,.5,.5,1),I=t.charges.length;for(B=0;B<I;B++){var Me=t.charges[B],Le=(Me.pos.x,Me.pos.y,l.hexBox(Me.radius,Me.pos,a,S));h.push.apply(h,Le[0]),r.addToColorMap(v,h,.1,.1,.1,1),h.push.apply(h,Le[1]),r.addToColorMap(v,h,.7,.7,.7,1),h.push.apply(h,Le[2]),r.addToColorMap(v,h,.3,.3,.3,1)}return h.length>0&&(T.disable(T.BLEND),f.drawColorMapSingle(v,h,T),T.enable(T.BLEND)),"ship"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(35),r(4),r(0),r(10),r(40),r(8),r(2)],void 0===(A=function(e,t,r,a,A,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],d=0,c=0,f=1;t.default=function(e){var t=e.WW,p=e.WH,g=e.SX,h=e.SY,v=e.gl,y=e.game,m=e.step,S=y.currentResW,E=y.currentResH,x=o.default(e);if(!(!x||y.currentLevel<=14||!y.menuSettings.instruments||x.cloaked||y.levelEditor)){d>.2&&(d-=.005*m);var T=i.default(x,t,p);T?c<3*t&&(c+=f,f*=1.01):c>10?c*=.7:(f=1,c=0),u=[];for(var _=x.pos,I=t*r.RESOLUTION,M=p*r.RESOLUTION,L=E*d,w=S*d,P=10+(T?5*Math.random():0),R=_.y+c,b=_.x+c,O=0;O<M;O++){var C=O/r.RESOLUTION;C>R+L&&C<R+E-L&&a.line2Poly(S-P,C-R,S-25,C-R,u,2)}for(var G=0;G<I;G++){var N=G/r.RESOLUTION;N>b+w&&N<b+S-w&&a.line2Poly(N-b,E-P,N-b,E-25,u,2)}a.line2Poly(S-P,L,S-P,E-L,u,2),a.line2Poly(w,E-P,S-w,E-P,u,2),u.length>0&&(A.default(A.GLctx.Vertices,v),a.drawColor(u,v,.1,.35,.1,1));for(var F=Math.round(S+g+c)+"'",B=Math.round(E+h+-.5*c)+"'",D=[],V=n(F.split(""),[""],B.split("")),X=V.length,H=0;H<X;H++)D.push(s.default.create(V[H],l.TEXT_SIZE_SMALL,"g"));return s.default.addListGL(v,A.default(c>5?A.GLctx.TextureDist:A.GLctx.Texture,v),D,10,E-2*l.TEXT_SIZE_SMALL*1,e),"instruments"}d=.5}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[],o=[];t.default=function(e){var t=e.game,i=e.SW,s=e.SH,l=e.SX,u=e.SY,d=e.gl;if(t.menuSettings.particles){var c;n=[],o=[];for(var f=t.particles,p=f.length,g=0;g<p;g++){var h=0|(c=f[g]).pos.x,v=0|c.pos.y;if(h-l<i&&v-u<s&&h-l>0&&v-u>0){var y=0|c.vel.x,m=0|c.vel.y;n.push(h-l,v-u,h+(0==y?1:y)-l,v+(0==m?1:m)-u)}}r.addToColorMap(o,n,.3,.3,.3,1);var S=t.customParticles;p=S.length;for(g=0;g<p;g++){var E=S[g];h=E.pos.x-l,v=E.pos.y-u;h<i&&v<s&&h>0&&v>0&&n.push(h,v,h+E.vel.x,v+E.vel.y)}r.addToColorMap(o,n,.5,.3,.2,1);for(var x=t.spacePorts,T=x.length,_=0;_<T;_++){var I=x[_].chargeParticles,M=I.length;for(g=0;g<M;g++){var L=I[g];h=0|L.pos.x,v=0|L.pos.y;if(h-l<i&&v-u<s&&h-l>0&&v-u>0){y=0|L.vel.x,m=0|L.vel.y;n.push(h-l,v-u,h+(0==y?1:y)-l,v+(0==m?1:m)-u)}}}if(r.addToColorMap(o,n,.5,1,.5,1),n.length>0){var w=a.default(A.GLctx.Vertices,d);r.drawColorMap(o,n,w,d,d.LINES)}return"particles"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(2),r(0),r(0),r(35),r(4)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0,s=[];t.default=function(e){var t=e.step,l=e.WW,u=e.WH,d=e.SX,c=e.SY,f=e.SW,p=e.SH,g=(e.game,e.gl);s=[],(i+=2*t)>400&&(i=0);n.RESOLUTION;var h=1.5*r.MAP_SAFETY_ZONE;Math.max(0,h-f-d),Math.min(f-0,l-(d+h)),Math.max(0,h-f-c),Math.min(p-0,u-(c+h));return o.line2PolyMiteredAuto(h-d,h-c,l-h-d,h-c,s,15),o.line2PolyMiteredAuto(l-h-d,h-c,l-h-d,u-h-c,s,15),o.line2PolyMiteredAuto(l-h-d,u-h-c,h-d,u-h-c,s,15),o.line2PolyMiteredAuto(h-d,u-h-c,h-d,h-c,s,15),s.length>0&&(a.default(A.GLctx.Vertices,g),o.drawColor(s,g,.9,0,0,1)),"mapEdge"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(1),r(5),r(4),r(11)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],u=[],d=new n.Vector(0,0),c=new n.Vector(0,0),f=new n.Vector(0,0),p=new n.Vector(0,0);t.default=function(e){e.WW,e.WH,e.game,e.SW;var t=e.SH,n=e.SX,g=e.SY,h=e.gl;l=[],u=[];for(var v=e.game.spaceSnake,y=v.length,m=0;m<y;m++)for(var S=v[m].segments,E=S.length,x=0;x<E;x++){var T=S[x];if(s.onStage(e,T,3*T.radius)){r.blockCirclePoly(10,T.radius*(0===x?1.3:1.2),T.pos.x,T.pos.y,T.angle,l,t,n,g,T.radius*(0===x?1.3:1.2));for(var _=S[x-1],I=1;I<6;I++)r.blockCirclePoly(5,.17*T.radius*I,T.pos.x,T.pos.y,T.pos.y-T.pos.x,u,t,n,g,.17*T.radius*I),x>0&&r.line2Poly(T.pos.x-n,T.pos.y-g,_.pos.x-n,_.pos.y-g,u,.1*T.radius*I);if(x>0&&x<E-1)for(var M=0;M<2;M++)for(var L=.3*T.radius,w=0;w<L;w++)p.x=2*T.radius+T.radius*w*.2,p.y=0,o.rotateVector(p,T.angle+(-.38*Math.PI+.04*w-.15*T.legAngle*w)*(0===M?-1:1),p),r.line2Poly(T.pos.x-n,T.pos.y-g,T.pos.x+p.x-n,T.pos.y+p.y-g,l,2),w<4&&r.line2Poly(T.pos.x-n,T.pos.y-g,T.pos.x+p.x-n,T.pos.y+p.y-g,u,2);else d.x=1.13*T.radius,d.y=0,o.rotateVector(d,T.angle+-.1*Math.PI+.01*T.radius,d),f.x=1.13*T.radius,f.y=0,o.rotateVector(f,T.angle+-.1*Math.PI-.01*T.radius,f),c.x=.9*T.radius,c.y=0,o.rotateVector(c,T.angle+.1*Math.PI+.065*T.legAngle,c),c.add(d),l.push(d.x+T.pos.x-n,d.y+T.pos.y-g,c.x+T.pos.x-n,c.y+T.pos.y-g,f.x+T.pos.x-n,f.y+T.pos.y-g),d.x=1.13*T.radius,d.y=0,o.rotateVector(d,T.angle+.1*Math.PI+.01*T.radius,d),f.x=1.13*T.radius,f.y=0,o.rotateVector(f,T.angle+.1*Math.PI-.01*T.radius,f),c.x=.9*T.radius,c.y=0,o.rotateVector(c,T.angle+-.1*Math.PI-.065*T.legAngle,c),c.add(d),l.push(d.x+T.pos.x-n,d.y+T.pos.y-g,c.x+T.pos.x-n,c.y+T.pos.y-g,f.x+T.pos.x-n,f.y+T.pos.y-g)}}if(l.length>0){a.default(A.GLctx.Vertices,h);h.blendFunc(h.DST_COLOR,h.ZERO);i.drawColor(l,h,0,0,0,1),h.blendFunc(h.ONE,h.ONE),i.drawColor(u,h,.1,.01,.01,1)}return"spacesnake"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(8),r(1)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=200,s=400,l=n.default.create("BLACK_HOLE",80,"r"),u=n.default.create("WHITE_HOLE",80,"r"),d=n.default.create("ANOMALY",80,"r"),c=[],f=function(e,t,o,i){i.frame;var s=i.game,l=(i.SW,i.SX),u=i.SY,d=i.gl,f=s.zoomTXinverted;r.onStage(i,t,o,300)&&(r.line2Poly(t-l,o-u,t-l+300,o-u-300,c,5),n.default.addGL(d,a.default(A.GLctx.TextureDist,d),e,(t-l+300)*f,(o-u-300-40)*f,i,!0))};new o.Vector(0,0);t.default=function(e){var t=e.WW,n=e.WH,o=(e.SW,e.SH,e.SX,e.SY,e.gl),p=e.game;c=[];for(var g=p.anomlies,h=g.length,v=0;v<h;v++){var y=g[v],m=y.x*t,S=y.y*n;switch(y.type){case 58:f(d,m,S,e);break;case 59:f(u,m,S,e);break;case 60:f(l,m,S,e)}}return(i+=10)>400&&(i=10),(s-=10)<10&&(s=400),c.length>0&&(a.default(A.GLctx.Vertices,o),r.drawColor(c,o,.9,0,0,1)),"wormhole"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(62),r(4)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[],l=function(e,t,a,A,o,l){var u=e.length;if(u>0){for(var d=0;d<u;d++){var c=e[d];i.push.apply(i,n.vectorsToVertices(c.complexPartIndices,c.complexPartVectors,c.pos.x-t,c.pos.y-a,c.angle))}r.addToColorMap(s,i,A,o,l,1)}};t.default=function(e){e.ctx,e.WW,e.WH,e.game,e.SW,e.SH;var t=e.SX,n=e.SY,u=e.gl;e.game.asteroids;i=[],s=[];for(var d=e.game.asteroidParts,c=[],f=[],p=[],g=0;g<d.length;g++){var h=d[g];if(r.onStage(e,h.pos.x,h.pos.y,600)){switch(h.type){case 31:o.line2PolyTriangle(h.pos.x+h.rotatedEdgeA.x-t,h.pos.y+h.rotatedEdgeA.y-n,h.pos.x+h.rotatedEdgeB.x-t,h.pos.y+h.rotatedEdgeB.y-n,i,.25*h.width);break;case 7:c.push(h);break;case 9:f.push(h);break;case 10:p.push(h);break;case 38:o.line2PolyTriangle(h.pos.x+h.rotatedEdgeA.x-t,h.pos.y+h.rotatedEdgeA.y-n,h.pos.x+h.rotatedEdgeB.x-t,h.pos.y+h.rotatedEdgeB.y-n,i,h.width);break;case 40:o.line2PolyTriangle(h.pos.x+h.rotatedEdgeA.x-t,h.pos.y+h.rotatedEdgeA.y-n,h.pos.x+h.rotatedEdgeB.x-t,h.pos.y+h.rotatedEdgeB.y-n,i,.25*h.width);break;default:o.line2PolyTriangle(h.pos.x+h.rotatedEdgeA.x-t,h.pos.y+h.rotatedEdgeA.y-n,h.pos.x+h.rotatedEdgeB.x-t,h.pos.y+h.rotatedEdgeB.y-n,i,h.width)}h.colorFade>127.5&&(h.colorFade-=.1)}}if(r.addToColorMap(s,i,.3,.3,.3,1),l(c,t,n,.1,1,1),l(f,t,n,.8,.1,.1),l(p,t,n,.1,.8,.1),i.length>0){var v=a.default(A.GLctx.Vertices,u);u.disable(u.BLEND),r.drawColorMap(s,i,v,u),u.enable(u.BLEND)}return"parts"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(2),r(0),r(10)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.default.create("GET",60,"w"),i=r.default.create("READY",70,"w"),s=r.default.create("1",50,"w"),l=r.default.create("2",50,"w"),u=r.default.create("3",50,"w"),d=a.GAME_INTRO_TIMER;t.default=function(e){e.frame;var t=e.SW,c=e.SH,f=e.step,p=e.game,g=e.gl,h=(p.resW,n.default(e)),v=h?h.life:0;d-=f;var y=.4*t,m=.45*c;if((p.level_completed||v<1||!h)&&(d=a.GAME_INTRO_TIMER),d>0&&!p.level_completed&&v>0){var S=u;if(d<200&&(S=l),d<100&&(S=s),d<8&&(y=300+(Math.random()-.5)*t*.4,m=300+(Math.random()-.5)*t*.4),p.currentLevel>14){var E=A.default(A.GLctx.TextureDist,g);r.default.addListGL(g,E,[o,i,S],3*Math.random()+y,3*Math.random()+m,e)}}return"game intro"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(0),r(10)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r.default.create("GAME OVER",150,"r"),o=r.default.create("space points",40,"r"),i=r.default.create("LEVEL COMPLETED",150,"r");t.default=function(e){var t=e.game,s=e.SW,l=e.SH,u=e.gl,d=s/t.resW;if(0!==t.player.length){var c=A.default(e);if((c?c.life:0)<1&&(t.SW>.5*t.resW&&(t.SW=.99*t.SW,t.SH=.99*t.SH),t.currentLevel>14)){var f=a.default(a.GLctx.TextureDist,u);r.default.addGL(u,f,n,.35*s+5*Math.random(),.15*l+5*Math.random(),e),r.default.addGL(u,f,o,.05*s+5*Math.random(),.5*l+5*Math.random(),e)}if(t.level_completed){t.SW<.5*t.resW&&(t.SW=1.01*t.SW,t.SH=1.01*t.SH);f=a.default(a.GLctx.TextureDist,u);r.default.addGL(u,f,i,.15*s+5*Math.random(),.2*l+5*Math.random(),e),r.default.addGL(u,f,o,.07*s+5*Math.random(),.4*l+5*Math.random(),e);var p=r.default.create(c.score+"",350,"r");r.default.addGL(u,f,p,o.w*d+.05*s+20+5*Math.random(),.2*l+5*Math.random(),e)}return"game over"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25),r(8),r(0),r(2),r(10),r(40),r(6),r(26),r(71),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,f=function(){for(var e={},t=0;t<10;t++)e[t]=a.default.create(t+"",n.TEXT_SIZE_SMALL,"w");var r=["-","+","?","|"," "];for(t=0;t<r.length;t++)e[r[t]]=a.default.create(r[t],n.TEXT_SIZE_SMALL,"w");return e}(),p=(a.default.create("autopilot:",n.TEXT_SIZE_SMALL,"w"),a.default.create("homing bullets:",n.TEXT_SIZE_SMALL,"w"),a.default.create("LV:",n.TEXT_SIZE_SMALL,"w")),g=a.default.create("SPACE ICE:",n.TEXT_SIZE_SMALL,"w"),h=a.default.create("INTEGRITY:",n.TEXT_SIZE_SMALL,"w"),v=a.default.create("LIFE:",n.TEXT_SIZE_SMALL,"w"),y=a.default.create("RADIUS:",n.TEXT_SIZE_SMALL,"w");!function(e){e[e.guid=0]="guid",e[e.size=1]="size",e[e.integrity=2]="integrity"}(c||(c={}));var m=[{buffer:y,type:c.size},{buffer:h,type:c.integrity},{buffer:p,type:c.guid}],S=[{buffer:y,type:c.size},{buffer:h,type:c.integrity},{buffer:g,type:c.guid}],E=(a.default.create("hull:",n.TEXT_SIZE_SMALL,"w"),a.default.create("score:",n.TEXT_SIZE_SMALL,"w"),a.default.create("shield:",n.TEXT_SIZE_SMALL,"w"),a.default.create("EB:",n.TEXT_SIZE_SMALL,"w"),a.default.create("Rockets:",n.TEXT_SIZE_SMALL,"w"),a.default.create("Missiles:",n.TEXT_SIZE_SMALL,"w"),a.default.create("boost:",n.TEXT_SIZE_SMALL,"w"),a.default.create("WARNING: HULL INTEGRITY FAILING",25,"r")),x=a.default.create("WARNING: MISSILE LOCK",25,"r"),T=function(e,t){for(var r=(e+"").split(""),a=r.length,A=0;A<a;A++){var n=f[r[A]];n&&t.push(n)}},_=!1,I=0,M=-1,L=0,w=0;t.default=function(e){e.frame;var t=e.WW,f=e.WH,p=e.SW,g=e.SH,h=e.SX,y=e.SY,P=e.gl,R=e.game,b=e.step,O=e.stepMS;if(!(R.currentLevel<=14)){var C=p/R.resW,G=o.default(e);if(!G||G.life<1||G.cloaked)return 0,void(w=0);var N=i.default(G,t,f),F=[];if(G.selectedPrimaryWeapon!==L||w>0){G.selectedPrimaryWeapon!==L&&(w=w>0?1320:1500),w-=O,L=G.selectedPrimaryWeapon;var B=[],D=Math.max(L-1,0),V=Math.min(L+1,u.ShipWeaponLoadout.length-1)+1,X=A.default(w<150||w>1350?A.GLctx.TextureDist:A.GLctx.Texture,P),H=300;V-D==2&&0===D&&(H+=d.TEXT_SIZE_MEDIUM-8);for(var k=D;k<V;k++){var W=a.default.create("DOWN"===u.ShipWeaponLoadout[k]?"ROCKET":u.ShipWeaponLoadout[k],k===L?d.TEXT_SIZE_MEDIUM+8:d.TEXT_SIZE_MEDIUM-8,"g");a.default.addGL(P,X,W,.5*p-.5*W.w,H,e,!1),H+=W.h,B.push(W)}}if(!G.remove){var U=new s.Rectangle(h-500,y-500,p+1e3,g+1e3),Y=R.rockets,K=Y.length,q=!1;for(k=0;k<K;k++){var Z=Y[k];if(Z.target&&Z.target.guid===G.guid&&U.intersectsPoint(Z.pos)){q=!0;break}}if(q&&a.default.addGL(P,A.default(A.GLctx.TextureDist,P),x,.5*p-x.w*C*.5,.2*g+55,e),G.life<n.PLAYER_LIFE_LOW_THRESHOLD?(a.default.addGL(P,A.default(A.GLctx.TextureDist,P),E,.5*p-E.w*C*.5,.2*g,e),_||(R.eventMap[r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_CRITICAL]={},_=!0)):(_&&(R.eventMap[r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_OK]={}),_=!1),R.menuSettings.objectData&&G.closestItem){var z=G.closestItem;F=[];var j=0;H=0;switch(z.guid!==M&&(I=0,M=z.guid),z.radius<200?(j=z.pos.x-h,H=z.pos.y-y-z.radius-n.TEXT_SIZE_SMALL):(j=z.pos.x-h,H=z.pos.y-y),z.type){case 30:case 32:var Q=30===z.type?m:S,J=Math.min(Q.length,I);for(k=0;k<J;k++){var $=Q[k];(F=[]).push($.buffer);var ee=0;switch($.type){case c.guid:ee=z.guid;break;case c.integrity:ee=z.life;break;case c.size:ee=z.radius}I>Q.length+k&&T(Math.round(ee),F);var te=a.default.measureBuffers(F)*C;F.length>0&&a.default.addListGL(P,A.default(N||I<2.5*Q.length?A.GLctx.TextureDist:A.GLctx.Texture,P),F,j-.5*te,H+k*-n.TEXT_SIZE_SMALL,e,!0)}break;default:(F=[]).push(v);var re=z.life;if(37===z.type){var ae=z;re=l.getSpacesnakeFromSegment(ae.guid).life}T(Math.round(re),F);a.default.measureBuffers(F);a.default.addListGL(P,A.default(N||I<2.5*m.length?A.GLctx.TextureDist:A.GLctx.Texture,P),F,j,H,e,!0)}I+=.3*b}else I=0}return"playersStats"}0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};a=[r,t,r(1)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={pos:new r.Vector(0,0),vel:new r.Vector(0,0),radius:1,life:0,guid:-1,type:0,stunned:!1,remove:!1,targetFlagged:!1,forceX:0,forceY:0},A=n({},a),o=n({ownerGuid:0,target:null,homing:!1},A);t.struct=function(e){switch(e){case 11:case 2:var t=n({},o);return t.pos=new r.Vector(0,0),t.vel=new r.Vector(0,0),t;case 35:var a=n({},A);return a.pos=new r.Vector(0,0),a.vel=new r.Vector(0,0),a}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(63),r(1),r(3),r(5),r(63)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,r){var i=function(e,t){for(var r={},a=[],A=[],n=0;n<t.length;n++)void 0===r[t[n]]?(r[t[n]]=a.length,A.push(a.length),a.push(e[t[n]].clone())):A.push(r[t[n]]);return{vectors:a,indices:A}}(t,r),s=null;switch(e.type){case 0:s=7;break;case 8:s=9;break;case 13:s=10;break;default:s=9}var l=function(e){for(var t=e.length,r=[],a=[],A=0;A<t;A++)r.push(e[A].x),a.push(e[A].y);var n=Math.max.apply(Math,r),o=Math.min.apply(Math,r),i=Math.max.apply(Math,a),s=Math.min.apply(Math,a);return{offsetX:.5*(n-o)+o,offsetY:.5*(i-s)+s,radius:.5*Math.max(n-o,i-s)}}(i.vectors),u=new a.Vector(-l.offsetX,-l.offsetY);return n.rotateVector(u,e.angle,u),{fromType:e.type,pos:new a.Vector(e.pos.x+u.x,e.pos.y+u.y),vel:new a.Vector(e.vel.x,e.vel.y),life:150,radius:l.radius,guid:A.getGuid(),type:s,angle:e.angle,width:null,edgeA:null,edgeB:null,rotatedEdgeA:null,rotatedEdgeB:null,colorFade:255,complexPartIndices:i.indices,complexPartVectors:o.offsetVectorArray(i.vectors,-l.offsetX,-l.offsetY),angleVel:.01*Math.random()-.005,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0}};t.default=function(e,t){var a=r.default(13===t.type?1:2,!0),A=a.leftWing,n=a.rightWing,o=a.hood,s=a.roof,l=a.baseWingIndexes,u=a.endWingIndexes,d=a.hoodIndexes,c=a.roofIndexes;e.game.asteroidParts.push(i(t,A,l)),e.game.asteroidParts.push(i(t,n,l)),e.game.asteroidParts.push(i(t,o,d)),e.game.asteroidParts.push(i(t,s,c)),e.game.asteroidParts.push(i(t,A,u)),e.game.asteroidParts.push(i(t,n,u))}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(31),r(35),r(4),r(0),r(0),r(92),r(72),r(11),r(6),r(4),r(73),r(74),r(7),r(95),r(12),r(3),r(1)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v,y,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=[],E=[],x=!1,T=function(e,t,r){if(e.avoidance&&e.avoidance.data){var a=e.avoidance.data;a&&(A.line2Poly(e.pos.x-t,e.pos.y-r,a.closest.x-t,a.closest.y-r,E,2),A.addToColorMap(S,E,1,0,0,1),A.line2Poly(e.pos.x-t,e.pos.y-r,a.force.x-t,a.force.y-r,E,2),A.addToColorMap(S,E,0,1,0,1),a.threat.pos&&(A.line2Poly(e.pos.x-t,e.pos.y-r,a.threat.pos.x-t,a.threat.pos.y-r,E,2),A.addToColorMap(S,E,0,1,1,1)),a.threat.radius&&(A.line2Poly(a.radius.x-t,a.radius.y-r,a.threat.pos.x-t,a.threat.pos.y-r,E,2),A.addToColorMap(S,E,0,0,1,1)))}};t.default=function(e){e.frame;var t=e.WW,_=e.WH,I=e.game,M=e.SW,L=e.SH,w=e.SX,P=e.SY,R=e.gl;if(E=[],S=[],I.debug&&I.menuSettings.extensiveUI){for(var b=I.forceField,O=b[0].length,C=b.length,G=t/O,N=_/C,F=0;F<C;F++)for(var B=0;B<O;B++){var D=b[F][B].pos,V=B*G,X=F*N,H=V+.5*G,k=X+.5*N;r.onStage(e,V,X,2*G)&&(A.line2Poly(H-w,k-P,H-G-w,k-P,E,2),A.line2Poly(H-w,k-P,H-w,k-N-P,E,2),A.line2Poly(V-w,X-P,100*D.x+V-w,100*D.y+X-P,E,2))}A.addToColorMap(S,E,0,0,1,1);var W=n(I.debug.qTrees||[],[f.GetSpaceDustTree(),p.getSpaceBatTree()]),U=new d.Rectangle(w,P,M,L);if(W){var Y=Math.max(2,M/1e3),K=d.getRectHash();for(var q in K){var Z=K[q];!0,U.intersects(Z)&&c.drawRectPoly(Z,w,P,E,Y)}for(var z=0;z<W.length;z++){var j=W[z],Q=61===j.itemType,J=Q?0:w,$=Q?0:P;if(j.debugBounds)for(var ee=j.debugBounds(U),te=ee.length,re=0;re<te;re++){Z=ee[re];A.line2Poly(Z.x-J,Z.y-$,Z.x+Z.width-J,Z.y-$,E,Y),A.line2Poly(Z.x-J,Z.y-$,Z.x-J,Z.y+Z.height-$,E,Y),A.line2Poly(Z.x+Z.width-J,Z.y-$,Z.x+Z.width-J,Z.y+Z.height-$,E,Y),A.line2Poly(Z.x+Z.width-J,Z.y+Z.height-$,Z.x-J,Z.y+Z.height-$,E,Y)}}A.addToColorMap(S,E,0,1,0,1)}if(x||(l.Log("grid size:",I.debug.length),x=!0),I.debug&&I.SW<4e3){var ae=I.debug.asteroids,Ae=I.debug.enemyBullets;I.debug.enemies,I.debug.playerBullets,I.debug.increasedSectors;O=t*a.RESOLUTION,C=_*a.RESOLUTION;var ne=t/O*.1,oe=I.debug.graphMap;if(oe){for(var ie=oe.graphMap,se=0;se<ie.length-1;se++){D=ie[se];var le=(Se=a.gridPosToWorld(D.x/s.ASTAR_GRID_RES+oe.x,D.y/s.ASTAR_GRID_RES+oe.y)).x,ue=Se.y,de=ie[se+1],ce=a.gridPosToWorld(de.x/s.ASTAR_GRID_RES+oe.x,de.y/s.ASTAR_GRID_RES+oe.y),fe=ce.x,pe=ce.y;A.line2Poly(le-w,ue-P,fe-w,pe-P,E,3),A.line2Poly(le-ne-w,ue-P,le+ne-w,ue-P,E),A.line2Poly(le-w,ue-ne-P,le-w,ue+ne-P,E)}A.addToColorMap(S,E,0,1,0,1);var ge=I.debug.graphMap.grid,he=ge.length,ve=ne/s.ASTAR_GRID_RES;for(F=0;F<he;F++){var ye=(me=ge[F]).length;for(B=0;B<ye;B++){le=(Se=a.gridPosToWorld(B/s.ASTAR_GRID_RES+oe.x,F/s.ASTAR_GRID_RES+oe.y)).x,ue=Se.y;0===me[B]?A.line2Poly(le-w,ue-ve-P,le-w,ue+ve-P,E):A.line2Poly(le-ve-w,ue-P,le+ve-w,ue-P,E)}}A.addToColorMap(S,E,1,0,0,1);for(F=0;F<he;F++){var me;for(ye=(me=ge[F]).length,B=0;B<ye;B++){var Se;le=(Se=a.gridPosToWorld(B/s.ASTAR_GRID_RES+oe.x,F/s.ASTAR_GRID_RES+oe.y)).x,ue=Se.y;0===me[B]||A.line2Poly(le-ve-w,ue-P,le+ve-w,ue-P,E)}}A.addToColorMap(S,E,0,0,1,1);var Ee=I.debug.graphMap.wp;a.getSectorSize(t,_);A.fillPoly(M,Ee.posX-w,Ee.posY-P,20,20,E,-10,-10),A.addToColorMap(S,E,1,1,0,1)}}var xe=I.enemies.concat(I.player).concat(I.npcs).concat(I.drones);for(se=0;se<xe.length;se++){var Te=xe[se];u.onStage(e,Te,200)&&T(Te,w,P)}var _e=g.getQuadTreesObj();if(_e.Bullets){Z=new d.Rectangle(w-100,P-100,M+200,L+200);var Ie=_e.Bullets.queryInt(Z);for(se=0;se<Ie.length;se++){var Me=Ie[se];Me.target&&A.line2Poly(Me.pos.x-w,Me.pos.y-P,Me.target.pos.x-w,Me.target.pos.y-P,E,1)}var Le=_e.Rockets.queryInt(Z);for(se=0;se<Le.length;se++){var we=Le[se];we.target&&A.line2Poly(we.pos.x-w,we.pos.y-P,we.target.pos.x-w,we.target.pos.y-P,E,1)}}A.addToColorMap(S,E,1,0,0,1);var Pe=0,Re=h.getImIntersections();for(se=0;se<Re.length;se++){for(var be=Re[se],Oe=be.a.pos,Ce=0;Ce<be.im.length;Ce++){var Ge=be.im[Ce].pos;A.line2Poly(Oe.x-w,Oe.y-P,Ge.x-w,Ge.y-P,E,2),Pe++}0===se&&(v.LOG_GL_FIXED((0|Oe.x)+", "+(0|Oe.y)+" _ "+(0|be.im[0].pos.x)+", "+(0|be.im[0].pos.y)+" T:","pos"),v.LOG_GL_FIXED(be.a.guid+", "+be.im[0].guid,"guid"),v.LOG_GL_FIXED(be.a.type+", "+be.im[0].type,"type"))}v.LOG_GL_FIXED(Pe,"intersections onscreen"),v.LOG_GL_FIXED(g.getQuadTreesObj().Asteroids.boundry.toString(),"ast QT bounds"),A.addToColorMap(S,E,1,0,0,1);var Ne=g.getQuadTreesObj().queryTreesRect([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],U),Fe=Ne.length;for(se=0;se<Fe;se++){var Be=(De=Ne[se]).radius;re=[Ye=(We=(B=De.pos.x)-Be)<0?0:We,Ke=(Ue=(F=De.pos.y)-Be)<0?0:Ue,He=2*Be,ke=2*Be];c.drawRectPoly(new d.Rectangle(Ye,Ke,He,ke),w,P,E,1)}A.addToColorMap(S,E,0,1,0,1);for(se=0;se<Fe;se++){var De,Ve=(De=Ne[se]).vel.x,Xe=De.vel.y;if(Ve>1||Ve<-1||Xe>1||Xe<-1){Be=De.radius,B=De.pos.x,F=De.pos.y;var He=2*Be,ke=2*Be;Ve>0?He+=Ve:(B+=Ve,He-=Ve),Xe>0?ke+=Xe:(F+=Xe,ke-=Xe);var We,Ue,Ye=(We=B-Be)<0?0:We,Ke=(Ue=F-Be)<0?0:Ue;c.drawRectPoly(new d.Rectangle(Ye,Ke,He,ke),w,P,E,1)}}A.addToColorMap(S,E,1,0,0,1);var qe=n(I.spaceSquids,I.spaceSpiders),Ze=new m.Vector(0,0);for(se=0;se<qe.length;se++){var ze=qe[se];if(r.onStage(e,ze.restPos.x,ze.restPos.y)){var je=y.midpoint(ze.restPos,ze.pos,.05,Ze);A.line2Poly(ze.restPos.x-w,ze.restPos.y-P,je.x-w,je.y-P,E,1)}}if(A.addToColorMap(S,E,1,0,0,1),E.length>0){var Qe=o.default(i.GLctx.Vertices,R);A.drawColorMap(S,E,Qe,R)}}return"debug"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.sqrt(2);t.default=function(){function e(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}var t={search:function(r,a,A,o){r.cleanDirty();var i=(o=o||{}).heuristic||t.heuristics.manhattan,s=o.closest||!1,l=new n(function(e){return e.f}),u=a;for(a.h=i(a,A),r.markDirty(a),l.push(a);l.size()>0;){var d=l.pop();if(d===A)return e(d);d.closed=!0;for(var c=r.neighbors(d),f=0,p=c.length;f<p;++f){var g=c[f];if(!g.closed&&!g.isWall()){var h=d.g+g.getCost(d),v=g.visited;(!v||h<g.g)&&(g.visited=!0,g.parent=d,g.h=g.h||i(g,A),g.g=h,g.f=g.g+g.h,r.markDirty(g),s&&(g.h<u.h||g.h===u.h&&g.g<u.g)&&(u=g),v?l.rescoreElement(g):l.push(g))}}}return s?e(u):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var a=r,A=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return 1*(A+n)+(a-2)*Math.min(A,n)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function a(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var a=0,n=e[r];a<n.length;a++){var o=new A(r,a,n[a]);this.grid[r][a]=o,this.nodes.push(o)}}this.init()}function A(e,t,r){this.x=e,this.y=t,this.weight=r}function n(e){this.content=[],this.scoreFunction=e}return a.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)t.cleanNode(this.nodes[e])},a.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)t.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},a.prototype.markDirty=function(e){this.dirtyNodes.push(e)},a.prototype.neighbors=function(e){var t=[],r=e.x,a=e.y,A=this.grid;return A[r-1]&&A[r-1][a]&&t.push(A[r-1][a]),A[r+1]&&A[r+1][a]&&t.push(A[r+1][a]),A[r]&&A[r][a-1]&&t.push(A[r][a-1]),A[r]&&A[r][a+1]&&t.push(A[r][a+1]),this.diagonal&&(A[r-1]&&A[r-1][a-1]&&t.push(A[r-1][a-1]),A[r+1]&&A[r+1][a-1]&&t.push(A[r+1][a-1]),A[r-1]&&A[r-1][a+1]&&t.push(A[r-1][a+1]),A[r+1]&&A[r+1][a+1]&&t.push(A[r+1][a+1])),t},a.prototype.toString=function(){for(var e=[],t=this.grid,r=0;r<t.length;r++){for(var a=[],A=t[r],n=0;n<A.length;n++)a.push(A[n].weight);e.push(a.join(" "))}return e.join("\n")},A.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},A.prototype.getCost=function(e){return e&&e.x!=this.x&&e.y!=this.y?1.41421*this.weight:this.weight},A.prototype.isWall=function(){return 0===this.weight},n.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,a=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(a)))break;this.content[r]=t,this.content[e]=a,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],a=this.scoreFunction(r);;){var A,n=e+1<<1,o=n-1,i=null;if(o<t){var s=this.content[o];(A=this.scoreFunction(s))<a&&(i=o)}if(n<t){var l=this.content[n];this.scoreFunction(l)<(null===i?a:A)&&(i=n)}if(null===i)break;this.content[e]=this.content[i],this.content[i]=r,e=i}}},{astar:t,Graph:a}}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TYPEING=0]="TYPEING",e[e.PLAYING=1]="PLAYING"}(t.KeyTypeMode||(t.KeyTypeMode={}))}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(1),r(97),r(2),r(2),r(6),r(10),r(5),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=0,d=new r.Vector(0,0),c=new r.Vector(0,0);t.default=function(e){var t=e.WW,r=e.WH,f=e.game,p=e.step,g=e.SX,h=e.SY,v=e.SW,y=e.SH;if(f.menuSettings.raycasting){i.default(e);var m=new o.Rectangle(g-400,h-400,v+800,y+800),S=l.getQuadTreesObj();if(S&&S.SpacePorts){for(var E=e.game.player,x=0;x<E.length;x++){var T=E[x];if(T.life>0&&!T.cloaked){var _=.9,I=1;T.ultrabright>0?(_=1.8,I=1.5):T.life<A.PLAYER_LIFE_LOW_THRESHOLD&&(_=.7+.1*s.RandomStepBased(e.step,T.guid)),a.RayCaster(T.pos,_,e,.2*I,.05*I,.2*I,1,!1,T.guid)}}for(var M=f.rockets,L=M.length,w=0;w<L;w++){var P=M[w],R=!0;P.life>A.ROCKET_START_LIFE-20?R=!1:P.life>A.ROCKET_START_LIFE-40?R=s.RandomStepBased(e.step,P.guid)>.8:P.life>A.ROCKET_START_LIFE-60&&(R=s.RandomStepBased(e.step,P.guid)>.4),R&&(6===P.type?0!==P.ownerType?a.RayCaster(P.pos,.25,e,.8,.1,.3,1,!0):a.RayCaster(P.pos,.25,e,.5,.2,.6,1,!0):0!==P.ownerType?a.RayCaster(P.pos,.3,e,.9,.4,.4,1,!0):a.RayCaster(P.pos,.3,e,.1,.6,.6,1,!0))}var b=f.charges;L=b.length,.03,(u+=p)>40&&(u=0);for(w=0;w<L;w++){var O=b[w];a.RayCaster(O.pos,.4,e,.5,.2,.6,1,!0)}var C=f.anomlies;L=C.length;for(w=0;w<L;w++){var G=C[w],N=G.x*t,F=G.y*r;c.set(N,F),a.RayCaster(c,2,e,.6,.1,.1,.6,!0)}var B=f.spaceFog;L=B.length;for(w=0;w<L;w++){var D=B[w];if(!(s.RandomStepBased(e.step,D.guid)<.97)){N=D.x,F=D.y;c.set(N+(s.RandomStepBased(e.step,D.guid)-.5)*D.radius*.5,F+(s.RandomStepBased(e.step,D.guid)-.5)*D.radius*.5),D.fire?a.RayCaster(c,1+s.RandomStepBased(e.step,D.guid),e,.7,.1,.1,.6,!0):a.RayCaster(c,1.5+s.RandomStepBased(e.step,D.guid),e,.6,.1,.1,.6,!0)}}var V=f.explosions;L=V.length;var X=performance.now();for(w=0;w<L;w++){var H=V[w];if(c.set(H.x,H.y),a.RayCaster(c,Math.min(Math.max(.3*H.radius,.3),.8),e,.2,.2,.1,1,!0),performance.now()-X>4&&0!==p)break}var k=S.SpacePorts.queryInt(m);for(w=0;w<k.length;w++){var W=k[w],U=W.centerNoneCannon.pos.x,Y=W.centerNoneCannon.pos.y,K=W.centerNoneCannon.life,q=K>.1*n.SPACEPORT_START_LIFE?1:2*K/n.SPACEPORT_START_LIFE;if(s.RandomStepBased(e.step,W.guid)>q?s.RandomStepBased(e.step,W.guid)>.2&&a.RayCaster({x:U,y:Y},.7,e,.3,.2,.1,1,!0,null):a.RayCaster({x:U,y:Y},1,e,.1,.5,.1,1,!0,null),W.weaponsActive)for(var Z=0;Z<W.cannons.length;Z++){var z=W.cannons[Z];if(z.isCannon){d.set(1.1*W.wallThickness,0),s.rotateVector(d,z.angle,d);var j=z.pos.x+d.x,Q=z.pos.y+d.y;d.set(.5*W.wallThickness,0),s.rotateVector(d,z.angle+.5*Math.PI,d);var J=j+d.x,$=Q+d.y;d.set(.5*W.wallThickness,0),s.rotateVector(d,z.angle-.5*Math.PI,d);var ee=j+d.x,te=Q+d.y;a.RayCaster({x:J,y:$},.6,e,.2,.2,.2,1,!0,null,z.angle+.029*Math.PI,.09*Math.PI),a.RayCaster({x:ee,y:te},.6,e,.2,.2,.2,1,!0,null,z.angle-.029*Math.PI,.09*Math.PI)}}}return"raycaster"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(54)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRayCasterTimings=function(e){var t=[];return t.push(a.angles*e),t.push(a.angles2*e),function(){for(var e in a)a[e]=0}(),t};var a={total:0,polysToPair:0,pairToPolys:0,interSectionNew:0,interSection:0,raycasting:0,setup:0,filtering:0,uniqe:0,uniqe2:0,angles:0,angles2:0,sorting:0};t.polysToPair=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push({a:{x:e[a],y:e[a+1]},b:{x:e[a+2],y:e[a+3]}});return r},t.pairToPolys=function(e){for(var t=e.length,r=[],a=0;a<t;a++){var A=e[a];r.push(A.x,A.y)}return r};var A=function(e,t){var a=e.a.x,A=e.a.y,n=e.b.x-e.a.x,o=e.b.y-e.a.y,i=t.a.x,s=t.a.y,l=t.b.x-t.a.x,u=t.b.y-t.a.y,d=r.OperatorApproxDist97(n,o),c=r.OperatorApproxDist97(l,u);if(n/d==l/c&&o/d==u/c)return null;var f=(n*(s-A)+o*(a-i))/(l*o-u*n);if(f<0||f>1)return null;var p=(i+l*f-a)/n;return p<0?null:{x:a+n*p,y:A+o*p,param:p}};t.getSightPolygon=function(e,t,r){var n=function(e){for(var t=performance.now(),r=[],A={},n=e.length,o=0;o<n;o++){var i=e[o],s=i.a.x/i.a.y;A[s]||(r.push(i.a),A[s]=!0);var l=i.b.x/i.b.y;A[l]||(r.push(i.b),A[l]=!0)}return a.uniqe+=performance.now()-t,r}(r),o=performance.now(),i=function(e,t,r){for(var A=performance.now(),n=[],o=e.length,i=0;i<o;i++){var s=e[i],l=Math.atan2(s.y-r,s.x-t);s.angle=l,n.push(l-1e-5,l+1e-5)}return a.angles+=performance.now()-A,n}(n,e,t);o=performance.now();for(var s=[],l=i.length,u=0;u<l;u++){var d=i[u],c={a:{x:e,y:t},b:{x:e+Math.cos(d),y:t+Math.sin(d)},angle:d};s.push(c)}for(var f=[],p=(Number.MAX_VALUE,Number.MIN_VALUE,1.01*t),g=.99*t,h=1.01*e,v=.99*e,y=[],m=[],S=[],E=[],x=performance.now(),T=0;T<r.length;T++){var _=r[T],I=_.a.y>p,M=_.b.y>p,L=_.a.y<g,w=_.b.y<g,P=_.a.x>h,R=_.b.x>h,b=_.a.x<v,O=_.b.x<v;I&&M&&b&&O?S.push(_):I&&M&&P&&R?E.push(_):L&&w&&b&&O?y.push(_):L&&w&&P&&R?m.push(_):I&&M?(S.push(_),E.push(_)):L&&w?(y.push(_),m.push(_)):P&&R?(E.push(_),m.push(_)):b&&O?(S.push(_),y.push(_)):(S.push(_),E.push(_),y.push(_),m.push(_))}a.sorting+=performance.now()-x;var C=[];for(u=0;u<l;u++){var G=null,N=(C=(d=(c=s[u]).angle)<-.5*Math.PI?y:d<0?m:d<.5*Math.PI?E:S).length;for(T=0;T<N;T++){var F=A(c,C[T]);F&&((!G||F.param<G.param)&&(G=F))}G&&(G.angle=d,f.push(G))}a.interSectionNew+=performance.now()-o,o=performance.now();for(var B=[],D=0;D<f.length;D++){for(var V=f[D],X=!0,H=D;H<f.length;H++){var k=f[H];if(D!=H&&Math.abs(V.x-k.x)<2&&Math.abs(V.y-k.y)<2){X=!1;break}}X&&B.push(V)}return f=B,a.filtering+=performance.now()-o,f=f.sort(function(e,t){return e.angle-t.angle})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(4),r(0),r(0),r(31)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[];t.DirectionalGlow=function(e,t,s,l,u,d,c,f,p){i=[];var g=u.game,h=u.gl,v=u.SH,y=u.SW,m=u.SX,S=u.SY,E=(y>v?v*t:y*t)*(g.resW/y);if(o.onStage(u,e.x,e.y,E)){i=[];var x=e.x-m,T=e.y-S,_=new r.Vector(e.x+Math.cos(s-.5*l)*E,e.y+Math.sin(s-.5*l)*E),I=new r.Vector(e.x+Math.cos(s+.5*l)*E,e.y+Math.sin(s+.5*l)*E);if((i=[x,T,_.x-m,_.y-S,I.x-m,I.y-S]).length>0){A.default(n.GLctx.VerticesGradient,h);var M=n.GLUniformLocation(h,"u_pos_x"),L=n.GLUniformLocation(h,"u_pos_y"),w=n.GLUniformLocation(h,"u_perimiter");h.uniform1f(M,x),h.uniform1f(L,T),h.uniform1f(w,E),a.drawColor(i,h,d,c,f,p)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(31),r(4)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[],l=function(e,t,r,a,A){var n=.1*Math.random()+.95;e.push(t-a*A*n,r,t,r+.01*A*a,t,r+-.01*A*a,t+a*A*n,r,t,r+.01*A*a,t,r+-.01*A*a)};t.Flare=function(e,t,u){var d=u.game,c=u.gl,f=u.SH,p=u.SW,g=u.SX,h=u.SY,v=(p>f?f*t:p*t)*(d.resW/p);if(n.onStage(u,e.x,e.y,.1*v)){i=[];var y=e.x-g,m=e.y-h;if(l(i,y,m,v,1),r.addToColorMap(s,i,.1,.1,.2,.1),l(i,y,m,v,.8),r.addToColorMap(s,i,.2,.2,.3,.2),l(i,y,m,v,.4),r.addToColorMap(s,i,.4,.4,.5,.4),l(i,y,m,v,.1),r.addToColorMap(s,i,.6,.6,.9,.6),l(i,y,m,v,.05),r.addToColorMap(s,i,.9,.9,1,1),i.length>0){var S=a.default(A.GLctx.Vertices,c);o.drawColorMap(s,i,S,c)}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(10)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[];t.default=function(e){o=[];var t=e.game,i=e.gl,s=e.SH,l=e.SW,u=e.SX,d=e.SY;if(!t.menuSettings.extensiveUI&&!t.settings_no_darkness){var c=(l>s?l:s)*(t.resW/l)*1.5,f=n.default(e),p=null;f?(f.cloaked&&(c*=.2),p=f.pos):p={x:u+.5*l,y:d+.5*s},o=[];var g=p.x-u,h=p.y-d;if(r.fillPolyForFan(l,0,0,l,s,o),o.length>0){i.blendFunc(i.DST_COLOR,i.ZERO),a.default(A.GLctx.VerticesGradient,i);var v=A.GLUniformLocation(i,"u_pos_x"),y=A.GLUniformLocation(i,"u_pos_y");i.uniform1f(v,g),i.uniform1f(y,h);var m=A.GLUniformLocation(i,"u_perimiter");i.uniform1f(m,.5*c),r.drawColor(o,i,1,1,1,1),i.blendFunc(i.ONE,i.ONE)}return"darkness"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(2),r(0),r(0),r(35),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,l=[];t.default=function(e){var t=e.step,u=e.WW,d=(e.WH,e.SX),c=e.SY,f=e.SW,p=(e.SH,e.game),g=e.gl;l=[],(s+=.5*t)>100&&(s=0);o.RESOLUTION,a.MAP_SAFETY_ZONE;for(var h=p.wayPoints,v=h.length,y=1;y<v;y++){var m=h[y-1],S=h[y];r.onStage(e,m.posX,m.posY,m.vertical?Math.abs(m.posY-S.posY):Math.abs(m.posX-S.posX))&&(m.vertical?r.lineVerticalRGBADash(f,m.posX-d,m.posY-c,S.posY-c,l,5,50,50,s):r.lineHorizontalRGBADash(f,m.posX-d,m.posY-c,S.posX-d,l,5,50,50,s))}return l.length>0&&(A.default(n.GLctx.Vertices,g),i.drawColor(l,g,.1,.1,.1,1)),"waypoints"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(4),r(25),r(0),r(0),r(8),r(27),r(28),r(39),r(162),r(178),r(180),r(181),r(183),r(4),r(2)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var y={children:n(window.io?[]:d.singlePlayerItems,window.io?c.multiplayerItems:[],f.optionsItems,g.shipItems,p.debugItems)},m=0;m<y.children.length;m++)i.default.create(y.children[m].label,70,"w");var S=i.default.create(" ON",70,"w"),E=i.default.create(" OFF",70,"w"),x=[],T=-1,_=0,I=0,M=!1,L=!1,w=0,P=function(e,t){for(var r=[],a=0;a<t.length;a++){var A=t[a];A.condition&&!A.condition(e)||r.push(A)}return r},R=function(e){for(var t=y.children,r=0;r<x.length;r++)t=(t=P(e,t))[x[r]].children;return t},b=[],O=!1,C=function(e,t){for(var r=t||b.length,a=0;a<r;a++)b[a]=e};C(window.innerWidth,10);var G=!0,N=function(e,t,r){for(var a=!0,A=b.length,n=0;n<A;n++){var o=b[n];o=o+=1*(e.step*t*80+(1+n)/A*500*t),t>0?o<r?a=!1:o=r:o>r?a=!1:o=r,b[n]=o}return a},F=!1,B=!1,D=function(e){var t=e.keys;return t.UP?(I=-1,!0):t.DOWN?(I=1,!0):t.RETURN?(L=!0,O=!0,!0):!(!t.BACKSPACE&&!t.ESCAPE)&&(L=!1,0===x.length?(C(window.innerWidth),M=!M,F=!1,G=!0,O=!1,B=!1):B=!0,!0)},V=[],X=0,H=!1;t.default=function(e){var t=e.game,n=e.stepMS,d=e.gl;if(!t.loadscreen)if(14===t.currentLevel&&(X+=n)>5e4&&(H||(B=!0,H=!0),F&&(F=!1)),(t.allKeyCodes.currentKeyCode===s.Keys.ESCAPE||-1!==t.allKeyCodes.currentKeyCode&&H)&&(X=0,H=!1,t.state.menu.active?0===x.length&&(G||F||O||B||(X=48e3,l.StateMachine(t.state).menuDisable())):(l.StateMachine(t.state).menuActivate(),G=!0)),H){var c=i.default.create("ESC TO SHOW MENU",v.TEXT_SIZE_SMALL,"w");i.default.addGL(d,A.default(o.GLctx.Texture,d),c,.5*t.resW-.5*c.w,10,e)}else if(t.state.menu.active){if(t.currentLevel>14&&M&&(t.isPaused=!0,M=!1),D(t.allKeyCodes.menu)&&(X=0,t.eventMap[a.GAME_EVENT.MENU_SELECT]={x:0,y:0}),!(t.currentLevel>14)||t.isPaused){V=[],[];var f,p=function(e){var t=R(e),r=[];if(t)for(var a=0;a<t.length;a++){var A=t[a];A.condition&&!A.condition(e)||r.push(A)}var n=_+I;return _=n>=0&&n<r.length?n:n<0?r.length-1:0,I=0,T>-1&&(r[T]&&r[T].children&&(x.push(T),_=0),T=-1),_<w&&(w=_),_+1>5+w&&(w=_-5+1),r}(e),g=Math.min(p.length,5+w);if(L){if(p[_].action){var y=p[_].action(e);for(var m in y.root&&(x=[],_=0),y.resetToTop&&(_=0),y.pop&&(_=x.pop(),O=!1,G=!1,F=!1,B=!1),t.menuSettings)u.saveBool(m,t.menuSettings[m])}L=!1}O?N(f=e,-1,-f.game.resW)&&(C(f.game.resW),O=!1,G=!0,T=_):G?function(e){N(e,-1,0)&&(C(0),G=!1)}(e):F?function(e){N(e,1,0)&&(C(0),F=!1)}(e):B&&function(e){N(e,1,e.game.resW)&&(C(-e.game.resW),B=!1,F=!0,x.pop())}(e);for(var P=t.zoomTX,k=0,W=0,U=0,Y=w;Y<g;Y++){var K=p[Y],q=_===Y,Z=i.default.create(K.label,70,"w");W=.25*t.resH+77*U;var z=K.enabled?K.enabled(e)?[Z,S]:[Z,E]:[Z],j=i.default.measureBuffers(z),Q=.5*t.resW-.5*j+b[U+1];i.default.addListGL(d,A.default(q?o.GLctx.TextureDist:o.GLctx.Texture,d),z,Q,W,e),Z.w>k&&(k=Z.w),U++}k=1.1*k+100;var J=.5*t.resW-.5*k;return w>0&&V.push(J-.5*b[0]-30+.5*k,.2*t.resH,J-.5*b[0]+30+.5*k,.2*t.resH,J-.5*b[0]+.5*k,.2*t.resH-20),r.line2Poly((J-b[0])*P,.22*t.resH*P,(J+k-b[0])*P,.22*t.resH*P,V,8*P),r.line2Poly((J-b[Math.min(5,g)])*P,(W+91)*P,(J+k-b[Math.min(5,g)])*P,(W+91)*P,V,8*P),g<p.length&&V.push(J-.5*b[Math.min(5,g)]-30+.5*k,W+91+20,J-.5*b[Math.min(5,g)]+30+.5*k,W+91+20,J-.5*b[Math.min(5,g)]+.5*k,W+91+40),A.default(o.GLctx.Vertices,d),h.drawColor(V,d,1,1,1,.5),"menu"}}else C(t.resW)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25),r(28),r(39),r(76),r(76)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=n.getGameSaves(),A=t.singlePlayerItems.filter(function(e){return"LOAD/SAVE"===e.label})[0].children.filter(function(e){return"LOAD GAME"===e.label})[0];A.children=e.map(function(e){return{label:e,action:function(t){return o.loadGame(e,t),a.StateMachine(t.game.state).menuDisable(),t.game.eventMap[r.GAME_EVENT.START_GAME]={},t.game.isPaused=!1,{root:!0}}}}),A.children.reverse(),A.children.unshift({label:n.getStorageUsedKB()+"/4000 KB USED"});var s=t.singlePlayerItems.filter(function(e){return"LOAD/SAVE"===e.label})[0].children.filter(function(e){return"DELETE SAVED GAME"===e.label})[0];s.children=e.map(function(e){return{label:e,action:function(t){return o.deleteSavedGame(t.game,e),i(),{root:!0}}}}),s.children.reverse(),s.children.unshift({label:n.getStorageUsedKB()+"/4000 KB USED"})};setTimeout(function(){i()},10),t.singlePlayerItems=[{label:"RESUME GAME",action:function(e){return a.StateMachine(e.game.state).menuDisable(),e.game.eventMap[r.GAME_EVENT.RESUME_GAME]={},e.game.isPaused=!1,{root:!0}},condition:function(e){return e.game.isPaused}},{label:"NEW GAME",action:function(e){return e.game.targetLevel=15,a.StateMachine(e.game.state).menuDisable(),e.game.eventMap[r.GAME_EVENT.START_GAME]={},e.game.isPaused=!1,{root:!0}}},{label:"LOAD/SAVE",condition:function(e){return(A.loadData("gameSaves")||[]).length>0||e.game.currentLevel>14},children:[{label:"LOAD GAME",condition:function(){return n.getGameSaves().length>0},children:[]},{label:"SAVE GAME (CURRENTLY BROKEN)",action:function(e){return o.saveGame(e.game),i(),{root:!0}},condition:function(e){return e.game.currentLevel>14}},{label:"DELETE SAVED GAME",condition:function(){return n.getGameSaves().length>0},children:[]}]}]}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a={},A=function(e,t){var r={};for(var a in e)r[a]=e[a];for(var a in t)r[a]=t[a];return r},n=function(e){i=e.keyset,r=A(r,e.packHash),a=A(a,function(e){var t={};for(var r in e)t[e[r]]=r;return t}(e.packHash))};t.getDescriptor=function(){return{keyset:i,packHash:r}};var o=("qwertuiopasdfghjklzcvbnm"+"qwertuiopasdfghjklzcvbnm".toUpperCase()).split(""),i=[0],s=function(e){if("x"===e||"y"===e)return r[e]=e,a[e]=e,e;var t=parseInt(e,10);if(t>=0)return t;if(r[e])return r[e];var A=function(){for(var e=o.length,t=i.map(function(e){return o[e]}).join(""),r=i.length;r>=0;r--){var a=i[r];if(a<e-1){i[r]=a+1,r!==i.length-1&&i[r+1]>0&&(i[r+1]=0);break}if(0===r){i.push(0);for(var A=0;A<i.length;A++)i[A]=0}}return t}();return r[e]=A,a[A]=e,A},l=function(e,t,r){for(var A in e){var n=e[A],o=a[A];if("object"==typeof n)if(n[a.isVector]){var i=t[o]={},s=a.x,u=a.y,d=a.id,c=a.isVector;i[s]=n[s],i[u]=n[u],i[d]=n[d],i[c]=n[c]}else if(Array.isArray(n))t[o]=[],l(n,t[o],r);else if(Array.isArray(t)){var f={};l(n,f,r),t.push(f)}else t[o]={},l(n,t[o],r);else Array.isArray(t)?t.push(n):t[o]=n}},u=function(e,t,r){for(var a in e){var A=e[a];if(null!=A){var n=s(a);if("object"==typeof A)if(A.isVector){var o=t[n]={};o[s("x")]=r?0|A.x:A.x,o[s("y")]=r?0|A.y:A.y,o[s("isVector")]=A.isVector,void 0!==A.id&&(o[s("id")]=A.id)}else Array.isArray(A)?(t[n]=[],u(A,t[n],r)):(t[n]={},u(A,t[n],r));else if(r&&"number"==typeof A){var i=A;(i+"").indexOf(".")>-1&&(i=.1*Math.round(10*i)),Array.isArray(t)?t.push(i):t[n]=i}else Array.isArray(t)?t.push(A):t[n]=A}}return t};t.pack=function(e,r,a){n(r);var A={};return u(e,A,a),{result:A,descriptor:t.getDescriptor()}},t.unpack=function(e,t,r){n(t);var a={};return l(e,a,r),a}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(101),r(102),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(6),r(111),r(112),r(37),r(113),r(14),r(114),r(115),r(12),r(5),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=0,T=0,_=0,I=0;t.getQuadTreesConstructionTimings=function(){return{constructionTime:x,constructionItems:T,cleanupTime:I,collideTime:_}};t.cleanList=function(e,t,r){for(var a=[],A=e.length,n=!!r,o=0;o<A;o++){var i=e[o];!i.remove&&i.life>=1?a.push(i):n&&r(i,t)}return a};var M=E.___getQtreeList();t.destroyQuadTrees=function(){d.resetRectHash();for(var e=0;e<M.length;e++)M[e].destroy()},t.default=function(e,E){var L;void 0===E&&(E=!1);var w=e.game,P=e.WW,R=e.WH,b=w.asteroids,O=w.rockFormations,C=w.rockFormationSystemRadius,G=w.enemies,N=w.player,F=w.npcs,B=function(e){for(var t=[],r=e.length,a=0;a<r;a++)for(var A=e[a].segments,n=A.length,o=0;o<n;o++){var i=A[o];t.push(i)}return t}(w.spaceSnake),D=w.bullets,V=w.rockets,X=w.drones,H=w.charges,k=w.spacePorts,W=w.spaceSpiders,U=function(e){for(var t=[],r=e.length,a=0;a<r;a++)for(var A=e[a].cannons,n=A.length,o=0;o<n;o++){var i=A[o];t.push(i)}return t}(w.spacePorts),Y=w.spaceSquids,K=[];d.resetRectHash(),K[0]={type:30,list:b},K[1]={type:32,list:O},K[2]={type:33,list:C},K[3]={type:8,list:G},K[4]={type:0,list:N},K[6]={type:12,list:F},K[5]={type:37,list:B},K[7]={type:39,list:Y},K[8]={type:13,list:X},K[10]={type:5,list:V},K[9]={type:2,list:D},K[11]={type:1,list:H},K[12]={type:28,list:k},K[13]={type:29,list:U},K[14]={type:42,list:W};var q=new d.Rectangle(0,0,P,R);x=performance.now(),T=0;for(var Z=0;Z<K.length;Z++){var z=K[Z],j=new d.QuadTree(q,5,z.type),Q=z.list,J=Q.length;T+=J;for(var $=0;$<J;$++)j.insert(Q[$]);j.shrink(),M[Z]=j}if(x=performance.now()-x,w.debug&&(w.debug.qTrees=M),!E){_=performance.now();var ee=((L={})[0]=[{type:0,handler:r.default},{type:13,handler:r.default},{type:1,handler:r.default}],L[3]=[{type:0,handler:r.default},{type:12,handler:r.default},{type:13,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default}],L[7]=[{type:0,handler:r.default},{type:12,handler:v.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default}],L[14]=[{type:0,handler:r.default},{type:12,handler:v.default},{type:13,handler:r.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:14,handler:r.default},{type:4,handler:y.default},{type:8,handler:y.default},{type:6,handler:y.default},{type:1,handler:r.default}],L[5]=[{type:0,handler:r.default},{type:12,handler:v.default},{type:1,handler:r.default}],L[6]=[{type:0,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default},{type:1,handler:r.default}],L[4]=[{type:1,handler:r.default},{type:6,handler:n.default},{type:3,handler:n.default},{type:0,handler:A.default},{type:4,handler:n.default},{type:13,handler:r.default},{type:12,handler:g.default}],L[10]=[{type:4,handler:o.default},{type:3,handler:o.default},{type:5,handler:i.default},{type:7,handler:s.default},{type:14,handler:s.default},{type:0,handler:c.default},{type:1,handler:c.default},{type:13,handler:c.default}],L[8]=[{type:13,handler:r.default},{type:0,handler:r.default},{type:8,handler:r.default},{type:4,handler:r.default},{type:3,handler:r.default},{type:6,handler:r.default},{type:1,handler:r.default}],L[9]=[{type:3,handler:u.default},{type:0,handler:a.default},{type:1,handler:a.default},{type:5,handler:f.default},{type:7,handler:s.default},{type:14,handler:s.default},{type:4,handler:u.default},{type:8,handler:u.default},{type:6,handler:u.default},{type:13,handler:a.default}],L[11]=[{type:0,handler:r.default},{type:1,handler:r.default},{type:4,handler:r.default},{type:8,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default}],L);if(l.QuadTreeCollider(M,K,ee,e),_=performance.now()-_,8===w.currentLevel){var te=performance.now(),re=M[0],ae=re.intersectTree(re);for(Z=0;Z<ae.length;Z++){var Ae=ae[Z],ne=b[Ae[0]];for($=1;$<Ae.length;$++){var oe=b[Ae[$]];r.default(ne,oe,e)}}if(m.LOG_GL_FIXED(S.normalize(performance.now()-te,"qtreeUint",30,2).avg+" | "+ae.length,"TreeCollider"),ae.length>0)for(Z=0;Z<8;Z++){Math.min(ae.length-1,8);m.LOG_GL_FIXED(ae[Z]?ae[Z].toString():"-"+ae.length,"qtree res "+Z)}}I=performance.now();for(Z=0;Z<w.spaceSnake.length;Z++){var ie=w.spaceSnake[Z];ie.segments=t.cleanList(ie.segments,e,p.default)}w.asteroids=t.cleanList(w.asteroids,e,p.default),w.rockFormations=t.cleanList(w.rockFormations,e,p.default);for(Z=0;Z<w.spacePorts.length;Z++){var se=w.spacePorts[Z];if(se.cannons=t.cleanList(se.cannons,e,p.default),se.centerNoneCannon.remove){se.cannons.length>0?Math.random()>.75&&p.default(se.cannons.pop(),e):(w.spacePorts.splice(Z,1),h.explosion(w,12,se.pos.x,se.pos.y,w.particles,8,8));break}}return w.bullets=t.cleanList(w.bullets),w.rockets=t.cleanList(w.rockets,e),w.drones=t.cleanList(w.drones,e,p.default),w.player=t.cleanList(w.player,e,p.default),w.npcs=t.cleanList(w.npcs,e,p.default),w.spaceSquids=t.cleanList(w.spaceSquids,e,p.default),w.spaceSpiders=t.cleanList(w.spaceSpiders,e,p.default),w.enemies=t.cleanList(w.enemies,e,p.default),w.charges=t.cleanList(w.charges,e),I=performance.now()-I,"Collision QuadTree"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(11),r(67),r(19)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,o){if(30===t.type){if(r.resolve(e,t,e.radius))return a.shift(e,o.WW,o.WH),a.shift(t,o.WW,o.WH),n.DamageItem(t,20),!0}else r.distanceBetweenVectors(e.pos,t.pos)<e.radius+t.radius&&A.default(t,e,o)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(11)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){r.resolve(e,t,e.radius)&&(a.shift(e,A.WW,A.WH),a.shift(t,A.WW,A.WH))}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,r){this.dot2=function(e,t){return this.x*e+this.y*t},this.dot3=function(e,t,r){return this.x*e+this.y*t+this.z*r},this.x=e,this.y=t,this.z=r}}(),a=[new r(1,1,0),new r(-1,1,0),new r(1,-1,0),new r(-1,-1,0),new r(1,0,1),new r(-1,0,1),new r(1,0,-1),new r(-1,0,-1),new r(0,1,1),new r(0,-1,1),new r(0,1,-1),new r(0,-1,-1)],A=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],n=new Array(512),o=new Array(512);!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;r=1&t?A[t]^255&e:A[t]^e>>8&255,n[t]=n[t+256]=r,o[t]=o[t+256]=a[r%12]}}(0);var i=function(e){return e*e*e*(e*(6*e-15)+10)},s=function(e,t,r){return(1-r)*e+r*t};t.PerlinNoise2d=function(e,t){var r=Math.floor(e),a=Math.floor(t);e-=r,t-=a;var A=o[(r&=255)+n[a&=255]].dot2(e,t),l=o[r+n[a+1]].dot2(e,t-1),u=o[r+1+n[a]].dot2(e-1,t),d=o[r+1+n[a+1]].dot2(e-1,t-1),c=i(e);return s(s(A,u,c),s(l,d,c),i(t))},t.PerlinNoise3d=function(e,t,r){var a=Math.floor(e),A=Math.floor(t),l=Math.floor(r);e-=a,t-=A,r-=l;var u=o[(a&=255)+n[(A&=255)+n[l&=255]]].dot3(e,t,r),d=o[a+n[A+n[l+1]]].dot3(e,t,r-1),c=o[a+n[A+1+n[l]]].dot3(e,t-1,r),f=o[a+n[A+1+n[l+1]]].dot3(e,t-1,r-1),p=o[a+1+n[A+n[l]]].dot3(e-1,t,r),g=o[a+1+n[A+n[l+1]]].dot3(e-1,t,r-1),h=o[a+1+n[A+1+n[l]]].dot3(e-1,t-1,r),v=o[a+1+n[A+1+n[l+1]]].dot3(e-1,t-1,r-1),y=i(e),m=i(t),S=i(r);return s(s(s(u,p,y),s(d,g,y),S),s(s(c,h,y),s(f,v,y),S),m)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.faces=[],t.faces[0]=["data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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"],t.faces[1]=["data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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"]}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(22),r(79)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateRockets=function(e){for(var t=[],A=e.game.rockets,n=A.length,o=0;o<n;o++){var i=A[o],s=r.readFromGH(i.type,i.guid);s||(s=a.createRocketClient({angle:i.angle,life:i.life,pos:i.pos,vel:i.vel,ownerType:i.type,ownerGuid:i.ownerGuid,target:i.target}),r.writeGH(i.type,i.guid,s)),s.netpos=i.pos,s.netvel=i.vel,s.netangle=i.angle,s.life=i.life,t.push(s)}return t}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(32)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSpiders=function(e,t){for(var A=[],n=e.game.spaceSpiders,o=n.length,i=0;i<o;i++){var s=n[i],l=r.readFromGH(s.type,s.guid);l||(l=a.default(t,1,s.pos.x,s.pos.y,s.radius,s.restPos)[0],r.writeGH(s.type,s.guid,l)),l.netpos=s.pos,l.netangle=s.angle,l.life=s.life,A.push(l)}return A}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(17)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateAsteroids=function(e){for(var t=[],A=e.game.asteroids,n=0;n<A.length;n++){var o=A[n],i=r.readFromGH(30,o.guid);i||(i=a.createSingleAsteroid(o.radius,o.pos,o.vel,{angleVel:0,angle:o.angle,type:o.type}),r.writeGH(30,o.guid,i)),i.netangle=o.angle,i.netpos=o.pos,i.netvel=o.vel,i.life=o.life,t.push(i)}return t}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(68),r(12)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateParasites=function(e){for(var t=[],n=e.game.parasites,o=0;o<n.length;o++){var i=n[o],s=r.readFromGH(41,i.guid);if(s||(s=a.createParasite(i.pos.x,i.pos.y,i.numSegments,i.restPos.x,i.restPos.y),r.writeGH(41,i.guid,s),A.LOG_GL("PARASITE CREATED "+i.guid)),i.target){var l=r.readFromGH(13,i.target.targetGuid)||r.readFromGH(0,i.target.targetGuid)||r.readFromGH(8,i.target.targetGuid);l&&(s.target={ship:l,idxA:i.target.idxA,idxB:i.target.idxB,valueBetween:i.target.valueBetween})}else s.target&&(s.target=null);s.life=i.life,s.netpos=i.pos,t.push(s)}return t}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(21),r(12)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSnakes=function(e,t){for(var n=[],o=e.game.spaceSnakes,i=0;i<o.length;i++){var s=o[i],l=r.readFromGH(36,s.guid);l||(l=a.default(t,1,s.segments[0].pos.x,s.segments[0].pos.y,s.size,s.restPos)[0],r.writeGH(36,s.guid,l),A.LOG_GL("SNAKE CREATED "+s.guid)),n.push(l)}return n}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(59)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateRocks=function(e){for(var t=[],A=e.game.rockformation,n=0;n<A.length;n++){var o=A[n],i=r.readFromGH(32,o.guid);i||(i=a.createRFsingle(o.pos,o.radius),r.writeGH(32,o.guid,i)),t.push(i)}return t}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(33),r(12)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSquids=function(e,t){for(var n=[],o=e.game.spaceSquids,i=0;i<o.length;i++){var s=o[i],l=r.readFromGH(39,s.guid);l||(l=a.default(t,1,s.pos.x,s.pos.y,s.radius,s.restPos)[0],A.LOG_GL("SQUID CREATED "+s.guid),r.writeGH(39,s.guid,l)),l.netpos=s.pos,l.netangle=s.angle,l.stunned=s.stunned,l.life=s.life,n.push(l)}return n}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(22),r(1),r(44),r(12),r(118)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientCreateSpaceports=function(e,t){for(var i=[],s=e.game.spacePorts,l=0;l<s.length;l++){var u=s[l],d=r.readFromGH(28,u.guid);if(!d){d=A.default(t,u.radius,new a.Vector(u.pos.x,u.pos.y),u.name,u.reparations,u.cannons),n.LOG_GL("SPACEPORT CREATED "+u.guid),r.writeGH(28,u.guid,d);for(var c=0;c<d.cannons.length;c++){var f=d.cannons[c];u.cannons[c]&&f.guid===u.cannons[c].guid?r.writeGH(29,u.cannons[c].guid,d.cannons[c]):(d.cannons.splice(c,1),c--)}}var p={},g={},h=Math.max(d.cannons.length,u.cannons.length);for(c=0;c<h;c++){(f=d.cannons[c])&&(p[f.guid]=f),(y=u.cannons[c])&&(g[y.guid]=y)}for(var v in p){f=p[v];var y=g[v];f&&(y?(f.life=y.life,f.angle=y.angle,f.isCannon=y.isCannon):(f.life=0,f.remove=!0,d.cannons=o.cleanList(d.cannons,t)))}i.push(d)}return i}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(a=Object.getOwnPropertySymbols(e);A<a.length;A++)t.indexOf(a[A])<0&&Object.prototype.propertyIsEnumerable.call(e,a[A])&&(r[a[A]]=e[a[A]])}return r},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(22),r(9),r(1)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){e.guid,e.type,e.pos,e.vel,e.angle;var r=e.thrust,a=e.closestItem,n=o(e,["guid","type","pos","vel","angle","thrust","closestItem"]);for(var i in t.netpos=e.pos,t.netvel=e.vel,t.netangle=e.angle,a&&(t.closestItem={pos:new A.Vector(a.pos.x,a.pos.y),vel:new A.Vector(a.pos.x,a.pos.y),radius:a.radius,type:a.type,guid:a.guid,life:a.life,remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1}),r&&t.thrust.setFromVec(r),n)t[i]=n[i]};t.clientCreateShips=function(e,t,r){if(0===r){var a=u(e,t);return a?i([a],l(e.game.ships,r,t)):l(e.game.ships,r,t)}if(8===r)return l(e.game.enemies,r,t);if(13===r)return l(e.game.drones,r,t);throw new Error("unknown type @ createClient ship + "+r)};var l=function(e,t,i){for(var l=[],u=0;u<e.length;u++){var d=e[u],c=r.readFromGH(t,d.guid),f=(d.pos,d.vel,d.angle,o(d,["pos","vel","angle"]));c||(c=a.createShip(i,n(n({},f),{pos:new A.Vector(d.pos.x,d.pos.y),vel:new A.Vector(d.vel.x,d.vel.y),angle:d.angle,guid:d.guid})),r.writeGH(t,d.guid,c)),s(d,c),l.push(c)}return l},u=function(e,t){var i=e.game.playerShip;if(!i)return null;var l=r.readFromGH(0,i.guid),u=(i.pos,i.vel,i.angle,i.thrust,i.closestItem,o(i,["pos","vel","angle","thrust","closestItem"]));return l||(l=a.createShip(t,n(n({},u),{pos:new A.Vector(i.pos.x,i.pos.y),vel:new A.Vector(i.vel.x,i.vel.y),thrust:new A.Vector(i.thrust.x,i.thrust.y),angle:i.angle,guid:i.guid})),r.writeGH(0,i.guid,l)),l.SW=e.SW,l.SH=e.SH,l.netSX=e.SX,l.netSY=e.SY,s(i,l),l}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(28),r(179),r(27),r(39)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=!0,i=null;window.addEventListener("keydown",function(e){if(o){var r=t.multiplayerItems[0].label;switch(e.keyCode){case A.Keys.BACKSPACE:case A.Keys.DELETE:if("ENTER_NAME_TO_JOIN"===r);else{var a=r.split("");a.pop(),r=a.join("")}return""==r&&(r="ENTER_NAME_TO_JOIN"),void(t.multiplayerItems[0].label=r);case A.Keys.RETURN:case A.Keys.LEFT:case A.Keys.RIGHT:case A.Keys.UP:case A.Keys.DOWN:return}if(e.keyCode>=65&&e.keyCode<=90||e.keyCode===A.Keys.FIRE){if(e.keyCode===A.Keys.FIRE&&" "===r.split("").pop())return;"ENTER_NAME_TO_JOIN"===r?r=e.key.toUpperCase():r+=e.key.toUpperCase()}t.multiplayerItems[0].label=r}}),t.multiplayerItems=[{label:"ENTER_NAME_TO_JOIN",action:function(e){var A=i||t.multiplayerItems[0].label;if("ENTER_NAME_TO_JOIN"!==A&&A&&A.length>1&&"  "!==A&&A.split(" ").join("").length>1)return a.clientCreateShip(A,window.innerWidth,window.innerHeight),o=!1,n.saveStr("multiplayer_save_name_key",A),e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}];setTimeout(function(){n.containsStr("multiplayer_save_name_key")&&(i=n.loadStr("multiplayer_save_name_key"),t.multiplayerItems[0].label="JOIN GAME")},0)}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,a=null,A=0;t.VOLATILE_GAME_STATE_TRAFFIC=!0,t.initClient=function(){console.log("init client IO() "),r=io()},t.clientCreateShip=function(e,t,a){var A={playerName:e,SW:t,SH:a};r.emit("client_create_ship",A)},t.clientSend=function(e){r.emit("client",e)},t.clientRecieveHeartbeat=function(e){r.on("server_heartbeat",function(t){e(t)})},t.clientRecieveShipId=function(e){r.on("client_ship_id",function(t){e(t)})},t.clientRecieve=function(e){r.on("server",function(t){e(t)})},t.serverSendHeartbeat=function(e){t.VOLATILE_GAME_STATE_TRAFFIC?a.volatile.emit("server_heartbeat",e):a.emit("server_heartbeat",e)},t.serverSend=function(e){t.VOLATILE_GAME_STATE_TRAFFIC?a.volatile.emit("server",e):a.emit("server",e)},t.serverSendShipId=function(e){a.emit("client_ship_id",e)},t.getNumClients=function(){return A},t.clientRecieveGameEvents=function(e){r.on("server_event",function(t){e(t)})},t.serverEvent=function(e,t){e.emit("server_event",t)},t.serverInit=function(e,t,r,n,o){a=e,e.on("connection",function(e){A++,console.log("client connected",e.id),n(e.id,e,A),e.on("client",function(r){var a=t(r);a&&e.emit("server",a)}),e.on("client_create_ship",function(t){e.emit("client_ship_id",r(t,e.id))}),e.broadcast.emit("newclientconnect",{description:A+" clients connected!"}),e.on("disconnect",function(){o(e.id),console.log("client disconnect",e.id),A--,e.broadcast.emit("newclientconnect",{description:A+" clients connected!"})})})}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(119)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optionsItems=[{label:"OPTIONS",children:[{label:"STEER WITH MOUSE",action:function(e){return e.game.menuSettings.mouseControl=!e.game.menuSettings.mouseControl,{}},enabled:function(e){return e.game.menuSettings.mouseControl}},r.keybindingItems,{label:"GFX",children:[{label:"WOODEN PC MODE",action:function(e){return e.game.menuSettings.woodenPC=!e.game.menuSettings.woodenPC,{}},enabled:function(e){return e.game.menuSettings.woodenPC}},{label:"NOISE",action:function(e){return e.game.menuSettings.noise=!e.game.menuSettings.noise,{}},enabled:function(e){return e.game.menuSettings.noise}},{label:"MOTION BLUR (BETA)",action:function(e){return e.game.menuSettings.motionBlur=!e.game.menuSettings.motionBlur,{}},enabled:function(e){return e.game.menuSettings.motionBlur}},{label:"SPACEDUST",action:function(e){return e.game.menuSettings.spacedust=!e.game.menuSettings.spacedust,{}},enabled:function(e){return e.game.menuSettings.spacedust}},{label:"RAYCASTING",action:function(e){return e.game.menuSettings.raycasting=!e.game.menuSettings.raycasting,{}},enabled:function(e){return e.game.menuSettings.raycasting}},{label:"GLOW",action:function(e){return e.game.menuSettings.glow=!e.game.menuSettings.glow,{}},enabled:function(e){return e.game.menuSettings.glow}},{label:"ANTIALIASING (RELOAD REQUIRED)",action:function(e){return e.game.menuSettings.antialiasing=!e.game.menuSettings.antialiasing,setTimeout(function(){window.location.reload()},500),{}},enabled:function(e){return e.game.menuSettings.antialiasing}},{label:"TRANSFORM FEEDBACK",action:function(e){return e.game.menuSettings.transformFeedback=!e.game.menuSettings.transformFeedback,{}},enabled:function(e){return e.game.menuSettings.transformFeedback}},{label:"PARTICLES",action:function(e){return e.game.menuSettings.particles=!e.game.menuSettings.particles,{}},enabled:function(e){return e.game.menuSettings.particles}}]},{label:"HUD",children:[{label:"MINIMAP",action:function(e){return e.game.menuSettings.minimap=!e.game.menuSettings.minimap,{}},enabled:function(e){return e.game.menuSettings.minimap}},{label:"FLIGHT INSTRUMENTS",action:function(e){return e.game.menuSettings.instruments=!e.game.menuSettings.instruments,{}},enabled:function(e){return e.game.menuSettings.instruments}},{label:"SHOW CLOSE ENTITIES",action:function(e){return e.game.menuSettings.showCloseItems=!e.game.menuSettings.showCloseItems,{}},enabled:function(e){return e.game.menuSettings.showCloseItems}},{label:"SHOW SIGHT LINES",action:function(e){return e.game.menuSettings.showSightLines=!e.game.menuSettings.showSightLines,{}},enabled:function(e){return e.game.menuSettings.showSightLines}},{label:"SHIP STATUS",action:function(e){return e.game.menuSettings.shipStatus=!e.game.menuSettings.shipStatus,{}},enabled:function(e){return e.game.menuSettings.shipStatus}},{label:"SHOW OBJECT DATA",action:function(e){return e.game.menuSettings.objectData=!e.game.menuSettings.objectData,{}},enabled:function(e){return e.game.menuSettings.objectData}},{label:"KEYBINDING HINT",action:function(e){return e.game.menuSettings.keybindingHint=!e.game.menuSettings.keybindingHint,{}},enabled:function(e){return e.game.menuSettings.keybindingHint}},{label:"GAME CLOCK",action:function(e){return e.game.menuSettings.gameClock=!e.game.menuSettings.gameClock,{}},enabled:function(e){return e.game.menuSettings.gameClock}},{label:"HELP FROM COMMANDER",action:function(e){return e.game.menuSettings.commanderHelp=!e.game.menuSettings.commanderHelp,{}},enabled:function(e){return e.game.menuSettings.commanderHelp}}]},{label:"AUDIO",children:[{label:"MUSIC",action:function(e){return e.game.menuSettings.music=!e.game.menuSettings.music,{}},enabled:function(e){return e.game.menuSettings.music}},{label:"SFX",action:function(e){return e.game.menuSettings.sfx=!e.game.menuSettings.sfx,{}},enabled:function(e){return e.game.menuSettings.sfx}}]}]}]}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(28),r(182)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugItems=[{label:"DEV UI",children:n([{label:"NETWORK LOCATIONS",action:function(e){return e.game.menuSettings.networkLocaations=!e.game.menuSettings.networkLocaations,{}},enabled:function(e){return e.game.menuSettings.networkLocaations}},{label:"EXTENSIVE UI",action:function(e){return e.game.menuSettings.extensiveUI=!e.game.menuSettings.extensiveUI,setTimeout(function(){e.game.debug=e.game.menuSettings.extensiveUI?{}:null},0),{}},enabled:function(e){return e.game.menuSettings.extensiveUI}},{label:"FPS",action:function(e){return e.game.menuSettings.fpsOnly=!e.game.menuSettings.fpsOnly,e.game.menuSettings.fps&&(e.game.menuSettings.fps=!1,e.game.menuSettings.keybindingHint=!1),{}},enabled:function(e){return e.game.menuSettings.fpsOnly}},{label:"FPS MEETERS",action:function(e){return e.game.menuSettings.fps=!e.game.menuSettings.fps,e.game.menuSettings.fpsOnly&&(e.game.menuSettings.fpsOnly=!1,e.game.menuSettings.keybindingHint=!1),{}},enabled:function(e){return e.game.menuSettings.fps}},{label:"HEAP",action:function(e){return e.game.menuSettings.heap=!e.game.menuSettings.heap,{}},enabled:function(e){return e.game.menuSettings.heap}},{label:"FPS 3D BARS",action:function(e){return e.game.menuSettings.fps3dBars=!e.game.menuSettings.fps3dBars,e.game.menuSettings.fps3dBars&&(e.game.menuSettings.fps3dGrid=!1),{}},enabled:function(e){return e.game.menuSettings.fps3dBars}},{label:"FPS 3D GRID",action:function(e){return e.game.menuSettings.fps3dGrid=!e.game.menuSettings.fps3dGrid,e.game.menuSettings.fps3dGrid&&(e.game.menuSettings.fps3dBars=!1),{}},enabled:function(e){return e.game.menuSettings.fps3dGrid}},{label:"ON SCREEN LOGGING",action:function(e){return e.game.menuSettings.onScreenLogging=!e.game.menuSettings.onScreenLogging,{}},enabled:function(e){return e.game.menuSettings.onScreenLogging}},{label:"LEVELS",children:[{label:"THE CONVOY",action:function(e){return e.game.targetLevel=16,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SURVIVAL",action:function(e){return e.game.targetLevel=15,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"BE THE SNAKE",action:function(e){return e.game.targetLevel=17,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}]},{label:"LEVEL EDITOR",action:function(e){return e.game.targetLevel=13,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}],a.testItems)}]}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(28)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return{label:e,action:function(e){return e.game.targetLevel=t,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}}};t.testItems=[{label:"TESTS",children:[{label:"DYNAMIC COLLISION",action:function(e){return e.game.targetLevel=1,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"STATIC COLLISSION",action:function(e){return e.game.targetLevel=0,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SNAKES",action:function(e){return e.game.targetLevel=2,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SQUIDS",action:function(e){return e.game.targetLevel=5,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SNAKE <FOLLOW>",action:function(e){return e.game.targetLevel=3,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE BATS",action:function(e){return e.game.targetLevel=3,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"SPACE SPIDER",action:function(e){return e.game.targetLevel=6,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},{label:"ROCK FORMATIONS",action:function(e){return e.game.targetLevel=7,e.game.isPaused=!1,r.StateMachine(e.game.state).menuDisable(),{root:!0}}},a("QUADTREES PERF.",8),a("QUADTREES POINt.",9),a("NEURAL NETWORK TRAINING",10),a("NEURAL NETWORK EVOLUTION",11)]}]}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(39),r(9),r(9),r(10)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return"CHROME <"+A.ShipColorStrings[A.getCurrentColorIndex()]+">"};t.shipItems=[{label:"SHIP",children:[{label:o(),action:function(e){A.increaseColorIndex(),r.saveInt("storage_ship_color_index",A.getCurrentColorIndex()),t.shipItems[0].children[0].label=o();var a=n.default(e);return a&&(a.colorIndex=A.getCurrentColorIndex()),{}}}]}],setTimeout(function(){var e=r.loadInt("storage_ship_color_index")||0;a.setColorIndex(e),t.shipItems[0].children[0].label=o()},0)}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(0),r(0),r(4)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],i=[],s=0,l=function(e,t,r,a,A,n,o){var i=.5*A;o.push(e-i,t,r,e-i,a,r,e+i,t,r,e+i,a,r,e-i,t,n,e-i,a,n,e+i,t,n,e+i,a,n,e-i,t,r,e-i,t,n,e+i,t,r,e+i,t,n,e-i,a,r,e-i,a,n,e+i,a,r,e+i,a,n,e-i,t,r,e+i,t,r,e-i,t,n,e+i,t,n,e-i,a,r,e+i,a,r,e-i,a,n,e+i,a,n)};t.default=function(e){e.stepMS;var t=e.game,u=e.SW,d=e.SH,c=e.gl;if(t.menuSettings.fps3dGrid||t.menuSettings.fps3dBars){o=[];t.resW;var f=n([0],t.performance.engine.map(function(e){return e.time}),t.performance.gui.map(function(e){return e.time}),[0]);s=f.length,i.push.apply(i,f),i.length>100*s&&(i=i.splice(s,100*s));for(var p=40,g=i.length,h=0,v=t.menuSettings.fps3dBars,y=0;y<g;y++){var m=y%s*p+0+.135*u,S=.72*d,E=2*Math.floor(y/s)*-.05-1;v?l(m,S,E,S-48*i[h],32,2*(Math.floor(y/s)-.8)*-.05-1,o):(o.push(m+60,S-48*i[h+1],E,m+20,S-48*i[h],E),y>=s&&o.push(m+20,S-48*i[h],E,m+20,S-48*i[h-s],2*(Math.floor(y/s)-1)*-.05-1)),h++}if(!v){m=s*p+0+.135*u,S=.72*d;o.push(m+20,S,-1,m+20,S,2*Math.floor(g/s)*-.05-1)}o.length>0&&(r.default(a.GLctx.Vertices3d,c),A.drawColor(o,c,.8,.1,.1,1,c.LINES))}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(0),r(8),r(89),r(2)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=A.default.create("SPACEPORT WEAPONS ONLINE",o.TEXT_SIZE_SMALL,"g"),s=A.default.create("SPACEPORT WEAPONS OFFLINE",o.TEXT_SIZE_SMALL,"r"),l=A.default.create("ENTERED SPACEPORT",o.TEXT_SIZE_SMALL,"w"),u=A.default.create("RELOADING WEAPONS, REPAIRING HULL...",o.TEXT_SIZE_SMALL,"g"),d=A.default.create("SHIP REPAIRS COMPLETED. WEAPONS RELOADED.",o.TEXT_SIZE_SMALL,"g"),c=A.default.create("LEFT SPACEPORT - SHIP WEAPONS ENABLED",o.TEXT_SIZE_SMALL,"g");t.default=function(e){for(var t=e.gl,f=e.game,p=e.game.notifications,g=p.length,h=0,v=0;v<g;v++){var y=p[v];if(!(y.onlyForGuid&&y.onlyForGuid!==f.playerGuid&&f.playerGuid>-1)&&!(f.currentLevel<=14&&49!==y.type)){var m=null;switch(y.type){case 21:m=n.BONUS_BUFFERS.BUFFER_EB;break;case 15:m=n.BONUS_BUFFERS.BUFFER_LIFE;break;case 17:m=n.BONUS_BUFFERS.BUFFER_ROCKET_X1;break;case 18:m=n.BONUS_BUFFERS.BUFFER_ROCKET_X2;break;case 19:m=n.BONUS_BUFFERS.BUFFER_ROCKET_X3;break;case 20:m=n.BONUS_BUFFERS.BUFFER_MISSILE_X6;break;case 14:m=n.BONUS_BUFFERS.BUFFER_SHIELD;break;case 22:m=n.BONUS_BUFFERS.BUFFER_BOOSTERS;break;case 23:m=n.BONUS_BUFFERS.BUFFER_WEAPON_UPGRADE;break;case 24:m=n.BONUS_BUFFERS.BUFFER_DRONE;break;case 25:m=n.BONUS_BUFFERS.BUFFER_AUTOPILOT;break;case 26:m=n.BONUS_BUFFERS.BUFFER_HOMINGBULLETS;break;case 27:m=n.BONUS_BUFFERS.BUFFER_ULTRABRIGHT;break;case 16:m=n.BONUS_BUFFERS.BUFFER_PROXIMITY_MINES_X3;break;case 49:m=A.default.create(y.message||"err",o.TEXT_SIZE_SMALL,"y");break;case 50:m=A.default.create(y.message||"err",o.TEXT_SIZE_SMALL,"r");break;case 51:m=A.default.create(y.message||"err",o.TEXT_SIZE_SMALL,"y");break;case 54:m=l;break;case 53:m=i;break;case 52:m=s;break;case 55:m=c;break;case 56:m=u;break;case 57:m=d;break;default:m=n.BONUS_BUFFERS.BUFFER_UNKNOWN}A.default.addGL(t,r.default(y.life<20?a.GLctx.TextureDist:a.GLctx.Texture,t),m,.5*f.resW-.5*m.w,.8*f.resH-h*(1.1*o.TEXT_SIZE_SMALL),e),h++}}return"notifications"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(0),r(4),r(6),r(81)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[];t.default=function(e){var t=e.gl,l=(e.game,e.SX),u=e.SY,d=e.SW,c=e.SH;i=[],s=[];for(var f=new n.Rectangle(l-100,u-100,d+200,c+200),p=o.getParasiteTree().queryInt(f),g=p.length,h=0;h<g;h++){var v=p[h],y=v.segments,m=y.length;if(v.target){var S=v.segments[v.segments.length-1];A.line2Poly(S.pos.x-l,S.pos.y-u,v.target.ship.pos.x-l,v.target.ship.pos.y-u,s)}for(var E=1;E<m;E++){var x=y[E],T=y[E-1];i.push(x.pos.x-l,x.pos.y-u,T.pos.x-l,T.pos.y-u)}}return i.length>0&&(r.default(a.GLctx.Vertices,t),A.drawColor(i,t,.9,.15,.15,1,t.LINES),A.drawColor(s,t,0,1,0,1)),"parasite"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(0),r(27),r(2),r(119),r(40),r(10)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=0;t.default=function(e){var t=e.game,u=e.SW,d=e.SH,c=e.gl,f=e.WW,p=e.WH;if(!t.menuSettings.keybindingHint||t.currentLevel<=14||t.levelEditor)l=0;else{var g=s.default(e);if(g&&!(g.life<1)){g.cloaked&&(l=1);var h=u/t.resW,v=i.default(g,f,p),y=[];for(var m in A.inGameKeyCodes.keys){var S=o.IN_GAME_KEY_BINDING_TRANSLATIONS[A.Keys[m]],E=o.createKeyBindingLabel(g.cloaked?"PRESS TO UNCLOAK":m,S);y.push(r.default.create(E,n.TEXT_SIZE_SMALL,"w"))}for(var x=a.default(v?a.GLctx.TextureDist:a.GLctx.Texture,c),T=y.length,_=Math.min(l,T),I=0;I<_;I++)I===Math.floor(l)&&(x=a.default(a.GLctx.TextureDist,c)),r.default.addGL(c,x,y[I],(v?5+10*Math.random():10)*h,.3*d+I*(1.2*n.TEXT_SIZE_SMALL)*h,e);return l<T+2?l+=.14:t.clock<6e4&&r.default.addGL(c,x,r.default.create("ESC/options/hud/keybinding hint",n.TEXT_SIZE_SMALL,"w"),(v?5+10*Math.random():10)*h,.3*d+(_+1)*(1.2*n.TEXT_SIZE_SMALL)*h,e),"keybindings"}l=0}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(0),r(6),r(73),r(4),r(10)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],l=0,u=0,d=0;t.default=function(e){var t=e.gl,c=e.game,f=e.SX,p=e.SY,g=e.SW,h=e.SH;if(c.menuSettings.spacedust){s=[];for(var v=n.GetSpaceDustTree(),y=new A.Rectangle(f,p,g,h),m=v.queryInt(y),S=m.length,E=0;E<S;E++){var x=m[E],T=0|x.pos.x,_=0|x.pos.y;if(T-f<g&&_-p<h&&T-f>0&&_-p>0){var I=0|x.vel.x,M=0|x.vel.y,L=T-f,w=_-p,P=T+(0==I?1:I)-f,R=_+(0==M?1:M)-p;1===x.radius?s.push(L,w,L+.2,w,L,w+.2):s.push(L,w,P,R,L+2,w,P+2,R,L,w+2,P,R+2)}}if(s.length>0)i.default(e)?(l=.3,u=.15,d=.15):(l<1&&(l+=.01),u>0&&(u-=.01),d>0&&(d-=.01)),r.default(a.GLctx.Vertices,t),o.drawColor(s,t,l,u,d,1,t.POINTS);return"spacedust"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(8),r(4),r(6),r(1),r(5),r(2),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=[],f=[],p=[],g=new s.Vector(0,0),h=new s.Vector(0,0),v=0;t.default=function(e){var t=e.SX,s=e.SY,y=e.SW,m=e.SH,S=e.gl,E=e.game,x=d.getQuadTreesObj();if(x&&x.SpacePorts){var T=new i.Rectangle(t,s,y,m),_=x.SpacePorts.queryInt(T);f=[],c=[],p=[];for(var I=0;I<_.length;I++){for(var M=(X=_[I]).cannons,L=0;L<M.length;L++){var w=M[L],P=w.pos.x,R=w.pos.y;r.blockCirclePoly(w.sides,w.radius,P,R,w.angle,c,m,t,s,2*X.wallThickness),w.isCannon&&(g.set(2*X.wallThickness,0),l.rotateVector(g,w.angle,g),o.line2Poly(P-t,R-s,P+g.x-t,R+g.y-s,c,.2*X.wallThickness));for(var b=w.damages,O=b.length,C=0;C<O;C++){var G=b[C];l.rotateVector(G,w.angle,h);var N=P+h.x-t,F=R+h.y-s;h.mult(.8);var B=P+h.x-t,D=R+h.y-s;f.push(N,F,B,D)}}r.addToColorMap(p,c,0,0,0,1)}if(c.length>0){S.blendFunc(S.DST_COLOR,S.ZERO);var V=a.default(A.GLctx.Vertices,S);o.drawColorMap(p,c,V,S),S.blendFunc(S.ONE,S.ONE),o.drawColor(f,S,.25,.25,.25,1,S.LINES)}if(E.currentLevel>=14){var X,H=function(r){var i=(X=_[r]).centerNoneCannon&&X.centerNoneCannon.life>.1*u.SPACEPORT_START_LIFE?X.weaponsActive:!(Math.random()>.99)&&X.weaponsActive,l=n.default.create("SPACEPORT "+(X.name||"")+(i?" [WEAPONS ONLINE]":""),u.TEXT_SIZE_MEDIUM,i?"g":"r"),d=X.centerNoneCannon,f=d&&d.life<.2*u.SPACEPORT_START_LIFE,p=a.default(Math.random()>.98||f?A.GLctx.TextureDist:A.GLctx.Texture,S),g=X.pos.x-.5*l.w-t,h=X.pos.y-.7*X.radius-s;if(n.default.addGL(S,p,l,g,h,e,!0),i){v+=Math.random()>.92?1:0;var y=h+u.TEXT_SIZE_MEDIUM,m=X.reparations,E=0;for(var x in m){if(E>v)break;m[x]>0&&(n.default.addGL(S,p,n.default.create(x.toUpperCase()+": "+m[x],u.TEXT_SIZE_SMALL,"g"),g,y,e,!0),y+=u.TEXT_SIZE_SMALL,E++)}var T=0,I=0;c=[];var M=h;X.cannons.forEach(function(e){M-=e.isCannon?6:12,o.line2Poly(g,M,g+.12*e.life,M,c,e.isCannon?3:6),e.isCannon?T+=e.life:I=e.life});var L=Math.round(T/u.SPACEPORT_START_LIFE/6*100),w=Math.round(I/u.SPACEPORT_START_LIFE*100);n.default.addListGL(S,p,n.default.createSplitted(w+"%/"+L+"%",u.TEXT_SIZE_SMALL,"g",""),g+150,h-u.TEXT_SIZE_SMALL,e,!0),y+=u.TEXT_SIZE_MEDIUM,a.default(A.GLctx.Vertices,S),o.drawColor(c,S,0,1,0,1)}else v=0};for(I=0;I<_.length;I++)H(I)}return"spaceport"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(4),r(0),r(0),r(5),r(3),r(10),r(4),r(40),r(43),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=new r.Vector(0,0),p=new r.Vector(0,0),g=new r.Vector(0,0),h=0,v=[],y=[],m=[],S=.06*Math.PI,E={},x=(new r.Vector(0,0),function(e,t,r,a,A,n,o,s,l,u){for(var d=e.length,c=[],f=0;f<d;f++){var p=e[f],g=Math.floor(p.pos.x/r*A+o),h=Math.floor(p.pos.y/a*n+o);if(!E[p.guid]&&i.fine(3,t,{x:g,y:h})){var v=g+s,y=h+l,m={pos:{x:v,y:y},life:200,guid:p.guid,type:p.type,radius:p.radius};c.push(m),E[p.guid]=m}}return c}),T=new r.Vector(0,0),_=new r.Vector(0,0),I=new r.Vector(0,0),M=new r.Vector(0,0),L=0,w=!0;t.default=function(e){e.SW;var t=e.WW,r=e.WH,i=(e.SH,e.SX),P=e.SY,R=e.game,b=e.gl,O=e.step;v=[],y=[];var C=s.default(e)||R.player[0];if(C&&!(R.currentLevel<=14)&&R.menuSettings.minimap&&!R.levelEditor){var G=-1*(C.angle+.5*Math.PI);R.isPaused&&(O=0);var N=u.default(C,t,r)&&L>0&&!w;N&&Math.random()>.7&&(L=3*Math.random());var F=N||C.damageTaken?(Math.random()-.5)*(N?7:4):0;if(w){if(L-=.01,w!=C.cloaked&&(m=[],L=0,E={}),L<0)return m=[],E={},void(L=0)}else(L+=.01)>1&&(L=1);w=C.cloaked;var B=o.map(L,.85,1,0,1);_.set(110,110);var D=e.IS_MULTIPLAYER?500:250,V=e.IS_MULTIPLAYER?10:30,X=D,H=D,k=(Math.max(110,110)-10)*(w?B:1);f.set(k,0),p.set(k,0),h+=w||0!==F?0:.025*O*L,N&&Math.random()>.97&&(h+=Math.PI*Math.random()*1.5),o.rotateVector(f,h,f),o.rotateVector(p,h-S,p),h>2*Math.PI&&(h-=2*Math.PI);for(var W=Math.floor(C.pos.x/t*X+10),U=Math.floor(C.pos.y/r*H+10),Y=[{x:W,y:U},{x:f.x+W,y:f.y+U},{x:p.x+W,y:p.y+U}],K=R.enemies,q=R.spaceSquids,Z=R.spacePorts,z=R.spaceSnake,j=R.asteroids,Q=R.rockFormations,J=R.spaceBats,$=R.spaceSpiders,ee=[],te=0;te<z.length;te++)ee.push.apply(ee,z[te].segments);w||m.push.apply(m,function(e,t,r,a,A,n,o,i,s,l){for(var u=e.length,d=[],c=0;c<u;c++){var f=e[c];d.push.apply(d,x(f,t,r,a,A,n,o,i,s))}return d}([K,q,Z,ee,Z,j,Q,J,$],Y,t,r,X,H,10,110-W,110-U));var re=m.length;for(te=0;te<re;te++){if((le=m[te]).life-=O,w){le.pos.y>115?le.pos.y*=.98:le.pos.y<105?le.pos.y*=.02:le.pos.y=110,le.pos.x>115?le.pos.x*=.994:le.pos.x<105?le.pos.x*=.006:le.pos.x=110}T.set(le.pos.x-_.x,le.pos.y-_.y),o.rotateVector(T,G,T);var ae=_.x+F+T.x,Ae=_.y+F+T.y;if(le.life<0)le.remove=!0,delete E[le.guid];else{var ne=.005*le.life,oe=2,ie=!1;switch(le.type){case 37:oe=3;break;case 8:case 0:oe=5;break;case 39:oe=6;break;case 28:ie=!0,l.crossHair(ae,Ae,v,12,1);break;case 30:if(le.radius<V)continue;oe=Math.max(.01*le.radius,1);break;case 32:oe=Math.max(.02*le.radius,1);break;case 62:oe=2}ie||a.rectangleRotated45Poly(ae,Ae,oe,v),a.addToColorMap(y,v,.1*ne*L,.7*ne*L,.1*ne*L,1)}}if(a.addToColorMap(y,v,L>1?.5*L:0,.2*L,L>1.1?.5*L:0,1),w){l.line2Poly(120-110*B,110,110+90*B,110,v,2);oe=k*((B<.5?1:-1)>0?L:L-(L-.5))*.1;a.blockCirclePoly(40,oe,110,110,0,v,-1,0,0,oe),a.addToColorMap(y,v,0,L,0,1)}var se=[];for(te=0;te<re;te++){var le;(le=m[te]).remove||se.push(le)}m=se,g.set(-k,0),o.rotateVector(g,h+G,g),function(e,t,r,A,n,i,s){for(var l=0;l<18;l++)I.set(r,A),o.rotateVector(I,Math.PI*(-.01*l-1),I),o.rotateVector(I,Math.PI*(-.01*l),M),n.push(e,t,e+I.x,t+I.y,e+M.x,t+M.y),a.addToColorMap(i,n,0,(.4-.05*l)*s,0,1)}(110,110,g.x,g.y,v,y,L),a.addToColorMap(y,v,1,1,1,1),c.drawColorMapSingle(y,v,b);var ue=N?10*(Math.random()-.5):0,de=N?10*(Math.random()-.5):0;return d.Glow({x:110+i+ue,y:110+P+de},.25,v,e,0,.3*L,0,1),y=[],function(e,t,r,a,A){for(var n=r.length,o=0;o<n;o++){var i=r[o];l.createBlockCirclePolySingleWall(e,t,A,Math.round(68*i),0,a*i)}}(110,110,[1,.75,.5,.25],k+2,v=[]),a.addToColorMap(y,v,0,.1*L,0,1),a.drawColorMap(y,v,A.default(n.GLctx.Vertices,b),b,b.LINES),"Radar"}L=0}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(192),r(10),r(1),r(4),r(0),r(0),r(40),r(2)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],d=[],c=new A.Vector(0,0);t.default=function(e){e.frame;var t=e.WW,A=e.WH,f=(e.SH,e.SX,e.SY,e.gl),p=e.game,g=p.currentResW,h=a.default(e);if(h&&!(p.currentLevel<=14)&&p.menuSettings.shipStatus&&!p.levelEditor){c.set(h.vel.x,h.vel.y);var v=[{str:"power",val:h.life,max:100,allowOverFlow:!1},{str:"rockets",val:h.availableRockets,max:l.SHIP_MAX_ROCKETS,allowOverFlow:!1},{str:"missiles",val:h.availableMissiles,max:l.SHIP_MAX_MISSILES,allowOverFlow:!1},{str:"boost",val:h.boost,max:100,allowOverFlow:!1},{str:"rays",val:h.availableElectroBastardRays,max:l.SHIP_MAX_ELECTROBASTARDRAYS,allowOverFlow:!1},{str:"speed",val:c.getLength(),max:10,allowOverFlow:!0},{str:"homing",val:h.homingBullets,max:l.SHIP_MAX_HOMING_BULLETS,allowOverFlow:!1},{str:"shield",val:h.shields,max:l.SHIP_MAX_SHIELD,allowOverFlow:!1}],y=v.length,m=.5*(g-110*y);u=[],d=[];for(var S=0;S<y;S++){var E=v[S],x=[],T=[];r.AnalogueInstrument(m,30,100,60,E.max,h.cloaked?0:E.val<1?0:E.val,E.allowOverFlow,E.str,e,h.guid+S+1,T,x,h.damageTaken||s.default(h,t,A),!h.cloaked&&E.val>0,0===S),x.length>0&&(u.push(x),d.push(T)),m+=110}if(u.length>0){var _=n.unitePolyColorMaps(u,d);n.drawColorMap(_.colorMap,_.polys,o.default(i.GLctx.Vertices,f),f)}return"PlayerstatsAnalogue"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(1),r(5),r(4),r(0),r(8),r(2),r(43)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={},d=new a.Vector(0,0),c=new a.Vector(0,0),f=[],p=[],g=0;t.AnalogueInstrument=function(e,t,h,v,y,m,S,E,x,T,_,I,M,L,w){void 0===M&&(M=!1),void 0===L&&(L=!0),void 0===w&&(w=!0);var P=x.gl,R=x.SX,b=x.SY;x.game.currentLevel<=14&&(g=0,(u[T]||{}).localPower=0);var O=e+.5*h,C=t+.5*v;u[T]||function(e){u[e]={currentValue:0,actualValue:0,actualOverhoot:0,localPower:0}}(T);var G=u[T],N=G.currentValue,F=G.actualValue,B=G.actualOverhoot,D=G.localPower;if(w&&(L?(g+=.01)>1&&(g=1):(g-=.01)<0&&(g=0,M=!1)),L?(D+=.01)>1&&(D=1):(D-=.01)<0&&(D=0,M=!1),!(D<=0)){M&&(e+=2*(Math.random()-.5),t+=2*(Math.random()-.5)),M||(F=m);var V=S?F:Math.min(y,F);g<1&&(V=0),M?(N--,S=!0):N+=.05*(V-N),(N>y||N<0)&&(S=!0),0===f.length&&function(e,t,r,n,o){for(var i=r-t,s=new a.Vector(0,0),l=0;l<e;l++){s.set(0,-n);var u=i*(l/e)+t;A.rotateVector(s,u,s),s.toVertices,f.push(s.toPoint()),s.set(0,-o),A.rotateVector(s,u,s),p.push(s.toPoint())}}(7,-1,1.2,.8*v,.7*v);var X=e+.5*h,H=t+.8*v,k=-.1*v,W=k+-.4*v*A.map(D,.8,.95,0,1,!0);d.set(0,W),c.set(0,k);var U=e+.5*h,Y=t+.5*v,K=0;K=S?N*(.9*Math.PI)/y-.45*Math.PI:A.map(N,0,y,0,.9*Math.PI)-.45*Math.PI,A.rotateVector(d,K,d),A.rotateVector(c,K,c);for(var q=f.length*A.map(D,.8,1,0,1,!1),Z=0;Z<q;Z++){var z=f[Z],j=p[Z];r.line2Poly(z.x+X,z.y+H,j.x+X,j.y+H,_,1)}n.addToColorMap(I,_,.2,.2,.2,1,!0);var Q=i.default.create(E,s.TEXT_SIZE_SMALL,"g");r.line2Poly(U+c.x,Y+c.y,U+d.x,Y+d.y,_,1.5);var J=g<1?A.map(g,.8,1,0,1,!0):1,$=D<1?A.map(D,.8,1,0,1,!0):1;n.addToColorMap(I,_,0,.7*J,0,1,!0);var ee=Math.random()>.999;D>.85&&i.default.addGL(P,o.default(D<1||ee?o.GLctx.TextureDist:o.GLctx.Texture,P),Q,e+.5*h-.5*Q.w,t+.5*v,x),l.Glow({x:O+R,y:C+b},(M?.05*Math.random()+.05:ee?.01:.1)*$,_,x,0,.3,0,1),u[T]={currentValue:N,actualOverhoot:B,actualValue:F,localPower:D}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(6),r(7)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],s=[];t.default=function(e){var t=e.SW,l=e.SH,u=e.SX,d=e.SY,c=e.gl;i=[],s=[];var f=new n.Rectangle(u,d,t,l),p=o.getQuadTreesObj();if(p.Bullets){for(var g=p.Bullets.queryInt(f),h=g.length,v=[],y=0;y<h;y++){if((T=g[y]).homing)v.push(T);else{var m=0|T.pos.x,S=0|T.pos.y;if(m-u<t&&S-d<l&&m-u>0&&S-d>0){var E=0|T.vel.x,x=0|T.vel.y;i.push(m-u,S-d,m+(0==E?1:E)-u,S+(0==x?1:x)-d)}}}r.addToColorMap(s,i,1,1,0,1),h=v.length;for(y=0;y<h;y++){var T;m=0|(T=v[y]).pos.x,S=0|T.pos.y;if(m-u<t&&S-d<l&&m-u>0&&S-d>0){E=0|T.vel.x,x=0|T.vel.y;i.push(m-u,S-d,m+(0==E?1:E)-u,S+(0==x?1:x)-d)}}if(r.addToColorMap(s,i,1,0,0,1),i.length>0){var _=a.default(A.GLctx.Vertices,c);r.drawColorMap(s,i,_,c,c.LINES)}return"bullets"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(56),r(4),r(6),r(5),r(7)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game,i=e.gl,s=e.WW,l=e.WH,u=e.SX,d=e.SY,c=e.SW,f=e.SH,p=e.step,g=o.getQuadTreesObj();if(g.SpacePortCannons)for(var h=new A.Rectangle(u,d,c,f),v=g.SpacePortCannons.queryInt(h),y=0;y<v.length;y++){var m=v[y];m.life<1&&(r.default(e,5,70+70*n.RandomStepBased(p,m.guid),m.pos.x,m.pos.y,250,0,50,.3,128,1),r.default(e,5,70+70*n.RandomStepBased(p,m.guid),m.pos.x,m.pos.y,255,200,150,.3,128,1))}for(y=0;y<t.anomlies.length;y++){var S=t.anomlies[y];r.default(e,220,350,S.x*s,S.y*l,50,0,0,.1,512),r.default(e,120,159,S.x*s,S.y*l,255,255,255,.7,256)}var E=t.spaceFog,x=E.length;for(y=0;y<x;y++){var T=E[y];if(a.onStage(e,T.x,T.y,1200+T.radius)){var _=T.x,I=T.y;T.fire?(r.default(e,T.radius,300*n.RandomStepBased(p,T.guid),_,I,100,200,100,.3,512),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),r.default(e,.1*T.radius,250,_,I,0,0,0,.9,256),i.blendFunc(i.ONE,i.ONE),r.default(e,30,100*n.RandomStepBased(p,T.guid)+100,_,I,100,200,100,.3,512)):(r.default(e,T.radius,128,_,I,255,0,0,.9,32),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),r.default(e,.66*T.radius,600,_,I,0,0,0,.9,512),r.default(e,.66*T.radius,200,_,I,100,100,100,.3,512),i.blendFunc(i.ONE,i.ONE),r.default(e,.2*T.radius,12,_,I,255,0,0,.4,8))}}return"fog"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(74),r(6),r(4),r(1),r(116),r(57),r(5)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=[],d=new o.Vector(0,0),c=new o.Vector(0,0),f=new o.Vector(0,0),p=new o.Vector(0,0);new o.Vector(0,0),new o.Vector(0,0),new o.Vector(0,0),new o.Vector(0,0);t.default=function(e){var t=e.SW,o=e.SH,g=e.SX,h=e.SY,v=e.gl,y=(e.game,e.step);u=[];for(var m=a.getSpaceBatTree().queryInt(new A.Rectangle(g,h,t,o)),S=m.length,E=i.createRadialGradientTexture(75,5,5,.15,30,!0),x=i.createRadialGradientTexture(175,5,5,.35,30,!0),T=0;T<S;T++){var _=m[T],I=_.vel.getAngle();d.x=20,d.y=0,d.setAngle(I+Math.PI),p.x=10,p.y=0,p.setAngle(I),c.x=6,c.y=0,c.setAngle(I+.5*Math.PI),f.x=6,f.y=0,f.setAngle(I-.5*Math.PI),u.push(_.pos.x+p.x-g,_.pos.y+p.y-h,_.pos.x+c.x-g,_.pos.y+c.y-h,_.pos.x+f.x-g,_.pos.y+f.y-h,_.pos.x+d.x-g,_.pos.y+d.y-h,_.pos.x+c.x-g,_.pos.y+c.y-h,_.pos.x+f.x-g,_.pos.y+f.y-h),n.line2Poly(_.pos.x-g,_.pos.y-h,_.pos.x+1.3*d.x-g,_.pos.y+1.3*d.y-h,u,2),s.default.addGL(v,r.default(r.GLctx.Texture,v),l.RandomStepBased(y,_.guid)>.8?x:E,_.pos.x+_.vel.x-g,_.pos.y+_.vel.y-h,e,1,1)}return v.blendFunc(v.DST_COLOR,v.ZERO),u.length>0&&(r.default(r.GLctx.Vertices,v),n.drawColor(u,v,0,0,0,1)),v.blendFunc(v.ONE,v.ONE),"spacebats"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(10),r(2),r(5)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],l=[],u=0,d=1,c=0;t.default=function(e){s=[],l=[];e.game;var t=e.gl,f=e.SH,p=e.stepMS,g=e.SW,h=e.step;if(n.default(e)?(c-=5e-4*p*3*h,u=0):(c+=5e-4*p*h,u+=p),c>1?c=1:c<0&&(c=0,d=1),c>0){r.fillPoly(0,0,0,g,f,l);var v=i.map(u,.9*o.LEVEL_COMPLETION_TIMEOUT,o.LEVEL_COMPLETION_TIMEOUT,.1,.5,!0);r.fillPoly(-1,0,0,g,f*v*c,s),r.fillPoly(-1,0,f-f*v*c,g,f*v,s)}return s.length>0&&(a.default(A.GLctx.Vertices,t),t.blendFunc(t.DST_COLOR,t.ZERO),u>.7*o.LEVEL_COMPLETION_TIMEOUT&&(d>0&&(d-=.01),r.drawColor(l,t,1,d,d,1)),r.drawColor(s,t,0,0,0,1),t.blendFunc(t.ONE,t.ONE)),"cinematic"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(31)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],i={},s=[];t.default=function(e){o=[];for(var t=e.game,l=e.gl,u=e.SH,d=e.SW,c=t.explosions,f=c.length,p=0;p<f;p++){var g=c[p];if(g.radius>1&&!i[g.x+"_"+g.y]&&n.onStage(e,g.x,g.y,g.radius)){i[g.x+"_"+g.y]=!0,s.push({x:g.x,y:g.y}),r.fillPoly(-1,0,0,d,u,o);break}}if(o.length>0){a.default(A.GLctx.Vertices,l);r.drawColor(o,l,.25,.25,.25,.25)}else if(s.length>30){var h=s.shift();delete i[h.x+"_"+h.y]}return"highlight"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(120),r(6),r(120),r(5),r(2),r(7)],void 0===(A=function(e,t,r,a,A,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){e.game;var t=e.SX,l=e.SY,u=e.SW,d=e.SH,c=(e.gl,s.getQuadTreesObj());if(c.Player){for(var f=new a.Rectangle(t,l,u,d),p=n(c.Player.queryInt(f),c.Drones.queryInt(f),c.Npcs.queryInt(f),c.SpacePortCannons.queryInt(f)),g=p.length,h=0;h<g;h++){var v,y=p[h];if(29===y.type){if(y.life<.2*i.SPACEPORT_START_LIFE)(v=o.map(y.life,0,.2*i.SPACEPORT_START_LIFE,.2,1,!0,!0))>.2&&r.default(e,y.pos,12*v,800*v)}else(v=o.map(y.life,0,i.PLAYER_LIFE_LOW_THRESHOLD,.2,1,!0,!0))>.2&&r.default(e,y.pos,5*v,150*v)}return A.drawSparks(e),"Sparks"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(4),r(1),r(4)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],i=[],s=[],l=new A.Vector(0,0);t.default=function(e){e.ctx,e.WW,e.WH;var t=e.game,A=(e.SW,e.SH,e.SX),u=e.SY,d=e.gl;s=[],o=[],i=[];for(var c=0;c<t.spaceSpiders.length;c++){var f=t.spaceSpiders[c];if(n.onStage(e,f.pos.x,f.pos.y,10*f.radius)){var p=f.pos.x-A,g=f.pos.y-u,h=f.angle,v=f.radius;a.blockCirclePoly(8,v,p,g,h,s,null,null,null,v),n.createBlockCirclePolySingleWall(p,g,i,8,h,v+1),l.set(v,0),l.setAngle(h),n.createBlockCirclePolySingleWall(p+l.x,g+l.y,i,8,h,.8*v+1),a.blockCirclePoly(8,.8*v,p+l.x,g+l.y,h,s,null,null,null,.8*v),l.mult(-.8),a.blockCirclePoly(8,.6*v,p+l.x,g+l.y,h,s,null,null,null,.6*v),n.createBlockCirclePolySingleWall(p+l.x,g+l.y,i,8,h,.6*v+1),l.mult(2),a.blockCirclePoly(8,.5*v,p+l.x,g+l.y,h,s,null,null,null,.5*v),n.createBlockCirclePolySingleWall(p+l.x,g+l.y,i,8,h,.5*v+1);for(var y=0;y<f.legs.length;y++)for(var m=f.legs[y],S=0;S<m.bones.length;S++){var E=m.bones[S],x=m.bones[S-1];if(S>0){var T=(m.bones.length-S)/m.bones.length*2,_=E.pos.x-A,I=E.pos.y-u,M=x.pos.x-A,L=x.pos.y-u;S>1&&o.push(_,I,M,L),a.line2PolyCone(_,I,M,L,s,.1*v*T,.25*v*T)}}}}return s.length>0&&(d.disable(d.BLEND),r.default(r.GLctx.Vertices,d),a.drawColor(i,d,.4,.05,.05,1,d.LINES),a.drawColor(s,d,.05,.05,.05,1),a.drawColor(o,d,.18,.02,.02,1,d.LINES),d.enable(d.BLEND)),"space spiders"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(4),r(6),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],l=[];t.default=function(e){var t=e.SW,u=e.SH,d=e.SX,c=e.SY,f=e.gl,p=e.game,g=i.getQuadTreesObj();if(g.RockFormations){var h=new o.Rectangle(d-100,c-100,t+200,u+200),v=g.RockFormations.queryInt(h);if(s=[],l=[],p.debug&&p.rockFormationSystemRadius.length>0){var y=p.rockFormationSystemRadius[0];r.blockCirclePoly(40,y.radius,y.pos.x,y.pos.y,0,s,u,d,c,30)}for(var m=0;m<v.length;m++){var S=v[m];r.blockCirclePoly(S.sides,S.radius,S.pos.x,S.pos.y,S.angle,s,u,d,c,S.radius),r.blockCirclePoly(S.sides,.8*S.radius,S.pos.x,S.pos.y,S.angle,l,u,d,c,.8*S.radius)}s.length>0&&(f.disable(f.BLEND),a.default(A.GLctx.Vertices,f),n.drawColor(s,f,.1,.1,.4,1),n.drawColor(l,f,.01,.01,.01,1),f.enable(f.BLEND))}return"rockFormations"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(0),r(4),r(31),r(43)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],l=[],u=[],d=function(e,t,r,a,A,n){for(var s=0;s<e.length;s++){var l=e[s];o.onStage(t,l.pos.x,l.pos.y,3*l.radius)&&i.Glow(l.pos,l.radius/t.SW*9,[],t,r,a,A,n)}};t.default=function(e){e.SW;var t=e.SH,i=e.SX,c=e.SY,f=e.game,p=e.gl;s=[],l=[],u=[],[];d(f.rockFormations,e,.02,.02,.3,.05);for(var g=f.rockFormationsArcs,h=0;h<g.length;h++){var v=g[h];d(v.arc,e,.02,.02,.27,.045);if(o.onStage(e,v.pos.x,v.pos.y,1e3))for(var y=0;y<v.arc.length;y++){var m=v.arc[y],S=m.pos.x,E=m.pos.y;u.push(m.pos.x-i,m.pos.y-c),r.blockCirclePoly(m.sides,m.radius,S,E,m.angle,l,t,i,c,m.radius)}}if(s.length>0||l.length>0||u.length>0){p.disable(p.BLEND);a.default(A.GLctx.Vertices,p);n.drawColor(l,p,.05,.05,.28,1),p.enable(p.BLEND)}return"rockFormationArc"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(0),r(4),r(7),r(2),r(5)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[],l=[],u=[],d=0,c=performance.now(),f=0;t.default=function(e){if(e.game.menuSettings.heap){var t=e.gl,n=e.stepMS,p=(e.SX,e.SY,e.SW,e.SH,e.game),g=window.performance.memory.totalJSHeapSize/1e6,h=window.performance.memory.usedJSHeapSize/1e6,v=performance.now()-c;c=performance.now();var y=1e3/v;f>100&&(f=0,u.push(y),l.push(g),s.push(h)),f+=n,l.length>p.resW-d&&(l.shift(),s.shift(),u.shift()),a.default(a.GLctx.VerticesOverlay,t);for(var m=[],S=[],E=[],x=0;x<l.length;x++)m.push(x,200-l[x]),S.push(x,200-s[x]),E.push(x,200-u[x]);var T=0;for(x=3;x<S.length;x+=3)s[x-3]>s[x]+20&&T++;A.drawColor(E,t,0,0,.6,1,t.LINE_STRIP),A.drawColor(m,t,1,0,0,1,t.LINE_STRIP),A.drawColor(S,t,0,1,0,1,t.LINE_STRIP);var _=r.default.create("TOTAL: "+i.normalize(g,"heap total",10,0).avg,o.TEXT_SIZE_SMALL,"r"),I=r.default.create("CURR : "+i.normalize(h,"heap curr",10,0).avg,o.TEXT_SIZE_SMALL,"g"),M=r.default.create("FPS  : "+i.normalize(y,"fps curr",10,0).avg,o.TEXT_SIZE_SMALL,"b"),L=r.default.create("M.GC : "+T,o.TEXT_SIZE_SMALL,"w");0===d&&(d=2*Math.max(_.w,I.w,M.w,L.w));var w=a.default(a.GLctx.Texture,t),P=l.length+10;return r.default.addGL(t,w,_,P,50,e),r.default.addGL(t,w,I,P,70,e),r.default.addGL(t,w,M,P,90,e),r.default.addGL(t,w,L,P,110,e),"heap"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(6),r(4),r(7),r(47),r(4),r(51)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[],u=[],d=[],c=[];t.default=function(e){var t=e.SW,f=e.SH,p=e.SX,g=e.SY,h=e.gl;e.game,e.step;d=[],c=[],l=[],u=[];var v=n.getQuadTreesObj();if(v.ProximityMines)for(var y=new a.Rectangle(p-s.PROXIMITY_MINE_RAY_LENGTH,g-s.PROXIMITY_MINE_RAY_LENGTH,t+2*s.PROXIMITY_MINE_RAY_LENGTH,f+2*s.PROXIMITY_MINE_RAY_LENGTH),m=v.ProximityMines.queryInt(y),S=m.length,E=0;E<S;E++){var x=m[E],T=x.pos;d.push(T.x-p,T.y-g,x.intersectA.x-p,x.intersectA.y-g),d.push(T.x-p,T.y-g,x.intersectA.x-p-4,x.intersectA.y-g),d.push(T.x-p,T.y-g,x.intersectA.x-p,x.intersectA.y-g-4),x.intersectAaquired?1===x.aquireMode?A.addToColorMap(c,d,.3*Math.random(),.05,.05,1):2===x.aquireMode&&A.addToColorMap(c,d,.05,.3*Math.random(),.05,1):A.addToColorMap(c,d,0,0,.1*Math.random(),1),d.push(T.x-p,T.y-g,x.intersectB.x-p,x.intersectB.y-g),d.push(T.x-p,T.y-g,x.intersectB.x-p-4,x.intersectB.y-g),d.push(T.x-p,T.y-g,x.intersectB.x-p,x.intersectB.y-g-4),x.intersectBaquired?1===x.aquireMode?A.addToColorMap(c,d,.3*Math.random(),.05,.05,1):2===x.aquireMode&&A.addToColorMap(c,d,.05,.3*Math.random(),.05,1):A.addToColorMap(c,d,0,0,.1*Math.random(),1),1===x.aquireMode&&(i.blockCirclePoly(.05*x.timerT,2*x.radius,T.x,T.y,0,l,0,p,g,3,!1,0,.05*x.aquireTimer,0,.05*x.aquireTimer),A.addToColorMap(u,l,1,.1,.1,1));var _=o.hexBox(x.radius,x.pos,p,g);l.push.apply(l,_[0]),A.addToColorMap(u,l,.1,.1,.1,1),l.push.apply(l,_[1]),A.addToColorMap(u,l,.7,.7,.7,1),l.push.apply(l,_[2]),A.addToColorMap(u,l,.3,.3,.3,1)}return l.length>0&&(r.default(r.GLctx.Vertices,h),A.drawColorMapSingle(c,d,h,h.LINES),h.disable(h.BLEND),A.drawColorMapSingle(u,l,h),h.enable(h.BLEND)),"proximityMines"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6),r(4),r(7),r(47)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],i=[];t.default=function(e){var t=e.SW,s=e.SH,l=e.SX,u=e.SY,d=e.gl;o=[],i=[];var c=A.getQuadTreesObj();if(c.SpaceMines)for(var f=new r.Rectangle(l,u,t,s),p=c.SpaceMines.queryInt(f),g=p.length,h=0;h<g;h++){var v=p[h],y=n.hexBox(v.radius,v.pos,l,u);o.push.apply(o,y[0]),a.addToColorMap(i,o,.1,.1,.1,1),o.push.apply(o,y[1]),a.addToColorMap(i,o,.7,.7,.7,1),o.push.apply(o,y[2]),a.addToColorMap(i,o,.3,.3,.3,1)}return o.length>0&&(d.disable(d.BLEND),a.drawColorMapSingle(i,o,d),d.enable(d.BLEND)),"proximityMines"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t=e.game,r=t.resW,a=t.resH;e.game.starMap=[];for(var A=0;A<2*a;A++){var n={x:Math.random()*r*2,alpha:Math.floor(255*Math.random())};t.starMap.push(n)}},t.resize=function(e){e.game.starMap=[],t.init(e)};var r=0;t.default=function(e){var t=e.game,a=e.step,A=e.SW;if(r>5*a){r=0;var n={x:Math.random()*A*2,alpha:255*Math.random()};t.starMap.shift(),t.starMap.push(n)}return r+=a,"starmap"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(11),r(15),r(13),r(18),r(5)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.game,i=e.step,s=(e.SW,e.SH,e.WW),l=e.WH,u=t.particles.length,d=t.customParticles;u=d.length;for(var c=0;c<u;c++){var f=d[c];f.life-=i,A.default(f,i),f.vel.mult(.99),f.vel.getLength()>5&&f.vel.setLength(5),r.check(f,s,l)||f.life<0?(d.splice(c,1),c--,u--,f.remove=!0):(a.default(t.forceField,f,!1),n.wormhole(f,e))}var p=t.bullets;u=p.length;for(c=0;c<u;c++){var g=p[c];if(g.life-=i,g.homing){var h=g.target;if(h&&!h.remove&&h.life>0){var v=Math.atan2(h.pos.y-g.pos.y,h.pos.x-g.pos.x),y=g.vel.getAngle();y=o.normalizeRadianAngle(y),y+=.5*o.angleDelta(y,v)*i,g.vel.setAngle(y)}else g.homing=!1,g.target=void 0}A.default(g,i),a.default(t.forceField,g,!1),r.shift(g,s,l),g.life<0&&(g.remove=!0,g.target=void 0)}return"particles (& bullets)"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25),r(2),r(11),r(15),r(13),r(55),r(122),r(79),r(123),r(18),r(124),r(208),r(209),r(38),r(125),r(210),r(211),r(212),r(71),r(51),r(126)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m,S,E,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.game,T=e.step,_=e.WW,I=e.WH,M=t.resW,L=t.resH,w=t.player;u.default(e),p.default(e);for(var P=0;P<w.length;P++){var R=w[P],b=R.keyCodes;if(R.damageTaken=!1,R.unableToComply=!1,R.damageTaken&&(t.eventMap[r.GAME_EVENT.PLAYER_DAMAGE]={}),R.damageTaken&&(R.cloaked=!1),R.boost<.2*a.SHIP_MAX_BOOST&&(R.boost+=.04*T),b.CLOAK&&!R.inSafeZone&&(R.damageTaken=!0,R.cloaked=!0,R.shields=0,R.autoPilot=0,R.bulletsFired=R.maxBullets),R.cloaked){for(var O in b)"CLOAK"!==O&&b[O]&&(R.cloaked=!1);R.closestItem=null,R.life<50&&(R.life+=.01*T)}if(R.radius=R.originalRadius,R.shields>0?(R.shields-=.75*T,R.radius=R.shieldRadius):R.shields=0,t.menuSettings.mouseControl&&t.currentLevel>14&&S.default(R),h.default(R,T),v.default(e,R),b.PROXIMITYMINE&&(R.availableMines>0?R.mineDeployed||(E.createProximityMine(R,e),R.mineDeployed=!0,R.availableMines--):R.unableToComply=!0),b.SPACEMINE&&(R.availableMines>0?R.mineDeployed||(x.createSpaceMine(R,e),R.mineDeployed=!0,R.availableMines--):R.unableToComply=!0),b.SPACEMINE||b.PROXIMITYMINE||(R.mineDeployed=!1),R.autoPilot>0&&!R.inSafeZone&&(R.autoPilot-=.75*T,m.default(R)),R.ultrabright>0&&(R.ultrabright-=T),R.bulletsFired>0&&!b.FIRE&&!R.cloaked&&(R.bulletsFired-=.5*T-.095*R.bulletWeaponLevel),b.FIRE)if(R.bulletsFired<R.maxBullets)if(t.eventMap[r.GAME_EVENT.SPACE_BULLET]={x:R.pos.x,y:R.pos.y},R.bulletsFired+=1.8,1===R.bulletWeaponLevel)f.default(R,e);else{var C=[];switch(R.bulletWeaponLevel){case 2:C=[-.01,0,.01];break;case 3:C=[-.02,-.01,0,.01,.02];break;case 4:C=[-.02,-.01,-.01,0,.01,.01,.02];break;case 5:C=[-.02,-.02,-.01,-.01,0,.01,.01,.02,.02];break;case 6:C=[-1,-.5,-.02,-.01,-.01,0,.01,.01,.02,.5,1];break;case 7:C=[-1,-.5,-.1,-.02,-.01,-.01,0,.01,.01,.02,.1,.5,1];break;default:C=[-1,-.5,-.1,-.02,-.01,-.01,0,.01,.01,.02,.1,.5,1]}R.bulletWeaponLevel>8&&(R.bulletWeaponLevel=8);for(var G=y.default(R),N=0;N<C.length;N++)f.default(R,e,C[N],G[N])}else R.unableToComply=!0;R.angle<0&&(R.angle+=a.doublePI),R.angle=R.angle%a.doublePI,o.default(R,T);A.shift(R,_-.2*M,I-.2*L,.2*M,.2*L),n.default(t.forceField,R,!0,1,R.inSafeZone?.1:1),g.default(R),d.wormhole(R,e)&&(R.damageTaken=!0,c.SlowMotion()),l.default(e,R),i.default(e),s.default(e,R)}return"Ship"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3),r(2),r(11)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new r.Vector(0,0);t.default=function(e,t,i,s){void 0===i&&(i=0);var l=t.WW,u=t.WH,d=t.game,c=new r.Vector(0,0);c.setLength(e.vel.getLength()+10),c.setAngle(i+e.angle+.02*(Math.random()-.5)),s=s||o;var f=!e.inSafeZone&&!!(e.homingBullets>0&&e.closestItem);f&&e.homingBullets--;var p={ownerGuid:e.guid,type:2,guid:a.getGuid(),pos:new r.Vector(e.pos.x+Math.cos(e.angle)*e.radius+s.x,e.pos.y+Math.sin(e.angle)*e.radius+s.y),vel:c,life:A.BULLET_START_LIFE,radius:1,homing:f,target:f&&e.closestItem,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};n.shift(p,l,u),d.bullets.push(p)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(11),r(20),r(5),r(13),r(15),r(18),r(3),r(1),r(2),r(38),r(42),r(20),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=0;new l.Vector(0,0);t.default=function(e){var t=e.game,h=(e.SX,e.SY,e.SW),v=e.SH,y=e.WW,m=e.WH,S=e.step,E=(t.player,p.getQuadTreesObj());if(E.Asteroids)for(var x=t.drones,T=x.length,_=0;_<T;_++){var I=x[_],M=(I.layout,c.GetPlayerByGuidOrEmptyArray(I.ownerGuid,e)),L=M[0];L&&L.cloaked&&(L=null),(g+=.002)>.1&&(g=.1),I.thrust.setLength(g),I.thrust.setAngle(I.angle),I.vel.add(I.thrust),I.vel.mult(.99),I.vel.getLength()>I.maxVel&&I.vel.setLength(I.maxVel);var w=a.default(I,I.angle,f.getGenericAvoidance(I,e,[E.SpacePortCannons],M));I.vel.add(w.avoidance),I.avoidance=w,I.angle=A.normalizeRadianAngle(I.angle),n.default(I,S),r.shift(I,y-.2*h,m-.2*v,.2*h,.2*v),o.default(t.forceField,I,!0),i.wormhole(I,e),d.default(I);var P=E.queryTreesVec([3,5,7],I.pos,.5*h*.7,.5*v*.7);P=P.concat(E.queryTreeVecIgnoreGuid(4,I.pos,.5*h*.7,.5*v*.7,I.ownerGuid));var R=L?s.distanceBetweenVectors(I.pos,L.pos):0,b=L?A.wrapTargetPos(y,m,I.pos,L.pos):t.player[0]?t.player[0].pos:t.asteroids[0].pos,O=P.length>0&&R<450;if(I.bulletsFired>0&&(I.bulletsFired-=.05*S),!O&&R<200)g=-.05;else{var C=O?P[0].pos:b,G=s.distanceBetweenVectors(C,I.pos);if(G<t.resW){var N=.07;G<120&&(g=.01,N=.18);var F=Math.atan2(C.y-I.pos.y,C.x-I.pos.x);if(I.turnAcc=A.angleDelta(I.angle,F)*N,I.angle+=I.turnAcc*S,O&&I.bulletsFired<I.maxBullets){var B=new l.Vector(0,0);B.setLength(I.vel.getLength()+10),B.setAngle(I.angle+.02*(Math.random()-.5));var D={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,ownerGuid:L?L.guid:I.guid,type:11,guid:s.getGuid(),pos:new l.Vector(I.pos.x+Math.cos(I.angle)*u.SHIP_LENGTH_RADIUS,I.pos.y+Math.sin(I.angle)*u.SHIP_LENGTH_RADIUS),vel:B,life:180,radius:1,homing:!1};r.shift(D,y,m),t.bullets.push(D),I.bulletsFired++}}}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.game,e.WW,e.WH;if(t.keyCodes.CHARGE&&t.chargeTimerValue<1){t.chargeTimerValue=t.chargeTimer;var A=new r.Vector(1.2*t.vel.x,1.2*t.vel.y);A.mult(.5);var n=new r.Vector(t.pos.x+Math.cos(t.angle+Math.PI)*(t.radius+9+1),t.pos.y+Math.sin(t.angle+Math.PI)*(t.radius+9+1)),o={type:1,guid:a.getGuid(),pos:n,vel:A,timer:t.chargeTimer,totalTime:t.chargeTimer,radius:9,life:10,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};e.game.charges.push(o)}t.chargeTimer>0&&t.chargeTimerValue--}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.rotatedLayout,a=e.bulletWeaponLevel,A=[];return a>2&&A.push(r.midpoint(t[0],t[1],.6)),a>3&&A.push(r.midpoint(t[0],t[2],.6)),a>4&&A.push(r.midpoint(t[0],t[1],.9)),a>5&&A.push(r.midpoint(t[0],t[2],.9)),A}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6),r(20),r(7)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.SX,n=e.SY,o=e.SW,i=e.SH,s=A.getQuadTreesObj();if(s.Asteroids){for(var l=s.Asteroids.queryInt(new r.Rectangle(t,n,o,i)),u=[],d=0;d<l.length;d++){var c=l[d];30===c.type&&u.push(c)}var f=a.default(e,e.angle,u);e.avoidance=f,e.vel.add(f.avoidance)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(11),r(3),r(14),r(15),r(13),r(18),r(20),r(5),r(38),r(79),r(20),r(7),r(48)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeEnemy=function(e,t){e.remove=!0,A.explosion(t.game,800,e.pos.x,e.pos.y,t.game.particles)};var g=.1;t.default=function(e){var t=e.game,A=(e.SX,e.SY,e.SW),h=e.SH,v=e.WW,y=e.WH,m=e.step,S=t.enemies,E=S.length,x=f.getQuadTreesObj();if(x.Asteroids){for(var T=0;T<E;T++){var _=S[T];(g+=.002)>.1&&(g=.1),_.thrust.setLength(g),_.thrust.setAngle(_.angle),_.vel.add(_.thrust),_.vel.mult(.99),_.vel.getLength()>_.maxVel&&_.vel.setLength(_.maxVel);var I=s.default(_,_.angle,c.getGenericAvoidance(_,e,[x.SpacePortCannons],[]));_.vel.add(I.avoidance),_.avoidance=I,_.angle=l.normalizeRadianAngle(_.angle),o.default(_,m),r.shift(_,v-.2*A,y-.2*h,.2*A,.2*h),n.default(t.forceField,_,!0),i.wormhole(_,e),u.default(_);var M=x.queryTreesVec(_.guid%2==0?[4,8,6]:[8,4,6],_.pos,.5*A,.5*h);_.bulletsFired>0&&(_.bulletsFired-=.05*m);for(var L=null,w=null,P=0;P<M.length;P++){var R=M[P];if(!R.cloaked){w=R,L=R.pos;break}}if(L){var b=a.distanceBetweenVectors(L,_.pos);if(b<t.resW){var O=.05;b<100&&(g=.01,O=.15);var C=Math.atan2(L.y-_.pos.y,L.x-_.pos.x);if(_.turnAcc=l.angleDelta(_.angle,C)*O,_.angle+=_.turnAcc*m,_.bulletsFired<_.maxBullets){var G=p.createBullet(11,_);r.shift(G,v,y),t.bullets.push(G),_.bulletsFired++,(w.inSafeZone?Math.random()>.95:Math.random()>.986)&&t.rockets.push(d.createRocket(_,Math.random()>.66&&w))}}}}return"enemies"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(18),r(17),r(2),r(7)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(e){var t=e.game,s=(e.step,e.SW,e.SH,e.SX,e.SY,e.WW),l=e.WH;if(++i>200){i=0;for(var u=0;u<t.anomlies.length;u++){var d=t.anomlies[u];if(58===d.type){var c=d.x*s,f=d.y*l,p=o.getQuadTreesObj().Asteroids.queryVec(new r.Vector(c,f),400,400);p.length>20&&a.wormhole(p[0],e,!0);break}}}if(t.asteroids.length>n.MAX_NUM_ASTEROIDS)for(u=0;u<t.asteroids.length;u++){(h=t.asteroids[u]).remove=!0;break}else if(t.asteroids.length<100&&e.IS_MULTIPLAYER){var g=A.default(e,50,60,120);for(u=0;u<g.length;u++){var h=g[u];a.wormhole(h,e,!0),t.asteroids.push(h)}}return"cleanup"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(14),r(13),r(15),r(11)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.game,o=e.step,i=e.WW,s=e.WH,l=t.charges,u=l.length,d=0;d<u;d++){var c=l[d];c.timer-=o,c.timer<3?(r.explosion(t,1200,c.pos.x,c.pos.y,t.particles,4,700),c.timer<0&&(c.remove=!0)):(c.vel.mult(.98),c.vel.limit(4),a.default(c,o),n.shift(c,i,s),A.default(t.forceField,c,!1))}return"Charges"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(11),r(7),r(19)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new r.Vector(0,0);t.default=function(e){var t=e.game,r=(e.WW,e.WH,e.step,A.getQuadTreesObj());if(r.Player){for(var i=t.spaceFog,s=i.length,l=0;l<s;l++){var u=i[l];if(a.onStageXY(e,u.x,u.y,u.radius)&&(o.set(u.x,u.y),u.fire))for(var d=r.queryTreesVec([4,8,3,5,7,6],o,u.radius,u.radius),c=0;c<d.length;c++){var f=d[c];if(0===f.type&&Math.random()>.9)f.damageTaken=!0;n.DamageItem(f,.3)}}return"fog"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(75),r(7)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=0;t.default=function(e){var t=r.updateEntityList(e),n=a.___getQtreeList();A=0;for(var o=0;o<t.length;o++){var i=t[o],s=n[o];s.reset(),s.setup(i.bounds,5,i.type,100,i.AABB_VELOCITY_BASED);var l=i.list,u=l.length;A+=u;for(var d=0;d<u;d++)s.insert(l[d]);n[o]=s}return A}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(75),r(219),r(130),r(7)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=n.___getQtreeList(),t=r.getEntityList(),o=a.getIntersectionData();return A.GetQuadtreeOnTreeIntersections(e,t,o)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(101),r(114),r(115),r(105),r(104),r(113),r(106),r(107),r(108),r(111),r(110),r(102),r(112),r(220),r(221),r(222)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";var y;Object.defineProperty(t,"__esModule",{value:!0});var m=((y={})[0]=[{type:0,handler:r.default},{type:13,handler:r.default},{type:1,handler:g.default}],y[3]=[{type:0,handler:r.default},{type:12,handler:r.default},{type:13,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default}],y[7]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:1,handler:r.default}],y[14]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:13,handler:r.default},{type:7,handler:r.default},{type:3,handler:r.default},{type:14,handler:r.default},{type:4,handler:A.default},{type:8,handler:A.default},{type:6,handler:A.default},{type:1,handler:r.default}],y[5]=[{type:0,handler:r.default},{type:12,handler:a.default},{type:1,handler:r.default}],y[6]=[{type:0,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default},{type:1,handler:r.default}],y[4]=[{type:1,handler:r.default},{type:6,handler:n.default},{type:3,handler:n.default},{type:0,handler:o.default},{type:4,handler:n.default},{type:13,handler:r.default},{type:12,handler:i.default}],y[10]=[{type:4,handler:s.default},{type:3,handler:s.default},{type:5,handler:l.default},{type:7,handler:u.default},{type:14,handler:u.default},{type:0,handler:d.default},{type:1,handler:d.default},{type:13,handler:d.default}],y[8]=[{type:13,handler:r.default},{type:0,handler:r.default},{type:8,handler:r.default},{type:4,handler:r.default},{type:3,handler:r.default},{type:6,handler:r.default},{type:1,handler:r.default}],y[9]=[{type:3,handler:c.default},{type:0,handler:f.default},{type:1,handler:f.default},{type:5,handler:p.default},{type:7,handler:u.default},{type:14,handler:u.default},{type:4,handler:c.default},{type:8,handler:c.default},{type:6,handler:c.default},{type:13,handler:f.default}],y[11]=[{type:0,handler:r.default},{type:1,handler:r.default},{type:4,handler:r.default},{type:8,handler:r.default},{type:6,handler:r.default},{type:13,handler:r.default},{type:5,handler:r.default},{type:14,handler:r.default},{type:7,handler:r.default}],y[15]=[{type:15,handler:h.default},{type:0,handler:h.default},{type:1,handler:h.default},{type:4,handler:h.default},{type:8,handler:h.default},{type:6,handler:h.default},{type:13,handler:h.default},{type:3,handler:h.default},{type:5,handler:h.default},{type:7,handler:h.default},{type:14,handler:h.default}],y[16]=[{type:16,handler:v.default},{type:15,handler:v.default},{type:0,handler:v.default},{type:1,handler:v.default},{type:4,handler:v.default},{type:8,handler:v.default},{type:6,handler:v.default},{type:13,handler:v.default},{type:3,handler:v.default},{type:5,handler:v.default},{type:7,handler:v.default},{type:14,handler:v.default},{type:9,handler:v.default}],y);t.getIntersectionData=function(){return m}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(3),r(3)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=null;if(30===e.type&&32===t.type)o=e;else{if(30!==t.type||32!==e.type)return void(a.coarse(e,t)&&A.resolve(e,t));o=t}if(n.game.rockFormations.length>200)a.coarse(e,t)&&A.resolve(e,t);else if(A.coarseVecotr(e.pos,.85*e.radius,t.pos,.85*t.radius)){o.remove=!0;var i={remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1,netangle:0,netpos:{x:0,y:0},netvel:{x:0,y:0},pos:o.pos.clone(),vel:new r.Vector(0,0),staticPos:o.pos.clone(),life:o.life,sides:o.sides,angle:o.angle,guid:A.getGuid(),angleVel:0,radius:o.radius,type:32};o.life=0,n.game.rockFormations.push(i)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(11)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){if(r.resolve(e,t)&&(a.shift(e,A.WW,A.WH),a.shift(t,A.WW,A.WH),43===e.type)){var n=e;n.target&&n.target.guid===t.guid&&(n.aquireTimer=n.timerT+1)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(14),r(3)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,A){var n=t.pos.x-e.pos.x,o=t.pos.y-e.pos.y,i=Math.sqrt(n*n+o*o);if(e.radius+t.radius>=i){var s;44===e.type&&((s=e).activationTimer<=0?(r.explosion(A.game,21,s.pos.x,s.pos.y,A.game.particles,14,9),s.remove=!0):a.resolve(e,t)),44===t.type?(s=t).activationTimer<=0||44===e.type?(r.explosion(A.game,22,s.pos.x,s.pos.y,A.game.particles,14,9),s.remove=!0):a.resolve(e,t):(s=e).activationTimer<=0&&(t.life=.5*t.life,t.life-=38,t.stunned=!0,t.life<=0&&(t.remove=!0))}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t=e.game,r=t.resW,a=t.resH;e.game.starMap=[];for(var A=0;A<2*a;A++){var n={x:Math.random()*r*2,alpha:Math.floor(255*Math.random())};t.starMap.push(n)}},t.resize=function(e){e.game.starMap=[],t.init(e)};var r=0;t.default=function(e){var t=e.game,a=e.step,A=e.SW;if(r>5*a){r=0;var n={x:Math.random()*A*2,alpha:255*Math.random()};t.starMap.shift(),t.starMap.push(n)}return r+=a,"starmap"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(11),r(15),r(13),r(18),r(14),r(6),r(66)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game,l=e.step,u=e.WW,d=e.WH,c=e.SX,f=e.SY,p=e.SW,g=e.SH;if(t.menuSettings.particles&&!t.levelEditor){for(var h=t.particles,v=[],y=new i.Rectangle(c-500,f-500,p+1e3,g+1e3),m=0;m<t.explosions.length;m++){var S=t.explosions[m];y.intersectsPoint(S)&&o.particleForExplosion(.3*S.amount||S.radius,S.x,S.y,t.particles)}var E,x=h.length,T=x>4e3;for(m=0;m<x;m++)E=h[m],r.check(E,u,d)||E.life<0&&E.vel.getLength()<.01||Math.random()>.98?s.pool_put(E.type,E):!T||y.intersectsPoint(E.pos)?(E.life-=l,A.default(E,l),E.vel.mult(.99),a.default(t.forceField,E,!1),n.wormhole(E,e),E.vel.getLength()>20&&E.vel.setLength(20),v.push(E)):s.pool_put(E.type,E);t.particles=v;var _=t.customParticles;x=_.length;for(m=0;m<x;m++){var I=_[m];I.life-=l,A.default(I,l),I.vel.mult(.99),r.check(I,u,d)||I.life<0&&I.vel.getLength()<1||Math.random()>.98?(_.splice(m,1),m--,x--,I.remove=!0):(a.default(t.forceField,I,!1),n.wormhole(I,e))}return"particles"}t.particles=[]}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(226),r(227),r(131),r(228),r(2),r(55),r(38),r(37)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.game,u=t.player;r.default(e),n.default(e);for(var d=0;d<u.length;d++){var c=u[d],f=c.keyCodes;if(c.vel.getLength()>2&&l.createDust(c.pos,1,1,e),s.default(c),c.guid===t.playerGuid&&i.addProximityDetectionToShip(c,e,!0),f.STRAFELEFT&&(a.default(e,c,.5*Math.PI,2),a.default(e,c,.5*Math.PI,2,-2*o.SHIP_LENGTH_RADIUS,-2*o.SHIP_LENGTH_RADIUS)),f.STRAFERIGHT&&(a.default(e,c,.5*-Math.PI,2),a.default(e,c,.5*-Math.PI,2,-2*o.SHIP_LENGTH_RADIUS,-2*o.SHIP_LENGTH_RADIUS)),f.LEFT&&(a.default(e,c,.5*Math.PI,2,-2*o.SHIP_LENGTH_RADIUS,-2*o.SHIP_LENGTH_RADIUS),a.default(e,c,.5*-Math.PI,3)),f.RIGHT&&(a.default(e,c,.5*-Math.PI,2,-2*o.SHIP_LENGTH_RADIUS,-2*o.SHIP_LENGTH_RADIUS),a.default(e,c,.5*Math.PI,3)),f.UP||f.BOOST){var p=0;p=f.BOOST&&c.boost>0?50:20,a.default(e,c,Math.PI+.2*(Math.random()-.5),p)}A.default(e,c)}return"ship"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(48),r(37)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,A=t.rockets.length,n=0;n<A;n++)for(var o=t.rockets[n],i=0;i<8;i++)for(var s=0;s<8;s++){var l=r.createParticle(o.pos.x,o.pos.y,Math.random()-.5,Math.random()-.5,300);Math.random()>.97&&a.createDust(o.pos,Math.floor(3*Math.random()),1,e),t.particles.push(l)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(2),r(48)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new r.Vector(0,0),o=new r.Vector(0,0);t.default=function(e,t,r,i,s,l){void 0===s&&(s=0),void 0===l&&(l=0);for(var u=0;u<i;u++){o.set(0,0),n.set(t.vel.x,t.vel.y),o.setLength(4-n.getLength()),o.setAngle(t.angle+r),o.mult(Math.random());var d=A.createParticle(t.pos.x+Math.cos(t.angle)*-(a.SHIP_LENGTH_RADIUS+s),t.pos.y+Math.sin(t.angle)*-(a.SHIP_LENGTH_RADIUS+l),o.x,o.y,15*Math.random());e.game.particles.push(d)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(131)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game.drones,a=t.length,A=0;A<a;A++){var n=t[A];r.default(e,n)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(11),r(15),r(5),r(13),r(18),r(70),r(6),r(54),r(49),r(7),r(53)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetPartsTree=function(){return p};var p=new f.QuadTreeUint8Point(new l.Rectangle(0,0,100,100),20,63);t.default=function(e){var t=e.game,f=e.SW,g=e.SH,h=e.SX,v=e.SY,y=e.WW,m=e.WH,S=e.step,E=c.getQuadTreesObj();if(E&&E.Asteroids){!function(e,t){for(;t.length>0;){var r=t.pop();d.default(r,e)}}(e,t.removedAsteroids),function(e,t){for(;t.length>0;){var r=t.pop();s.default(r,e)}}(e,t.removedShips);var x=new l.Rectangle(h,v,f,g),T=new l.Rectangle(h-300,v-300,f+600,g+600),_=t.asteroidParts;p.reset(),p.setup(x,100,63);for(var I=_.length,M=0;M<I;M++){var L=_[M];p.insert(L)}var w=p.queryInt(T),P=w.length,R=n(E.Drones.queryInt(x),E.Enemies.queryInt(x),E.Player.queryInt(x),E.Rockets.queryInt(x),E.Asteroids.queryInt(x),E.SpacePortCannons.queryInt(x),E.RockFormations.queryInt(x)),b=R.length,O=new l.Rectangle(0,0,0,0);for(M=0;M<b;M++){var C=R[M],G=2*C.radius;0===C.type?G=2*C.originalRadius:30!==C.type&&29!==C.type||(G=C.radius),O.x=C.pos.x-G,O.y=C.pos.y-G,O.width=2*G,O.height=2*G;for(var N=p.queryInt(O),F=N.length,B=0;B<F;B++){var D=N[B],V=Math.atan2(C.pos.y-D.pos.y,C.pos.x-D.pos.x),X=D.pos.x-C.pos.x,H=D.pos.y-C.pos.y;if(u.OperatorApproxDist96(X,H)<G){D.vel.setAngle(V+Math.PI);var k=.7*Math.random();D.vel.setLength(1*k+.1),o.default(D,S),Math.abs(D.angleVel)<.1?D.angleVel=(k>.5?k:.4-k)*k*.1:D.angleVel*=2}}}for(M=0;M<P;M++){var W=(L=w[M]).vel.getLength();W>7&&L.vel.setLength(7),o.default(L,S),L.angle+=L.angleVel,W>0&&L.vel.mult(.98),L.angleVel*=.996;var U=L.angle;(L.angleVel>.01||L.angleVel<.01)&&(L.angleVel>.3?L.angleVel=.3:L.angleVel<-.3&&(L.angleVel=-.3),L.rotatedEdgeA&&(L.rotatedEdgeA=A.rotateVector(L.edgeA,U,L.rotatedEdgeA)),L.rotatedEdgeB&&(L.rotatedEdgeB=A.rotateVector(L.edgeB,U,L.rotatedEdgeB))),r.shift(L,y,m),a.default(t.forceField,L,!1),i.wormhole(L,e)}if(_.length>500){var Y=[],K=0;for(M=0;M<I;M++){D=_[M];K<50&&!r.onStage(e,D,800)?K++:Y.push(D)}t.asteroidParts=Y}return"parts"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.game,r=0;r<t.notifications.length;r++){var a=t.notifications[r];if(a.life--,a.life<0){t.notifications.splice(r,1);break}}return"notifications"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(13),r(123),r(5),r(125),r(5),r(1)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){for(var a=e.length,A=0;A<a;A++)r.PositionUpdaterPoint(e[A],t)},l=new i.Vector(0,0),u=function(e,t){l.set(e.netvel.x,e.netvel.y),l.mult(t),e.netpos.x+=l.x,e.netpos.y+=l.y},d=function(e,t,r,a,n,i,s,l){void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===n&&(n=!1),void 0===i&&(i=100),void 0===s&&(s=.1),void 0===l&&(l=.05);for(var d=e.length,c=0;c<d;c++){var f=e[c],p=f.pos.x-f.netpos.x,g=f.pos.y-f.netpos.y,h=f.vel.x-f.netvel.x,v=f.vel.y-f.netvel.y,y=f.pos.x,m=f.pos.y;if(f.pos.x-=p*s*t,f.pos.y-=g*s*t,a&&(n?Math.abs(p)>5||Math.abs(g)>5?(f.pos.x=y,f.pos.y=m,f.vel.x=f.vel.x-p/i,f.vel.y=f.vel.y-g/i):(f.vel.x=f.netvel.x,f.vel.y=f.netvel.y):n||(f.vel.x-=h,f.vel.y-=v)),(Math.abs(p)>i||Math.abs(g)>i)&&(f.pos.setFromVec(f.netpos),f.vel.setFromVec(f.netvel)),r){f.angle=A.normalizeRadianPositive(f.angle),f.netangle=A.normalizeRadianPositive(f.netangle);var S=o.diffRadianPositive(f.angle,f.netangle);f.angle+=S*l*t}u(f,t)}};t.default=function(e){var t=e.game,A=e.step;return d(t.spaceSquids,A,!1,!0),d(t.rockets,A,!0,!0,!0,100),d(t.asteroids,A,!0,!0,!0,100),d(t.spaceSpiders,A,!0,!1),d(t.drones,A,!0,!1,!1,30),d(t.enemies,A,!0,!1,!1,30),function(e,t,A){for(var o=e.length,i=0;i<o;i++){var s=e[i];s.guid===A.game.playerGuid?(a.ShipCamera(s,A),A.SX=s.SX,A.SY=s.SY,s.keyCodes=A.game.allKeyCodes.game.keys,n.default(s,t),s.netangle+=s.turnAcc*t):(s.angle+=s.turnAcc*t,r.PositionUpdaterPoint(s,t))}}(t.player,A,e),d(t.player,A,!0,!0,!1,200,.19,.2),s(t.charges,A),s(t.bullets,A),"interpolation"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(42),r(1),r(5),r(13),r(15),r(6),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=0;t.default=function(e){var t=e.game,u=e.step,d=(e.SW,t.spacePorts),c=s.getQuadTreesObj();if(c&&c.Player){++l>6&&(l=0);for(var f=0;f<d.length;f++){var p=d[f],g=p.shipChargeHash,h=p.centerNoneCannon;for(var v in g){var y=r.GetPlayerByGuidOrNull(parseInt(v,10),e);if(y&&p.chargeParticles.length<1e3)for(var m=0;m<20;m++)p.chargeParticles.push({pos:new a.Vector(h.pos.x+60*(Math.random()-.5),h.pos.y+60*(Math.random()-.5)),vel:new a.Vector(5+5*Math.random(),20*(Math.random()-.5)),life:300,type:4,radius:1,guid:-1,target:y,remove:!1,stunned:!1,targetFlagged:!1,forceX:0,forceY:0})}for(var S=new i.Rectangle(0,0,5,5),E=p.chargeParticles,x=E.length,T=0;T<x;T++){(R=E[T]).life-=u;var _=R.target;if(_&&!_.remove){S.x=_.pos.x,S.y=_.pos.y;var I=Math.atan2(_.pos.y-R.pos.y,_.pos.x-R.pos.x),M=R.vel.getAngle();M=A.normalizeRadianAngle(M),M+=.5*A.angleDelta(M,I)*u,R.vel.setAngle(M)}o.default(t.forceField,R,!1);var L=R.vel.getLength();L>10&&R.vel.setLength(10),L>3&&R.vel.mult(.99),n.default(R,u),(R.life<0||S.intersectsPoint(R.pos))&&(R.remove=!0,R.target=void 0)}for(var w=[],P=0;P<x;P++){var R;(R=E[P]).remove||w.push(R)}p.chargeParticles=w,p.shipChargeHash={}}return"Spaceport"}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.game.sparks,r=t.length,a=[],A=0;A<r;A++){var n=t[A];n.pos.addXY(n.vel.x*e.step,n.vel.y*e.step),n.vel.addXY(0,.3),n.life-=e.stepMS,n.life>0&&a.push(n)}return e.game.sparks=a,"sparks"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(10),r(2),r(78),r(3),r(7),r(6)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0;t.default=function(e){var t=e.game,l=e.SW,u=e.stepMS,d=e.SX,c=e.SY,f=e.SH,p=o.getQuadTreesObj(),g=new i.Rectangle(d,c,l,f),h=r.default(e);if(h&&p.Player){var v=p.SpacePorts.queryVec(h.pos,h.radius,h.radius)[0];if(v){v.centerNoneCannon.life<.66*a.SPACEPORT_START_LIFE&&A.createSubtitle({text:[v.name+": We can't take this anymore. They are overwhelming us.","You need to get the hell out of here."],noShowAgainMS:2e4,face:1});for(var y=v.cannons,m=y.length,S=0;S<m;S++){var E=y[S];E.life<.95*a.SPACEPORT_START_LIFE&&E.life>.85*a.SPACEPORT_START_LIFE?A.createSubtitle({text:[v.name+": Cannon crew "+E.name+" taking damage"],noShowAgainMS:2e7,face:1}):E.life>.45*a.SPACEPORT_START_LIFE&&E.life<.7*a.SPACEPORT_START_LIFE?A.createSubtitle({text:[v.name+": Cannon crew "+E.name+" taking heavy damage"],noShowAgainMS:2e7,face:1}):E.life<.3*a.SPACEPORT_START_LIFE?A.createSubtitle({text:[v.name+": Cannon crew "+E.name+" reporting in.","We won't be able to take this much longer..."],noShowAgainMS:2e7,face:1}):(E.life<=0||E.remove)&&(E.isCannon?A.createSubtitle({text:[E.ownerName+": Oh god! We just lost the crew on cannon "+E.name+". ","Those poor souls. You must leave this place.","You will be the death of us all..."],noShowAgainMS:8e3,face:1}):A.createSubtitle({text:[E.ownerName+": Nooooooo...     [static]"],noShowAgainMS:1e3,face:1}))}}if((s+=u)>800){if(s=0,A.createSubtitle({text:["God speed captain.","I will do my best to guide you."],noShowAgainMS:9e11,face:0}),!h.inSafeZone){var x=o.getQuadTreesObj().SpacePorts.queryCircle(h.pos,3*l)[0];if(x){var T=x.reparations;if(T.boost>h.boost||T.electrobastardray>h.availableElectroBastardRays||T.homingBullets>h.homingBullets||T.life>h.life||T.missiles>h.availableMissiles||T.rockets>h.availableRockets){var _=n.distanceBetweenVectors(h.pos,x.pos);A.createSubtitle({text:["COMMANDER: There is a spaceport nearby.",x.name+"It is located at: "+(x.pos.x+.5*l|0)+" | "+(x.pos.y+.5*f|0),"You are currently "+(.01*_|0)+" parsecs away"],noShowAgainMS:5e4,face:0})}}}if(h.life<20){_=Number.MAX_VALUE;var I=null;for(S=0;S<t.spacePorts.length;S++){var M=t.spacePorts[S],L=n.distanceBetweenVectors(h.pos,M.pos);L<_&&(_=L,I=M)}I&&A.createSubtitle({text:["COMMANDER: You need to find a spaceport fast.","The closest one is "+I.name+".","It is located at: "+(0|I.pos.x)+" | "+(0|I.pos.y),"You are currently "+(.01*_|0)+" parsecs away"],noShowAgainMS:5e4,face:0})}var w=t.notifications[0];if(w)switch(w.type){case 50:A.createSubtitle({text:["Oh no! Space-parasites!","I hope there are not too many of them on you."],noShowAgainMS:1e6,face:0})}if(h.closestItem&&g.intersectsPoint(h.closestItem.pos)){var P=h.availableRockets>0,R=h.availableElectroBastardRays>0,b="",O=!1,C=!1,G="";P?(O=!0,b="rockets"):R?(O=!0,b="electrobastardray"):b="spacebullets";var N="";switch(h.closestItem.type){case 8:N="enemy ship",G=" to blow it up!";break;case 37:N="got damn spacesnake",G=" to destroy it!";break;case 39:N="spacesquid from hell",G=" to send it back to where it came from.";break;case 42:N="godforsaken spacespider",G=" and fucking kill it.";break;case 30:h.closestItem.radius<100&&(C=!0),b="spacebullets",N="asteroid",G=" and hopefully get some sweet powerups.";break;case 32:N="space ice",b="spacebullets",G=" or just leave it....";break;default:return void(N="[ "+h.closestItem.type+" ]")}C||A.createSubtitle({text:["Captain!","You have that "+N+(O?" locked on.":" in your sight."),"Use your "+b+G],noShowAgainMS:1e8,face:0})}return h.enemyDetection.length>4&&A.createSubtitle({text:["There seems to be a whole lot of hostility in your sector.","Maybe you should get the fuck out of there."],noShowAgainMS:1e8,face:0}),"subtitles"}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(236),r(31),r(0)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=!1,i=function(e,t,a,A,o,i){for(var s=Math.max(0,t.length-18),l=s;l<t.length;l++){var u=a[l];i.gl?r.default.printListGL(i.gl,n.default(n.GLctx.Texture,i.gl),u,50,50+40*(l-s),t[l],l===t.length-1&&o,i):r.default.printList(e,A.data,u,50,50+40*(l-s),t[l],l===t.length-1&&o)}},s=function(e,t,r,n,l,u,d,c,f){void 0===f&&(f=!1),setTimeout(function(){if(!o){var p=t.length-1;f&&(t[p]<e[p].length?t[p]=t[p]+1:t.length<e.length?t.push(0):c&&(c(),c=void 0)),r.gl?i(u,t,e,l,!f,r):(a.ClearHard(r),i(u,t,e,l,!f,r),A.distort(u,d*Math.random(),d*Math.random(),l.data),n.putImageData(l,0,0)),s(e,t,r,n,l,u,d,c,!f)}},20)};t.default=function(e,t,r,a,A,n,i){void 0===i&&(i=0),o=!1;var l=function(){o||(window.removeEventListener("keydown",l),o=!0,setTimeout(function(){t()},30))};setTimeout(function(){window.addEventListener("keydown",l)},1e3),s(e,[0],r,a,A,n,r.SH,function(){setTimeout(function(){o||(o=!0,setTimeout(function(){t()},30))},8e3)})}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=1;t.default=function(e){var t=e.frame;e.WW,e.WH,e.SW,e.SH,t.length;!function(e,t,r,a){var A=e.length;if(a)for(var n=t;n<A;n+=r)e[n]=e[n]-20,e[n+1]=e[n+1]-20,e[n+2]=e[n+2]-20,e[n+3]=255;else for(n=t;n<A;n+=r)e[n]=0,e[n+1]=0,e[n+2]=0,e[n+3]=255}(t,4*r,4,!0),--r<0&&(r=1)},t.ClearHard=function(e){for(var t=e.frame,r=e.SW*e.SH*4,a=0;a<r;a+=4)t[a]=0,t[a+1]=0,t[a+2]=0,t[a+3]=255}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(5),r(4),r(0),r(8),r(0),r(2),r(4),r(109),r(54),r(3),r(83)],void 0===(A=function(e,t,r,a,A,i,s,l,u,d,c,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=[],h=[],v=[],y=[],m=[],S=[],E=[],x=[],T=[],_=[],I=[],M=[],L=[],w=[],P=[],R=[],b=[],O=function(e,t,r,A,n,o,i,s){void 0===s&&(s=1);for(var l=r.length,u=0;u<l;u++){var d=10*r[u].time+1,c=A[u]||100,f=n[u]||100,p=d>c?d:c>1?.95*c:c,g=d>f?d:f>1?.97*f:f;A[u]=p,n[u]=g;var h=i*s+5*u*s;a.line2Poly(o*s,h,o*s+1+p*s,h,R,1*s),a.line2Poly(g*s,h,g*s-3,h,R,1*s)}},C={},G=function(e,t,r,a,A,n,o){if(void 0===n&&(n=30),void 0===o&&(o=!1),C[a]&&0!==C[a].i)C[a].i>n&&(C[a].i=-1);else{var i=r.sort(function(e,t){return e.time>t.time?-1:1});C[a]={list:i,i:1}}C[a].i++,N(e,t,C[a].list,a,A,o)},N=function(e,t,r,a,n,o){for(var u=Math.min(r.length,3),d=0;d<u;d++){var c=r[d],f=c.name+(o?" ("+c.type+")":"")+(c.time>1?"   > "+Math.round(c.time)+"MS ":"");if(o)switch(c.type){case"engine":n="y";break;case"engineClient":n="w";break;case"gui":n="g"}i.default.addGL(e.gl,A.default(s.GLctx.Texture,e.gl),i.default.create(f,l.TEXT_SIZE_SMALL,n),100,a+d*l.TEXT_SIZE_SMALL,e)}};i.default.createSplitted("|",22,"r","");i.default.createSplitted("0123456789,.-",22,"r");var F=!1;t.default=function(e){var t=e.stepMS,C=e.game,N=(e.frame,e.SW,e.gl);if(C.menuSettings.fps||C.menuSettings.fpsOnly){var B=performance.now();F||(F=!0,[[],[],[],[],[]],h=[],v=[],y=[],m=[],S=[],E=[],x=[],T=[],_=[],I=[],M=[],L=[],w=[],P=[],g=[],[],[],[]);var D=C.performance,V=D.engine,X=D.engineClient,H=D.gui,k=D.totalEngine,W=D.totalEngineClient,U=D.totalGui;C.isPaused&&(V=V.map(function(e){return n(n({},e),{time:0})}),X=X.map(function(e){return n(n({},e),{time:0})}),k=0,W=0),R=[],b=[];var Y=r.normalize(1e3/t,"FPS_LIST"),K=r.normalize(k,"ENGINE_TIME"),q=r.normalize(U,"GUI_TIME"),Z=[r.normalize(t,"FRAME_TIME"),q,K],z=C.menuSettings.fpsOnly,j=i.default.createSplitted(Y.avg+"|"+Y.low,z?17.6:22,z?"g":"r","");if(i.default.addListGL(N,A.default(s.GLctx.Texture,N),j,z?20:204,z?230:210,e),!z){for(var Q=Z.length,J=0;J<Q;J++){var $=Z[J];a.line2Poly(0,240+3*J*1,10*$.avg*1,240+3*J*1,R,1)}a.line2Poly(200,240,200,240+3*Z.length*1,R,1),g.push(1e3/t),g.length>100&&g.shift();for(var ee=g.length,te=0;te<ee;te++){var re=.5*g[te];a.line2Poly(2+2*te*1,235,2+2*te*1,1*(235-re),R,1)}if(R.length>0){a.addToColorMap(b,R,.9,0,0,1);var ae=250;O(0,0,[{time:16-(U+k),name:null,type:null}],w,P,0,ae,1),a.addToColorMap(b,R,.9,0,0,1),O(0,0,V,y,m,0,ae+=15,1),a.addToColorMap(b,R,.9,.9,0,1),G(e,1,V,ae,"y"),ae=ae+5*V.length+40,O(0,0,X,S,E,0,ae,1),a.addToColorMap(b,R,.9,.9,.9,1),G(e,1,X,ae,"w"),ae=ae+5*X.length+40,O(0,0,H,h,v,0,ae,1),a.addToColorMap(b,R,0,.9,0,1),G(e,1,H,ae,"g"),ae=ae+5*H.length+5,O(0,0,[{time:k,name:null,type:null}],x,T,0,ae+=5,1),a.addToColorMap(b,R,.9,.9,0,1),O(0,0,[{time:W,name:null,type:null}],_,I,0,ae+=5,1),a.addToColorMap(b,R,.9,.9,.9,1),O(0,0,[{time:U,name:null,type:null}],M,L,0,ae+=5,1),a.addToColorMap(b,R,0,.9,0,1),ae-=70,G(e,1,o(V,X,H),ae,null,60,!0),a.drawColorMapSingle(b,R,N);r.normalize(k,"totalEngine",30,2),r.normalize(W,"totalEngineClient",30,2),r.normalize(U,"totalGui",30,2),r.normalize(k+W+U,"totalAll",30,2),r.normalize(t,"step",30,2);var Ae=p.getQuadTreesConstructionTimings(),ne=u.readPerformance(),oe=(s.GLCTXreadPerformance(),c.getOperatorUsage(),f.getMathSqrtUsage(),d.getNumCollisions(),n(n(n({"Particles ":C.particles.length,"Custom    ":C.customParticles.length,"Bullets   ":C.bullets.length,"Rockets   ":C.rockets.length,"Asteroids ":C.asteroids.length,"Dust      ":C.spaceDust.length,"Parts     ":C.asteroidParts.length,"Vertices  ":ne.vertices},{}),{Quadtrees:"","  n items":Ae.constructionItems,"  create ":r.normalize(Ae.constructionTime,"QT CONST",30,2).avg,"  collide":r.normalize(Ae.collideTime,"QT collide",30,2).avg,"  clean  ":r.normalize(Ae.cleanupTime,"QT clean",30,2).avg,"  resolve":r.normalize(Ae.resolveTime,"QT resolve",30,2).avg,"  broadph":Ae.broadphase,"  colls  ":Ae.calls,"  total  ":r.normalize((V.filter(function(e){return e.name.indexOf("QuadTree")>-1})[0]||{time:-1}).time,"Qt Total timings 2",30,2).avg}||{}),{})),ie=0,se=0;for(var le in oe)se="  SELF      "===le?r.pad_9(r.normalize(performance.now()-B,"statsGLself",100,2).avg):oe[le],i.default.addListGL(N,A.default(s.GLctx.Texture,N),o([i.default.create(le,l.TEXT_SIZE_SMALL,"w")],i.default.addNumberCacheable(se,l.TEXT_SIZE_SMALL,"w")),100,ae+4*l.TEXT_SIZE_SMALL+ie*l.TEXT_SIZE_SMALL,e),ie++}}}else F=C.menuSettings.fps}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(17),r(9),r(21),r(60),r(24),r(11),r(239)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n.default(7,["SOMEWHERE IN THE ASTEROID BELT A SPACESNAKE LURES.","KILL IT."]);t.default={splash:l,assert:function(e){var t=e.game,r=e.WW,a=e.WH;return i.contain(t.player[0],r,a,500),t.npcs.length<3?(t.player[0].life=0,!1):t.npcs[0].currentWayPointIndex>100},init:function(e){var t,n=e.game,i=e.WW,l=e.WH;n.player[0]=a.createShip(e),o.default(n.player,.1*i,.1*l,.01*i,.01*l),n.drones=a.createDrones(e,n.player[0].pos,2,n.player[0].guid),n.player[0].availableRockets=10,n.player[0].availableElectroBastardRays=600,n.wayPoints=s.default(e,[{x:.1,y:.1},{x:.5,y:.1},{x:.5,y:.1},{x:.5,y:.25},{x:.5,y:.25},{x:.6,y:.25},{x:.6,y:.25},{x:.6,y:.3},{x:.6,y:.3},{x:.6,y:.9},{x:.6,y:.9},{x:.7,y:.9}]),n.npcs=a.createNPCs(e,5,{maxVel:2},0),o.default(n.npcs,.1*i,.1*l,.01*i,.01*l),n.asteroids=r.default(e,420,120,190,{angleVel:.001},!0),o.default(n.asteroids,0,.45*l,i,.1*l);var u=r.default(e,10,20,70,{angleVel:.001},!0);o.default(u,.13*i,.05*l,.05*i,.1*l),n.enemies=a.createEnemies(e,3),o.default([n.enemies[0]],.95*i,.1*l,100,100),o.default([n.enemies[1]],.3*i,.6*l,100,100),o.default([n.enemies[2]],.6*i,.6*l,100,100),(t=n.asteroids).push.apply(t,u),n.settings_wormhole=!1,n.wormhole=null,n.anomlies=[],n.settings_minimap_asteroid_min_radius=48,n.spaceSnake=A.default(e,1),o.default(n.spaceSnake[0].segments,.5*i,.5*l,.05*i,.05*l)},mapSize:function(e){return{WW:16e3,WH:16e3}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(35)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=e.WW,A=e.WH,n=[],o=0;o<t.length;o++){var i=t[o],s=i.x*a,l=i.y*A,u=s*r.RESOLUTION,d=l*r.RESOLUTION,c=!!t[o+1]&&i.x===t[o+1].x;n.push({gridX:u,gridY:d,vertical:c,posX:s,posY:l})}var f=[];for(o=0;o<n.length-1;o++){for(var p=n[o],g=n[o+1],h=Math.min(p.gridX,g.gridX),v=Math.max(p.gridX,g.gridX),y=Math.min(p.gridY,g.gridY),m=Math.max(p.gridY,g.gridY),S=h;S<v;S++)f.push({gridX:S,gridY:p.gridY,posX:S/r.RESOLUTION,posY:p.gridY/r.RESOLUTION,vertical:!1});for(var E=y;E<m;E++)f.push({gridX:p.gridX,gridY:E,posX:p.gridX/r.RESOLUTION,posY:E/r.RESOLUTION,vertical:!0})}return f}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(17),r(9),r(21),r(33),r(1),r(44),r(132),r(61),r(12),r(10),r(6),r(84),r(32),r(241),r(59)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new f.Rectangle(0,0,0,0);var y=[];t.default={splash:null,gui:function(e){y.length>20&&y.shift();var t=c.default(e);if(t)y.push(JSON.stringify(t));else for(var r=0;r<y.length;r++)console.log(r,JSON.parse(y[r]))},assert:function(e){e.SX,e.SY,e.SW,e.SH,e.WW,e.game,e.stepMS;return e.IS_MULTIPLAYER||p.default(e),!1},init:function(e){var t=e.game,c=e.WW,f=e.WH,y=e.SW,m=e.SH;p.DirectorSetup({enemies:25,spacesquids:18,spacesnakes:12,spaceSpiders:10,campingTimeout:1e4}),0;var S=a.createShip(e);e.IS_SERVER||(S.pos.x=.1*c,S.pos.y=.6*f,t.player[0]=S,t.drones=a.createDrones(e,S.pos,2,S.guid),S.availableRockets=10,S.availableElectroBastardRays=600),t.spaceSpiders=g.default(e,12);var E=s.default(e,400,new i.Vector(.27*e.WW,.1*e.WH),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:6}),x=s.default(e,380,new i.Vector(.7*e.WW,.1*e.WH),"GENESIS",{boost:200,life:150,missiles:8,rockets:2,electrobastardray:300,homingBullets:300,proximityMines:2}),T=s.default(e,440,new i.Vector(.2*e.WW,.85*e.WH),"NEW HORIZON",{boost:240,life:170,missiles:6,rockets:9,electrobastardray:320,homingBullets:100,proximityMines:2});e.IS_SERVER||(t.spaceBats=u.default(e,500),t.npcs=n(a.createNPCs(e,48,{},0))),t.spacePorts=[E,x,T],t.asteroids=r.default(e,300,120,300);var _=v.default(.6*c,.5*f,250);t.rockFormations=_.rockFormations,t.rockFormationSystemRadius=[_.rfSystem],d.LOG_GL("RF LEN: "+t.rockFormations.length),d.LOG_GL("RF POS: "+(.6*c|0)+" | "+(.5*f|0)),d.LOG_GL("yolo"),t.enemies=a.createEnemies(e,30),t.spaceSnake=A.default(e,3,void 0,void 0,15*Math.random()+10),t.spaceSquids=o.default(e,14),h.default([t.spaceSpiders,t.enemies,t.spaceSquids,t.spaceBats],S.pos.x-3*y,S.pos.y-3*m,6*y,6*m,e),l.default(t,!1)},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,A,n,o){for(var i=new r.Rectangle(t,a,A,n),s=0;s<e.length;s++)for(var l=e[s],u=0;u<l.length;u++){var d=l[u];if(i.intersectsPoint(d.pos)){var c=2.2;Math.random()>.5?(d.pos.x=i.x+i.width*c+i.width*Math.random(),d.pos.y=i.y+i.height*c+i.height*Math.random()):(d.pos.x=i.x-i.width*c-i.width*Math.random(),d.pos.y=i.y-i.height*c-i.height*Math.random())}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(17),r(9),r(21),r(26),r(3),r(2),r(1),r(70),r(13),r(14),r(5),r(49)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0});var g=1,h=.1,v=function(e){var t=e.game;t.menuSettings.noise=p;for(var r=t.player[0],a=t.spaceSnake[0],A=0;A<a.segments.length;A++)f.default(a.segments[A],e);t.spaceSnake=[],r.life=0},y=0,m=-.5*Math.PI,S=m,E=0,x=0;t.default={splash:null,assert:function(e){var t=e.game,r=e.WW,a=e.WH,A=(e.SX,e.SY,e.SW,e.SH,e.step);if(t.isPaused)return!1;var f=e.game.allKeyCodes.game.keys;y++;var p=t.player[0];p.closestItem=null,p.vel.x=0,p.vel.y=0,p.life=500;var E=t.spaceSnake[0];if(!E||!E.segments||E.segments.length<1)return p.life=0,!1;var x=t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1].pos.clone();x.x-=.5*t.SW,x.y-=.5*t.SH,t.SX=x.x,t.SY=x.y;var T=E.segments[E.segments.length-1];T.vel.x=5+h,T.vel.y=5+h,f.LEFT?0!=S&&(S=Math.PI):f.RIGHT?S!=Math.PI&&(S=0):f.UP?S!=.5*Math.PI&&(S=-.5*Math.PI):f.DOWN&&S!=-.5*Math.PI&&(S=.5*Math.PI),Math.abs(S-m)<.03?m=S:m-=c.angleDelta(S,m)*A*.15,T.angle=m,T.vel.setAngle(m),u.default(T,e.step),n.snakeIK(E.segments,e.step,!1,1);var _=E.segments.slice(0,E.segments.length-5);if(y>300)for(var I=0;I<_.length;I++)if(o.coarse(T,_[I]))return void v(e);if(!(T.pos.x<i.MAP_SAFETY_ZONE||T.pos.x>r-i.MAP_SAFETY_ZONE||T.pos.y<i.MAP_SAFETY_ZONE||T.pos.y>a-i.MAP_SAFETY_ZONE)){if(o.coarse(p,T)){for(l.default(p,e),d.explosion(t,8,p.pos.x,p.pos.y,t.particles,8,8),p.pos.x=Math.random()*(r-4*i.MAP_SAFETY_ZONE)+2*i.MAP_SAFETY_ZONE,p.pos.y=Math.random()*(a-4*i.MAP_SAFETY_ZONE)+2*i.MAP_SAFETY_ZONE,I=0;I<g;I++){var M=E.segments[E.segments.length-8],L=JSON.parse(JSON.stringify(M));L.guid=o.getGuid(),L.pos=new s.Vector(L.pos.x,L.pos.y),L.vel=new s.Vector(L.vel.x,L.vel.y),L.offsetFront=new s.Vector(M.offsetFront.x,M.offsetFront.y),L.offsetRear=new s.Vector(M.offsetRear.x,M.offsetRear.y),E.segments.splice(E.segments.length-8,0,L)}g<10&&g++,h<10&&(h+=.1)}return!1}v(e)},init:function(e){var t=e.game;m=-.5*Math.PI,g=1,h=.1,y=0,p=t.menuSettings.noise,t.menuSettings.noise=!1;var n=a.createShip(e);n.shields=0,n.type=8,n.availableRockets=0,n.pos.x=2e3,n.pos.y=2e3,t.player[0]=n,t.drones=a.createDrones(e,n.pos,1,n.guid),t.asteroids=r.default(e,20),t.wormhole=null,t.spaceFog=[],t.spaceSnake=A.default(e,1,2e3,3e3,30),t.settings_no_darkness=!0,t.settings_be_the_snake_mode=!0},mapSize:function(e){return{WW:4e3,WH:4e3}},camera:function(e){var t=e.game;if(t.spaceSnake.length>0){var r=t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1].pos.clone();r.x-=.5*t.SW,r.y-=.5*t.SH,e.SX=E=r.x,e.SY=x=r.y}else e.SX=E,e.SY=x}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(244)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,gui:function(e){return r.default.gui(e)},assert:function(e){return r.default.assert(e)},init:function(e){return r.default.init(e)},mapSize:function(){return{WW:2e4,WH:2e4}},camera:function(e){return r.default.camera(e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(10),r(9),r(245),r(246),r(247),r(85),r(248),r(52),r(249),r(52),r(52),r(85),r(8),r(2),r(0),r(0),r(52),r(7)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.addEditorMenuEvents();var S=function(e){var t=e.game,r=t.zoomTX,a=(t.SX,t.SY,o.getEditorEventData()),A=s.GetEditorCameraPos(),n=A.cameraSX,i=A.cameraSY,l=a.mouseDownXY,u=a.mouseIsDown,d=a.mousePosXY,c=a.mouseUpXY,f={x:n+l.x*r,y:i+l.y*r},p=u||!c?d:c;return{ux:{x:n+p.x*r,y:i+p.y*r},dx:f}};t.default={splash:null,gui:function(e){if(!i.default.play.selected){var t=e.game,r=t.zoomTXinverted,a=t.SX,n=t.SY,c=s.GetEditorCameraPos(),y=(c.cameraSX,c.cameraSY,o.getEditorEventData()),m=y.mouseDownXY;if(y.mouseIsDown,y.mousePosXY,y.mouseUpXY,u.drawSelections(e,l.getEditorSelections()),i.default.select.children.rect.selected&&m){var E=S(e),x=E.dx,T=E.ux;u.drawSelectionRect(e,x,T)}if(A.drawtoolbar(e,200,100,i.default,!0),i.default.edit.selected){var _=d.getEditorSingleSelection();if(_){var I=(_.pos.x-a+30)*r,M=(_.pos.y-n+30)*r;A.drawtoolbar(e,I,M,f.getSubmenuTree(_.type),!1)}}if(e.game.asteroids.length>400){var L=e.game.asteroids.length,w="g";L>=800?w="r":L>=600&&(w="y"),p.default.addGL(e.gl,v.default(h.GLctx.Texture,e.gl),p.default.create("Asteroids: "+e.game.asteroids.length+"/"+g.MAX_NUM_ASTEROIDS,20,w),30,30,e)}}},assert:function(e){if(i.default.play.selected)return e.game.settings_no_darkness=!1,e.game.levelEditor=!1,e.game.menuSettings.transformFeedback=!0,void(e.game.menuSettings.noise=!0);var t=e.game,a=(e.SX,e.SY,t.zoomTX);l.getEditorTimeFreeze()&&(e.step=0,e.stepMS=0);var A=[m.getQuadTreesObj().Player,m.getQuadTreesObj().Asteroids,m.getQuadTreesObj().Enemies,m.getQuadTreesObj().SpaceSquid,m.getQuadTreesObj().SpaceSnakes,m.getQuadTreesObj().SpacePorts,m.getQuadTreesObj().Drones],p=[{tree:m.getQuadTreesObj().Asteroids,list:t.asteroids},{tree:m.getQuadTreesObj().Enemies,list:t.enemies},{tree:m.getQuadTreesObj().SpaceSquid,list:t.spaceSquids}],g=o.getEditorEventData(),h=s.EditorCamera(e,g),v=h.cameraSX,E=h.cameraSY,x=g.mouseClickXY,T=g.mousePosXY,_=g.mouseDownXY,I=(g.mouseUpXY,g.mouseIsDown,T?{x:T.x+v,y:T.y+E}:null),M=T?{x:v+T.x*a,y:E+T.y*a}:null;t.menuSettings.transformFeedback=!1;var L=r.default(e);L.damageTaken=!1,L.life=100;var w=d.getEditorSingleSelection();if(i.default.edit.selected&&w){var P=f.getSubmenuTree(w.type);if(n.updateToolbar(g,P))return!1;if(T&&n.isMouseInMenu(g,P))return!1}if(n.updateToolbar(g,i.default))return!1;if(T&&n.isMouseInMenu(g,i.default))return!1;if(x)if(i.default.delete.selected)c.deleteSelected(I,p);else if(i.default.create.children.enemyShip.selected)c.editorCreateEnemy(e,M,t.enemies);else if(i.default.select.children.point.selected)l.editorSelectItems(l.getAllItemsFromTreesPoint(A,M));else if(i.default.edit.selected){d.editorClearSelection();var R=l.getAllItemsFromTreesPoint(A,M);l.editorSelectItems(R)}else i.default.create.children.spaceSquid.selected?y.editorCreateSpacesquid(e,M,t.spaceSquids):i.default.create.children.spaceSnake.selected?y.editorCreateSpaceSnake(e,M,t.spaceSnake):i.default.create.children.spacePort.selected?y.editorCreateSpacePort(e,M,t.spacePorts):i.default.create.children.drone.selected&&l.editorCreateDrone(e,M,t.drones);if((i.default.create.children.asteroid.children.flood.selected&&_||i.default.create.children.asteroid.children.single.selected&&x)&&c.editorCreateAsteroid(M,t.asteroids),T&&i.default.select.children.rect.selected&&_){d.editorClearSelection();var b=S(e),O=b.dx,C=b.ux,G=u.createSelectionRect(0,0,O,C),N=[],F=i.default.select.children.rect.children;F.all.selected?N=d.getAllItemsFromTreesRect(A,G):F.asteroids.selected?N=d.getAllItemsFromTreesRect([m.getQuadTreesObj().Asteroids],G):F.enemies.selected&&(N=d.getAllItemsFromTreesRect([m.getQuadTreesObj().Enemies],G)),l.editorSelectItems(N)}return!1},init:function(e){var t=e.game;t.levelEditor=!0,t.player[0]=a.createShip(e),t.settings_no_darkness=!0,t.menuSettings.noise=!1,i.default.play.selected=!1},mapSize:function(){return{WW:2e4,WH:2e4}},camera:function(e){if(!i.default.play.selected){var t=s.GetEditorCameraPos(),a=t.cameraSX,A=t.cameraSY;e.SX=a,e.game.SX=a,e.SY=A,e.game.SY=A,r.default(e).damageTaken=!1}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(0),r(4),r(8),r(6)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawtoolbar=function(e,t,n,o,s){void 0===t&&(t=0),void 0===n&&(n=0),void 0===s&&(s=!1);var l=e.gl,u=(e.SW,e.game),d=[];l.blendFunc(l.DST_COLOR,l.ZERO),i(22,t,n,o,e,d,s),r.default(a.GLctx.Vertices,l);for(var c=0;c<d.length;c++)d[c]*=u.zoomTX;A.drawColor(d,l,0,0,0,1),l.blendFunc(l.ONE,l.ONE),i(22,t,n,o,e,null,s)};var i=function(e,t,A,s,l,u,d){var c=l.gl;l.game,l.SW;for(var f in s){var p=s[f],g=n.default.create(p.name.toUpperCase(),e,p.selected?"r":"w",!0);u?u.push(t,A,t+g.w,A,t,A+e,t+g.w,A,t,A+e,t+g.w,A+e):n.default.addGL(c,r.default(a.GLctx.Texture,c),g,t,A,l),s[f].rect=new o.Rectangle(t,A,g.w,e),p.children&&p.selected&&i(e,d?t:t+g.w+.2*e,d?A+1.2*e:A,p.children,l,u,!0),d?t+=g.w+5:A+=1.2*e}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,a,A){for(var n in a){var o=a[n];if(o.rect){if(o.populate&&o.populate(o,a),o.rect.intersectsPoint({x:e,y:t}))return A&&A(o,a),!0;if(o.children&&o.selected){var i=r(e,t,o.children,A);if(i)return i}}}},a=function(e,t,r){for(var A in e){var n=e[A];r&&r===n||(n.selected=t,n.children&&a(n.children,t,r))}};t.updateToolbar=function(e,t){var A=e.mouseClickXY;return!(!A||!r(A.x,A.y,t,function(e,t){e.action&&e.action(e,t),a(t,!1,e),e.selected=!e.selected,console.log(e,t)}))},t.isMouseInMenu=function(e,t){var a=e.mousePosXY;return r(a.x,a.y,t)}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var A in t=arguments[r])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,a=null,n=null,o=0,i=null,s=null,l=function(e){return e?A({},e):null},u={mouseClickXY:null,mousePosXY:null,oldMouseClickXY:null,wheelDelta:0,mouseDownXY:null,mouseUpXY:null,mouseIsDown:!1};t.getEditorEventData=function(){var e=l(r),t=l(n),d=l(a);return u.mouseClickXY=e,u.mousePosXY=d,u.oldMouseClickXY=t,u.wheelDelta=o,u.mouseDownXY=i,u.mouseUpXY=s,n=r?A({},r):null,r=null,o=0,u},t.addEditorMenuEvents=function(){window.addEventListener("click",function(e){return r={x:e.x,y:e.y}}),window.addEventListener("mousedown",function(e){i={x:e.x,y:e.y},s=null,!0}),window.addEventListener("mouseup",function(e){r=null,s={x:e.x,y:e.y},!1,i=null}),window.addEventListener("mousemove",function(e){a={x:e.x,y:e.y},r&&(r=A({},a))}),window.addEventListener("wheel",function(e){return o=e.deltaY>0?1:-1})}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(16)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=0,A=0;t.EditorCamera=function(e,t){return function(e,t){var r=t.mousePosXY,n=e.WW,o=e.WH,i=e.game,s=i.SW,l=i.SH,u=i.zoomTX;if(r){var d=.2*u;r.x>.9*window.innerWidth?a+=(r.x-.9*window.innerWidth)*d:r.x<.1*window.innerWidth&&(a+=(r.x-.1*window.innerWidth)*d),r.y>.9*window.innerHeight?A+=(r.y-.9*window.innerHeight)*d:r.y<.1*window.innerHeight&&(A+=(r.y-.1*window.innerHeight)*d),a>n-s?a=n-s:a<0&&(a=0),A>o-l?A=o-l:A<0&&(A=0),e.SX=a,e.SY=A}}(e,t),function(e,t){var n=t.wheelDelta;r.default().gui;if(n>0){if(e.game.SW>.7*e.WW)return;e.game.SW*=1.05,e.game.SH*=1.05;var o=e.game.SW,i=e.game.SH,s=.5*(1.05*e.game.SW-o),l=.5*(1.05*e.game.SH-i);a-=s,A-=l,e.SX=a,e.SY=A}else n<0&&(e.game.SW*=.95,e.game.SH*=.95,o=e.game.SW,i=e.game.SH,s=.5*(.95*e.game.SW-o),l=.5*(.95*e.game.SH-i),a-=s,A-=l,e.SX=a,e.SY=A)}(e,t),{cameraSX:a,cameraSY:A}},t.GetEditorCameraPos=function(){return{cameraSX:a,cameraSY:A}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(6),r(4),r(0),r(12)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawSelections=function(e,t){var n=e.SX,o=e.SY,i=e.gl,s=[],l=r.getRectHash();for(var u in t){var d=l[u];d&&a.drawRectPoly(d,n,o,s,1*e.game.zoomTX)}A.default(A.GLctx.Vertices,i),a.drawColor(s,i,0,1,0,1)},t.createSelectionRect=function(e,t,a,A){var n=a.x,o=a.y,i=A.x-a.x,s=A.y-a.y;return i<0&&(n+=i,i*=-1),s<0&&(o+=s,s*=-1),new r.Rectangle(n-e,o-t,i-e,s-t)},t.drawSelectionRect=function(e,r,o){var i=e.SX,s=e.SY,l=e.gl,u=[],d=t.createSelectionRect(0,0,r,o);n.LOG_GL_FIXED_ARRAY([0|r.x,0|r.y,0|o.x,0|o.y],"gui p2"),n.LOG_GL_FIXED_ARRAY([0|d.x,0|d.y,0|d.width,0|d.height],"gui rect"),a.drawRectPoly(d,i,s,u,2*e.game.zoomTX),A.default(A.GLctx.Vertices,l),a.drawColor(u,l,0,1,0,3)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(17)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){return!1},init:function(e){var t=e.game,A=(e.WH,e.WW,e.SW),n=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=A+.5*A,t.player[0].pos.y=n+.5*n,t.player[0].availableRockets=20,t.SX=A,t.SY=n,t.spaceFog=[],t.anomlies=[],a.test_createAsteroid(t.asteroids,A+.5*A,n+.8*n,0,0,30),a.test_createAsteroid(t.asteroids,A+.5*A,n+.8*n,0,0,30),a.test_createAsteroid(t.asteroids,A+.1*A,n+.15*n,2,0,40),a.test_createAsteroid(t.asteroids,A+.9*A,n+.1*n,-2,0,20),a.test_createAsteroid(t.asteroids,A+.1*A,n+.3*n,2,0,60),a.test_createAsteroid(t.asteroids,A+.9*A,n+.35*n,-2,0,10),a.test_createAsteroid(t.asteroids,A+.52*A,n+.82*n,0,0,30),a.test_createAsteroid(t.asteroids,A+.9*A,n+.48*n,-4,0,5),a.test_createAsteroid(t.asteroids,A+.9*A,n+.5*n,-8,0,5),a.test_createAsteroid(t.asteroids,A+.9*A,n+.53*n,-12,0,5),a.test_createAsteroid(t.asteroids,A+.9*A,n+.55*n,-16,0,5),a.test_createAsteroid(t.asteroids,A+.2*A,n+.48*n,4,0,5),a.test_createAsteroid(t.asteroids,A+.2*A,n+.5*n,8,0,5),a.test_createAsteroid(t.asteroids,A+.2*A,n+.53*n,12,0,5),a.test_createAsteroid(t.asteroids,A+.2*A,n+.55*n,16,0,5),a.test_createAsteroid(t.asteroids,A+0*A,n+.55*n,16,0,50),a.test_createAsteroid(t.asteroids,A+.9*A,n+.8*n,-12,0,30),a.test_createAsteroid(t.asteroids,A+.9*A,n+.9*n,-8,0,30),a.test_createAsteroid(t.asteroids,A+.1*A,n+.9*n,0,0,90);for(var o=0;o<.05*n;o++)a.test_createAsteroid(t.asteroids,A+1*A+o,n+50*o,-5,0,5);for(o=0;o<.1*n;o++)a.test_createAsteroid(t.asteroids,A+1*A+o+600,n+10*o,-4,0,5);a.test_createAsteroid(t.asteroids,A+A+A,n+.5*n,-4,0,400),t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=199,t.settings_wormhole=!1},mapSize:function(e){return{WW:5e3,WH:5e3}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(60),r(17),r(11)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a.default(1,["STATIC COLLISION TEST 1"]);t.default={splash:o,assert:function(e){for(var t=e.SW,r=e.SH,a=(e.WW,e.WH,e.game.asteroids),o=a.length,i=0;i<o;i++){var s=a[i];s.vel.y+=.1,s.pos.x<200+t&&s.pos.y+s.radius+20>2*r&&(s.remove=!0,A.test_createAsteroid(e.game.asteroids,t+.8*t,r+100,0,0,20)),n.bounce(s,2*t,2*r,t,r),Math.abs(s.angleVel)>1e-5?s.angleVel*=.8:s.angleVel=0}return!1},init:function(e){var t=e.game,a=(e.WH,e.WW,e.SW),n=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=a+.5*a,t.player[0].pos.y=n+.5*n,t.player[0].availableRockets=20;for(var o=0;o<180;o++)A.test_createAsteroid(e.game.asteroids,a+a*Math.random(),n+n*Math.random(),10*(Math.random()-.5),10*(Math.random()-.5),5+40*Math.random());A.test_createAsteroid(e.game.asteroids,a+.5*a,n+.4*n,0,0,120),t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=199,t.settings_wormhole=!1,t.anomlies=[]},mapSize:function(e){return{WW:3*e.SW,WH:3*e.SH}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(60),r(21)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a.default(1,["SPACE SNAKES"]);t.default={splash:n,assert:function(){return!1},init:function(e){var t=e.game,a=e.SW,n=e.SH;t.player[0]=r.createShip(e),t.spaceBats=[],t.anomlies=[],t.wormhole=null,t.spaceFog=[],t.spaceSquids=[],t.spaceSnake=A.default(e,1,a,n),t.player[0].pos.x=2*a,t.player[0].pos.y=n,t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=1,t.settings_wormhole=!1},mapSize:function(e){return{WW:5*e.SW,WH:5*e.SH}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(60),r(33)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a.default(1,["SPACE SNAKES"]);t.default={splash:n,assert:function(){return!1},init:function(e){var t=e.game,a=e.SW,n=e.SH;t.player[0]=r.createShip(e),t.player[0].pos.x=2*a,t.spaceSquids=A.default(e,2,a,n),t.settings_asteroid_spawns_new=!1,t.settings_minimap_asteroid_min_radius=1,t.settings_wormhole=!1},mapSize:function(e){return{WW:5*e.SW,WH:5*e.SH}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(25)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="./assets/sound/",A=new Audio(a+"Iwan Gabovitch - Dark Ambience Loop.mp3"),n=new Audio(a+"Menu_Select_00.mp3"),o=new Audio(a+"voice/en/Attention.wav"),i=new Audio(a+"voice/en/CeaseFire.wav"),s=(new Audio(a+"voice/en/EngineMalfunction.wav"),new Audio(a+"voice/en/MissileDetected.wav"),new Audio(a+"voice/en/PowerSupplyReestablished.wav")),l=new Audio(a+"voice/en/PrepareForAction.wav"),u=new Audio(a+"voice/en/ReactorMalfunction.wav"),d=(new Audio(a+"voice/en/Warning.wav"),new Audio(a+"voice/en/WeaponDamaged.wav"),new Audio(a+"voice/en/WeaponDestroyed.wav")),c=(new Audio(a+"voice/en/WeaponMalfunction.wav"),new Audio(a+"bad.wav"));A.loop=!0,A.play();for(var f=function(e,t,r,a,A){var n=t[r];n&&(a||(a=A(n)),a.volume=e,a.play())},p=[],g=0;g<10;g++)p.push({audio:new Audio,finished:-1});var h=function(e,t){for(var r=0;r<p.length;r++){var a=new Date,A=p[r];if(A.finished<a.getTime()){A.finished=a.getTime()+1e3*e.duration,A.audio.src=e.src,A.audio.volume=t,A.audio.play();break}}},v=!0;t.default=function(e){var t,a,p,g,y,m,S=e.eventMap;if(e.menuSettings.music?v||(A.volume=1,v=!0):v&&(A.volume=0,v=!1),S[r.GAME_EVENT.TIME_SCALE_CHANGED]){var E=2*S[r.GAME_EVENT.TIME_SCALE_CHANGED].intensity;A.playbackRate=E<=1?E:1}e.menuSettings.sfx&&(t=.8,a=S,p=r.GAME_EVENT.MENU_SELECT,g=n,(m=a[p])&&h(g||y(m),t),f(1,S,r.GAME_EVENT.RESUME_GAME,o),f(1,S,r.GAME_EVENT.START_GAME,l),e.currentLevel<=14||(f(1,S,r.GAME_EVENT.PLAYER_DEAD,d),f(1,S,r.GAME_EVENT.PLAYER_DAMAGE,c),f(1,S,r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_CRITICAL,u),f(1,S,r.GAME_EVENT.PLAYER_DAMAGE_LEVEL_OK,s),f(1,S,r.GAME_EVENT.NPC_FRIENDLY_FIRE,i)))}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(2),r(28),r(27)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{rockFormationsArcs:[],rockFormationSystemRadius:[],loadscreen:!1,spaceSpiders:[],sparks:[],spacePorts:[],spaceDust:[],scoreboard:[],playerGuidHash:{},rockets:[],proximityMines:[],spaceMines:[],charges:[],spaceBats:[],drones:[],bullets:[],networkMessages:[],playerPositions:[],playerGuid:-1,spaceSquids:[],parasites:[],eventMap:{},wayPoints:[],npcs:[],explosions:[],anomlies:[],wormhole:{xin:r.WORM_HOLE_IN_X,yin:r.WORM_HOLE_IN_Y,xout:r.WORM_HOLE_OUT_X,yout:r.WORM_HOLE_OUT_Y,safetyzone:200},forceField:[],forceFieldDirtyMapYX:[],starMap:[],particles:[],customParticles:[],player:null,enemies:[],asteroids:[],rockFormations:[],spaceFog:[],SX:0,SY:0,SW:e,SH:t,resW:e,resH:t,currentResW:e,currentResH:t,asteroidParts:[],spaceSnake:[],notifications:[],settings_asteroid_spawns_new:!0,settings_minimap_asteroid_min_radius:100,settings_wormhole:!0,settings_be_the_snake_mode:!1,settings_no_darkness:!1,level_completed:!1,performance:{engine:[],engineClient:[],gui:[],particles:0,asteroids:0,totalEngine:0,totalEngineClient:0,totalGui:0},testMode:!1,isPaused:!1,clock:0,fromClock:0,currentLevel:0,levelEditor:!1,menuSettings:{networkLocaations:!1,heap:!1,commanderHelp:!0,mouseControl:!1,objectData:!0,motionBlur:!1,onScreenLogging:!1,gameClock:!0,extensiveUI:!1,raycasting:!0,glow:!0,antialiasing:!1,fps:!1,fpsOnly:!1,fps3dBars:!1,fps3dGrid:!1,minimap:!0,instruments:!0,showCloseItems:!0,showSightLines:!1,music:!0,sfx:!1,shipStatus:!0,keybindingHint:!0,noise:!0,spacedust:!0,woodenPC:!1,transformFeedback:!0,particles:!0},state:a.defaultGameState(),allKeyCodes:A.default(a.defaultGameState()),removedAsteroids:[],removedShips:[],zoomTX:1,zoomTXinverted:1}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(0),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(46),r(264),r(265),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGL=function(e,t){void 0===t&&(t=!1);var g=e.getContext("webgl2",{antialias:t});window.webglUtils;g||(console.error("unable to get GL CTX, trying one more time"),(g=e.getContext("webgl2",{antialias:t}))||setTimeout(function(){window.location=window.location},2e3)),r.compileProgram(r.GLctx.Vertices3d,g,a.default,e.width,e.height,!0),r.compileProgram(r.GLctx.VerticesMultiColor,g,d.default,e.width,e.height),r.compileProgram(r.GLctx.VerticesFastAlpha,g,c.default,e.width,e.height),r.compileProgram(r.GLctx.Vertices,g,A.default),r.compileProgram(r.GLctx.VerticesOverlay,g,A.default),r.compileProgram(r.GLctx.TextureDist,g,n.default),r.compileProgram(r.GLctx.Texture,g,o.default),r.compileProgram(r.GLctx.GameBufferDist,g,i.default),r.compileProgram(r.GLctx.GameBufferNoise,g,s.default),r.compileProgram(r.GLctx.VerticesGradient,g,l.default,e.width,e.height);var h=r.default(r.GLctx.VerticesOverlay,g);g.useProgram(h),p(g,h,e);var v=r.default(r.GLctx.Vertices,g);return g.useProgram(v),p(g,v,e),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE),u.setGlobalGL(g),f.setupBuffers(g),g};var p=function(e,t,r){var a=e.getAttribLocation(t,"a_position"),A=e.getUniformLocation(t,"u_resolution");e.getUniformLocation(t,"u_color");e.uniform2f(A,r.width,r.height);var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    uniform vec4 u_color;\n\n    \n\n    varying vec4 pos;\n\n    void main() {\n\n        float z = 1.0 - pos.z*-0.5;\n\n        float y = pos.y *4.0;\n        \n        vec4 color = vec4((u_color.r ) - z*0.1   ,  u_color.g  -z ,u_color.b  -z, 1);\n\n        gl_FragColor = color * 0.5;\n    }\n    ",vertex:"\n \n attribute vec4 a_position;\n attribute vec4 aVertexColor;\n uniform mat4 uModelViewMatrix;\n uniform mat4 uProjectionMatrix;\n varying lowp vec4 vColor;\n uniform vec2 u_resolution;\n\n varying vec4 pos;\n\n void main(void) {\n  // gl_Position = uProjectionMatrix * uModelViewMatrix * a_position;\n  // vColor = aVertexColor;\n\n   vec2 normSpace = vec2(a_position.x, a_position.y);\n\n   // convert the rectangle from pixels to 0.0 to 1.0\n   vec2 zeroToOne = normSpace / u_resolution;\n\n   // convert from 0->1 to 0->2\n   vec2 zeroToTwo = zeroToOne * 2.0;\n\n   // convert from 0->2 to -1->+1 (clipspace)\n   vec2 clipSpace = zeroToTwo - 1.0;\n\n   vec2 res = clipSpace * vec2(1, -1);\n\n   gl_Position =uProjectionMatrix  * vec4(res, a_position.z, 1);\n   pos = gl_Position;\n }\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    uniform vec4 u_color;\n\n    void main() {\n        \n        gl_FragColor = u_color;\n        // gl_FragColor = vec4(1,1,1,1);  // ALL WHITE\n        // gl_FragColor = vec4(0.5,0.5,0.5,1);  // ALL GREY\n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nuniform float u_pointSize;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = u_pointSize; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp; \n                vec4 temp2;\n                \n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453) * (distortionStart+distortionEnd);\n                }\n                \n                void main() {\n                    temp = texture(u_texture, v_texcoord).rgba;\n        \n                    \n                    temp2 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.1 * distortionEnd , v_texcoord.y)).rgba;\n        \n                    if( v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd){\n                        //inside distortionspace\n        \n                        if(distortionStart > 0.9 && distortionEnd > 0.9){\n                            outColor =  texture(u_texture, vec2(rand(v_texcoord),rand(v_texcoord))).rgba;\n                        }else if(int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01){\n                            outColor = vec4(1,distortionStart,distortionEnd,1);\n                        }else{\n                            outColor = vec4(0,0,0,0);\n                        }\n                    }else{\n                        if(distortionStart > 0.5){\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }else  if(int(v_texcoord.y * 100.0) % 1 == 0){\n                            outColor = vec4(0,0,0,0);\n                        }else{\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }\n                    }\n        \n                    //outColor.a = 0.0;\n                        /*\n                    if(  v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd &&  int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01    ){\n                        outColor = vec4(1,0,0,1);\n                    }else{\n        \n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        \n                        if(int(v_texcoord.y * 100.0) % 1 == 0){\n                            outColor = vec4(0,0,0,1);\n                        }else{\n                            outColor =  texture(u_texture, v_texcoord).rgba;\n                        }\n                        \n                       // outColor = v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                    }*/\n                  \n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"#version 300 es\n    precision mediump float;\n\n    \n    in vec2 v_texcoord;\n\n    uniform sampler2D u_texture;\n    out vec4 outColor;\n    void main() {\n        outColor = texture(u_texture, v_texcoord);\n    }\n",vertex:"#version 300 es\n    precision mediump float;\n    \n    in vec4 a_position;\n    in vec2 a_texcoord;\n    \n    uniform mat4 u_matrix;\n    \n    out vec2 v_texcoord;\n    \n    void main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = a_texcoord;\n    }\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp; \n                vec4 temp2;\n\n                vec4 boost1;\n                vec4 boost2;\n                vec4 boostVec4;\n                float threshold;\n                \n                float randNoise(vec2 co){\n                    return fract(sin(dot(co.xy *distortionStart  ,vec2(12.9898,78.233))) * 43758.5453) * 0.3 ;\n                }\n\n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453) * (distortionStart+distortionEnd);\n                }\n                \n                void main() {\n                    temp = texture(u_texture, v_texcoord).rgba;\n        \n                    \n                    temp2 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.1 * distortionEnd , v_texcoord.y)).rgba;\n                    /*if(  v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd &&  int(v_texcoord.y * 100.0) % 2 == 0 && temp2.r > 0.01    ){\n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x  , v_texcoord.y+    rand(v_texcoord))  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                    }else{\n        */\n                    if(temp.r > 0.1 || temp.g > 0.1 || temp.b > 0.1 ){\n                        outColor =  temp.rgba;\n                    }else if(temp2.r > 0.1 || temp2.g > 0.1 || temp2.b > 0.1 ){\n                        if(distortionStart > 0.5){\n                            outColor =  temp2.brga;\n                        }else{\n                        outColor =  temp2.rgba ; \n                        }\n                    }else{\n                        \n                        outColor =  texture(u_texture, v_texcoord).rgba;\n                        \n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x+    rand(v_texcoord)  , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       /*   \n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.01 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.02 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.03 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       outColor += v_texcoord.y > distortionStart && v_texcoord.y < distortionEnd ? texture(u_texture , vec2( v_texcoord.x +    rand(v_texcoord) +0.05 , v_texcoord.y)  ).rgba : texture(u_texture, v_texcoord).rgba ;\n                       */\n                    }\n                    //noise\n                      outColor += vec4(randNoise(v_texcoord),randNoise(v_texcoord),randNoise(v_texcoord),randNoise(v_texcoord));\n\n\n                      //colorboost\n                      threshold = 0.5;\n                    boostVec4 = vec4(0.2,0.2,0.2,1.0);\n                      boost1 = texture(u_texture, vec2(v_texcoord.x + randNoise(v_texcoord) * 0.001 *distortionStart   , v_texcoord.y)).rgba;\n                      boost2 = texture(u_texture, vec2(v_texcoord.x - randNoise(v_texcoord) * 0.001 *distortionEnd , v_texcoord.y)).rgba;\n                      if (boost1.r > threshold || boost1.g > threshold || boost1.b > threshold) { \t\n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }                   \n                    }\n                    if (boost2.r > threshold || boost2.g > threshold || boost2.b > threshold) { \t                   \n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }\n                    }\n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:'#version 300 es\n        \n                // fragment shaders don\'t have a default precision so we need\n                // to pick one. mediump is a good default. It means "medium precision"\n                precision mediump float;\n                \n                // our texture\n                uniform sampler2D u_texture;\n        \n                uniform float distortionStart;\n                uniform float distortionEnd;\n                \n                // the texCoords passed in from the vertex shader.\n                in vec2 v_texcoord;\n                \n                // we need to declare an output for the fragment shader\n                out vec4 outColor;\n                \n                vec4 temp1; \n                vec4 temp2;\n\n                vec4 boost1;\n                vec4 boost2;\n                vec4 boostVec4;\n\n                float threshold;\n                \n                float rand(vec2 co){\n                    return fract(sin(dot(co.xy *distortionStart  ,vec2(12.9898,78.233))) * 43758.5453) * 0.3 ;\n                }\n                \n                void main() {   \n                    threshold = 0.5;\n                    boostVec4 = vec4(0.2,0.2,0.2,1.0);\n\n                    temp1 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.01 *distortionStart   , v_texcoord.y)).rgba;\n                    temp2 = texture(u_texture, vec2(v_texcoord.x - rand(v_texcoord) * 0.01 *distortionEnd , v_texcoord.y)).rgba;\n                    outColor =  texture(u_texture, v_texcoord).rgba;\n                    \n                    boost1 = texture(u_texture, vec2(v_texcoord.x + rand(v_texcoord) * 0.001 *distortionStart   , v_texcoord.y)).rgba;\n                    boost2 = texture(u_texture, vec2(v_texcoord.x - rand(v_texcoord) * 0.001 *distortionEnd , v_texcoord.y)).rgba;\n\n                    \n\n                    if(temp1.r > threshold || temp1.g > threshold || temp1.b > threshold){\n                        outColor += temp1;\n                    }\n                    if(temp2.r > threshold || temp2.g > threshold || temp2.b > threshold){\n                        outColor += temp2;\n                    }                    \n\n\n                    if (boost1.r > threshold || boost1.g > threshold || boost1.b > threshold) { \t\n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }                   \n                    }\n                    if (boost2.r > threshold || boost2.g > threshold || boost2.b > threshold) { \t                   \n                        if (outColor.r > threshold || outColor.g > threshold || outColor.b > threshold) {\n                            outColor += boostVec4;\n                        }\n                    }\n\n                    outColor += vec4(rand(v_texcoord) * v_texcoord.y,rand(v_texcoord),rand(v_texcoord),rand(v_texcoord));\n\n                    \n                    if(int(v_texcoord.y * 100.0) % 2 == 0 ){                       \n                        outColor.b -= 0.1;\n                        if(v_texcoord.y < distortionEnd && v_texcoord.y > distortionStart && rand(v_texcoord) >  0.29){\n                            outColor.r += 0.3;\n                        }\n                    }\n                }\n                ',vertex:"#version 300 es\nprecision mediump float;\n\nin vec4 a_position;\nin vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nout vec2 v_texcoord;\n\nvoid main() {\ngl_Position = u_matrix * a_position;\nv_texcoord = a_texcoord;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n    \n    uniform vec4 u_color;    \n    varying vec2 vPos;\n    varying vec2 vPos2;\n\n    uniform float u_pos_x;\n    uniform float u_pos_y;   \n\n    uniform float u_perimiter;\n\n    float dist(vec2 p0, vec2 pf){\n        return sqrt((pf.x-p0.x)*(pf.x-p0.x)+(pf.y-p0.y)*(pf.y-p0.y));\n    }\n    float d;\n\n    void main() {       \n       d = (dist(vec2(u_pos_x,u_pos_y), vPos2 )) / u_perimiter * 2. ;\n        \n        gl_FragColor += mix(u_color, vec4(0.0, 0.0, 0.0, 1.0), d);\n       //gl_FragColor = u_color;     \n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 vPos;\nvarying vec2 vPos2;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    //gl_Position = vec4(a_position, 0, 1);\n    vPos = gl_Position.xy;\n    vPos2 = a_position;\n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;\n\n    varying vec4 v_vertex_color;\n\n    void main() {\n        gl_FragColor = v_vertex_color;\n    }\n    ",vertex:"\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nattribute vec4 a_color;\n\nvarying vec4 v_vertex_color;\n\nvoid main() {\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = a_position / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = 1.0; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    v_vertex_color = a_color;\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a;void 0===(a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fragment:"\n    precision mediump float;    \n\n    uniform vec4 u_color;\n\n    varying float v_fast_color_alpha;\n\n    void main() {\n        gl_FragColor = vec4(u_color.r,u_color.g,u_color.b, v_fast_color_alpha);     \n    }\n    ",vertex:"\nattribute vec3 a_position;\n\nuniform vec2 u_resolution;\n\nvarying float v_fast_color_alpha;\n\nvoid main() {\n\n    vec2 pos2d = vec2(a_position.x, a_position.y);\n    v_fast_color_alpha = a_position.z;\n\n    // convert the rectangle from pixels to 0.0 to 1.0\n    vec2 zeroToOne = pos2d / u_resolution;\n\n    // convert from 0->1 to 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    gl_PointSize = 1.0; // enable gl.POINTS\n\n    // convert from 0->2 to -1->+1 (clipspace)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n}\n"}}.apply(t,[r,t]))||(e.exports=a)},function(e,t,r){var a,A;a=[r,t,r(27)],void 0===(A=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultGuiCTX=function(e,t,a,A,n,o,i,s){var l=r.default(e.state);return{IS_MULTIPLAYER:s,step:0,stepMS:0,stepREQframe:0,ctx:n,frame:i,imageData:o,game:e,SW:e.SW,SH:e.SH,WW:t,WH:a,SX:0,SY:0,gl:A,keyCodes:l.game.keys}},t.createDefaultEngineCTX=function(e,t,a,A,n){var o=r.default(e.state);return{IS_MULTIPLAYER:A,IS_SERVER:n,SW:e.SW,SH:e.SH,WW:t,WH:a,SX:0,SY:0,game:e,step:0,stepMS:0,stepREQframe:0,keyCodes:o.game.keys}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(4),r(0),r(8),r(47),r(2),r(34),r(133),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g,h,v,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=null,S=null,E=null,x=null,T=null,_=null,I=["DON'T FOLLOW US","DEATH IS NEAR","IT'S NOT WHAT YOU THINK IT IS","THIS IS NOT A DISTRESS CALL, IT'S A WARNING","THERE BE SPACE SNAKES","LET'S GET THE FUCK OUT OF HERE","SPACE WAS NEVER MEAN'T FOR US","LEAVE THIS PLACE","REST IN PIECES","STAY IN THE LIGHT"],M=[y.default,v.default,g.default,p.default,f.default,c.default,s.default,l.default,u.default,d.default,h.default],L=!1,w=!1,P=null,R=!0;t.default=function(e,t,s,l){if(void 0===l&&(l=!1),!R){if(w||(e.step=t.step=1,e.stepMS=t.stepMS=1e3/60,e.SW=t.SW=window.innerWidth,e.SH=t.SH=window.innerHeight,w=!0),!P)return void(P=M[Math.round(Math.random()*M.length)]);if(!L)return P.init(t),L=!0,void(e.game.player[0]&&(e.SX=t.SX=e.game.player[0].pos.x-500,e.SY=t.SY=e.game.player[0].pos.y-300));P.camera&&P.camera(e),i.default(e),P.assert(t),P.gui(e)}l||(R=!1);var u=e.SW,d=e.SH,c=e.gl,f=[],p=[];m||(m=A.default.create("DORITO",o.TEXT_SIZE_MEDIUM,"w",!1,!0),S=A.default.create("Klimtachakka @ gmail.com",26,"w",!1,!0),E=A.default.create("DORITO ENGINE |>",20,"w",!1,!0),T=A.default.create("VERSION "+o.VERSION_STR,16,"w",!1,!0),x=A.default.create("GENERATING TEXTURES",12,"w",!1,!0),_=A.default.create(I[Math.floor(Math.random()*I.length)],32,"r",!1,!0));var g=.92*m.w,h=.5*u-.5*g,v=.1*d;r.line2Poly(h,v-5,h,v+5,f,2),r.line2Poly(h+g,v-5,h+g,v+5,f,2),r.line2Poly(h,v-5,h+g,v-5,f,2),r.line2Poly(h,v+5,h+g,v+5,f,2),r.line2Poly(h+2,v,h+g*s-2,v,f,3),r.addToColorMap(p,f,1,1,1,1);var y=n.hexBox(90,{x:.5*u,y:v-.3*d},0,0);f.push.apply(f,y[0]),r.addToColorMap(p,f,.4*s,.4*s,.4*s,1),f.push.apply(f,y[1]),r.addToColorMap(p,f,.7*s,.7*s,.7*s,1),f.push.apply(f,y[2]),r.addToColorMap(p,f,.55*s,.55*s,.55*s,1),r.drawColorMap(p,f,a.default(a.GLctx.Vertices,c),c);var b=s>.95?a.default(a.GLctx.TextureDist,c):a.default(a.GLctx.Texture,c);A.default.addGL(c,b,x,.5*u-.5*x.w,.11*d,e),A.default.addGL(c,b,S,.05*u,.95*d,e),A.default.addGL(c,b,E,.95*u-E.w,.95*d,e),A.default.addGL(c,b,T,.5*u-.5*T.w,.95*d,e),f=[],p=[],c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA),r.fillPoly(u,0,0,u,d,f),r.addToColorMap(p,f,0,0,0,0+s<.1?1-10*s:s>.75?4*(s-.75):0),r.drawColorMap(p,f,a.default(a.GLctx.Vertices,c),c),c.blendFunc(c.ONE,c.ONE),b=s>.9?a.default(a.GLctx.TextureDist,c):a.default(a.GLctx.Texture,c);var O=s>.94;A.default.addGL(c,b,s>.94?_:m,.5*u-.5*(O?_.w:m.w),d*(O?.45:.06),e)}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(2),r(0),r(21),r(3),r(23),r(29),r(16)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.66*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSnake[0]&&s.distanceBetween(t.player[0],t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,A=e.SW,n=e.SH,o=r.createShip(e);o.life=2e3,t.player.push(o),o.availableElectroBastardRays=3e6,o.angle+=.9*Math.PI,o.shields=0,a.default(t.player,A+250,n,.3*A,.3*n),t.spaceSnake=i.default(e,1,o.pos.x+.4*A,o.pos.y+200,Math.round(14+6*Math.random())),t.spaceSnake[0].restPos=o.pos.clone();for(var c=0;c<220;c++)l.default(e),u.default(e),o.keyCodes.DOWN=10===c,t.player[0]&&t.spaceSnake[0]&&s.distanceBetween(t.player[0],t.spaceSnake[0].segments[t.spaceSnake[0].segments.length-1])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0);o.keyCodes.UP=!0,d.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*n.TEXT_SIZE_MEDIUM),i=A.default.create("USE ",a,"w"),s=A.default.create("ELECTROBASTARD RAY ",a,"r"),l=A.default.create("TO STUN",a,"w"),u=A.default.create("BIOLOGIAL ENEMIES [SPACE SNAKES]",a,"w"),d=o.default(o.GLctx.Texture,t);A.default.addListGL(t,d,[i,s,l],100,r-400,e),A.default.addGL(t,d,u,100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(33),r(2),r(0),r(21),r(44),r(9),r(10),r(23),r(29),r(16),r(32)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f,p,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.5*t,e.SY=e.game.player[0].pos.y-.7*r},splash:null,assert:function(e){var t,r=e.game;if(r.clock>100&&(e.step=0),r.enemies.length<8){var A=d.default(e);if(A){var n=u.createEnemies(e,1);a.default(n,A.pos.x-900,A.pos.y-900,1800,1800),(t=r.enemies).push.apply(t,n)}}return!1},init:function(e){var t=e.game,A=(e.SW,e.SH,e.WW),o=e.WH,i=r.createShip(e);i.life=2e3,t.player.push(i),i.availableElectroBastardRays=3e6,i.angle+=.9*Math.PI,i.shields=0,i.pos.x=.7*A,i.pos.y=.7*o,i.homingBullets=200;var d=l.default(e,380,i.pos.clone(),"GENESIS",{boost:0,life:0,missiles:0,rockets:0,electrobastardray:0,homingBullets:0,proximityMines:0});d.cannons.forEach(function(e){return e.life=150+150*Math.random()}),d.centerNoneCannon.life=320,t.spacePorts.push(d),t.enemies=u.createEnemies(e,8),t.spaceSnake=s.default(e,1,i.pos.x+700,i.pos.y+200),t.spaceSpiders=g.default(e,1),a.default(t.spaceSpiders,i.pos.x-900,i.pos.y-900,1800,1800),t.spaceSquids=n.default(e,2),t.spaceSquids[0].pos.x=i.pos.x-800,t.spaceSquids[1].pos.x=i.pos.x+800,t.spaceSquids[0].pos.y=i.pos.y-600,t.spaceSquids[1].pos.y=i.pos.y+600,a.default(t.enemies,i.pos.x-900,i.pos.y-900,1800,1800);for(var h=0;h<120;h++)c.default(e),f.default(e),i.keyCodes.DOWN=10===h||90===h,h>80&&(Math.random()>.8?i.keyCodes.FIRE=!0:i.keyCodes.FIRE=!1);i.keyCodes.STRAFELEFT=!0,p.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*o.TEXT_SIZE_MEDIUM),n=A.default.create("SPACEPORTS ",a,"g"),s=A.default.create("CAN BE A SAFE HAVEN",a,"w"),l=A.default.create("BUT DONT STAY TOO LONG",a,"w"),u=i.default(i.GLctx.Texture,t);A.default.addListGL(t,u,[n,s],100,r-400,e),A.default.addGL(t,u,l,100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(2),r(0),r(10),r(61),r(16),r(17),r(23),r(29)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=l.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,A=e.SW,n=e.SH,o=e.WW,f=e.WH,p=r.createShip(e);p.life=2e3,t.player.push(p),p.availableElectroBastardRays=3e6,p.angle+=.9*Math.PI,p.shields=0,p.pos.x=.7*o,p.pos.y=.7*f,t.asteroids=u.default(e,12,10,20),a.default(t.asteroids,p.pos.x-1e3,p.pos.y-1e3,2e3,2e3),t.spaceBats=s.default(e,400),a.default(t.spaceBats,p.pos.x-500,p.pos.y-500,500,500),l.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*A,l.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*n;for(var g=0;g<220;g++){d.default(e),c.default(e);var h=i.default(e);h.keyCodes.MISSILE=150===g,h&&(t.clock>5e3?h.keyCodes.UP=Math.random()>.4:t.clock>3e3?h.keyCodes.UP=Math.random()>.85:h.keyCodes.UP=Math.random()>.8)}p.keyCodes.UP=!0,l.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*n.TEXT_SIZE_MEDIUM),i=A.default.create("IF YOU GET CAUGHT BY ",a,"w"),s=A.default.create("SPACEBATS",a,"r"),l=A.default.create("GET THE FUCK OUT OF THERE",a,"w"),u=o.default(o.GLctx.Texture,t);A.default.addListGL(t,u,[i,s],100,r-400,e),A.default.addGL(t,u,l,100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(8),r(2),r(0),r(16),r(23),r(29),r(34)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=o.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.SW,A=e.SH,n=(e.WW,e.WH,r.createShip(e));n.angle=1.1*Math.PI,n.life=2e3,n.shields=0,t.player.push(n);var u=t.spaceFog.filter(function(e){return!e.fire})[0];n.pos.x=u.x+500,n.pos.y=u.y,o.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*a,o.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*A,o.default().gui.step=1;for(var d=0;d<35;d++)d>30&&(i.default(e),s.default(e)),l.default(o.default().gui);n.keyCodes.UP=!0,o.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),o=(e.game,1.3*A.TEXT_SIZE_MEDIUM),i=a.default.create("THE DARK ",o,"w"),s=a.default.create("SPACEFOG",o,"r"),l=a.default.create("IS NOT DANGEREOUS, BUT ENEMIES MIGHT HIDE",o,"w"),u=n.default(n.GLctx.Texture,t);a.default.addListGL(t,u,[i,s],100,r-400,e),a.default.addGL(t,u,l,100,r-400+o,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(8),r(2),r(0),r(16),r(23),r(29),r(34)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=o.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.SW,A=e.SH,n=(e.WW,e.WH,r.createShip(e));n.angle=.1*Math.PI,n.life=2e3,n.shields=0,t.player.push(n);var u=t.spaceFog.filter(function(e){return e.fire})[0];n.pos.x=u.x-400,n.pos.y=u.y-200,o.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*a,o.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*A,o.default().gui.step=1;for(var d=0;d<35;d++)d>30&&(i.default(e),s.default(e)),l.default(o.default().gui);n.keyCodes.UP=!0,o.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),o=(e.game,1.3*A.TEXT_SIZE_MEDIUM),i=a.default.create("THE ",o,"w"),s=a.default.create("SPACE FIRE",o,"b"),l=a.default.create("WILL DAMAGE YOUR SHIP",o,"w"),u=n.default(n.GLctx.Texture,t);a.default.addListGL(t,u,[i,s],100,r-400,e),a.default.addGL(t,u,l,100,r-400+o,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(2),r(0),r(16),r(17),r(23),r(29),r(34),r(50),r(51)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH,a=i.default().engine;a.SX=e.SX=e.game.player[0].pos.x-.5*t,a.SY=e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,A=e.SW,n=e.SH,o=(e.WW,e.WH,r.createShip(e));o.angle=1.1*Math.PI,o.life=2e3,o.shields=0,t.player.push(o),o.pos.x=6e3,o.pos.y=6e3,f.createProximityMine(o,e),t.asteroids=s.default(e,30,100,150),a.default(t.asteroids,o.pos.x-1e3,o.pos.y-1e3,2e3,2e3),t.asteroids.forEach(function(t){return Math.random()>.5&&c.removeAsteroid(t,e,o)}),i.default().gui.SX=e.SX=e.game.player[0].pos.x-.5*A,i.default().gui.SY=e.SY=e.game.player[0].pos.y-.5*n,i.default().gui.step=1;for(var p=0;p<165;p++)p%2==0?(o.electroBastardRay=!0,o.keyCodes.DOWN=!0):o.keyCodes.DOWN=!1,l.default(e),u.default(e);d.default(i.default().gui),o.keyCodes.UP=!0,i.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*n.TEXT_SIZE_MEDIUM),i=A.default.create("BLOW UP ASTEROIDS TO GET ",a,"w"),s=A.default.create("POWERUPS",a,"g"),l=A.default.create("BUT BEWARE OF THE ",a,"w"),u=A.default.create("SPACE PARASITES ",a,"r"),d=o.default(o.GLctx.Texture,t);A.default.addListGL(t,d,[i,s],100,r-400,e),A.default.addListGL(t,d,[l,u],100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(8),r(2),r(0),r(16),r(62),r(4),r(98)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=null;t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){(u=r.createShip(e)).angle=-.17*Math.PI,u.pos.x=.7*e.SW+1e3,u.pos.y=.5*e.SH+1e3,u.keyCodes.BOOST=!0;var t=o.default().gui;e.step=t.step=0,e.SX=t.SX=1e3,e.SY=t.SY=1e3},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,o=[],d=[];u.keyCodes.BOOST=!0,u.keyCodes.UP=!0;l.drawPlayerShipThrust(u,e,14),i.default(e.game.zoomTXinverted,u,e.SX,e.SY,o,d,null,14),s.drawColorMap(d,o,n.default(n.GLctx.Vertices,t),t);var c=1.3*A.TEXT_SIZE_MEDIUM,f=a.default.create("TAKE CARE OF YOUR ",c,"w"),p=a.default.create("SHIP",c,"g"),g=a.default.create("AND IT WILL TAKE CARE OF YOU",c,"w"),h=n.default(n.GLctx.Texture,t);a.default.addListGL(t,h,[f,p],100,r-400,e),a.default.addGL(t,h,g,100,r-400+c,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(8),r(2),r(0),r(16),r(34),r(121),r(82),r(56),r(43)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=null,c=function(e){for(var t=e.SX+.4*e.SW,r=e.SY+.3*e.SH,a=0;a<26;a+=2)l.default(e,8*a,700-a,t+a*a*.8+20,r+.5*a+50,1,.1,.1,1-.01*a,16+4*a,0,300)};t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){var t=e.SW,r=e.SH,a=n.default().gui;e.SX=a.SX=1e3,e.SY=a.SY=1e3,e.game.spaceFog=[],d=i.createRagdoll(e.SX+.4*t,e.SY+.5*r,6);var A=e.SX+.4*t,s=e.SY+.3*r;o.default(a);for(var l=0;l<50;l++){var u=d.links.filter(function(e){return 0===e.type})[0];u.p0.x=A,u.p0.y=s,u.p1.x=A+10,u.p1.y=s+100,d.anim(1)}c(a),e.step=a.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,n=e.SH;c(e);var o=d.links.filter(function(e){return 0===e.type})[0];u.Glow(o.p0,.3,[],e,.1,0,0,1),s.drawRagdoll(e,d,36,1,.15,.15,.15);var i=1.3*a.TEXT_SIZE_MEDIUM,l=r.default.create("SPACE CAN BE A CRUEL ",i,"w"),f=r.default.create("MISTRESS",i,"r"),p=r.default.create("LIVE TO FIGHT ANOTHER DAY",i,"w"),g=A.default(A.GLctx.Texture,t);r.default.addListGL(t,g,[l,f],100,n-400,e),r.default.addGL(t,g,p,100,n-400+i,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(24),r(8),r(2),r(0),r(3),r(23),r(29),r(16),r(32)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(e){var t=e.SW,r=e.SH;e.SX=e.game.player[0].pos.x-.66*t,e.SY=e.game.player[0].pos.y-.5*r},splash:null,assert:function(e){var t=e.game;return t.player[0]&&t.spaceSpiders[0]&&i.distanceBetween(t.player[0],t.spaceSpiders[0])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0),!1},init:function(e){var t=e.game,A=e.SW,n=e.SH,o=r.createShip(e);o.life=2e3,t.player.push(o),o.availableElectroBastardRays=3e6,o.angle+=.9*Math.PI,o.shields=0,a.default(t.player,A+250,n,.3*A,.3*n),t.spaceSpiders=d.default(e,1,o.pos.x+.4*A,o.pos.y+200),t.spaceSpiders[0].restPos=o.pos.clone();for(var c=0;c<220;c++)o.closestItem=t.spaceSpiders[0],s.default(e),l.default(e),t.player[0]&&t.spaceSpiders[0]&&(t.spaceSpiders[0].life=50,i.distanceBetween(t.player[0],t.spaceSpiders[0])<400&&(t.player[0].keyCodes.ELECTROBASTARDRAY=!0));o.keyCodes.UP=!0,u.default().gui.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=(e.SW,e.SH),a=(e.game,1.3*n.TEXT_SIZE_MEDIUM),i=A.default.create("USE ",a,"w"),s=A.default.create("ELECTROBASTARD RAY ",a,"r"),l=A.default.create("TO STUN",a,"w"),u=A.default.create("BIOLOGIAL ENEMIES [SPACE SPIDERS]",a,"w"),d=o.default(o.GLctx.Texture,t);A.default.addListGL(t,d,[i,s,l],100,r-400,e),A.default.addGL(t,d,u,100,r-400+a,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(8),r(2),r(0),r(16),r(17),r(24),r(34),r(23),r(44),r(1),r(32)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={camera:function(){},splash:null,assert:function(){return!1},init:function(e){e.SX,e.SY;var t=e.SW,a=e.SH,A=r.createShip(e);e.game.player[0]=A,A.angle=-.17*Math.PI,A.shields=0,e.game.wormhole=null,e.game.spaceFog=[],e.game.anomlies=[],A.pos.x=.55*e.SW+1e3,A.pos.y=.45*e.SH+1e3,A.ultrabright=5e5,A.keyCodes.UP=!0,A.life=1,e.game.asteroids=i.default(e,40,8,20),s.default(e.game.asteroids,1e3,1e3,t,a),e.game.spaceSpiders=f.default(e,1,A.pos.x+200,A.pos.y+500);var n=d.default(e,400,new c.Vector(A.pos.x+.8*t,A.pos.y+200),"AURIGA",{boost:5,life:100,missiles:1,rockets:1,electrobastardray:100,homingBullets:68,proximityMines:2});e.game.spacePorts=[n];var p=o.default().gui;A.SX=e.SX=p.SX=1e3,A.SY=e.SY=p.SY=1e3;for(var g=0;g<10;g++)A.life=13,u.default(e),A.life=7,A.remove=!1;e.game.explosions=[],l.default(p),e.step=p.step=0},mapSize:function(){return{WW:2e4,WH:2e4}},gui:function(e){var t=e.gl,r=e.SH,o=1.3*A.TEXT_SIZE_MEDIUM,i=a.default.create("IF YOUR SHIP POWER IS ",o,"w"),s=a.default.create("LOW",o,"r"),l=a.default.create("FIND A SPACEPORT TO REPAIR YOUR SHIP",o,"w"),u=n.default(n.GLctx.Texture,t);a.default.addListGL(t,u,[i,s],100,r-400,e),a.default.addGL(t,u,l,100,r-400+o,e)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(1),r(21),r(134)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=e.game,r=t.spaceSnake[0],a=t.player[0];return a.stunned=!1,a.damageTaken=!1,a.life=100,a.keyCodes.FIRE&&(r.spasm?r.spasm=null:r.segments[0].stunned=!0),r.spasm||(r.restPos=a.pos.clone()),n.menuGamePlayerAI(e),a.keyCodes.FIRE=!1,!1},init:function(e){var t=e.game;e.WH,e.WW;t.player[0]=r.createShip(e),t.player[0].rotatedLayout=[new a.Vector(0,0),new a.Vector(0,0),new a.Vector(0,0)],t.spaceBats=[],t.anomlies=[],t.wormhole=null,t.spaceFog=[],t.spaceSquids=[],t.player[0].angle=Math.PI*(Math.random()>.5?-.66:-.34),t.player[0].availableElectroBastardRays=6e5,t.spaceSnake=A.default(e,1,void 0,void 0,20)},mapSize:function(e){return{WW:5e3,WH:5e3}},camera:function(e){}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(61),r(17),r(12)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=e.game.spaceBats[0],r=e.game.spaceBats[1];return n.LOG_GL_FIXED(!!t.target+"","attack"),n.LOG_GL_FIXED(t.attackTimer,"timer"),n.LOG_GL_FIXED(r.attackTimer,"__timer"),!1},init:function(e){var t=e.game;t.player[0]=r.createShip(e),t.spaceBats=a.default(e,150),t.asteroids=A.default(e,12),t.npcs=r.createNPCs(e,8,{},-1),t.wormhole=null,t.spaceFog=[],t.anomlies=[]},mapSize:function(){return{WW:5e3,WH:5e3}},camera:function(){}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(12),r(32),r(24),r(10)],void 0===(A=function(e,t,r,a,A,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){var t=o.default(e);return t&&a.LOG_GL_FIXED(t.life,"life"),!1},init:function(e){var t=e.game,a=r.createShip(e);t.player[0]=a,a.shields=0,a.ultrabright=5e6,a.availableElectroBastardRays=1e5,t.spaceSpiders=A.default(e,1),n.default(t.spaceSpiders,a.pos.x+400,a.pos.y,3,3),t.wormhole=null,t.spaceFog=[],t.anomlies=[],t.asteroids=[],t.parasites=[]},mapSize:function(){return{WW:5e3,WH:5e3}},camera:function(){}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(17),r(59),r(12)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){return!1},init:function(e){var t=e.game,o=e.WW,i=e.WH,s=(e.SW,e.SH,r.createShip(e));s.pos.x=.6*o,s.pos.y=.6*i,t.player[0]=s,t.drones=r.createDrones(e,t.player[0].pos,2,t.player[0].guid),t.npcs=r.createNPCs(e,30,{},-1),t.player[0].availableRockets=10,t.player[0].availableElectroBastardRays=600,t.asteroids=a.default(e,300);var l=A.default(.6*o,.5*i,250);t.rockFormations=l.rockFormations,t.rockFormationSystemRadius=[l.rfSystem];var u=0;t.rockFormationsArcs.map(function(e){return u+=e.arc.length}),n.LOG_GL("RF LEN: "+t.rockFormations.length),n.LOG_GL("Arc LEN: "+u),n.LOG_GL("RF POS: "+(.6*o|0)+" | "+(.5*i|0)),n.LOG_GL("yolo")},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(17)],void 0===(A=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splash:null,assert:function(e){return!1},init:function(e){var t=e.game,A=e.WW,n=e.WH,o=(e.SW,e.SH,r.createShip(e));o.pos.x=.6*A,o.pos.y=.6*n,t.player[0]=o,t.player[0].availableRockets=10,t.player[0].availableElectroBastardRays=600,t.asteroids=a.default(e,800)},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(45),r(6),r(1),r(135)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=new a.QuadTree(new a.Rectangle(0,0,100,100),5,0),o=new r.QuadTreeUint8(new a.Rectangle(0,0,100,100),5,0),i=0;i<5;i++){var s={pos:new A.Vector(10+5*i,80),vel:new A.Vector(0,0),life:100,remove:!1,stunned:!1,forceX:0,forceY:0,targetFlagged:!1,radius:2,guid:1e4+i,type:0};t.insert(s),o.insert(s)}var l={pos:new A.Vector(25,25),vel:new A.Vector(0,0),life:100,remove:!1,radius:5,guid:1,type:0,forceX:0,forceY:0,targetFlagged:!1,stunned:!1},u={pos:new A.Vector(29,25),vel:new A.Vector(0,0),life:100,remove:!1,radius:5,guid:2,type:0,forceX:0,forceY:0,targetFlagged:!1,stunned:!1},d={pos:new A.Vector(25,29),vel:new A.Vector(0,0),life:100,remove:!1,radius:5,guid:3,type:0,forceX:0,forceY:0,targetFlagged:!1,stunned:!1},c={pos:new A.Vector(65,65),vel:new A.Vector(0,0),life:100,remove:!1,radius:5,guid:4,type:0,forceX:0,forceY:0,targetFlagged:!1,stunned:!1};return o.insert(l),o.insert(u),o.insert(d),o.insert(c),t.insert(l),t.insert(u),t.insert(d),t.insert(c),console.log("QT result:",o.intersectTree(o)),console.log("______________________________"),console.log(t.query(l,!0),o.query(l),"is equal:",n.arrayIsEqual(t.query(l,!0),o.query(l))),console.log(t.query(u,!0),o.query(u),"is equal:",n.arrayIsEqual(t.query(u,!0),o.query(u))),console.log(t.query(d,!0),o.query(d),"is equal:",n.arrayIsEqual(t.query(d,!0),o.query(d))),console.log(t.query(c,!0),o.query(c),"is equal:",n.arrayIsEqual(t.query(c,!0),o.query(c))),e(),"Quadtree on tree intersection"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(45),r(6),r(1)],void 0===(A=function(e,t,r,a,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=new a.QuadTree(new a.Rectangle(0,0,100,100),5,0),n=new r.QuadTreeUint8(new a.Rectangle(0,0,100,100),5,0),o=0;o<5;o++){var i={pos:new A.Vector(80,80),vel:new A.Vector(0,0),life:100,remove:!1,radius:2,guid:2e4+o,type:0,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.insert(i),n.insert(i)}for(o=0;o<3;o++){i={pos:new A.Vector(10,80),vel:new A.Vector(0,0),life:100,remove:!1,radius:2,guid:1e4+o,type:0,stunned:!1,targetFlagged:!1,forceX:0,forceY:0};t.insert(i),n.insert(i)}return console.log("QT result:",n.intersectTree(n)),console.log("______________________________"),e(),"Quadtree on tree intersection 2"}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),A=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,i=n.length;o<i;o++,A++)a[A]=n[o];return a};a=[r,t,r(9),r(17),r(12),r(136),r(7),r(10),r(3),r(5),r(4),r(0),r(8),r(2),r(2),r(5),r(1)],void 0===(A=function(e,t,r,a,A,o,i,s,l,u,d,c,f,p,g,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y,m,S,E=200,x=0,T=[],_=0,I=function(e){return e<0?0:e>1?1:e},M=[],L=[],w=function(e){var t=[],r={x:.9*Math.random(),y:.9*Math.random(),vx:.1*Math.random(),VY:.1*Math.random(),r:.01+.1*Math.random(),type:Math.random()>.5?30:15},a={x:.45+.1*Math.random(),y:.45+.1*Math.random(),a:Math.random()*Math.PI*2,fireOverheated:Math.random(),vel:Math.random()},n=l.distanceBetweenXYXY(r.x,r.y,a.x,a.y);t[0]=r.x,t[1]=r.y,t[2]=r.r,t[6]=a.x,t[7]=a.y,t[9]=a.a/(2*Math.PI),t[10]=a.fireOverheated,t[3]=30===r.type?.5:1;var o=Math.atan2(r.y-a.y,r.x-a.x),i=u.wrapRadianAngle(l.angleDifference(o,a.a+Math.PI)),s=i/(2*Math.PI);t[11]=s;var d=i>Math.PI?0:1;e&&(A.LOG_GL_FIXED(t[6].toFixed(2),"INP ship x"),A.LOG_GL_FIXED(t[7].toFixed(2),"INP ship y"),A.LOG_GL_FIXED(t[9].toFixed(2),"INP ship angle"),A.LOG_GL_FIXED(t[11].toFixed(2),"INP t angle"),A.LOG_GL_FIXED(t[0].toFixed(2),"INP ast x"),A.LOG_GL_FIXED(t[1].toFixed(2),"INP ast y"),A.LOG_GL_FIXED(t[2].toFixed(2),"INP ast r"),A.LOG_GL_FIXED(t[5].toFixed(2),"INP dist to target"),A.LOG_GL_FIXED(t[8].toFixed(2),"INP ship vel"));var c=30!==r.type?0:a.fireOverheated<.1?0:s>.4&&s<.6?1:0,f=s<.525&&s>.4775?30!==r.type?1:n-r.r>5*r.r?1:0:.25;t[4]=1;var p=!1;t[5]=n,t[8]=a.vel,Math.random()>.5&&(p=!0,t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[11]=0,t[4]=0,t[5]=1),t=t.map(function(e){return I(e)});var g=[];g[0]=p?.5:d,g[1]=p?1:a.vel>.2?0:f,g[2]=p?0:c,g=g.map(function(e){return I(e)});for(var h=S.train(t,g,e),v=0;v<h.length;v++)T[v]+=h[v]},P=function(e,t){var r=t.SX,a=t.SY,A=t.SW,n=t.SH,o=e.x,i=e.y;return{x:o=(o-r)/A,y:i=(i-a)/n}},R=function(e){for(var t=e.stepMS,r=e.SW,a=(e.SH,[]),A=0;A<7;A++)a[A]=0;var n=s.default(e),o=P(n.pos,e),d=[],c=200;if(y&&y.life>-1&&!y.remove&&_<5e3)d=[y],m=y,_+=t;else{for(;0===d.length&&c<.5*r;)d=(d=i.getQuadTreesObj().Enemies.queryCircle(n.pos,c)).filter(function(e){return e.radius>10}),c+=c;if(c=200,0===d.length)for(_=0,y=null;0===d.length&&c<r;)d=(d=i.getQuadTreesObj().Asteroids.queryCircle(n.pos,c)).filter(function(e){return e.radius>10}),c+=c}if(d.length>0){var f=0,p=d[0];for(A=0;A<d.length;A++){var g=d[A];g.radius>f&&30===g.type&&(f=g.radius,p=g)}m=p,y=p;var h=P(p.pos,e);a[0]=h.x,a[1]=h.y,a[2]=p.radius/200,a[3]=30===p.type||8===p.type?.5:1,a[5]=l.distanceBetweenXYXY(h.x,h.y,o.x,o.y);var v=Math.atan2(p.pos.y-n.pos.y,p.pos.x-n.pos.x),S=u.wrapRadianAngle(l.angleDifference(v,n.angle+Math.PI))/(2*Math.PI);a[11]=S,a[4]=1}else m=null,a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[11]=0,a[4]=0,a[5]=1;return a[8]=n.vel.getLength()/n.maxVel,a[6]=o.x,a[7]=o.y,a[9]=n.angle/(2*Math.PI),a[10]=Math.max(0,1-n.bulletsFired/n.maxBullets),a=a.map(function(e){return I(e)})},b=new v.Vector(0,0);t.default={gui:function(e){var t=e.SX,r=e.SY,a=e.SW,A=(e.SH,e.gl),n=[],o=100,i=100,l=c.default(c.GLctx.Texture,A),u=0;T.map(function(e){return u+=e});var v=Math.abs(u/E);if(x<25e4){var y=f.default.create("TRAINING",p.TEXT_SIZE_LARGE,"g"),S=f.default.createSplitted((x/25e4*100).toFixed(2)+"",p.TEXT_SIZE_HUGE,"g","%");if(f.default.addGL(A,l,y,i,o,e,!1),o+=p.TEXT_SIZE_LARGE,f.default.addListGL(A,l,S,i,o,e,!1),!isNaN(v)){var _=f.default.createSplitted("Err rate: "+h.normalize(v,"NN err rate",60,4).avg,g.TEXT_SIZE_MEDIUM-1,v>.01?"r":v>.005?"y":"g","");o+=p.TEXT_SIZE_HUGE,f.default.addListGL(A,l,_,i,o,e)}o+=g.TEXT_SIZE_MEDIUM+10}if(M.length>0){f.default.addGL(A,l,f.default.create("[48 NODES] ["+v.toFixed(4)+" Err rate]:",p.TEXT_SIZE_SMALL,"w"),i,o,e),o+=p.TEXT_SIZE_SMALL+10,f.default.addGL(A,l,f.default.create("INPUT ("+M.length+"):",p.TEXT_SIZE_SMALL,"w"),i,o,e),o+=p.TEXT_SIZE_SMALL+10;for(var I=0;I<M.length;I++){var w=h.normalize(300*M[I],"NN_inp_bar"+I,45,0);d.line2Poly(i+w.low,o,i+w.avg-3,o,n,3),d.line2Poly(i+w.avg+3,o,i+w.high,o,n,3),o+=8}for(o+=10,f.default.addGL(A,l,f.default.create("OUTPUT ("+L.length+"):",p.TEXT_SIZE_SMALL,"w"),i,o,e),o+=p.TEXT_SIZE_SMALL+10,I=0;I<L.length;I++)w=h.normalize(300*L[I],"NN_outp_bar"+I,45,0),d.line2Poly(i+w.low,o,i+w.avg-3,o,n,3),d.line2Poly(i+w.avg+3,o,i+w.high,o,n,3),o+=14}else for(I=0;I<T.length;I++)w=h.normalize(Math.abs(Math.max(2,T[I]/E*1e4)),"NN_bar"+I,45,0),d.line2Poly(i+Math.min(200,w.low),o,Math.round(i+Math.min(w.avg,350)),o,n,4),d.line2Poly(i+Math.min(355,w.high),o,i+Math.min(358,w.high+3),o,n,4),o+=10;if(o+=10,x<25e4&&(f.default.addGL(A,l,f.default.create("samples:"+25e4,p.TEXT_SIZE_SMALL,"g"),i,o,e),o+=p.TEXT_SIZE_SMALL,f.default.addGL(A,l,f.default.create("neurons:48",p.TEXT_SIZE_SMALL,"g"),i,o,e)),o+=p.TEXT_SIZE_SMALL+10,x>25e4){var P=c.default(c.GLctx.Texture,A);y=f.default.create("SKYNET ACTIVATED",g.TEXT_SIZE_MEDIUM,"r"),f.default.addGL(A,P,y,.5*a-.5*y.w,2*g.TEXT_SIZE_MEDIUM,e,!1)}var R=s.default(e);if(m&&R&&(d.line2Poly(R.pos.x-t,R.pos.y-r,m.pos.x-t,m.pos.y-r,n,1),b.set(100,0),b.setAngle(R.angle),d.line2Poly(R.pos.x-t,R.pos.y-r,R.pos.x-t+b.x,R.pos.y-r+b.y,n,1)),x>25e4&&(f.default.addGL(A,l,f.default.create("Neural network model",p.TEXT_SIZE_SMALL,"w"),i,o,e),o+=p.TEXT_SIZE_SMALL+10),c.default(c.GLctx.Vertices,A),d.drawColor(n,A,0,1,0,1),x>25e4){n=[],o+=60;var O=Math.max(12,3)*Math.max(20,40)*1.25/48*.5;for(I=0;I<48;I++){for(var C=o+I*O,G=0;G<12;G++){var N=o+20*G+24*O-120,F=i;n.push(250,C,F,N)}for(var B=0;B<3;B++)N=o+40*B+24*O-40*Math.floor(1.5),F=400,n.push(250,C,F,N)}d.drawColor(n,A,0,.1,0,1,A.LINES)}},splash:null,assert:function(e){var t=s.default(e);if(!t)return!0;if(t.availableElectroBastardRays=50,t.availableMissiles=1,t.availableRockets=1,t.life=98,t.ultrabright=98,t.boost=40,A.LOG_GL_FIXED(t.score,"FITNESS"),x>25e4){var r=R(e);M=n(r),A.LOG_GL_FIXED(r[6].toFixed(2),"INP ship x"),A.LOG_GL_FIXED(r[7].toFixed(2),"INP ship y"),A.LOG_GL_FIXED(r[9].toFixed(2),"INP ship angle"),A.LOG_GL_FIXED(r[11].toFixed(2),"INP t angle"),A.LOG_GL_FIXED(r[0].toFixed(2),"INP ast x"),A.LOG_GL_FIXED(r[1].toFixed(2),"INP ast y"),A.LOG_GL_FIXED(r[2].toFixed(2),"INP ast r"),A.LOG_GL_FIXED(r[4],"INP has target"),A.LOG_GL_FIXED(r[3],"INP closest type"),A.LOG_GL_FIXED(r[10].toFixed(2),"INP fire ovh"),A.LOG_GL_FIXED(r[5].toFixed(2),"INP dist to target"),A.LOG_GL_FIXED(r[8].toFixed(2),"INP ship vel");var a=performance.now(),o=S.feedForward(r).data[0],i=performance.now()-a;L=n(o),A.LOG_GL_FIXED(.01*Math.round(100*i),"TIME MS");var l=t.keyCodes;l.LEFT=!1,l.RIGHT=!1,l.STRAFELEFT=!1,l.STRAFERIGHT=!1,l.UP=!1,l.FIRE=!1;var u=o[0];u>.55?l.LEFT=!(u<.75)||Math.random()>.6:u<.45?l.RIGHT=!(u>.25)||Math.random()>.6:u>.505?l.STRAFELEFT=!0:u<.495&&(l.STRAFERIGHT=!0);var d=o[2];d>.55&&(l.FIRE=!0);var c=o[1];c>.3?l.UP=!0:c>.1&&(l.UP=Math.random()>.4),A.LOG_GL_FIXED(o[0].toFixed(2)+" n:"+h.normalize(o[0],"l out st n",30,4).avg,"-o steering"),A.LOG_GL_FIXED(o[1].toFixed(2)+" n:"+h.normalize(o[1],"l out fw n",30,4).avg,"-o forward"),A.LOG_GL_FIXED(o[2].toFixed(2)+" n:"+h.normalize(o[2],"l out fi n",30,4).avg,"-o fire")}else{t.shields=100,T=T.map(function(e){return 0});for(var f=0;f<E;f++)x++,w(!1)}return!1},init:function(e){var t=e.game,n=e.WW,i=e.WH;e.SW,e.SH;x=0,y=null,_=0,E=200;var s=r.createShip(e);s.pos.x=.6*n,s.pos.y=.6*i,t.player[0]=s,S=new o.NeuralNetwork(12,48,3),A.LOG_GL("NN inputs 12"),A.LOG_GL("NN Neruons 48"),A.LOG_GL("NN outputs 3"),A.LOG_GL("brainsize: (48)n "+JSON.stringify(S).length),t.asteroids=a.default(e,800,100,200)},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(17),r(12),r(136),r(10),r(287),r(288),r(289),r(64),r(3),r(290)],void 0===(A=function(e,t,r,a,A,n,o,i,s,l,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=0,p=[],g=0,h=0,v=0,y=16e3,m=[],S=[],E=0,x=0,T=[1],_=[1],I=function(){return p[f]},M=function(e){var t=e.game,r=e.WW,A=e.WH,n=o.default(e);n.score=0,n.vel.mult(0),n.bulletsFired=0,n.shields=100,n.turnAcc=0,n.unableToComply=!1,n.damageTaken=!1,n.homingBullets=0,t.parasites=[],t.bullets=[],t.explosions=[],t.spaceDust=[],t.asteroidParts=[],n.pos.x=.6*r,n.pos.y=.6*A,e.game.asteroids=a.default(e,800,100,300)};t.default={gui:function(e){var t=I(),r=0;p.map(function(e){return r+=e.trainingSamples}),r/=135e4,g>0&&(r=1),i.graphGuiNN(e,m,S,32,3,12,void 0,!1,{time:u.msToTime(y-t.time),totalTime:u.msToTime(E),fitness:t.fitness,bestFitness:h,bestGeneration:v,gen:g,item:f+1+"/6",simIndex:x+1+"/2",fitnessOvertime:T,currentGenFitness:_},{loadpercent:r})},splash:null,assert:function(e){var t=e.stepMS,r=I();if(0===g){for(var i=[],u=0;u<500;u++)c.trainerNN(r.nn,i,!1);var L=0;i.map(function(e){return L+=e});var w=Math.abs(L/500);return r.errRate=w,r.trainingSamples+=500,r.trainingSamples>=225e3&&(f<5?f++:(e.game.asteroids=a.default(e,800,100,300),g++,f=0)),!1}r.fitness>h&&(h=r.fitness,v=g);var P=o.default(e);if(!P)return A.LOG_GL("asserted true...?"),!0;if(m=l.createInputNN(e,!1,300,!0),r.time+=t,E+=t,r.fitness=Math.round(P.score/y*1e4),S=s.run(e,m,r.nn,!1),r.time>y)if(M(e),f<5)_.push(r.fitness),_.push(r.fitness),x++,r.time=0,x>=2&&(x=0,f++);else{for(_.push(.1),_.push(.1),g++,y<12e4&&(y+=1e3);_.length>280;)_.shift();p=function(){var e=p.sort(function(e,t){return e.fitness>t.fitness?-1:1});f=0;var t=[];t.push(e[0]),t.push(e[1]);var r=e[0].fitness;if(T.push(r),T.push(r),T.length>300&&T.shift(),e[0].fitness<=0&&e[1].fitness<=0){t=[];for(var a=0;a<6;a++)t.push({nn:new n.NeuralNetwork(12,32,3),time:0,fitness:0,guid:d.getGuid(),trainingSamples:0,errRate:0});return A.LOG_GL("All failed. creating new"),t}A.LOG_GL("Kept top "+t.length);var o=0;for(a=0;a<3;a++)t.push({nn:n.NeuralNetwork.Mutate(e[0].nn,e[a+1].nn,1),time:0,fitness:0,guid:d.getGuid(),trainingSamples:0,errRate:0}),o++;A.LOG_GL("mutatations "+o);var i=0;for(a=t.length;a<6;a++){var s=new n.NeuralNetwork(12,32,3);t.push({nn:s,time:0,fitness:0,guid:d.getGuid(),trainingSamples:0,errRate:0}),i++;for(var l=[],u=0;u<5e3;u++)c.trainerNN(s,l,!1)}for(A.LOG_GL("creating "+i+" new randomized"),a=0;a<6;a++)t[a].time=0,t[a].fitness=0;return t}()}return!1},init:function(e){var t=e.game,a=e.WW,o=e.WH,i=r.createShip(e);if(i.pos.x=.6*a,i.pos.y=.6*o,t.player[0]=i,t.spaceFog=[],0===p.length)for(var s=0;s<6;s++)p.push({nn:new n.NeuralNetwork(12,32,3),fitness:0,time:0,guid:d.getGuid(),trainingSamples:0,errRate:0});else A.LOG_GL("continuing evolution...")},mapSize:function(){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(1),r(0),r(2),r(4),r(8),r(10),r(5)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=new r.Vector(0,0),u=function(e,t,r,a){void 0===a&&(a=100);for(var A=Math.max.apply(Math,e),n=[],o=0;o<e.length;o++){var i=e[o],s=i<0?0:i;n.push(t+o,r),n.push(t+o,r-s/A*a)}return n},d=function(e,t,r){return o.default.create(e,t,r,!1,!1,null,!0)};t.graphGuiNN=function(e,t,r,c,f,p,g,h,v,y){var m=e.SX,S=e.SY,E=e.SW,x=(e.SH,e.gl),T=[],_=100,I=100,M=a.default(a.GLctx.Texture,x);if(y&&y.loadpercent<1)return o.default.addGL(x,M,d("Pretraining population...",A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,M,d((100*y.loadpercent).toFixed(2)+" %",A.TEXT_SIZE_HUGE,"g"),I,_,e),void(_+=A.TEXT_SIZE_SMALL+10);o.default.addGL(x,M,d("INPUT ("+t.length+"):",A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10;for(var L=0;L<t.length;L++){var w=s.normalize(300*t[L],"NN_inp_bar"+L,45,0);n.line2Poly(I+w.low,_,I+w.avg-3,_,T,3),n.line2Poly(I+w.avg+3,_,I+w.high,_,T,3),_+=8}_+=10,o.default.addGL(x,M,d("OUTPUT ("+r.length+"):",A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10;for(L=0;L<r.length;L++){w=s.normalize(300*r[L],"NN_outp_bar"+L,45,0);n.line2Poly(I+w.low,_,I+w.avg-3,_,T,3),n.line2Poly(I+w.avg+3,_,I+w.high,_,T,3),_+=14}_+=10,_+=A.TEXT_SIZE_SMALL,o.default.addGL(x,M,d("neurons:"+c,A.TEXT_SIZE_SMALL,"g"),I,_,e),_+=A.TEXT_SIZE_SMALL+10;var P=d("SKYNET EVOLUTION",A.TEXT_SIZE_MEDIUM,"r");o.default.addGL(x,M,P,.5*E-.5*P.w,2*A.TEXT_SIZE_MEDIUM,e,!1);var R=i.default(e);if(g&&R&&(n.line2Poly(R.pos.x-m,R.pos.y-S,g.pos.x-m,g.pos.y-S,T,1),l.set(100,0),l.setAngle(R.angle),n.line2Poly(R.pos.x-m,R.pos.y-S,R.pos.x-m+l.x,R.pos.y-S+l.y,T,1)),h&&(o.default.addGL(x,M,d("Neural network model",A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10),a.default(a.GLctx.Vertices,x),n.drawColor(T,x,0,1,0,1),h){T=[],_+=60;var b=Math.max(p,f)*Math.max(20,40)*1.25/c*.5;for(L=0;L<c;L++){for(var O=_+L*b,C=0;C<p;C++){var G=_+20*C+.5*c*b-.5*p*20,N=I;T.push(250,O,N,G)}for(var F=0;F<f;F++){G=_+40*F+.5*c*b-40*Math.floor(.5*f),N=400;T.push(250,O,N,G)}}n.drawColor(T,x,0,.1,0,1,x.LINES),_+=c*b}if(v){var B=a.default(a.GLctx.Texture,x);o.default.addGL(x,B,d("Top GEN: "+v.bestGeneration,A.TEXT_SIZE_SMALL,v.bestGeneration<v.gen-2?"r":v.bestGeneration<v.gen-1?"y":"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("Top Fitness: "+v.bestFitness,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("Fitness: "+v.fitness,A.TEXT_SIZE_SMALL,v.fitness>=v.bestFitness?"g":v.fitness<1?"y":v.fitness<0?"r":"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("GEN: "+v.gen,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("item: "+v.item,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("sim: "+v.simIndex,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("Time: "+v.time,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,o.default.addGL(x,B,d("Total time: "+v.totalTime,A.TEXT_SIZE_SMALL,"w"),I,_,e),_+=A.TEXT_SIZE_SMALL+10,_+=100;var D=u(v.fitnessOvertime,I,_,100);_+=120;var V=u(v.currentGenFitness,I,_,100);a.default(a.GLctx.Vertices,x),n.drawColor(D,x,0,1,0,1,x.LINES),n.drawColor(V,x,0,.8,0,1,x.LINES)}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(10),r(12),r(86),r(5)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.run=function(e,t,A,o){var i=r.default(e);e.game.parasites=[],i.availableElectroBastardRays=50,i.availableMissiles=1,i.availableRockets=1,i.life=98,i.ultrabright=98,i.boost=40,i.bulletWeaponLevel=1,i.homingBullets=0,i.shields=0,i.unableToComply&&i.score--,o&&(a.LOG_GL_FIXED(t[6].toFixed(2),"INP ship x"),a.LOG_GL_FIXED(t[7].toFixed(2),"INP ship y"),a.LOG_GL_FIXED(t[9].toFixed(2),"INP ship angle"),a.LOG_GL_FIXED(t[11].toFixed(2),"INP t angle"),a.LOG_GL_FIXED(t[0].toFixed(2),"INP ast x"),a.LOG_GL_FIXED(t[1].toFixed(2),"INP ast y"),a.LOG_GL_FIXED(t[2].toFixed(2),"INP ast r"),a.LOG_GL_FIXED(t[4],"INP has target"),a.LOG_GL_FIXED(t[3],"INP closest type"),a.LOG_GL_FIXED(t[10].toFixed(2),"INP fire ovh"),a.LOG_GL_FIXED(t[5].toFixed(2),"INP dist to target"),a.LOG_GL_FIXED(t[8].toFixed(2),"INP ship vel"));var s=performance.now(),l=A.feedForward(t).data[0],u=performance.now()-s;o&&a.LOG_GL_FIXED(.01*Math.round(100*u),"TIME MS");var d=i.keyCodes;d.LEFT=!1,d.RIGHT=!1,d.STRAFELEFT=!1,d.STRAFERIGHT=!1,d.UP=!1,d.FIRE=!1;var c=l[0];c>.55?d.LEFT=!(c<.75)||Math.random()>.6:c<.45?d.RIGHT=!(c>.25)||Math.random()>.6:c>.505?d.STRAFELEFT=!0:c<.495&&(d.STRAFERIGHT=!0);var f=l[2];f>.55&&(d.FIRE=!0);var p=l[1];return p>.3?d.UP=!0:p>.1&&(d.UP=Math.random()>.4),o&&(a.LOG_GL_FIXED(l[0].toFixed(2)+" n:"+n.normalize(l[0],"l out st n",30,4).avg,"-o steering"),a.LOG_GL_FIXED(l[1].toFixed(2)+" n:"+n.normalize(l[1],"l out fw n",30,4).avg,"-o forward"),a.LOG_GL_FIXED(l[2].toFixed(2)+" n:"+n.normalize(l[2],"l out fi n",30,4).avg,"-o fire")),l}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(10),r(86),r(7),r(3),r(5),r(12)],void 0===(A=function(e,t,r,a,A,n,o,i){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0});var l=0;t.createInputNN=function(e,t,u,d){void 0===u&&(u=300);for(var c=e.stepMS,f=e.SW,p=(e.SH,[]),g=0;g<7;g++)p[g]=0;var h=r.default(e),v=a.normalizePos(h.pos,e),y=[];if(t)y=h.closestItem?[h.closestItem]:[];else{var m=200;if(s&&s.life>-1&&!s.remove&&l<5e3)y=[s],s,l+=c;else{for(;0===y.length&&m<.5*f;)y=(y=A.getQuadTreesObj().Enemies.queryCircle(h.pos,m)).filter(function(e){return e.radius>10}),m+=m;if(m=200,0===y.length)for(l=0,s=null;0===y.length&&m<f;)y=(y=A.getQuadTreesObj().Asteroids.queryCircle(h.pos,m)).filter(function(e){return e.radius>10}),m+=m}}if(y.length>0){var S=0,E=y[0];for(g=0;g<y.length;g++){var x=y[g];x.radius>S&&30===x.type&&(S=x.radius,E=x)}E,s=E;var T=a.normalizePos(E.pos,e);p[0]=T.x,p[1]=T.y,p[2]=E.radius/u,p[3]=30===E.type||8===E.type?.5:1,p[5]=n.distanceBetweenXYXY(T.x,T.y,v.x,v.y);var _=Math.atan2(E.pos.y-h.pos.y,E.pos.x-h.pos.x),I=o.wrapRadianAngle(n.angleDifference(_,h.angle+Math.PI))/(2*Math.PI);p[11]=I,p[4]=1}else null,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[11]=0,p[4]=0,p[5]=1;if(p[8]=h.vel.getLength()/h.maxVel,p[6]=v.x,p[7]=v.y,p[9]=h.angle/(2*Math.PI),p[10]=Math.max(0,1-h.bulletsFired/h.maxBullets),p=p.map(function(e){return a.clamp(e)}),d)for(g=0;g<p.length;g++)i.LOG_GL_FIXED(p[g].toFixed(2),a.InputTypesReversed[g]);return p}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(3),r(86),r(5),r(12)],void 0===(A=function(e,t,r,a,A,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.trainerNN=function(e,t,o){var i=[],s={x:.9*Math.random(),y:.9*Math.random(),vx:.1*Math.random(),VY:.1*Math.random(),r:.01+.1*Math.random(),type:Math.random()>.5?30:15},l={x:.45+.1*Math.random(),y:.45+.1*Math.random(),a:Math.random()*Math.PI*2,fireOverheated:Math.random(),vel:Math.random()},u=r.distanceBetweenXYXY(s.x,s.y,l.x,l.y);i[0]=s.x,i[1]=s.y,i[2]=s.r,i[6]=l.x,i[7]=l.y,i[9]=l.a/(2*Math.PI),i[10]=l.fireOverheated,i[3]=30===s.type?.5:1;var d=Math.atan2(s.y-l.y,s.x-l.x),c=A.wrapRadianAngle(r.angleDifference(d,l.a+Math.PI)),f=c/(2*Math.PI);i[11]=f;var p=c>Math.PI?0:1;o&&(n.LOG_GL_FIXED(i[6].toFixed(2),"INP ship x"),n.LOG_GL_FIXED(i[7].toFixed(2),"INP ship y"),n.LOG_GL_FIXED(i[9].toFixed(2),"INP ship angle"),n.LOG_GL_FIXED(i[11].toFixed(2),"INP t angle"),n.LOG_GL_FIXED(i[0].toFixed(2),"INP ast x"),n.LOG_GL_FIXED(i[1].toFixed(2),"INP ast y"),n.LOG_GL_FIXED(i[2].toFixed(2),"INP ast r"),n.LOG_GL_FIXED(i[5].toFixed(2),"INP dist to target"),n.LOG_GL_FIXED(i[8].toFixed(2),"INP ship vel"));var g=30!==s.type?0:l.fireOverheated<.1?0:f>.4&&f<.6?1:0,h=f<.525&&f>.4775?30!==s.type?1:u-s.r>5*s.r?1:0:.25;i[4]=1;var v=!1;i[5]=u,i[8]=l.vel,Math.random()>.5&&(v=!0,i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[11]=0,i[4]=0,i[5]=1),i=i.map(function(e){return a.clamp(e)});var y=[];y[0]=v?.5:p,y[1]=v?1:l.vel>.2?0:h,y[2]=v?0:g,y=y.map(function(e){return a.clamp(e)});for(var m=e.train(i,y,o),S=0;S<m.length;S++)void 0===t[S]&&(t[S]=0),t[S]+=m[S]}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A;a=[r,t,r(9),r(53),r(6),r(1),r(4),r(0),r(4)],void 0===(A=function(e,t,r,a,A,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var l=[],u=0;u<2e4;u++)l.push({pos:new n.Vector(0,0),vel:new n.Vector(0,0),radius:1,life:1,guid:0,type:0,remove:!1,forceX:0,forceY:0,targetFlagged:!1,stunned:!1});var d=new a.QuadTreeUint8Point(new A.Rectangle(0,0,0,0),5,0),c={x:0,y:0,r:0},f=new A.Rectangle(0,0,0,0),p=new n.Vector(0,0),g=new n.Vector(0,0),h=1e3,v=h,y=[],m=[],S=[],E=[],x=!0;t.default={gui:function(e){var t=e.SW,r=e.SH,a=e.gl,n=e.stepMS;if(m=[],S=[],E=[],-1!==e.game.allKeyCodes.currentKeyCode&&(x=!1),i.default(i.GLctx.Vertices,a),x&&(a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),s.fillPoly(t,0,0,t,r,E),o.drawColor(E,a,0,0,0,1),a.blendFunc(a.ONE,a.ONE),E=[]),(v+=n)>h){(h+=100)<1200&&(x=!0),y=[],d.reset(),d.setup(new A.Rectangle(0,0,t,r),5,0);for(var u=0;u<2e4;u++){var T=l[u];(I=T.pos).x=Math.random()*t,I.y=Math.random()*r,d.insert(T),y.push(I.x,I.y)}v=0,c.r=100+300*Math.random(),c.x=Math.random()*t,c.y=Math.random()*r,f.x=Math.random()*t,f.y=Math.random()*r,f.width=Math.random()*t*.5,f.height=Math.random()*r*.5,p.x=Math.random()-.5,p.y=Math.random()-.5,g.x=Math.random()-.5,g.y=Math.random()-.5}f.x+=g.x,f.y+=g.y,c.x+=p.x,c.y+=p.y,o.drawColor(y,a,1,0,0,1,a.POINTS);var _=d.queryInt(f);for(u=0;u<_.length;u++){var I=_[u].pos;S.push(I.x,I.y),S.push(I.x-1,I.y),S.push(I.x+1,I.y),S.push(I.x,I.y-1),S.push(I.x,I.y+1)}o.drawColor(S,a,1,1,0,1,a.POINTS);var M=d.queryCircle({x:c.x,y:c.y},c.r);for(u=0;u<M.length;u++)I=M[u].pos,m.push(I.x,I.y),m.push(I.x-1,I.y),m.push(I.x+1,I.y),m.push(I.x,I.y-1),m.push(I.x,I.y+1);o.drawColor(m,a,0,1,1,1,a.POINTS),o.drawRectPoly(f,0,0,E,1),o.createBlockCirclePolySingleWall(c.x,c.y,E,100,0,c.r),o.drawColor(E,a,1,1,1,1,a.LINES)},splash:null,assert:function(e){return!1},init:function(e){var t=e.game,a=e.WW,A=e.WH,n=(e.SW,e.SH,r.createShip(e));n.pos.x=.6*a,n.pos.y=.6*A,t.player[0]=n},mapSize:function(e){return{WW:2e4,WH:2e4}}}}.apply(t,a))||(e.exports=A)},function(e,t,r){var a,A,n;A=[],void 0===(n="function"==typeof(a=function(){"use strict";function e(e,t,r){return(r=r||new Float32Array(3))[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function t(e,t){t=t||new Float32Array(3);var r=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return r>1e-5&&(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r),t}function r(e,t,r){return(r=r||new Float32Array(3))[0]=e[1]*t[2]-e[2]*t[1],r[1]=e[2]*t[0]-e[0]*t[2],r[2]=e[0]*t[1]-e[1]*t[0],r}function a(e,t){const r=e[0]-t[0],a=e[1]-t[1],A=e[2]-t[2];return r*r+a*a+A*A}function A(e,t){t=t||new Float32Array(16);var r=e[0],a=e[1],A=e[2],n=e[3],o=e[4],i=e[5],s=e[6],l=e[7],u=e[8],d=e[9],c=e[10],f=e[11],p=e[12],g=e[13],h=e[14],v=e[15],y=c*v,m=h*f,S=s*v,E=h*l,x=s*f,T=c*l,_=A*v,I=h*n,M=A*f,L=c*n,w=A*l,P=s*n,R=u*g,b=p*d,O=o*g,C=p*i,G=o*d,N=u*i,F=r*g,B=p*a,D=r*d,V=u*a,X=r*i,H=o*a,k=y*i+E*d+x*g-(m*i+S*d+T*g),W=m*a+_*d+L*g-(y*a+I*d+M*g),U=S*a+I*i+w*g-(E*a+_*i+P*g),Y=T*a+M*i+P*d-(x*a+L*i+w*d),K=1/(r*k+o*W+u*U+p*Y);return t[0]=K*k,t[1]=K*W,t[2]=K*U,t[3]=K*Y,t[4]=K*(m*o+S*u+T*p-(y*o+E*u+x*p)),t[5]=K*(y*r+I*u+M*p-(m*r+_*u+L*p)),t[6]=K*(E*r+_*o+P*p-(S*r+I*o+w*p)),t[7]=K*(x*r+L*o+w*u-(T*r+M*o+P*u)),t[8]=K*(R*l+C*f+G*v-(b*l+O*f+N*v)),t[9]=K*(b*n+F*f+V*v-(R*n+B*f+D*v)),t[10]=K*(O*n+B*l+X*v-(C*n+F*l+H*v)),t[11]=K*(N*n+D*l+H*f-(G*n+V*l+X*f)),t[12]=K*(O*c+N*h+b*s-(G*h+R*s+C*c)),t[13]=K*(D*h+R*A+B*c-(F*c+V*h+b*A)),t[14]=K*(F*s+H*h+C*A-(X*h+O*A+B*s)),t[15]=K*(X*c+G*A+V*s-(D*s+H*c+N*A)),t}return{copy:function(e,t){return(t=t||new Float32Array(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},lookAt:function(a,A,n,o){o=o||new Float32Array(16);var i=t(e(a,A)),s=t(r(n,i)),l=t(r(i,s));return o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=0,o[4]=l[0],o[5]=l[1],o[6]=l[2],o[7]=0,o[8]=i[0],o[9]=i[1],o[10]=i[2],o[11]=0,o[12]=a[0],o[13]=a[1],o[14]=a[2],o[15]=1,o},addVectors:function(e,t,r){return(r=r||new Float32Array(3))[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r},subtractVectors:e,distance:function(e,t){return Math.sqrt(a(e,t))},distanceSq:a,normalize:t,cross:r,dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},identity:function(e){return(e=e||new Float32Array(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){return(t=t||new Float32Array(16))[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t},orthographic:function(e,t,r,a,A,n,o){return(o=o||new Float32Array(16))[0]=2/(t-e),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(a-r),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(A-n),o[11]=0,o[12]=(e+t)/(e-t),o[13]=(r+a)/(r-a),o[14]=(A+n)/(A-n),o[15]=1,o},frustum:function(e,t,r,a,A,n){var o=t-e,i=a-r,s=n-A;return dst[0]=2*A/o,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*A/i,dst[6]=0,dst[7]=0,dst[8]=(e+t)/o,dst[9]=(a+r)/i,dst[10]=-(n+A)/s,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=-2*A*n/s,dst[15]=0,dst},perspective:function(e,t,r,a,A){A=A||new Float32Array(16);var n=Math.tan(.5*Math.PI-.5*e),o=1/(r-a);return A[0]=n/t,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=n,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=(r+a)*o,A[11]=-1,A[12]=0,A[13]=0,A[14]=r*a*o*2,A[15]=0,A},translation:function(e,t,r,a){return(a=a||new Float32Array(16))[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=e,a[13]=t,a[14]=r,a[15]=1,a},translate:function(e,t,r,a,A){A=A||new Float32Array(16);var n=e[0],o=e[1],i=e[2],s=e[3],l=e[4],u=e[5],d=e[6],c=e[7],f=e[8],p=e[9],g=e[10],h=e[11],v=e[12],y=e[13],m=e[14],S=e[15];return e!==A&&(A[0]=n,A[1]=o,A[2]=i,A[3]=s,A[4]=l,A[5]=u,A[6]=d,A[7]=c,A[8]=f,A[9]=p,A[10]=g,A[11]=h),A[12]=n*t+l*r+f*a+v,A[13]=o*t+u*r+p*a+y,A[14]=i*t+d*r+g*a+m,A[15]=s*t+c*r+h*a+S,A},xRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},yRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},zRotation:function(e,t){t=t||new Float32Array(16);var r=Math.cos(e),a=Math.sin(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},xRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[4],A=e[5],n=e[6],o=e[7],i=e[8],s=e[9],l=e[10],u=e[11],d=Math.cos(t),c=Math.sin(t);return r[4]=d*a+c*i,r[5]=d*A+c*s,r[6]=d*n+c*l,r[7]=d*o+c*u,r[8]=d*i-c*a,r[9]=d*s-c*A,r[10]=d*l-c*n,r[11]=d*u-c*o,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},yRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[0],A=e[1],n=e[2],o=e[3],i=e[8],s=e[9],l=e[10],u=e[11],d=Math.cos(t),c=Math.sin(t);return r[0]=d*a-c*i,r[1]=d*A-c*s,r[2]=d*n-c*l,r[3]=d*o-c*u,r[8]=d*i+c*a,r[9]=d*s+c*A,r[10]=d*l+c*n,r[11]=d*u+c*o,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},zRotate:function(e,t,r){r=r||new Float32Array(16);var a=e[0],A=e[1],n=e[2],o=e[3],i=e[4],s=e[5],l=e[6],u=e[7],d=Math.cos(t),c=Math.sin(t);return r[0]=d*a+c*i,r[1]=d*A+c*s,r[2]=d*n+c*l,r[3]=d*o+c*u,r[4]=d*i-c*a,r[5]=d*s-c*A,r[6]=d*l-c*n,r[7]=d*u-c*o,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},axisRotation:function(e,t,r){r=r||new Float32Array(16);var a=e[0],A=e[1],n=e[2],o=Math.sqrt(a*a+A*A+n*n),i=(a/=o)*a,s=(A/=o)*A,l=(n/=o)*n,u=Math.cos(t),d=Math.sin(t),c=1-u;return r[0]=i+(1-i)*u,r[1]=a*A*c+n*d,r[2]=a*n*c-A*d,r[3]=0,r[4]=a*A*c-n*d,r[5]=s+(1-s)*u,r[6]=A*n*c+a*d,r[7]=0,r[8]=a*n*c+A*d,r[9]=A*n*c-a*d,r[10]=l+(1-l)*u,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},axisRotate:function(e,t,r,a){a=a||new Float32Array(16);var A=t[0],n=t[1],o=t[2],i=Math.sqrt(A*A+n*n+o*o),s=(A/=i)*A,l=(n/=i)*n,u=(o/=i)*o,d=Math.cos(r),c=Math.sin(r),f=1-d,p=s+(1-s)*d,g=A*n*f+o*c,h=A*o*f-n*c,v=A*n*f-o*c,y=l+(1-l)*d,m=n*o*f+A*c,S=A*o*f+n*c,E=n*o*f-A*c,x=u+(1-u)*d,T=e[0],_=e[1],I=e[2],M=e[3],L=e[4],w=e[5],P=e[6],R=e[7],b=e[8],O=e[9],C=e[10],G=e[11];return a[0]=p*T+g*L+h*b,a[1]=p*_+g*w+h*O,a[2]=p*I+g*P+h*C,a[3]=p*M+g*R+h*G,a[4]=v*T+y*L+m*b,a[5]=v*_+y*w+m*O,a[6]=v*I+y*P+m*C,a[7]=v*M+y*R+m*G,a[8]=S*T+E*L+x*b,a[9]=S*_+E*w+x*O,a[10]=S*I+E*P+x*C,a[11]=S*M+E*R+x*G,e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]),a},scaling:function(e,t,r,a){return(a=a||new Float32Array(16))[0]=e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=t,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=r,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},scale:function(e,t,r,a,A){return(A=A||new Float32Array(16))[0]=t*e[0],A[1]=t*e[1],A[2]=t*e[2],A[3]=t*e[3],A[4]=r*e[4],A[5]=r*e[5],A[6]=r*e[6],A[7]=r*e[7],A[8]=a*e[8],A[9]=a*e[9],A[10]=a*e[10],A[11]=a*e[11],e!==A&&(A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]),A},multiply:function(e,t,r){r=r||new Float32Array(16);var a=t[0],A=t[1],n=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],d=t[8],c=t[9],f=t[10],p=t[11],g=t[12],h=t[13],v=t[14],y=t[15],m=e[0],S=e[1],E=e[2],x=e[3],T=e[4],_=e[5],I=e[6],M=e[7],L=e[8],w=e[9],P=e[10],R=e[11],b=e[12],O=e[13],C=e[14],G=e[15];return r[0]=a*m+A*T+n*L+o*b,r[1]=a*S+A*_+n*w+o*O,r[2]=a*E+A*I+n*P+o*C,r[3]=a*x+A*M+n*R+o*G,r[4]=i*m+s*T+l*L+u*b,r[5]=i*S+s*_+l*w+u*O,r[6]=i*E+s*I+l*P+u*C,r[7]=i*x+s*M+l*R+u*G,r[8]=d*m+c*T+f*L+p*b,r[9]=d*S+c*_+f*w+p*O,r[10]=d*E+c*I+f*P+p*C,r[11]=d*x+c*M+f*R+p*G,r[12]=g*m+h*T+v*L+y*b,r[13]=g*S+h*_+v*w+y*O,r[14]=g*E+h*I+v*P+y*C,r[15]=g*x+h*M+v*R+y*G,r},inverse:A,transformVector:function(e,t,r){r=r||new Float32Array(4);for(var a=0;a<4;++a){r[a]=0;for(var A=0;A<4;++A)r[a]+=t[A]*e[4*A+a]}return r},transformPoint:function(e,t,r){r=r||new Float32Array(3);var a=t[0],A=t[1],n=t[2],o=a*e[3]+A*e[7]+n*e[11]+e[15];return r[0]=(a*e[0]+A*e[4]+n*e[8]+e[12])/o,r[1]=(a*e[1]+A*e[5]+n*e[9]+e[13])/o,r[2]=(a*e[2]+A*e[6]+n*e[10]+e[14])/o,r},transformDirection:function(e,t,r){r=r||new Float32Array(3);var a=t[0],A=t[1],n=t[2];return r[0]=a*e[0]+A*e[4]+n*e[8],r[1]=a*e[1]+A*e[5]+n*e[9],r[2]=a*e[2]+A*e[6]+n*e[10],r},transformNormal:function(e,t,r){r=r||new Float32Array(3);var a=A(e),n=t[0],o=t[1],i=t[2];return r[0]=n*a[0]+o*a[1]+i*a[2],r[1]=n*a[4]+o*a[5]+i*a[6],r[2]=n*a[8]+o*a[9]+i*a[10],r}}})?a.apply(t,A):a)||(e.exports=n)},function(e,t,r){var a,A;A=this,void 0===(a=function(){return function(){"use strict";var e,t=this;function r(e){t.console&&(t.console.error?t.console.error(e):t.console.log&&t.console.log(e))}function a(e,t,a,A){var n=A||r,o=e.createShader(a);e.shaderSource(o,t),e.compileShader(o);var i=e.getShaderParameter(o,e.COMPILE_STATUS);if(!i){var s=e.getShaderInfoLog(o);return n("*** Error compiling shader '"+o+"':"+s),e.deleteShader(o),null}return o}function A(e,t,a,A,n){var o=n||r,i=e.createProgram();t.forEach(function(t){e.attachShader(i,t)}),a&&a.forEach(function(t,r){e.bindAttribLocation(i,A?A[r]:r,t)}),e.linkProgram(i);var s=e.getProgramParameter(i,e.LINK_STATUS);if(!s){var l=e.getProgramInfoLog(i);return o("Error in program linking:"+l),e.deleteProgram(i),null}return i}function n(e,t,r,A){var n,o="",i=document.getElementById(t);if(!i)throw"*** Error: unknown script element"+t;if(o=i.text,!r)if("x-shader/x-vertex"===i.type)n=e.VERTEX_SHADER;else if("x-shader/x-fragment"===i.type)n=e.FRAGMENT_SHADER;else if(n!==e.VERTEX_SHADER&&n!==e.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return a(e,o,r||n,A)}(e=e||t)===e.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html"));var o=["VERTEX_SHADER","FRAGMENT_SHADER"];return{createProgram:A,createProgramFromScripts:function(e,t,r,a,i){for(var s=[],l=0;l<t.length;++l)s.push(n(e,t[l],e[o[l]],i));return A(e,s,r,a,i)},createProgramFromSources:function(e,t,r,n,i){for(var s=[],l=0;l<t.length;++l)s.push(a(e,t[l],e[o[l]],i));return A(e,s,r,n,i)},resizeCanvasToDisplaySize:function(e,t){t=t||1;var r=e.clientWidth*t|0,a=e.clientHeight*t|0;return(e.width!==r||e.height!==a)&&(e.width=r,e.height=a,!0)}}}.call(A)}.apply(t,[]))||(e.exports=a)},function(e,t,r){
/*!
 * @license twgl.js 4.5.2 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
"undefined"!=typeof self&&self,e.exports=function(e){function t(a){if(r[a])return r[a].exports;var A=r[a]={i:a,l:!1,exports:{}};return e[a].call(A.exports,A,A.exports,t),A.l=!0,A.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,r){"use strict";t.__esModule=!0,t.copyExistingProperties=function(e,t){Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(t[r]=e[r])})},t.copyNamedProperties=function(e,t,r){e.forEach(function(e){var a=t[e];void 0!==a&&(r[e]=a)})},t.isBuffer=function(e,t){return n||(n=e.createBuffer()),t instanceof n.constructor},t.isRenderbuffer=function(e,t){return o||(o=e.createRenderbuffer()),t instanceof o.constructor},t.isShader=function(e,t){return i||(i=e.createShader(e.VERTEX_SHADER)),t instanceof i.constructor},t.isTexture=function(e,t){return s||(s=e.createTexture()),t instanceof s.constructor},t.isSampler=function(e,t){if(!l){if(!e.createSampler)return!1;l=e.createSampler()}return t instanceof l.constructor},t.warn=t.error=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),A=a.default.console&&a.default.console.error&&"function"==typeof a.default.console.error?a.default.console.error.bind(a.default.console):function(){};t.error=A;var n,o,i,s,l,u=a.default.console&&a.default.console.warn&&"function"==typeof a.default.console.warn?a.default.console.warn.bind(a.default.console):function(){};t.warn=u},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var a=void 0!==a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return A;if(e instanceof Uint8Array)return n;if(e instanceof Uint8ClampedArray)return n;if(e instanceof Int16Array)return o;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return s;if(e instanceof Uint32Array)return l;if(e instanceof Float32Array)return u;throw"unsupported typed array type"},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return A;if(e===Uint8Array)return n;if(e===Uint8ClampedArray)return n;if(e===Int16Array)return o;if(e===Uint16Array)return i;if(e===Int32Array)return s;if(e===Uint32Array)return l;if(e===Float32Array)return u;throw"unsupported typed array type"},t.getTypedArrayTypeForGLType=function(e){var t=d[e];if(!t)throw"unknown gl type";return t},t.isArrayBuffer=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),A=5120,n=5121,o=5122,i=5123,s=5124,l=5125,u=5126,d={},c=d;c[A]=Int8Array,c[n]=Uint8Array,c[o]=Int16Array,c[i]=Uint16Array,c[s]=Int32Array,c[l]=Uint32Array,c[u]=Float32Array,c[32819]=Uint16Array,c[32820]=Uint16Array,c[33635]=Uint16Array,c[5131]=Uint16Array,c[33640]=Uint32Array,c[35899]=Uint32Array,c[35902]=Uint32Array,c[36269]=Uint32Array,c[34042]=Uint32Array;var f=a.default.SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof a.default.SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=f},function(e,t,r){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var a=function(){function e(e){var a=e.constructor.name;if(!t[a]){for(var A in e)if("number"==typeof e[A]){var n=r[e[A]];r[e[A]]=n?"".concat(n," | ").concat(A):A}t[a]=!0}}var t={},r={};return function(t,a){return e(t),r[a]||"0x"+a.toString(16)}}();t.glEnumToString=a},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function A(e,t){return V[t].bindPoint}function n(e,t){return function(r){e.uniform1i(t,r)}}function o(e,t){return function(r){e.uniform1iv(t,r)}}function i(e,t){return function(r){e.uniform2iv(t,r)}}function s(e,t){return function(r){e.uniform3iv(t,r)}}function l(e,t){return function(r){e.uniform4iv(t,r)}}function u(e,t,r,a){var n=A(0,t);return C.isWebGL2(e)?function(t){var A,o;G.isTexture(e,t)?(A=t,o=null):(A=t.texture,o=t.sampler),e.uniform1i(a,r),e.activeTexture(e.TEXTURE0+r),e.bindTexture(n,A),e.bindSampler(r,o)}:function(t){e.uniform1i(a,r),e.activeTexture(e.TEXTURE0+r),e.bindTexture(n,t)}}function d(e,t,r,a,n){for(var o=A(0,t),i=new Int32Array(n),s=0;s<n;++s)i[s]=r+s;return C.isWebGL2(e)?function(t){e.uniform1iv(a,i),t.forEach(function(t,a){var A,n;e.activeTexture(e.TEXTURE0+i[a]),G.isTexture(e,t)?(A=t,n=null):(A=t.texture,n=t.sampler),e.bindSampler(r,n),e.bindTexture(o,A)})}:function(t){e.uniform1iv(a,i),t.forEach(function(t,r){e.activeTexture(e.TEXTURE0+i[r]),e.bindTexture(o,t)})}}function c(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4fv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||e.FLOAT,r.normalize||!1,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function f(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4iv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||e.INT,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function p(e,t){return function(r){r.value?(e.disableVertexAttribArray(t),e.vertexAttrib4uiv(t,r.value)):(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||e.UNSIGNED_INT,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor))}}function g(e,t,r){var a=r.size,A=r.count;return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer);for(var n=r.size||r.numComponents||a,o=n/A,i=r.type||e.FLOAT,s=V[i],l=s.size*n,u=r.normalize||!1,d=r.offset||0,c=l/A,f=0;f<A;++f)e.enableVertexAttribArray(t+f),e.vertexAttribPointer(t+f,o,i,u,l,d+c*f),void 0!==r.divisor&&e.vertexAttribDivisor(t+f,r.divisor)}}function h(e,t,r,a){var A=a||F,n=e.createShader(r),o=0;if(k.test(t)&&(o=1,t=t.replace(k,"")),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);return A(function(e,t){return t=t||0,++t,e.split("\n").map(function(e,r){return r+t+": "+e}).join("\n")}(t,o)+"\n*** Error compiling shader: "+i),e.deleteShader(n),null}return n}function v(e,t,r){var a;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var A=e;r=A.errorCallback,e=A.attribLocations,a=A.transformFeedbackVaryings}var n={errorCallback:r||F,transformFeedbackVaryings:a};if(e){var o={};Array.isArray(e)?e.forEach(function(e,r){o[e]=t?t[r]:r}):o=e,n.attribLocations=o}return n}function y(e){return e.indexOf("frag")>=0?H.FRAGMENT_SHADER:e.indexOf("vert")>=0?H.VERTEX_SHADER:void 0}function m(e,t){t.forEach(function(t){e.deleteShader(t)})}function S(e,t,r,a,A){for(var n=v(r,a,A),o=[],i=[],s=0;s<t.length;++s){var l=t[s];if("string"==typeof l){var u=D(l),d=u?u.text:l,c=e[W[s]];u&&u.type&&(c=y(u.type)||c),l=h(e,d,c,n.errorCallback),i.push(l)}G.isShader(e,l)&&o.push(l)}if(o.length!==t.length)return n.errorCallback("not enough shaders for program"),m(e,i),null;var f=e.createProgram();o.forEach(function(t){e.attachShader(f,t)}),n.attribLocations&&Object.keys(n.attribLocations).forEach(function(t){e.bindAttribLocation(f,n.attribLocations[t],t)});var p=n.transformFeedbackVaryings;if(p&&(p.attribs&&(p=p.attribs),Array.isArray(p)||(p=Object.keys(p)),e.transformFeedbackVaryings(f,p,n.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(f),!e.getProgramParameter(f,e.LINK_STATUS)){var g=e.getProgramInfoLog(f);return n.errorCallback("Error in program linking:"+g),e.deleteProgram(f),m(e,i),null}return f}function E(e,t,r,a){var A="",n=D(t);if(!n)throw"*** Error: unknown script element"+t;A=n.text;var o=r||y(n.type);if(!o)throw"*** Error: unknown shader type";return h(e,A,o,a)}function x(e,t,r,a,A){for(var n=v(r,a,A),o=[],i=0;i<t.length;++i){var s=h(e,t[i],e[W[i]],n.errorCallback);if(!s)return null;o.push(s)}return S(e,o,n)}function T(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function _(e,t){for(var r=0,a={},A=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<A;++n){var o=e.getActiveUniform(t,n);if(!T(o)){var i=o.name;"[0]"===i.substr(-3)&&(i=i.substr(0,i.length-3));var s=function(t,a){var A,n=e.getUniformLocation(t,a.name),o=a.size>1&&"[0]"===a.name.substr(-3),i=a.type,s=V[i];if(!s)throw"unknown type: 0x"+i.toString(16);if(s.bindPoint){var l=r;r+=a.size,A=o?s.arraySetter(e,i,l,n,a.size):s.setter(e,i,l,n,a.size)}else A=s.arraySetter&&o?s.arraySetter(e,n):s.setter(e,n);return A.location=n,A}(t,o);a[i]=s}}return a}function I(e,t){for(var r={},a=e.getProgramParameter(t,e.TRANSFORM_FEEDBACK_VARYINGS),A=0;A<a;++A){var n=e.getTransformFeedbackVarying(t,A);r[n.name]={index:A,type:n.type,size:n.size}}return r}function M(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var A=t[a];if(A){var n=r[a];n.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,A.index,n.buffer,n.offset,n.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,A.index,n.buffer)}}}function L(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=[],A=[],n=0;n<r;++n){A.push(n),a.push({});var o=e.getActiveUniform(t,n);if(T(o))break;a[n].name=o.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(r){var n=r[0],o=r[1];e.getActiveUniforms(t,A,e[n]).forEach(function(e,t){a[t][o]=e})});for(var i={},s=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS),l=0;l<s;++l){var u=e.getActiveUniformBlockName(t,l),d={index:l,usedByVertexShader:e.getActiveUniformBlockParameter(t,l,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(t,l,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(t,l,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(t,l,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};d.used=d.usedByVertexSahder||d.usedByFragmentShader,i[u]=d}return{blockSpecs:i,uniformData:a}}function w(e,t,r,a){var A=r.blockSpecs,n=r.uniformData,o=A[a];if(!o)return B("no uniform block object named:",a),{name:a,uniforms:{}};var i=new ArrayBuffer(o.size),s=e.createBuffer(),l=o.index;e.bindBuffer(e.UNIFORM_BUFFER,s),e.uniformBlockBinding(t,o.index,l);var u=a+".";U.test(u)&&(u=u.replace(U,"."));var d={};return o.uniformIndices.forEach(function(e){var t=n[e],r=V[t.type],a=r.Type,A=t.size*r.size,o=t.name;o.substr(0,u.length)===u&&(o=o.substr(u.length)),d[o]=new a(i,t.offset,A/a.BYTES_PER_ELEMENT)}),{name:a,array:i,asFloat:new Float32Array(i),buffer:s,uniforms:d}}function P(e,t,r){var a=t.uniformBlockSpec||t,A=a.blockSpecs[r.name];if(A){var n=A.index;return e.bindBufferRange(e.UNIFORM_BUFFER,n,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function R(e,t){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),A=0;A<a;++A){var n=e.getActiveAttrib(t,A);if(!T(n)){var o=e.getAttribLocation(t,n.name),i=X[n.type],s=i.setter(e,o,i);s.location=o,r[n.name]=s}}return r}function b(e,t){for(var r in t){var a=e[r];a&&a(t[r])}}function O(e,t){var r=_(e,t),a=R(e,t),A={program:t,uniformSetters:r,attribSetters:a};return C.isWebGL2(e)&&(A.uniformBlockSpec=L(e,t),A.transformFeedbackInfo=I(e,t)),A}t.__esModule=!0,t.createAttributeSetters=R,t.createProgram=S,t.createProgramFromScripts=function(e,t,r,a,A){for(var n=v(r,a,A),o=[],i=0;i<t.length;++i){var s=E(e,t[i],e[W[i]],n.errorCallback);if(!s)return null;o.push(s)}return S(e,o,n)},t.createProgramFromSources=x,t.createProgramInfo=function(e,t,r,a,A){var n=v(r,a,A),o=!0;if(t=t.map(function(e){if(e.indexOf("\n")<0){var t=D(e);t?e=t.text:(n.errorCallback("no element with id: "+e),o=!1)}return e}),!o)return null;var i=x(e,t,n);return i?O(e,i):null},t.createProgramInfoFromProgram=O,t.createUniformSetters=_,t.createUniformBlockSpecFromProgram=L,t.createUniformBlockInfoFromProgram=w,t.createUniformBlockInfo=function(e,t,r){return w(e,t.program,t.uniformBlockSpec,r)},t.createTransformFeedback=function(e,t,r){var a=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,a),e.useProgram(t.program),M(e,t,r),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),function(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var A=t[a];A&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,A.index,null)}}(e,t,r),a},t.createTransformFeedbackInfo=I,t.bindTransformFeedbackInfo=M,t.setAttributes=b,t.setBuffersAndAttributes=function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(b(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices))},t.setUniforms=function e(t,r){for(var a=t.uniformSetters||t,A=arguments.length,n=1;n<A;++n){var o=arguments[n];if(Array.isArray(o))for(var i=o.length,s=0;s<i;++s)e(a,o[s]);else for(var l in o){var u=a[l];u&&u(o[l])}}},t.setUniformBlock=function(e,t,r){P(e,t,r)&&e.bufferData(e.UNIFORM_BUFFER,r.array,e.DYNAMIC_DRAW)},t.setBlockUniforms=function(e,t){var r=e.uniforms;for(var a in t){var A=r[a];if(A){var n=t[a];n.length?A.set(n):A[0]=n}}},t.bindUniformBlock=P;var C=a(r(3)),G=a(r(0)),N=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),F=G.error,B=G.warn,D=N.default&&N.default.document&&N.default.document.getElementById?N.default.document.getElementById.bind(N.default.document):function(){return null},V={};V[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},V[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}}},V[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}}},V[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}}},V[5124]={Type:Int32Array,size:4,setter:n,arraySetter:o},V[35667]={Type:Int32Array,size:8,setter:i},V[35668]={Type:Int32Array,size:12,setter:s},V[35669]={Type:Int32Array,size:16,setter:l},V[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},V[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}}},V[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}}},V[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}}},V[35670]={Type:Uint32Array,size:4,setter:n,arraySetter:o},V[35671]={Type:Uint32Array,size:8,setter:i},V[35672]={Type:Uint32Array,size:12,setter:s},V[35673]={Type:Uint32Array,size:16,setter:l},V[35674]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}}},V[35675]={Type:Float32Array,size:36,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}}},V[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}}},V[35685]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}}},V[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}}},V[35687]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}}},V[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}}},V[35689]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}}},V[35690]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}}},V[35678]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:3553},V[35680]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:34067},V[35679]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:32879},V[35682]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:3553},V[36289]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:35866},V[36292]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:35866},V[36293]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:34067},V[36298]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:3553},V[36299]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:32879},V[36300]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:34067},V[36303]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:35866},V[36306]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:3553},V[36307]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:32879},V[36308]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:34067},V[36311]={Type:null,size:0,setter:u,arraySetter:d,bindPoint:35866};var X={};X[5126]={size:4,setter:c},X[35664]={size:8,setter:c},X[35665]={size:12,setter:c},X[35666]={size:16,setter:c},X[5124]={size:4,setter:f},X[35667]={size:8,setter:f},X[35668]={size:12,setter:f},X[35669]={size:16,setter:f},X[5125]={size:4,setter:p},X[36294]={size:8,setter:p},X[36295]={size:12,setter:p},X[36296]={size:16,setter:p},X[35670]={size:4,setter:f},X[35671]={size:8,setter:f},X[35672]={size:12,setter:f},X[35673]={size:16,setter:f},X[35674]={size:4,setter:g,count:2},X[35675]={size:9,setter:g,count:3},X[35676]={size:16,setter:g,count:4};var H=void 0,k=/^[ \t]*\n/,W=["VERTEX_SHADER","FRAGMENT_SHADER"],U=/\[\d+\]\.$/},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function A(e,t){var r=W[e];if(!r)throw"unknown internal format";var a=r.bytesPerElementMap[t];if(void 0===a)throw"unknown internal format";return a}function n(e){var t=W[e];if(!t)throw"unknown internal format";return{format:t.e,type:Array.isArray(t.type)?t.type[0]:t.type}}function o(e){return 0==(e&e-1)}function i(e,t,r,a){if(!O.isWebGL2(e))return o(t)&&o(r);var A=W[a];if(!A)throw"unknown internal format";return A.t&&A.r}function s(e,t,r){return B(t)?C.getGLTypeForTypedArray(t):r||e.UNSIGNED_BYTE}function l(e,t,r,a,A){if(A%1!=0)throw"can't guess dimensions";if(r||a){if(a){if(!r&&(r=A/a)%1)throw"can't guess dimensions"}else if((a=A/r)%1)throw"can't guess dimensions"}else{var n=Math.sqrt(A/(t===e.TEXTURE_CUBE_MAP?6:1));n%1==0?(r=n,a=n):(r=A,a=1)}return{width:r,height:a}}function u(e){F.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function d(e,t){void 0!==t.colorspaceConversion&&(Y.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(Y.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha)),void 0!==t.flipY&&(Y.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY))}function c(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,Y.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,Y.flipY)}function f(e){Y.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),O.isWebGL2(e)&&(Y.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),Y.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),Y.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),Y.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),Y.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function p(e){e.pixelStorei(e.UNPACK_ALIGNMENT,Y.unpackAlignment),O.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,Y.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,Y.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,Y.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,Y.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,Y.unpackSkipImages))}function g(e,t,r,a){a.minMag&&(r.call(e,t,e.TEXTURE_MIN_FILTER,a.minMag),r.call(e,t,e.TEXTURE_MAG_FILTER,a.minMag)),a.min&&r.call(e,t,e.TEXTURE_MIN_FILTER,a.min),a.mag&&r.call(e,t,e.TEXTURE_MAG_FILTER,a.mag),a.wrap&&(r.call(e,t,e.TEXTURE_WRAP_S,a.wrap),r.call(e,t,e.TEXTURE_WRAP_T,a.wrap),(t===e.TEXTURE_3D||G.isSampler(e,t))&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrap)),a.wrapR&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrapR),a.wrapS&&r.call(e,t,e.TEXTURE_WRAP_S,a.wrapS),a.wrapT&&r.call(e,t,e.TEXTURE_WRAP_T,a.wrapT),a.minLod&&r.call(e,t,e.TEXTURE_MIN_LOD,a.minLod),a.maxLod&&r.call(e,t,e.TEXTURE_MAX_LOD,a.maxLod),a.baseLevel&&r.call(e,t,e.TEXTURE_BASE_LEVEL,a.baseLevel),a.maxLevel&&r.call(e,t,e.TEXTURE_MAX_LEVEL,a.maxLevel)}function h(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t),g(e,a,e.texParameteri,r)}function v(e,t,r){g(e,t,e.samplerParameteri,r)}function y(e,t){var r=e.createSampler();return v(e,r,t),r}function m(e,t,r,a,A,n,o){r=r||F.textureOptions,n=n||e.RGBA,o=o||e.UNSIGNED_BYTE;var s=r.target||e.TEXTURE_2D;if(a=a||r.width,A=A||r.height,e.bindTexture(s,t),i(e,a,A,n))e.generateMipmap(s);else{var l=function(e){var t=W[e];if(!t)throw"unknown internal format";return t.r}(n)?e.LINEAR:e.NEAREST;e.texParameteri(s,e.TEXTURE_MIN_FILTER,l),e.texParameteri(s,e.TEXTURE_MAG_FILTER,l),e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function S(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function E(e,t){return(t=t||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function x(e,t){var r=E(e,t),a=r.map(function(e,t){return{face:e,ndx:t}});return a.sort(function(e,t){return e.face-t.face}),a}function T(e,t,r,a){var A=(a=a||F.textureOptions).target||e.TEXTURE_2D,o=a.level||0,i=r.width,s=r.height,l=a.internalFormat||a.format||e.RGBA,u=n(l),g=a.format||u.format,v=a.type||u.type;if(d(e,a),e.bindTexture(A,t),A===e.TEXTURE_CUBE_MAP){var y,E,T=r.width,_=r.height;if(T/6===_)y=_,E=[0,0,1,0,2,0,3,0,4,0,5,0];else if(_/6===T)y=T,E=[0,0,0,1,0,2,0,3,0,4,0,5];else if(T/3==_/2)y=T/3,E=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(T/2!=_/3)throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);y=T/2,E=[0,0,1,0,0,1,1,1,0,2,1,2]}D?(D.canvas.width=y,D.canvas.height=y,i=y,s=y,x(e,a).forEach(function(t){var a=E[2*t.ndx+0]*y,A=E[2*t.ndx+1]*y;D.drawImage(r,a,A,y,y,0,0,y,y),e.texImage2D(t.face,o,l,g,v,D.canvas)}),D.canvas.width=1,D.canvas.height=1):N.default.createImageBitmap&&(i=y,s=y,x(e,a).forEach(function(n){var u=E[2*n.ndx+0]*y,f=E[2*n.ndx+1]*y;e.texImage2D(n.face,o,l,y,y,0,g,v,null),N.default.createImageBitmap(r,u,f,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(r){d(e,a),e.bindTexture(A,t),e.texImage2D(n.face,o,l,g,v,r),c(e,a),S(a)&&m(e,t,a,i,s,l,v)})}))}else if(A===e.TEXTURE_3D||A===e.TEXTURE_2D_ARRAY){var I=Math.min(r.width,r.height),M=Math.max(r.width,r.height),L=M/I;if(L%1!=0)throw"can not compute 3D dimensions of element";var w=r.width===M?1:0,P=r.height===M?1:0;f(e),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.texImage3D(A,o,l,I,I,I,0,g,v,null);for(var R=0;R<L;++R){var b=R*I*w,O=R*I*P;e.pixelStorei(e.UNPACK_SKIP_PIXELS,b),e.pixelStorei(e.UNPACK_SKIP_ROWS,O),e.texSubImage3D(A,o,0,0,R,I,I,1,g,v,r)}p(e)}else e.texImage2D(A,o,l,g,v,r);c(e,a),S(a)&&m(e,t,a,i,s,l,v),h(e,t,a)}function _(){}function I(e){return N.default.ImageBitmap&&e instanceof N.default.ImageBitmap||N.default.ImageData&&e instanceof N.default.ImageData||N.default.HTMLElement&&e instanceof N.default.HTMLElement}function M(e,t,r){return I(e)?(setTimeout(function(){r(null,e)}),e):function(e,t,r){var a;if(r=r||_,N.default.Image){a=new N.default.Image,void 0!==(t=void 0!==t?t:F.crossOrigin)&&(a.crossOrigin=t);var A=function(){a.removeEventListener("error",n),a.removeEventListener("load",o),a=null},n=function(){var t="couldn't load image: "+e;G.error(t),r(t,a),A()},o=function(){r(null,a),A()};return a.addEventListener("error",n),a.addEventListener("load",o),a.src=e,a}if(N.default.ImageBitmap){var i,s,l=function(){r(i,s)},u={};t&&(u.mode="cors"),fetch(e,u).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return N.default.createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){s=e,setTimeout(l)}).catch(function(e){i=e,setTimeout(l)}),a=null}return a}(e,t,r)}function L(e,t,r){var a=(r=r||F.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(a,t),!1!==r.color){var A=function(e){return e=e||F.textureColor,B(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(a===e.TEXTURE_CUBE_MAP)for(var n=0;n<6;++n)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,A);else a===e.TEXTURE_3D||a===e.TEXTURE_2D_ARRAY?e.texImage3D(a,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,A):e.texImage2D(a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,A)}}function w(e,t,r,a){return a=a||_,r=r||F.textureOptions,L(e,t,r),M((r=Object.assign({},r)).src,r.crossOrigin,function(A,n){A?a(A,t,n):(T(e,t,n,r),a(null,t,n))})}function P(e,t,r,a){var o=(a=a||F.textureOptions).target||e.TEXTURE_2D;e.bindTexture(o,t);var i=a.width,u=a.height,g=a.depth,h=a.level||0,v=a.internalFormat||a.format||e.RGBA,y=n(v),m=a.format||y.format,S=a.type||s(e,r,y.type);if(B(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{var E=C.getTypedArrayTypeForGLType(S);r=new E(r)}var T,_=A(v,S),I=r.byteLength/_;if(I%1)throw"length wrong size for format: "+O.glEnumToString(e,m);if(o===e.TEXTURE_3D)if(i||u||g)!i||u&&g?!u||i&&g?(T=l(e,o,i,u,I/g),i=T.width,u=T.height):(T=l(e,o,i,g,I/u),i=T.width,g=T.height):(T=l(e,o,u,g,I/i),u=T.width,g=T.height);else{var M=Math.cbrt(I);if(M%1!=0)throw"can't guess cube size of array of numElements: "+I;i=M,u=M,g=M}else T=l(e,o,i,u,I),i=T.width,u=T.height;if(f(e),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment||1),d(e,a),o===e.TEXTURE_CUBE_MAP){var L=_/r.BYTES_PER_ELEMENT,w=I/6*L;x(e,a).forEach(function(t){var a=w*t.ndx,A=r.subarray(a,a+w);e.texImage2D(t.face,h,v,i,u,0,m,S,A)})}else o===e.TEXTURE_3D?e.texImage3D(o,h,v,i,u,g,0,m,S,r):e.texImage2D(o,h,v,i,u,0,m,S,r);return c(e,a),p(e),{width:i,height:u,depth:g,type:S}}function R(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t);var A=r.level||0,o=r.internalFormat||r.format||e.RGBA,i=n(o),s=r.format||i.format,l=r.type||i.type;if(d(e,r),a===e.TEXTURE_CUBE_MAP)for(var u=0;u<6;++u)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,A,o,r.width,r.height,0,s,l,null);else a===e.TEXTURE_3D?e.texImage3D(a,A,o,r.width,r.height,r.depth,0,s,l,null):e.texImage2D(a,A,o,r.width,r.height,0,s,l,null);c(e,r)}function b(e,t,r){r=r||_,t=t||F.textureOptions;var a=e.createTexture(),A=t.target||e.TEXTURE_2D,o=t.width||1,i=t.height||1,s=t.internalFormat||e.RGBA,l=n(s),u=t.type||l.type;e.bindTexture(A,a),A===e.TEXTURE_CUBE_MAP&&(e.texParameteri(A,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(A,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var f=t.src;if(f)if("function"==typeof f&&(f=f(e,t)),"string"==typeof f)w(e,a,t,r);else if(B(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||B(f[0]))){var p=P(e,a,f,t);o=p.width,i=p.height,u=p.type}else if(Array.isArray(f)&&("string"==typeof f[0]||I(f[0])))A===e.TEXTURE_CUBE_MAP?function(e,t,r,a){function A(A){return function(n,o){--h,n?v.push(n):o.width!==o.height?v.push("cubemap face img is not a square: "+o.src):(d(e,r),e.bindTexture(p,t),5===h?E(e).forEach(function(t){e.texImage2D(t,i,s,u,f,o)}):e.texImage2D(A,i,s,u,f,o),c(e,r),S(r)&&e.generateMipmap(p)),0===h&&a(v.length?v:void 0,t,g)}}a=a||_;var o=r.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var i=r.level||0,s=r.internalFormat||r.format||e.RGBA,l=n(s),u=r.format||l.format,f=r.type||e.UNSIGNED_BYTE,p=r.target||e.TEXTURE_2D;if(p!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";L(e,t,r),r=Object.assign({},r);var g,h=6,v=[],y=E(e,r);g=o.map(function(e,t){return M(e,r.crossOrigin,A(y[t]))})}(e,a,t,r):function(e,t,r,a){function A(A){return function(n,o){if(--g,n)h.push(n);else{if(d(e,r),e.bindTexture(f,t),x){x=!1,y=r.width||o.width,m=r.height||o.height,e.texImage3D(f,v,i,y,m,E,0,l,u,null);for(var s=0;s<E;++s)e.texSubImage3D(f,v,0,0,s,y,m,1,l,u,o)}else{var T=o;o.width===y&&o.height===m||(T=D.canvas,D.canvas.width=y,D.canvas.height=m,D.drawImage(o,0,0,y,m)),e.texSubImage3D(f,v,0,0,A,y,m,1,l,u,T),T===D.canvas&&(D.canvas.width=0,D.canvas.height=0)}c(e,r),S(r)&&e.generateMipmap(f)}0===g&&a(h.length?h:void 0,t,p)}}a=a||_;var o=r.src,i=r.internalFormat||r.format||e.RGBA,s=n(i),l=r.format||s.format,u=r.type||e.UNSIGNED_BYTE,f=r.target||e.TEXTURE_2D_ARRAY;if(f!==e.TEXTURE_3D&&f!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";L(e,t,r),r=Object.assign({},r);var p,g=o.length,h=[],v=r.level||0,y=r.width,m=r.height,E=o.length,x=!0;p=o.map(function(e,t){return M(e,r.crossOrigin,A(t))})}(e,a,t,r);else{if(!I(f))throw"unsupported src type";T(e,a,f,t),o=f.width,i=f.height}else R(e,a,t);return S(t)&&m(e,a,t,o,i,s,u),h(e,a,t),a}t.__esModule=!0,t.setTextureDefaults_=function(e){G.copyExistingProperties(e,F),e.textureColor&&u(e.textureColor)},t.createSampler=y,t.createSamplers=function(e,t){var r={};return Object.keys(t).forEach(function(a){r[a]=y(e,t[a])}),r},t.setSamplerParameters=v,t.createTexture=b,t.setEmptyTexture=R,t.setTextureFromArray=P,t.loadTextureFromUrl=w,t.setTextureFromElement=T,t.setTextureFilteringForSize=m,t.setTextureParameters=h,t.setDefaultTextureColor=u,t.createTextures=function(e,t,r){function a(){0===A&&setTimeout(function(){r(n.length?n:void 0,o,i)},0)}r=r||_;var A=0,n=[],o={},i={};return Object.keys(t).forEach(function(r){var s,l=t[r];(function(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]})(l.src)&&(s=function(e,t,o){i[r]=o,--A,e&&n.push(e),a()},++A),o[r]=b(e,l,s)}),a(),o},t.resizeTexture=function(e,t,r,a,A){a=a||r.width,A=A||r.height;var o=r.target||e.TEXTURE_2D;e.bindTexture(o,t);var i,l=r.level||0,u=r.internalFormat||r.format||e.RGBA,d=n(u),c=r.format||d.format,f=r.src;if(i=f&&(B(f)||Array.isArray(f)&&"number"==typeof f[0])?r.type||s(e,f,d.type):r.type||d.type,o===e.TEXTURE_CUBE_MAP)for(var p=0;p<6;++p)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,l,u,a,A,0,c,i,null);else e.texImage2D(o,l,u,a,A,0,c,i,null)},t.getNumComponentsForFormat=function(e){var t=H[e];if(!t)throw"unknown format: "+e;return t.a},t.getBytesPerElementForInternalFormat=A;var O=a(r(3)),C=a(r(2)),G=a(r(0)),N=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),F={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},B=C.isArrayBuffer,D=N.default.document&&N.default.document.createElement?N.default.document.createElement("canvas").getContext("2d"):null,V=6407,X=33319,H={},k=H;k[6406]={a:1},k[6409]={a:1},k[6410]={a:2},k[V]={a:3},k[6408]={a:4},k[6403]={a:1},k[36244]={a:1},k[X]={a:2},k[33320]={a:2},k[V]={a:3},k[36248]={a:3},k[6408]={a:4},k[36249]={a:4},k[6402]={a:1},k[34041]={a:2};var W={},U=W;U[6406]={e:6406,t:!0,r:!0,u:[1,2,2,4],type:[5121,5131,36193,5126]},U[6409]={e:6409,t:!0,r:!0,u:[1,2,2,4],type:[5121,5131,36193,5126]},U[6410]={e:6410,t:!0,r:!0,u:[2,4,4,8],type:[5121,5131,36193,5126]},U[V]={e:V,t:!0,r:!0,u:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},U[6408]={e:6408,t:!0,r:!0,u:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},U[33321]={e:6403,t:!0,r:!0,u:1,type:5121},U[36756]={e:6403,t:!1,r:!0,u:1,type:5120},U[33325]={e:6403,t:!1,r:!0,u:[4,2],type:[5126,5131]},U[33326]={e:6403,t:!1,r:!1,u:4,type:5126},U[33330]={e:36244,t:!0,r:!1,u:1,type:5121},U[33329]={e:36244,t:!0,r:!1,u:1,type:5120},U[33332]={e:36244,t:!0,r:!1,u:2,type:5123},U[33331]={e:36244,t:!0,r:!1,u:2,type:5122},U[33334]={e:36244,t:!0,r:!1,u:4,type:5125},U[33333]={e:36244,t:!0,r:!1,u:4,type:5124},U[33323]={e:X,t:!0,r:!0,u:2,type:5121},U[36757]={e:X,t:!1,r:!0,u:2,type:5120},U[33327]={e:X,t:!1,r:!0,u:[8,4],type:[5126,5131]},U[33328]={e:X,t:!1,r:!1,u:8,type:5126},U[33336]={e:33320,t:!0,r:!1,u:2,type:5121},U[33335]={e:33320,t:!0,r:!1,u:2,type:5120},U[33338]={e:33320,t:!0,r:!1,u:4,type:5123},U[33337]={e:33320,t:!0,r:!1,u:4,type:5122},U[33340]={e:33320,t:!0,r:!1,u:8,type:5125},U[33339]={e:33320,t:!0,r:!1,u:8,type:5124},U[32849]={e:V,t:!0,r:!0,u:3,type:5121},U[35905]={e:V,t:!1,r:!0,u:3,type:5121},U[36194]={e:V,t:!0,r:!0,u:[3,2],type:[5121,33635]},U[36758]={e:V,t:!1,r:!0,u:3,type:5120},U[35898]={e:V,t:!1,r:!0,u:[12,6,4],type:[5126,5131,35899]},U[35901]={e:V,t:!1,r:!0,u:[12,6,4],type:[5126,5131,35902]},U[34843]={e:V,t:!1,r:!0,u:[12,6],type:[5126,5131]},U[34837]={e:V,t:!1,r:!1,u:12,type:5126},U[36221]={e:36248,t:!1,r:!1,u:3,type:5121},U[36239]={e:36248,t:!1,r:!1,u:3,type:5120},U[36215]={e:36248,t:!1,r:!1,u:6,type:5123},U[36233]={e:36248,t:!1,r:!1,u:6,type:5122},U[36209]={e:36248,t:!1,r:!1,u:12,type:5125},U[36227]={e:36248,t:!1,r:!1,u:12,type:5124},U[32856]={e:6408,t:!0,r:!0,u:4,type:5121},U[35907]={e:6408,t:!0,r:!0,u:4,type:5121},U[36759]={e:6408,t:!1,r:!0,u:4,type:5120},U[32855]={e:6408,t:!0,r:!0,u:[4,2,4],type:[5121,32820,33640]},U[32854]={e:6408,t:!0,r:!0,u:[4,2],type:[5121,32819]},U[32857]={e:6408,t:!0,r:!0,u:4,type:33640},U[34842]={e:6408,t:!1,r:!0,u:[16,8],type:[5126,5131]},U[34836]={e:6408,t:!1,r:!1,u:16,type:5126},U[36220]={e:36249,t:!0,r:!1,u:4,type:5121},U[36238]={e:36249,t:!0,r:!1,u:4,type:5120},U[36975]={e:36249,t:!0,r:!1,u:4,type:33640},U[36214]={e:36249,t:!0,r:!1,u:8,type:5123},U[36232]={e:36249,t:!0,r:!1,u:8,type:5122},U[36226]={e:36249,t:!0,r:!1,u:16,type:5124},U[36208]={e:36249,t:!0,r:!1,u:16,type:5125},U[33189]={e:6402,t:!0,r:!1,u:[2,4],type:[5123,5125]},U[33190]={e:6402,t:!0,r:!1,u:4,type:5125},U[36012]={e:6402,t:!0,r:!1,u:4,type:5126},U[35056]={e:34041,t:!0,r:!1,u:4,type:34042},U[36013]={e:34041,t:!0,r:!1,u:4,type:36269},Object.keys(U).forEach(function(e){var t=U[e];if(t.bytesPerElementMap={},Array.isArray(t.u))t.u.forEach(function(e,r){var a=t.type[r];t.bytesPerElementMap[a]=e});else{var r=t.type;t.bytesPerElementMap[r]=t.u}});var Y={}},function(e,t,r){"use strict";t.__esModule=!0;var a=r(7);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(t[e]=a[e])})},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function A(e,t){u.glEnumToString(e,0);var r=e.getExtension(t);if(r){var a={},A=v.exec(t)[1],n="_"+A;for(var o in r){var i=r[o],s="function"==typeof i,d=s?A:n,c=o;o.endsWith(d)&&(c=o.substring(0,o.length-d.length)),void 0!==e[c]?s||e[c]===i||l.warn(c,e[c],i,o):s?e[c]=function(e){return function(){return e.apply(r,arguments)}}(i):(e[c]=i,a[c]=i)}a.constructor={name:r.constructor.name},u.glEnumToString(a,0)}return r}function n(e){for(var t=0;t<y.length;++t)A(e,y[t])}t.__esModule=!0;var o={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};t.addExtensionsToContext=n,t.getContext=function(e,t){return function(e,t){for(var r=["webgl2","webgl","experimental-webgl"],a=null,A=0;A<r.length;++A)if(a=e.getContext(r[A],t)){h.addExtensionsToContext&&n(a);break}return a}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var r=["webgl","experimental-webgl"],a=null,A=0;A<r.length;++A)if(a=e.getContext(r[A],t)){h.addExtensionsToContext&&n(a);break}return a}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var r=e.clientWidth*t|0,a=e.clientHeight*t|0;return(e.width!==r||e.height!==a)&&(e.width=r,e.height=a,!0)},t.setDefaults=function(e){l.copyExistingProperties(e,h),i.setAttributeDefaults_(e),s.setTextureDefaults_(e)};var i=a(r(8));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=i[e]))});var s=a(r(5));Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=s[e]))});var l=a(r(0)),u=a(r(3));Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=u[e]))});var d=r(9);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=d[e]))});var c=r(10);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=c[e]))});var f=r(4);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=f[e]))});var p=r(2);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=p[e]))});var g=r(11);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=g[e]))});var h={addExtensionsToContext:!0},v=/^(.*?)_/,y=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"]},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function A(e,t,r,a,A){e.bindBuffer(t,r),e.bufferData(t,a,A||e.STATIC_DRAW)}function n(e,t,r,a){if(p.isBuffer(e,t))return t;r=r||e.ARRAY_BUFFER;var n=e.createBuffer();return A(e,r,n,t,a),n}function o(e){return"indices"===e}function i(e){return e.length?e:e.data}function s(e,t){var r;if(r=h.test(e)?2:v.test(e)?4:3,t%r>0)throw"Can not guess numComponents for attribute '"+e+"'. Tried "+r+" but "+t+" values is not evenly divisible by "+r+". You should specify it.";return r}function l(e,t){return e.numComponents||e.size||s(t,i(e).length)}function u(e,t){if(f.isArrayBuffer(e))return e;if(f.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var r=e.type;return r||(r=o(t)?Uint16Array:Float32Array),new r(e.data)}function d(e,t){var r={};return Object.keys(t).forEach(function(a){if(!o(a)){var A=t[a],i=A.attrib||A.name||A.attribName||g.attribPrefix+a;if(A.value){if(!Array.isArray(A.value)&&!f.isArrayBuffer(A.value))throw new Error("array.value is not array or typedarray");r[i]={value:A.value}}else{var d,c,p,h;if(A.buffer&&A.buffer instanceof WebGLBuffer)d=A.buffer,h=A.numComponents||A.size,c=A.type,p=A.normalize;else if("number"==typeof A||"number"==typeof A.data){var v=A.data||A,y=A.type||Float32Array,m=v*y.BYTES_PER_ELEMENT;c=f.getGLTypeForTypedArrayType(y),p=void 0!==A.normalize?A.normalize:function(e){return e===Int8Array||e===Uint8Array}(y),h=A.numComponents||A.size||s(a,v),d=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,m,A.drawType||e.STATIC_DRAW)}else{var S=u(A,a);d=n(e,S,void 0,A.drawType),c=f.getGLTypeForTypedArray(S),p=void 0!==A.normalize?A.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(S),h=l(A,a)}r[i]={buffer:d,numComponents:h,type:c,normalize:p,stride:A.stride||0,offset:A.offset||0,divisor:void 0===A.divisor?void 0:A.divisor,drawType:A.drawType}}}}),e.bindBuffer(e.ARRAY_BUFFER,null),r}function c(e,t,r){var a="indices"===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return n(e,u(t,r),a)}t.__esModule=!0,t.createAttribsFromArrays=d,t.createBuffersFromArrays=function(e,t){var r={};return Object.keys(t).forEach(function(a){r[a]=c(e,t[a],a)}),t.indices?(r.numElements=t.indices.length,r.elementType=f.getGLTypeForTypedArray(u(t.indices),"indices")):r.numElements=function(e){var t,r;for(r=0;r<y.length&&!((t=y[r])in e);++r);r===y.length&&(t=Object.keys(e)[0]);var a=e[t],A=i(a).length,n=l(a,t),o=A/n;if(A%n>0)throw"numComponents "+n+" not correct for length "+A;return o}(t),r},t.createBufferFromArray=c,t.createBufferFromTypedArray=n,t.createBufferInfoFromArrays=function(e,t,r){var a=d(e,t),A=Object.assign({},r||{});A.attribs=Object.assign({},r?r.attribs:{},a);var o=t.indices;if(o){var i=u(o,"indices");A.indices=n(e,i,e.ELEMENT_ARRAY_BUFFER),A.numElements=i.length,A.elementType=f.getGLTypeForTypedArray(i)}else A.numElements||(A.numElements=function(e,t){var r,a;for(a=0;a<y.length&&!((r=y[a])in t)&&!((r=g.attribPrefix+r)in t);++a);a===y.length&&(r=Object.keys(t)[0]);var A=t[r];e.bindBuffer(e.ARRAY_BUFFER,A.buffer);var n=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var o=function(e,t){return t===e.BYTE?1:t===e.UNSIGNED_BYTE?1:t===e.SHORT?2:t===e.UNSIGNED_SHORT?2:t===e.INT?4:t===e.UNSIGNED_INT?4:t===e.FLOAT?4:0}(e,A.type),i=n/o,s=A.numComponents||A.size,l=i/s;if(l%1!=0)throw"numComponents "+s+" not correct for length "+length;return l}(e,A.attribs));return A},t.setAttribInfoBufferFromArray=function(e,t,r,a){r=u(r),void 0!==a?(e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferSubData(e.ARRAY_BUFFER,a,r)):A(e,e.ARRAY_BUFFER,t.buffer,r,t.drawType)},t.setAttributePrefix=function(e){g.attribPrefix=e},t.setAttributeDefaults_=function(e){p.copyExistingProperties(e,g)},t.getNumComponents_=l,t.getArray_=i;var f=a(r(2)),p=a(r(0)),g={attribPrefix:""},h=/coord|texture/i,v=/color|colour/i,y=["position","positions","a_position"]},function(e,t,r){"use strict";function a(e,t,r,a,A,n){r=void 0===r?e.TRIANGLES:r;var o=t.indices,i=t.elementType,s=void 0===a?t.numElements:a;A=void 0===A?0:A,i||o?void 0!==n?e.drawElementsInstanced(r,s,void 0===i?e.UNSIGNED_SHORT:t.elementType,A,n):e.drawElements(r,s,void 0===i?e.UNSIGNED_SHORT:t.elementType,A):void 0!==n?e.drawArraysInstanced(r,A,s,n):e.drawArrays(r,A,s)}t.__esModule=!0,t.drawBufferInfo=a,t.drawObjectList=function(e,t){var r=null,n=null;t.forEach(function(t){if(!1!==t.active){var o=t.programInfo,i=t.vertexArrayInfo||t.bufferInfo,s=!1,l=void 0===t.type?e.TRIANGLES:t.type;o!==r&&(r=o,e.useProgram(o.program),s=!0),(s||i!==n)&&(n&&n.vertexArrayObject&&!i.vertexArrayObject&&e.bindVertexArray(null),n=i,A.setBuffersAndAttributes(e,o,i)),A.setUniforms(o,t.uniforms),a(e,i,l,t.count,t.offset,t.instanceCount)}}),n.vertexArrayObject&&e.bindVertexArray(null)};var A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(4))},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function A(e){return u[e]}function n(e){return d[e]}t.__esModule=!0,t.bindFramebufferInfo=function(e,t,r){r=r||e.FRAMEBUFFER,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(e,t,r,a){var u=e.FRAMEBUFFER,d=e.createFramebuffer();e.bindFramebuffer(u,d),r=r||e.drawingBufferWidth,a=a||e.drawingBufferHeight;var c=0,f={framebuffer:d,attachments:[],width:r,height:a};return(t=t||l).forEach(function(t){var l=t.attachment,d=t.format,p=A(d);if(p||(p=s+c++),!l)if(n(d))l=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,l),e.renderbufferStorage(e.RENDERBUFFER,d,r,a);else{var g=Object.assign({},t);g.width=r,g.height=a,void 0===g.auto&&(g.auto=!1,g.min=g.min||g.minMag||e.LINEAR,g.mag=g.mag||g.minMag||e.LINEAR,g.wrapS=g.wrapS||g.wrap||e.CLAMP_TO_EDGE,g.wrapT=g.wrapT||g.wrap||e.CLAMP_TO_EDGE),l=o.createTexture(e,g)}if(i.isRenderbuffer(e,l))e.framebufferRenderbuffer(u,p,e.RENDERBUFFER,l);else{if(!i.isTexture(e,l))throw"unknown attachment type";e.framebufferTexture2D(u,p,t.texTarget||e.TEXTURE_2D,l,t.level||0)}f.attachments.push(l)}),f},t.resizeFramebufferInfo=function(e,t,r,a,A){a=a||e.drawingBufferWidth,A=A||e.drawingBufferHeight,t.width=a,t.height=A,(r=r||l).forEach(function(r,n){var s=t.attachments[n],l=r.format;if(i.isRenderbuffer(e,s))e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,l,a,A);else{if(!i.isTexture(e,s))throw"unknown attachment type";o.resizeTexture(e,s,r,a,A)}})};var o=a(r(5)),i=a(r(0)),s=36064,l=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],u={34041:33306,6401:36128,36168:36128,6402:36096,33189:36096},d={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0}},function(e,t,r){"use strict";function a(e,t,r,a){var n=e.createVertexArray();return e.bindVertexArray(n),A.setAttributes(t,r),a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bindVertexArray(null),n}t.__esModule=!0,t.createVertexArrayInfo=function(e,t,r){var a=e.createVertexArray();return e.bindVertexArray(a),t.length||(t=[t]),t.forEach(function(t){A.setBuffersAndAttributes(e,t,r)}),e.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:a}},t.createVAOAndSetAttributes=a,t.createVAOFromBufferInfo=function(e,t,r){return a(e,t.attribSetters||t,r.attribs,r.indices)};var A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(4))}])}]);